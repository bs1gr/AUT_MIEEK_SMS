
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—

â•‘   Batch Test Runner (SMS v1.17.2)     â•‘

â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


ğŸ“ Logging to: D:\SMS\student-management-system\test-results\backend_batch_run_20260201_205304.txt


â„¹ Scanning for test files...


â„¹ ğŸ”„ RETEST MODE: Running only previously failed tests


â„¹ Reading failed tests from: .test-failures


â„¹ Found 6 failed test file(s) to retest


âœ“ Filtered to 6 test files for re-execution



âœ“ Found 6 test files


â„¹ Split into 2 batches (3 files per batch)




â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”

â”‚ Batch 1 of 2 (Files: 3)

â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  â€¢ test_csv_import.py

  â€¢ test_custom_report_generation_service.py

  â€¢ test_custom_reports_router.py

â„¹ Running tests...


============================= test session starts =============================
platform win32 -- Python 3.13.3, pytest-8.4.2, pluggy-1.6.0
rootdir: D:\SMS\student-management-system\backend
configfile: pytest.ini
plugins: anyio-4.11.0, Faker-38.2.0, langsmith-0.4.30, locust-2.42.6, asyncio-0.23.5, cov-7.0.0, html-4.1.1, json-report-1.5.0, metadata-3.1.1
asyncio: mode=Mode.AUTO
collected 8 items

tests\test_csv_import.py ....                                            [ 50%]
tests\test_custom_report_generation_service.py .                         [ 62%]
tests\test_custom_reports_router.py FFF                                  [100%]

================================== FAILURES ===================================
______________________ test_custom_report_requires_auth _______________________
tests\test_custom_reports_router.py:69: in test_custom_report_requires_auth
    assert response.status_code == 401
E   assert 404 == 401
E    +  where 404 = <Response [404 Not Found]>.status_code
___________________________ test_template_endpoints ___________________________
tests\test_custom_reports_router.py:77: in test_template_endpoints
    assert create.status_code == 200, create.text
E   AssertionError: {"detail":"Not Found"}
E   assert 404 == 200
E    +  where 404 = <Response [404 Not Found]>.status_code
___________________________ test_custom_report_flow ___________________________
tests\test_custom_reports_router.py:117: in test_custom_report_flow
    assert create.status_code == 200
E   assert 404 == 200
E    +  where 404 = <Response [404 Not Found]>.status_code
=========================== short test summary info ===========================
FAILED tests/test_custom_reports_router.py::test_custom_report_requires_auth
FAILED tests/test_custom_reports_router.py::test_template_endpoints - Asserti...
FAILED tests/test_custom_reports_router.py::test_custom_report_flow - assert ...
========================= 3 failed, 5 passed in 3.03s =========================
âœ— Batch 1 failed in 5.5s


  Waiting 2 seconds before next batch...


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”

â”‚ Batch 2 of 2 (Files: 3)

â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  â€¢ test_custom_reports_service.py

  â€¢ test_daily_performance_router.py

  â€¢ test_database_upload.py

â„¹ Running tests...


============================= test session starts =============================
platform win32 -- Python 3.13.3, pytest-8.4.2, pluggy-1.6.0
rootdir: D:\SMS\student-management-system\backend
configfile: pytest.ini
plugins: anyio-4.11.0, Faker-38.2.0, langsmith-0.4.30, locust-2.42.6, asyncio-0.23.5, cov-7.0.0, html-4.1.1, json-report-1.5.0, metadata-3.1.1
asyncio: mode=Mode.AUTO
collected 12 items / 1 error

=================================== ERRORS ====================================
____________ ERROR collecting tests/test_custom_reports_service.py ____________
C:\Users\Vasilis\AppData\Local\Programs\Python\Python313\Lib\site-packages\_pytest\python.py:498: in importtestmodule
    mod = import_path(
C:\Users\Vasilis\AppData\Local\Programs\Python\Python313\Lib\site-packages\_pytest\pathlib.py:587: in import_path
    importlib.import_module(module_name)
C:\Users\Vasilis\AppData\Local\Programs\Python\Python313\Lib\importlib\__init__.py:88: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<frozen importlib._bootstrap>:1387: in _gcd_import
    ???
<frozen importlib._bootstrap>:1360: in _find_and_load
    ???
<frozen importlib._bootstrap>:1331: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:935: in _load_unlocked
    ???
C:\Users\Vasilis\AppData\Local\Programs\Python\Python313\Lib\site-packages\_pytest\assertion\rewrite.py:186: in exec_module
    exec(co, module.__dict__)
tests\test_custom_reports_service.py:15: in <module>
    from backend.services.custom_report_service import CustomReportService
E     File "D:\SMS\student-management-system\backend\services\custom_report_service.py", line 177
E       scheduler = get_report_scheduler()
E   IndentationError: unexpected indent
=========================== short test summary info ===========================
ERROR tests/test_custom_reports_service.py
!!!!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!!!!
============================== 1 error in 0.79s ===============================
âœ— Batch 2 failed in 2.7s



â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—

â•‘          TEST EXECUTION SUMMARY        â•‘

â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


Batches:

  Total:   2

âœ“   Completed: 2


Tests:

  Total:   8

âœ“   Passed:  5


âœ—   Failed:  3


âœ—   Failed Batches: 6


Duration: 8.3s


ğŸ“ Full log saved to: D:\SMS\student-management-system\test-results\backend_batch_run_20260201_205304.txt

âœ— Some tests failed


âœ— Some tests failed

â„¹ 
ğŸ’¾ Saving failed test files for re-testing...


â„¹    To retest only failed files, run:


âœ“ Failed files saved to: .test-failures (6 files)



âœ— Test log completed: D:\SMS\student-management-system\test-results\backend_batch_run_20260201_205304.txt

