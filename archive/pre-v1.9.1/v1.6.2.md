# Release Notes – v1.6.2

## Highlights

- **Attendance analytics export:** Export Center now writes a six-sheet workbook that covers overview metrics, per-course rollups, per-period coverage, course-period intersections, student summaries, and daily status breakdowns.
- **Attendance UX refinements:** The attendance board plus enhanced calendar now include per-period scheduling, default-present safeguards, per-student expansion panels, coverage analytics, and timezone-safe date handling shared through `frontend/src/utils/date.ts`.
- **Operations tooling:** Export Center surfaces the analytics workbook card with localized copy (EN/EL) and the Control Panel appearance selector received a live preview so operators can inspect cards/buttons before applying a theme.
- **Security patch:** FastAPI dependencies now include Starlette `0.49.1`, fixing GHSA-7f5h-v6xp-fcq8 / CVE-2025-62727.
- **Tooling/tests:** Added `backend/tests/test_export_analytics.py` to validate workbook content and updated the shared i18n context so formatting tokens remain accessible to new translations.

## Operator Notice – Legacy Script Archive

In v1.6.2 we removed all deprecated setup/start/stop wrappers (`scripts/SETUP.*`, `scripts/STOP.*`, deploy STOP helpers, and the developer/operator `KILL_FRONTEND_NOW.*` pointers) from the supported surface area. Their final snapshots now live under [`archive/`](../../archive/README.md) strictly for historical reference.

Please make sure the GitHub release/tag description for v1.6.2 calls out this archive so downstream operators know where to find the retired helpers if they need to audit prior procedures. Recommended blurb:

> **Legacy scripts:** Deprecated setup/stop wrappers now live under `archive/` for reference only. Use `RUN.ps1`, `scripts/dev/run-native.ps1`, and `SMS.ps1` for all supported operations.

## Upgrade Notes

1. Ensure deployments rely exclusively on `RUN.ps1` (Docker), `scripts/dev/run-native.ps1` (native dev), and `SMS.ps1` (management). Remove any automation that called the old wrappers.
2. Review the new archive directory if you need to audit prior procedures, but do not execute archived scripts directly.
3. Rebuild Docker images or reinstall dependencies so the Starlette 0.49.1 patch is in effect.
4. Run `pytest backend/tests/test_export_analytics.py -q` (or the full suite) to verify the analytics export if you maintain downstream forks.
