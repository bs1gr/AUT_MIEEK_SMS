{"created": 1768815381.0377774, "duration": 185.50899982452393, "exitcode": 1, "root": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend", "environment": {}, "summary": {"passed": 588, "skipped": 49, "error": 90, "failed": 20, "total": 747, "collected": 747}, "collectors": [{"nodeid": "", "outcome": "passed", "result": [{"nodeid": "tests", "type": "Package"}]}, {"nodeid": "tests/test_admin_backup_encryption.py", "outcome": "passed", "result": [{"nodeid": "tests/test_admin_backup_encryption.py::test_create_encrypted_backup_default", "type": "Function", "lineno": 12}, {"nodeid": "tests/test_admin_backup_encryption.py::test_create_unencrypted_backup", "type": "Function", "lineno": 45}, {"nodeid": "tests/test_admin_backup_encryption.py::test_backup_with_explicit_encryption_true", "type": "Function", "lineno": 81}, {"nodeid": "tests/test_admin_backup_encryption.py::test_backup_encryption_details", "type": "Function", "lineno": 112}, {"nodeid": "tests/test_admin_backup_encryption.py::test_unencrypted_backup_no_encryption_details", "type": "Function", "lineno": 148}, {"nodeid": "tests/test_admin_backup_encryption.py::test_backup_requires_authentication", "type": "Function", "lineno": 181}]}, {"nodeid": "tests/test_admin_bootstrap.py", "outcome": "passed", "result": [{"nodeid": "tests/test_admin_bootstrap.py::test_bootstrap_skips_without_credentials", "type": "Function", "lineno": 29}, {"nodeid": "tests/test_admin_bootstrap.py::test_bootstrap_warns_when_auth_enabled_without_credentials", "type": "Function", "lineno": 35}, {"nodeid": "tests/test_admin_bootstrap.py::test_bootstrap_creates_admin_user", "type": "Function", "lineno": 45}, {"nodeid": "tests/test_admin_bootstrap.py::test_bootstrap_updates_existing_user_with_force_reset", "type": "Function", "lineno": 56}, {"nodeid": "tests/test_admin_bootstrap.py::test_bootstrap_updates_existing_user_without_force_reset", "type": "Function", "lineno": 90}, {"nodeid": "tests/test_admin_bootstrap.py::test_bootstrap_creates_user_and_allows_login", "type": "Function", "lineno": 112}, {"nodeid": "tests/test_admin_bootstrap.py::test_bootstrap_auto_resets_when_enabled", "type": "Function", "lineno": 136}, {"nodeid": "tests/test_admin_bootstrap.py::test_bootstrap_auto_does_not_reset_if_password_matches", "type": "Function", "lineno": 175}, {"nodeid": "tests/test_admin_bootstrap.py::test_bootstrap_auto_resets_on_verification_error", "type": "Function", "lineno": 216}]}, {"nodeid": "tests/test_analytics_router.py", "outcome": "passed", "result": [{"nodeid": "tests/test_analytics_router.py::test_final_grade_with_grades_dailyperf_and_absence_penalty", "type": "Function", "lineno": 103}, {"nodeid": "tests/test_analytics_router.py::test_final_grade_without_rules_returns_error", "type": "Function", "lineno": 148}, {"nodeid": "tests/test_analytics_router.py::test_final_grade_with_attendance_category", "type": "Function", "lineno": 159}, {"nodeid": "tests/test_analytics_router.py::test_final_grade_course_not_found", "type": "Function", "lineno": 187}, {"nodeid": "tests/test_analytics_router.py::test_student_all_courses_summary_with_mixed_courses", "type": "Function", "lineno": 195}, {"nodeid": "tests/test_analytics_router.py::test_student_all_courses_summary_student_not_found", "type": "Function", "lineno": 244}, {"nodeid": "tests/test_analytics_router.py::test_student_all_courses_summary_limits_queries", "type": "Function", "lineno": 251}, {"nodeid": "tests/test_analytics_router.py::test_student_summary_success", "type": "Function", "lineno": 282}, {"nodeid": "tests/test_analytics_router.py::test_student_summary_not_found", "type": "Function", "lineno": 308}]}, {"nodeid": "tests/test_analytics_service.py::TestGetStudentPerformance", "outcome": "passed", "result": [{"nodeid": "tests/test_analytics_service.py::TestGetStudentPerformance::test_performance_with_grades", "type": "Function", "lineno": 112}, {"nodeid": "tests/test_analytics_service.py::TestGetStudentPerformance::test_performance_no_grades", "type": "Function", "lineno": 121}, {"nodeid": "tests/test_analytics_service.py::TestGetStudentPerformance::test_performance_custom_days_back", "type": "Function", "lineno": 128}, {"nodeid": "tests/test_analytics_service.py::TestGetStudentPerformance::test_performance_excludes_deleted_grades", "type": "Function", "lineno": 135}]}, {"nodeid": "tests/test_analytics_service.py::TestGetStudentTrends", "outcome": "passed", "result": [{"nodeid": "tests/test_analytics_service.py::TestGetStudentTrends::test_trends_with_improving_pattern", "type": "Function", "lineno": 153}, {"nodeid": "tests/test_analytics_service.py::TestGetStudentTrends::test_trends_limit_parameter", "type": "Function", "lineno": 161}, {"nodeid": "tests/test_analytics_service.py::TestGetStudentTrends::test_trends_no_grades", "type": "Function", "lineno": 167}, {"nodeid": "tests/test_analytics_service.py::TestGetStudentTrends::test_trends_moving_average_calculation", "type": "Function", "lineno": 175}]}, {"nodeid": "tests/test_analytics_service.py::TestGetStudentsComparison", "outcome": "passed", "result": [{"nodeid": "tests/test_analytics_service.py::TestGetStudentsComparison::test_comparison_with_students", "type": "Function", "lineno": 187}, {"nodeid": "tests/test_analytics_service.py::TestGetStudentsComparison::test_comparison_class_statistics", "type": "Function", "lineno": 241}, {"nodeid": "tests/test_analytics_service.py::TestGetStudentsComparison::test_comparison_no_students", "type": "Function", "lineno": 280}]}, {"nodeid": "tests/test_analytics_service.py::TestGetAttendanceSummary", "outcome": "passed", "result": [{"nodeid": "tests/test_analytics_service.py::TestGetAttendanceSummary::test_attendance_summary_all_courses", "type": "Function", "lineno": 292}, {"nodeid": "tests/test_analytics_service.py::TestGetAttendanceSummary::test_attendance_summary_specific_course", "type": "Function", "lineno": 301}, {"nodeid": "tests/test_analytics_service.py::TestGetAttendanceSummary::test_attendance_summary_no_records", "type": "Function", "lineno": 310}, {"nodeid": "tests/test_analytics_service.py::TestGetAttendanceSummary::test_attendance_excludes_deleted", "type": "Function", "lineno": 317}]}, {"nodeid": "tests/test_analytics_service.py::TestGetGradeDistribution", "outcome": "passed", "result": [{"nodeid": "tests/test_analytics_service.py::TestGetGradeDistribution::test_grade_distribution_calculation", "type": "Function", "lineno": 331}, {"nodeid": "tests/test_analytics_service.py::TestGetGradeDistribution::test_grade_distribution_no_grades", "type": "Function", "lineno": 369}]}, {"nodeid": "tests/test_analytics_service.py::TestCalculateFinalGrade", "outcome": "passed", "result": [{"nodeid": "tests/test_analytics_service.py::TestCalculateFinalGrade::test_final_grade_calculation", "type": "Function", "lineno": 382}]}, {"nodeid": "tests/test_analytics_service.py::TestGetStudentSummary", "outcome": "passed", "result": [{"nodeid": "tests/test_analytics_service.py::TestGetStudentSummary::test_student_summary_with_data", "type": "Function", "lineno": 396}, {"nodeid": "tests/test_analytics_service.py::TestGetStudentSummary::test_student_summary_without_data", "type": "Function", "lineno": 412}]}, {"nodeid": "tests/test_analytics_service.py::TestErrorHandling", "outcome": "passed", "result": [{"nodeid": "tests/test_analytics_service.py::TestErrorHandling::test_invalid_student_id", "type": "Function", "lineno": 425}, {"nodeid": "tests/test_analytics_service.py::TestErrorHandling::test_invalid_course_id", "type": "Function", "lineno": 434}]}, {"nodeid": "tests/test_analytics_service.py", "outcome": "passed", "result": [{"nodeid": "tests/test_analytics_service.py::TestGetStudentPerformance", "type": "Class"}, {"nodeid": "tests/test_analytics_service.py::TestGetStudentTrends", "type": "Class"}, {"nodeid": "tests/test_analytics_service.py::TestGetStudentsComparison", "type": "Class"}, {"nodeid": "tests/test_analytics_service.py::TestGetAttendanceSummary", "type": "Class"}, {"nodeid": "tests/test_analytics_service.py::TestGetGradeDistribution", "type": "Class"}, {"nodeid": "tests/test_analytics_service.py::TestCalculateFinalGrade", "type": "Class"}, {"nodeid": "tests/test_analytics_service.py::TestGetStudentSummary", "type": "Class"}, {"nodeid": "tests/test_analytics_service.py::TestErrorHandling", "type": "Class"}]}, {"nodeid": "tests/test_attendance_router.py", "outcome": "passed", "result": [{"nodeid": "tests/test_attendance_router.py::test_create_attendance_success", "type": "Function", "lineno": 24}, {"nodeid": "tests/test_attendance_router.py::test_create_attendance_invalid_student", "type": "Function", "lineno": 77}, {"nodeid": "tests/test_attendance_router.py::test_create_attendance_invalid_course", "type": "Function", "lineno": 108}, {"nodeid": "tests/test_attendance_router.py::test_create_attendance_upserts_existing_record", "type": "Function", "lineno": 139}, {"nodeid": "tests/test_attendance_router.py::test_get_all_attendance", "type": "Function", "lineno": 190}, {"nodeid": "tests/test_attendance_router.py::test_filter_attendance_by_student", "type": "Function", "lineno": 237}, {"nodeid": "tests/test_attendance_router.py::test_filter_attendance_by_status", "type": "Function", "lineno": 306}, {"nodeid": "tests/test_attendance_router.py::test_get_student_attendance", "type": "Function", "lineno": 356}, {"nodeid": "tests/test_attendance_router.py::test_get_course_attendance", "type": "Function", "lineno": 402}, {"nodeid": "tests/test_attendance_router.py::test_get_attendance_by_date_and_course", "type": "Function", "lineno": 448}, {"nodeid": "tests/test_attendance_router.py::test_attendance_date_range_filtering", "type": "Function", "lineno": 495}, {"nodeid": "tests/test_attendance_router.py::test_update_attendance", "type": "Function", "lineno": 571}, {"nodeid": "tests/test_attendance_router.py::test_delete_attendance", "type": "Function", "lineno": 623}, {"nodeid": "tests/test_attendance_router.py::test_attendance_stats", "type": "Function", "lineno": 671}, {"nodeid": "tests/test_attendance_router.py::test_attendance_stats_no_records_returns_message", "type": "Function", "lineno": 722}, {"nodeid": "tests/test_attendance_router.py::test_bulk_create_attendance", "type": "Function", "lineno": 750}, {"nodeid": "tests/test_attendance_router.py::test_attendance_date_range_with_only_end_date", "type": "Function", "lineno": 796}, {"nodeid": "tests/test_attendance_router.py::test_update_attendance_not_found", "type": "Function", "lineno": 845}, {"nodeid": "tests/test_attendance_router.py::test_delete_attendance_not_found", "type": "Function", "lineno": 852}, {"nodeid": "tests/test_attendance_router.py::test_get_student_attendance_not_found", "type": "Function", "lineno": 859}, {"nodeid": "tests/test_attendance_router.py::test_get_course_attendance_not_found", "type": "Function", "lineno": 866}, {"nodeid": "tests/test_attendance_router.py::test_get_attendance_by_date_course_not_found", "type": "Function", "lineno": 873}]}, {"nodeid": "tests/test_audit.py::TestClient", "outcome": "passed", "result": []}, {"nodeid": "tests/test_audit.py::TestAuditLogger", "outcome": "passed", "result": [{"nodeid": "tests/test_audit.py::TestAuditLogger::test_log_action_basic", "type": "Function", "lineno": 24}, {"nodeid": "tests/test_audit.py::TestAuditLogger::test_log_action_with_error", "type": "Function", "lineno": 52}, {"nodeid": "tests/test_audit.py::TestAuditLogger::test_log_action_system_action", "type": "Function", "lineno": 68}, {"nodeid": "tests/test_audit.py::TestAuditLogger::test_log_action_all_action_types", "type": "Function", "lineno": 83}, {"nodeid": "tests/test_audit.py::TestAuditLogger::test_log_action_all_resource_types", "type": "Function", "lineno": 105}]}, {"nodeid": "tests/test_audit.py::TestAuditRouter", "outcome": "passed", "result": [{"nodeid": "tests/test_audit.py::TestAuditRouter::test_list_audit_logs_admin_only", "type": "Function", "lineno": 130}, {"nodeid": "tests/test_audit.py::TestAuditRouter::test_list_audit_logs_empty", "type": "Function", "lineno": 142}, {"nodeid": "tests/test_audit.py::TestAuditRouter::test_list_audit_logs_with_data", "type": "Function", "lineno": 152}, {"nodeid": "tests/test_audit.py::TestAuditRouter::test_list_audit_logs_pagination", "type": "Function", "lineno": 171}, {"nodeid": "tests/test_audit.py::TestAuditRouter::test_list_audit_logs_filter_by_user", "type": "Function", "lineno": 200}, {"nodeid": "tests/test_audit.py::TestAuditRouter::test_list_audit_logs_filter_by_action", "type": "Function", "lineno": 218}, {"nodeid": "tests/test_audit.py::TestAuditRouter::test_list_audit_logs_filter_by_resource", "type": "Function", "lineno": 234}, {"nodeid": "tests/test_audit.py::TestAuditRouter::test_list_audit_logs_filter_by_date_range", "type": "Function", "lineno": 250}, {"nodeid": "tests/test_audit.py::TestAuditRouter::test_list_audit_logs_filter_by_success", "type": "Function", "lineno": 271}, {"nodeid": "tests/test_audit.py::TestAuditRouter::test_get_audit_log_by_id", "type": "Function", "lineno": 286}, {"nodeid": "tests/test_audit.py::TestAuditRouter::test_get_audit_log_not_found", "type": "Function", "lineno": 308}, {"nodeid": "tests/test_audit.py::TestAuditRouter::test_get_user_audit_logs", "type": "Function", "lineno": 314}]}, {"nodeid": "tests/test_audit.py::TestAuditCoverage", "outcome": "passed", "result": [{"nodeid": "tests/test_audit.py::TestAuditCoverage::test_audit_log_timestamp_ordering", "type": "Function", "lineno": 340}, {"nodeid": "tests/test_audit.py::TestAuditCoverage::test_audit_log_with_complex_details", "type": "Function", "lineno": 355}]}, {"nodeid": "tests/test_audit.py", "outcome": "passed", "result": [{"nodeid": "tests/test_audit.py::TestClient", "type": "Class"}, {"nodeid": "tests/test_audit.py::TestAuditLogger", "type": "Class"}, {"nodeid": "tests/test_audit.py::TestAuditRouter", "type": "Class"}, {"nodeid": "tests/test_audit.py::TestAuditCoverage", "type": "Class"}]}, {"nodeid": "tests/test_audit_router.py", "outcome": "passed", "result": [{"nodeid": "tests/test_audit_router.py::test_list_audit_logs_pagination", "type": "Function", "lineno": 48}, {"nodeid": "tests/test_audit_router.py::test_get_user_audit_logs", "type": "Function", "lineno": 75}]}, {"nodeid": "tests/test_auth_flow.py", "outcome": "passed", "result": [{"nodeid": "tests/test_auth_flow.py::test_register_login_me_success", "type": "Function", "lineno": 18}, {"nodeid": "tests/test_auth_flow.py::test_register_duplicate_and_bad_login", "type": "Function", "lineno": 54}, {"nodeid": "tests/test_auth_flow.py::test_login_lockout_after_failed_attempts", "type": "Function", "lineno": 76}, {"nodeid": "tests/test_auth_flow.py::test_login_recovers_after_lockout_window", "type": "Function", "lineno": 107}]}, {"nodeid": "tests/test_auth_refresh.py", "outcome": "passed", "result": [{"nodeid": "tests/test_auth_refresh.py::test_refresh_rotation_and_logout", "type": "Function", "lineno": 5}, {"nodeid": "tests/test_auth_refresh.py::test_refresh_expiry", "type": "Function", "lineno": 61}]}, {"nodeid": "tests/test_auth_router.py", "outcome": "passed", "result": [{"nodeid": "tests/test_auth_router.py::test_register_login_me_flow", "type": "Function", "lineno": 6}, {"nodeid": "tests/test_auth_router.py::test_login_wrong_password", "type": "Function", "lineno": 36}, {"nodeid": "tests/test_auth_router.py::test_register_rejects_weak_passwords[1-nocaps123!]", "type": "Function", "lineno": 50}, {"nodeid": "tests/test_auth_router.py::test_register_rejects_weak_passwords[2-NOLOWER123!]", "type": "Function", "lineno": 50}, {"nodeid": "tests/test_auth_router.py::test_register_rejects_weak_passwords[3-NoDigits!!!!]", "type": "Function", "lineno": 50}, {"nodeid": "tests/test_auth_router.py::test_register_rejects_weak_passwords[4-NoSpecial123]", "type": "Function", "lineno": 50}, {"nodeid": "tests/test_auth_router.py::test_register_rejects_weak_passwords[5-Space Pass1!]", "type": "Function", "lineno": 50}, {"nodeid": "tests/test_auth_router.py::test_me_requires_token", "type": "Function", "lineno": 69}, {"nodeid": "tests/test_auth_router.py::test_verify_password_invalid_hash", "type": "Function", "lineno": 74}, {"nodeid": "tests/test_auth_router.py::test_get_current_user_invalid_token", "type": "Function", "lineno": 80}, {"nodeid": "tests/test_auth_router.py::test_get_current_user_inactive_user", "type": "Function", "lineno": 96}, {"nodeid": "tests/test_auth_router.py::test_require_role_denies_mismatch", "type": "Function", "lineno": 119}, {"nodeid": "tests/test_auth_router.py::test_optional_require_role_returns_dummy_when_disabled", "type": "Function", "lineno": 131}, {"nodeid": "tests/test_auth_router.py::test_optional_require_role_enforces_when_enabled", "type": "Function", "lineno": 145}]}, {"nodeid": "tests/test_auto_import_courses.py", "outcome": "passed", "result": [{"nodeid": "tests/test_auto_import_courses.py::test_wait_for_server_success", "type": "Function", "lineno": 14}, {"nodeid": "tests/test_auto_import_courses.py::test_wait_for_server_timeout", "type": "Function", "lineno": 23}, {"nodeid": "tests/test_auto_import_courses.py::test_wait_for_server_non_200", "type": "Function", "lineno": 34}, {"nodeid": "tests/test_auto_import_courses.py::test_check_and_import_courses_empty_success", "type": "Function", "lineno": 52}, {"nodeid": "tests/test_auto_import_courses.py::test_check_and_import_courses_courses_exist", "type": "Function", "lineno": 68}, {"nodeid": "tests/test_auto_import_courses.py::test_check_and_import_courses_import_failed", "type": "Function", "lineno": 79}, {"nodeid": "tests/test_auto_import_courses.py::test_check_and_import_courses_exception", "type": "Function", "lineno": 94}]}, {"nodeid": "tests/test_backup_encryption.py::TestEncryptionService", "outcome": "passed", "result": [{"nodeid": "tests/test_backup_encryption.py::TestEncryptionService::test_master_key_creation", "type": "Function", "lineno": 49}, {"nodeid": "tests/test_backup_encryption.py::TestEncryptionService::test_master_key_reuse", "type": "Function", "lineno": 59}, {"nodeid": "tests/test_backup_encryption.py::TestEncryptionService::test_encrypt_decrypt_roundtrip", "type": "Function", "lineno": 66}, {"nodeid": "tests/test_backup_encryption.py::TestEncryptionService::test_encrypt_produces_different_output", "type": "Function", "lineno": 73}, {"nodeid": "tests/test_backup_encryption.py::TestEncryptionService::test_encrypt_with_associated_data", "type": "Function", "lineno": 85}, {"nodeid": "tests/test_backup_encryption.py::TestEncryptionService::test_decrypt_with_wrong_associated_data_fails", "type": "Function", "lineno": 94}, {"nodeid": "tests/test_backup_encryption.py::TestEncryptionService::test_encrypt_corrupted_data_fails", "type": "Function", "lineno": 105}, {"nodeid": "tests/test_backup_encryption.py::TestEncryptionService::test_invalid_encrypted_data_length", "type": "Function", "lineno": 116}, {"nodeid": "tests/test_backup_encryption.py::TestEncryptionService::test_encrypt_file_roundtrip", "type": "Function", "lineno": 121}, {"nodeid": "tests/test_backup_encryption.py::TestEncryptionService::test_get_key_info", "type": "Function", "lineno": 151}, {"nodeid": "tests/test_backup_encryption.py::TestEncryptionService::test_rotate_master_key", "type": "Function", "lineno": 161}]}, {"nodeid": "tests/test_backup_encryption.py::TestBackupServiceEncrypted", "outcome": "passed", "result": [{"nodeid": "tests/test_backup_encryption.py::TestBackupServiceEncrypted::test_create_encrypted_backup", "type": "Function", "lineno": 183}, {"nodeid": "tests/test_backup_encryption.py::TestBackupServiceEncrypted::test_restore_encrypted_backup", "type": "Function", "lineno": 197}, {"nodeid": "tests/test_backup_encryption.py::TestBackupServiceEncrypted::test_list_encrypted_backups", "type": "Function", "lineno": 223}, {"nodeid": "tests/test_backup_encryption.py::TestBackupServiceEncrypted::test_delete_encrypted_backup", "type": "Function", "lineno": 240}, {"nodeid": "tests/test_backup_encryption.py::TestBackupServiceEncrypted::test_verify_backup_integrity", "type": "Function", "lineno": 261}, {"nodeid": "tests/test_backup_encryption.py::TestBackupServiceEncrypted::test_verify_corrupted_backup_fails", "type": "Function", "lineno": 275}, {"nodeid": "tests/test_backup_encryption.py::TestBackupServiceEncrypted::test_cleanup_old_backups", "type": "Function", "lineno": 295}, {"nodeid": "tests/test_backup_encryption.py::TestBackupServiceEncrypted::test_backup_not_found", "type": "Function", "lineno": 315}, {"nodeid": "tests/test_backup_encryption.py::TestBackupServiceEncrypted::test_source_file_not_found", "type": "Function", "lineno": 323}]}, {"nodeid": "tests/test_backup_encryption.py", "outcome": "passed", "result": [{"nodeid": "tests/test_backup_encryption.py::TestEncryptionService", "type": "Class"}, {"nodeid": "tests/test_backup_encryption.py::TestBackupServiceEncrypted", "type": "Class"}]}, {"nodeid": "tests/test_change_password.py", "outcome": "passed", "result": [{"nodeid": "tests/test_change_password.py::test_change_password_flow", "type": "Function", "lineno": 0}]}, {"nodeid": "tests/test_config_module.py", "outcome": "passed", "result": [{"nodeid": "tests/test_config_module.py::test_semester_weeks_validation_bounds", "type": "Function", "lineno": 24}, {"nodeid": "tests/test_config_module.py::test_database_url_must_reside_in_project", "type": "Function", "lineno": 31}, {"nodeid": "tests/test_config_module.py::test_secret_key_auto_generates_secure_value", "type": "Function", "lineno": 37}, {"nodeid": "tests/test_config_module.py::test_cors_origins_list_parses_json_string", "type": "Function", "lineno": 53}, {"nodeid": "tests/test_config_module.py::test_cors_origins_list_handles_comma_values", "type": "Function", "lineno": 58}, {"nodeid": "tests/test_config_module.py::test_database_url_accepts_postgres_uri", "type": "Function", "lineno": 67}, {"nodeid": "tests/test_config_module.py::test_database_url_autobuilds_when_engine_is_postgres", "type": "Function", "lineno": 74}, {"nodeid": "tests/test_config_module.py::test_database_url_autobuild_requires_complete_postgres_config", "type": "Function", "lineno": 91}]}, {"nodeid": "tests/test_config_settings.py", "outcome": "passed", "result": [{"nodeid": "tests/test_config_settings.py::test_cors_origins_list_parses_json_like_string", "type": "Function", "lineno": 10}, {"nodeid": "tests/test_config_settings.py::test_cors_origins_list_parses_comma_list", "type": "Function", "lineno": 15}, {"nodeid": "tests/test_config_settings.py::test_semester_weeks_validator_rejects_out_of_range", "type": "Function", "lineno": 20}, {"nodeid": "tests/test_config_settings.py::test_secret_key_placeholder_generates_random_key_when_enforced", "type": "Function", "lineno": 25}, {"nodeid": "tests/test_config_settings.py::test_secret_key_placeholder_allowed_when_not_enforced", "type": "Function", "lineno": 41}, {"nodeid": "tests/test_config_settings.py::test_secret_key_placeholder_raises_when_not_in_test_env", "type": "Function", "lineno": 55}, {"nodeid": "tests/test_config_settings.py::test_secret_key_short_generates_when_enforced", "type": "Function", "lineno": 95}, {"nodeid": "tests/test_config_settings.py::test_secret_key_short_allowed_when_not_enforced", "type": "Function", "lineno": 117}, {"nodeid": "tests/test_config_settings.py::test_database_url_rejects_path_outside_project", "type": "Function", "lineno": 126}, {"nodeid": "tests/test_config_settings.py::test_database_url_accepts_path_inside_project", "type": "Function", "lineno": 134}, {"nodeid": "tests/test_config_settings.py::test_auth_enabled_raises_error_with_placeholder_secret_key", "type": "Function", "lineno": 143}, {"nodeid": "tests/test_config_settings.py::test_auth_enabled_accepts_custom_secret_key", "type": "Function", "lineno": 156}, {"nodeid": "tests/test_config_settings.py::test_auth_disabled_allows_placeholder_secret_key", "type": "Function", "lineno": 169}, {"nodeid": "tests/test_config_settings.py::test_secret_key_can_be_explicitly_set", "type": "Function", "lineno": 183}, {"nodeid": "tests/test_config_settings.py::test_secret_key_auto_generation_on_short_key", "type": "Function", "lineno": 197}]}, {"nodeid": "tests/test_control_endpoints.py", "outcome": "passed", "result": [{"nodeid": "tests/test_control_endpoints.py::test_control_status_monkeypatched", "type": "Function", "lineno": 25}, {"nodeid": "tests/test_control_endpoints.py::test_control_start_npm_missing", "type": "Function", "lineno": 34}, {"nodeid": "tests/test_control_endpoints.py::test_control_stop_kills_pids", "type": "Function", "lineno": 57}, {"nodeid": "tests/test_control_endpoints.py::test_control_restart_schedules_thread", "type": "Function", "lineno": 80}, {"nodeid": "tests/test_control_endpoints.py::test_control_restart_blocked_in_docker", "type": "Function", "lineno": 99}, {"nodeid": "tests/test_control_endpoints.py::test_restart_diagnostics_reports_native", "type": "Function", "lineno": 109}, {"nodeid": "tests/test_control_endpoints.py::test_restart_disabled_when_control_api_off", "type": "Function", "lineno": 121}, {"nodeid": "tests/test_control_endpoints.py::test_install_frontend_deps_missing_package_json", "type": "Function", "lineno": 136}, {"nodeid": "tests/test_control_endpoints.py::test_install_frontend_deps_npm_missing", "type": "Function", "lineno": 154}, {"nodeid": "tests/test_control_endpoints.py::test_install_backend_deps_missing_requirements", "type": "Function", "lineno": 164}, {"nodeid": "tests/test_control_endpoints.py::test_docker_build_when_docker_not_running", "type": "Function", "lineno": 182}, {"nodeid": "tests/test_control_endpoints.py::test_docker_update_volume_when_docker_not_running", "type": "Function", "lineno": 191}, {"nodeid": "tests/test_control_endpoints.py::test_download_database_backup_success", "type": "Function", "lineno": 200}, {"nodeid": "tests/test_control_endpoints.py::test_download_database_backup_not_found", "type": "Function", "lineno": 218}, {"nodeid": "tests/test_control_endpoints.py::test_download_database_backup_rejects_traversal", "type": "Function", "lineno": 226}]}, {"nodeid": "tests/test_control_environment.py", "outcome": "passed", "result": [{"nodeid": "tests/test_control_environment.py::test_environment_basic_shape", "type": "Function", "lineno": 4}, {"nodeid": "tests/test_control_environment.py::test_environment_includes_python_packages", "type": "Function", "lineno": 30}]}, {"nodeid": "tests/test_control_jwt_integration.py", "outcome": "passed", "result": [{"nodeid": "tests/test_control_jwt_integration.py::test_jwt_admin_can_call_control_stop", "type": "Function", "lineno": 3}]}, {"nodeid": "tests/test_control_maintenance.py", "outcome": "passed", "result": [{"nodeid": "tests/test_control_maintenance.py::test_get_auth_settings", "type": "Function", "lineno": 6}, {"nodeid": "tests/test_control_maintenance.py::test_get_auth_policy_guide", "type": "Function", "lineno": 23}, {"nodeid": "tests/test_control_maintenance.py::test_update_auth_settings_with_auth_mode", "type": "Function", "lineno": 42}, {"nodeid": "tests/test_control_maintenance.py::test_update_auth_settings_multiple_values", "type": "Function", "lineno": 68}, {"nodeid": "tests/test_control_maintenance.py::test_update_auth_settings_validation", "type": "Function", "lineno": 82}, {"nodeid": "tests/test_control_maintenance.py::test_auth_settings_endpoint_exists_in_openapi", "type": "Function", "lineno": 93}]}, {"nodeid": "tests/test_control_path_traversal.py::TestClient", "outcome": "passed", "result": []}, {"nodeid": "tests/test_control_path_traversal.py", "outcome": "passed", "result": [{"nodeid": "tests/test_control_path_traversal.py::TestClient", "type": "Class"}, {"nodeid": "tests/test_control_path_traversal.py::test_save_backups_zip_to_path_traversal", "type": "Function", "lineno": 7}, {"nodeid": "tests/test_control_path_traversal.py::test_save_selected_backups_zip_to_path_traversal", "type": "Function", "lineno": 17}, {"nodeid": "tests/test_control_path_traversal.py::test_save_database_backup_to_path_traversal", "type": "Function", "lineno": 25}]}, {"nodeid": "tests/test_control_start_branches.py", "outcome": "passed", "result": [{"nodeid": "tests/test_control_start_branches.py::test_control_start_success", "type": "Function", "lineno": 17}, {"nodeid": "tests/test_control_start_branches.py::test_control_start_install_failure", "type": "Function", "lineno": 78}, {"nodeid": "tests/test_control_start_branches.py::test_control_start_process_terminated", "type": "Function", "lineno": 125}]}, {"nodeid": "tests/test_course_rule_normalization.py", "outcome": "passed", "result": [{"nodeid": "tests/test_course_rule_normalization.py::test_normalize_evaluation_rules_simple_cases[None-None]", "type": "Function", "lineno": 7}, {"nodeid": "tests/test_course_rule_normalization.py::test_normalize_evaluation_rules_simple_cases[input_rules1-expected1]", "type": "Function", "lineno": 7}, {"nodeid": "tests/test_course_rule_normalization.py::test_normalize_evaluation_rules_simple_cases[input_rules2-expected2]", "type": "Function", "lineno": 7}, {"nodeid": "tests/test_course_rule_normalization.py::test_normalize_evaluation_rules_extracts_weight_from_text", "type": "Function", "lineno": 22}, {"nodeid": "tests/test_course_rule_normalization.py::test_normalize_evaluation_rules_from_pair_sequence", "type": "Function", "lineno": 34}, {"nodeid": "tests/test_course_rule_normalization.py::test_normalize_evaluation_rules_from_string_entries", "type": "Function", "lineno": 44}, {"nodeid": "tests/test_course_rule_normalization.py::test_normalize_evaluation_rules_fallback_to_zero_weight", "type": "Function", "lineno": 56}, {"nodeid": "tests/test_course_rule_normalization.py::test_normalize_evaluation_rules_handles_invalid_payload_gracefully", "type": "Function", "lineno": 63}]}, {"nodeid": "tests/test_courses_router.py", "outcome": "passed", "result": [{"nodeid": "tests/test_courses_router.py::test_create_course_success", "type": "Function", "lineno": 23}, {"nodeid": "tests/test_courses_router.py::test_create_course_allows_empty_optional_strings", "type": "Function", "lineno": 35}, {"nodeid": "tests/test_courses_router.py::test_create_course_duplicate_code", "type": "Function", "lineno": 50}, {"nodeid": "tests/test_courses_router.py::test_update_course_basic_fields", "type": "Function", "lineno": 62}, {"nodeid": "tests/test_courses_router.py::test_update_course_preserves_unset_fields", "type": "Function", "lineno": 90}, {"nodeid": "tests/test_courses_router.py::test_update_course_evaluation_rules_validation", "type": "Function", "lineno": 114}, {"nodeid": "tests/test_courses_router.py::test_get_course_by_id", "type": "Function", "lineno": 141}, {"nodeid": "tests/test_courses_router.py::test_get_course_404", "type": "Function", "lineno": 152}, {"nodeid": "tests/test_courses_router.py::test_list_courses_with_semester_filter", "type": "Function", "lineno": 158}, {"nodeid": "tests/test_courses_router.py::test_delete_course", "type": "Function", "lineno": 179}, {"nodeid": "tests/test_courses_router.py::test_evaluation_rules_endpoints", "type": "Function", "lineno": 218}, {"nodeid": "tests/test_courses_router.py::test_normalize_evaluation_rules_variants", "type": "Function", "lineno": 237}]}, {"nodeid": "tests/test_csrf_flow.py::TestClient", "outcome": "passed", "result": []}, {"nodeid": "tests/test_csrf_flow.py", "outcome": "passed", "result": [{"nodeid": "tests/test_csrf_flow.py::TestClient", "type": "Class"}, {"nodeid": "tests/test_csrf_flow.py::test_state_change_rejected_without_csrf", "type": "Function", "lineno": 95}, {"nodeid": "tests/test_csrf_flow.py::test_state_change_allowed_with_csrf", "type": "Function", "lineno": 103}, {"nodeid": "tests/test_csrf_flow.py::test_csrf_token_rotation_on_refresh", "type": "Function", "lineno": 116}, {"nodeid": "tests/test_csrf_flow.py::test_csrf_endpoint_exempted", "type": "Function", "lineno": 127}]}, {"nodeid": "tests/test_csv_import.py::TestClient", "outcome": "passed", "result": []}, {"nodeid": "tests/test_csv_import.py", "outcome": "passed", "result": [{"nodeid": "tests/test_csv_import.py::TestClient", "type": "Class"}, {"nodeid": "tests/test_csv_import.py::test_csv_import_students_with_greek_columns", "type": "Function", "lineno": 6}, {"nodeid": "tests/test_csv_import.py::test_csv_import_rejects_for_courses", "type": "Function", "lineno": 53}, {"nodeid": "tests/test_csv_import.py::test_csv_import_handles_missing_required_fields", "type": "Function", "lineno": 71}, {"nodeid": "tests/test_csv_import.py::test_csv_import_converts_study_years", "type": "Function", "lineno": 92}]}, {"nodeid": "tests/test_daily_performance_router.py", "outcome": "passed", "result": [{"nodeid": "tests/test_daily_performance_router.py::test_create_daily_performance_success", "type": "Function", "lineno": 57}, {"nodeid": "tests/test_daily_performance_router.py::test_get_student_daily_performance_returns_only_matching_records", "type": "Function", "lineno": 70}, {"nodeid": "tests/test_daily_performance_router.py::test_get_student_course_daily_performance_filters_by_course", "type": "Function", "lineno": 86}, {"nodeid": "tests/test_daily_performance_router.py::test_get_course_daily_performance_by_date_requires_iso_format", "type": "Function", "lineno": 102}, {"nodeid": "tests/test_daily_performance_router.py::test_get_course_daily_performance_by_date_filters_results", "type": "Function", "lineno": 109}, {"nodeid": "tests/test_daily_performance_router.py::test_create_daily_performance_handles_internal_errors", "type": "Function", "lineno": 124}, {"nodeid": "tests/test_daily_performance_router.py::test_get_student_daily_performance_handles_unexpected_errors", "type": "Function", "lineno": 148}, {"nodeid": "tests/test_daily_performance_router.py::test_update_daily_performance_success", "type": "Function", "lineno": 160}, {"nodeid": "tests/test_daily_performance_router.py::test_update_daily_performance_not_found", "type": "Function", "lineno": 183}]}, {"nodeid": "tests/test_database_upload.py", "outcome": "passed", "result": [{"nodeid": "tests/test_database_upload.py::test_database_upload_valid", "type": "Function", "lineno": 7}, {"nodeid": "tests/test_database_upload.py::test_database_upload_invalid_extension", "type": "Function", "lineno": 23}, {"nodeid": "tests/test_database_upload.py::test_database_upload_invalid_magic", "type": "Function", "lineno": 31}]}, {"nodeid": "tests/test_db_utils.py", "outcome": "passed", "result": [{"nodeid": "tests/test_db_utils.py::test_get_session_closes_on_cleanup", "type": "Function", "lineno": 9}, {"nodeid": "tests/test_db_utils.py::test_ensure_column_adds_missing_column_sqlite", "type": "Function", "lineno": 33}, {"nodeid": "tests/test_db_utils.py::test_ensure_column_handles_non_sqlite", "type": "Function", "lineno": 45}, {"nodeid": "tests/test_db_utils.py::test_ensure_schema_delegates_to_helper", "type": "Function", "lineno": 83}]}, {"nodeid": "tests/test_edge_cases.py", "outcome": "passed", "result": [{"nodeid": "tests/test_edge_cases.py::test_create_student_with_max_length_fields", "type": "Function", "lineno": 9}, {"nodeid": "tests/test_edge_cases.py::test_attendance_invalid_date_range", "type": "Function", "lineno": 25}, {"nodeid": "tests/test_edge_cases.py::test_concurrent_student_creation", "type": "Function", "lineno": 35}, {"nodeid": "tests/test_edge_cases.py::test_grade_create_invalid_student", "type": "Function", "lineno": 46}, {"nodeid": "tests/test_edge_cases.py::test_create_course_with_invalid_code", "type": "Function", "lineno": 56}, {"nodeid": "tests/test_edge_cases.py::test_create_course_with_max_length_fields", "type": "Function", "lineno": 64}, {"nodeid": "tests/test_edge_cases.py::test_grade_create_with_boundary_values", "type": "Function", "lineno": 71}, {"nodeid": "tests/test_edge_cases.py::test_grade_create_exceeding_max_grade", "type": "Function", "lineno": 81}, {"nodeid": "tests/test_edge_cases.py::test_rollback_import_invalid_filename", "type": "Function", "lineno": 89}, {"nodeid": "tests/test_edge_cases.py::test_rollback_import_missing_file", "type": "Function", "lineno": 98}, {"nodeid": "tests/test_edge_cases.py::test_import_session_rollback_on_critical_error", "type": "Function", "lineno": 106}, {"nodeid": "tests/test_edge_cases.py::test_rate_limiting_on_students", "type": "Function", "lineno": 123}, {"nodeid": "tests/test_edge_cases.py::test_access_admin_endpoint_without_auth", "type": "Function", "lineno": 133}, {"nodeid": "tests/test_edge_cases.py::test_access_admin_endpoint_with_invalid_token", "type": "Function", "lineno": 161}, {"nodeid": "tests/test_edge_cases.py::test_double_delete_student", "type": "Function", "lineno": 194}, {"nodeid": "tests/test_edge_cases.py::test_bulk_import_large_number_of_students", "type": "Function", "lineno": 209}]}, {"nodeid": "tests/test_enrollments_router.py", "outcome": "passed", "result": [{"nodeid": "tests/test_enrollments_router.py::test_enroll_single_student_success", "type": "Function", "lineno": 19}, {"nodeid": "tests/test_enrollments_router.py::test_enroll_multiple_students", "type": "Function", "lineno": 62}, {"nodeid": "tests/test_enrollments_router.py::test_enroll_duplicate_prevention", "type": "Function", "lineno": 105}, {"nodeid": "tests/test_enrollments_router.py::test_enroll_nonexistent_course", "type": "Function", "lineno": 139}, {"nodeid": "tests/test_enrollments_router.py::test_enroll_nonexistent_student_skipped", "type": "Function", "lineno": 148}, {"nodeid": "tests/test_enrollments_router.py::test_get_all_enrollments", "type": "Function", "lineno": 169}, {"nodeid": "tests/test_enrollments_router.py::test_list_course_enrollments", "type": "Function", "lineno": 205}, {"nodeid": "tests/test_enrollments_router.py::test_list_course_enrollments_not_found", "type": "Function", "lineno": 243}, {"nodeid": "tests/test_enrollments_router.py::test_list_student_enrollments", "type": "Function", "lineno": 251}, {"nodeid": "tests/test_enrollments_router.py::test_list_student_enrollments_not_found", "type": "Function", "lineno": 294}, {"nodeid": "tests/test_enrollments_router.py::test_list_enrolled_students", "type": "Function", "lineno": 302}, {"nodeid": "tests/test_enrollments_router.py::test_list_enrolled_students_not_found", "type": "Function", "lineno": 340}, {"nodeid": "tests/test_enrollments_router.py::test_unenroll_student_success", "type": "Function", "lineno": 348}, {"nodeid": "tests/test_enrollments_router.py::test_unenroll_student_not_found", "type": "Function", "lineno": 390}, {"nodeid": "tests/test_enrollments_router.py::test_enrollment_pagination", "type": "Function", "lineno": 424}, {"nodeid": "tests/test_enrollments_router.py::test_enroll_with_custom_date", "type": "Function", "lineno": 468}]}, {"nodeid": "tests/test_environment_detection.py", "outcome": "passed", "result": [{"nodeid": "tests/test_environment_detection.py::test_default_environment_is_development", "type": "Function", "lineno": 51}, {"nodeid": "tests/test_environment_detection.py::test_production_without_docker_is_blocked", "type": "Function", "lineno": 66}, {"nodeid": "tests/test_environment_detection.py::test_production_inside_docker_allowed", "type": "Function", "lineno": 78}]}, {"nodeid": "tests/test_environment_module.py", "outcome": "passed", "result": [{"nodeid": "tests/test_environment_module.py::test_pytest_detection_overrides_other_signals", "type": "Function", "lineno": 16}, {"nodeid": "tests/test_environment_module.py::test_env_variable_controls_runtime_when_not_pytest", "type": "Function", "lineno": 25}, {"nodeid": "tests/test_environment_module.py::test_require_production_constraints_demands_docker", "type": "Function", "lineno": 36}, {"nodeid": "tests/test_environment_module.py::test_ci_without_env_defaults_to_test", "type": "Function", "lineno": 46}, {"nodeid": "tests/test_environment_module.py::test_normalize_env_value_variants", "type": "Function", "lineno": 64}]}, {"nodeid": "tests/test_exception_handlers.py", "outcome": "passed", "result": [{"nodeid": "tests/test_exception_handlers.py::test_http_exception_handler_returns_rfc7807", "type": "Function", "lineno": 15}, {"nodeid": "tests/test_exception_handlers.py::test_http_exception_handler_preserves_headers", "type": "Function", "lineno": 31}, {"nodeid": "tests/test_exception_handlers.py::test_validation_error_handler_returns_rfc7807_with_errors", "type": "Function", "lineno": 41}, {"nodeid": "tests/test_exception_handlers.py::test_validation_error_grade_weight_exceeds_limit", "type": "Function", "lineno": 62}, {"nodeid": "tests/test_exception_handlers.py::test_generic_exception_handler_returns_500_rfc7807", "type": "Function", "lineno": 112}, {"nodeid": "tests/test_exception_handlers.py::test_security_headers_present", "type": "Function", "lineno": 133}, {"nodeid": "tests/test_exception_handlers.py::test_error_response_is_json_serializable", "type": "Function", "lineno": 153}]}, {"nodeid": "tests/test_export_analytics.py", "outcome": "passed", "result": [{"nodeid": "tests/test_export_analytics.py::test_attendance_analytics_export_contains_period_breakdown", "type": "Function", "lineno": 43}]}, {"nodeid": "tests/test_grade_calculation.py", "outcome": "passed", "result": [{"nodeid": "tests/test_grade_calculation.py::test_grade_calculation_logic", "type": "Function", "lineno": 13}]}, {"nodeid": "tests/test_grade_calculation_fix.py", "outcome": "passed", "result": [{"nodeid": "tests/test_grade_calculation_fix.py::test_partial_work_normalization", "type": "Function", "lineno": 7}, {"nodeid": "tests/test_grade_calculation_fix.py::test_complete_work_no_normalization", "type": "Function", "lineno": 75}, {"nodeid": "tests/test_grade_calculation_fix.py::test_multiple_partial_categories", "type": "Function", "lineno": 114}]}, {"nodeid": "tests/test_grade_calculation_integration.py", "outcome": "passed", "result": [{"nodeid": "tests/test_grade_calculation_integration.py::test_final_grade_with_absence_penalty", "type": "Function", "lineno": 7}]}, {"nodeid": "tests/test_grades_router.py", "outcome": "passed", "result": [{"nodeid": "tests/test_grades_router.py::test_create_grade_success", "type": "Function", "lineno": 33}, {"nodeid": "tests/test_grades_router.py::test_create_and_retrieve_multiple_assignments", "type": "Function", "lineno": 74}, {"nodeid": "tests/test_grades_router.py::test_create_grade_weight_exceeds_limit", "type": "Function", "lineno": 167}, {"nodeid": "tests/test_grades_router.py::test_create_grade_submitted_before_assigned", "type": "Function", "lineno": 201}, {"nodeid": "tests/test_grades_router.py::test_create_grade_category_normalized", "type": "Function", "lineno": 239}, {"nodeid": "tests/test_grades_router.py::test_get_grades_by_student_and_course", "type": "Function", "lineno": 270}, {"nodeid": "tests/test_grades_router.py::test_update_grade_validation", "type": "Function", "lineno": 349}, {"nodeid": "tests/test_grades_router.py::test_delete_grade", "type": "Function", "lineno": 395}, {"nodeid": "tests/test_grades_router.py::test_grades_date_range_filtering_assigned_and_submitted", "type": "Function", "lineno": 432}, {"nodeid": "tests/test_grades_router.py::test_create_grade_missing_student", "type": "Function", "lineno": 526}, {"nodeid": "tests/test_grades_router.py::test_get_course_grades_missing_course", "type": "Function", "lineno": 546}, {"nodeid": "tests/test_grades_router.py::test_update_grade_not_found", "type": "Function", "lineno": 556}, {"nodeid": "tests/test_grades_router.py::test_delete_grade_not_found", "type": "Function", "lineno": 566}, {"nodeid": "tests/test_grades_router.py::test_get_grade_analysis_with_and_without_data", "type": "Function", "lineno": 576}, {"nodeid": "tests/test_grades_router.py::test_normalize_date_range_partial_bounds[start0-None-97]", "type": "Function", "lineno": 626}, {"nodeid": "tests/test_grades_router.py::test_normalize_date_range_partial_bounds[None-end1-97]", "type": "Function", "lineno": 626}, {"nodeid": "tests/test_grades_router.py::test_get_student_grades_missing_student", "type": "Function", "lineno": 641}, {"nodeid": "tests/test_grades_router.py::test_get_student_grades_filtered_view", "type": "Function", "lineno": 651}, {"nodeid": "tests/test_grades_router.py::test_get_course_grades_with_submitted_range", "type": "Function", "lineno": 718}, {"nodeid": "tests/test_grades_router.py::test_get_all_grades_category_filter", "type": "Function", "lineno": 772}, {"nodeid": "tests/test_grades_router.py::test_get_grade_success_and_not_found", "type": "Function", "lineno": 813}, {"nodeid": "tests/test_grades_router.py::test_update_grade_successful", "type": "Function", "lineno": 851}, {"nodeid": "tests/test_grades_router.py::test_excellence_highlight_created_for_top_grade", "type": "Function", "lineno": 891}, {"nodeid": "tests/test_grades_router.py::test_no_highlight_created_for_non_excellence_grade", "type": "Function", "lineno": 933}]}, {"nodeid": "tests/test_gzip_middleware.py", "outcome": "passed", "result": [{"nodeid": "tests/test_gzip_middleware.py::test_gzip_compression_enabled_for_large_payloads", "type": "Function", "lineno": 0}]}, {"nodeid": "tests/test_health.py", "outcome": "passed", "result": [{"nodeid": "tests/test_health.py::test_health_endpoint", "type": "Function", "lineno": 3}, {"nodeid": "tests/test_health.py::test_root_endpoint", "type": "Function", "lineno": 19}]}, {"nodeid": "tests/test_health_checks.py", "outcome": "passed", "result": [{"nodeid": "tests/test_health_checks.py::test_get_network_ips_exception", "type": "Function", "lineno": 23}, {"nodeid": "tests/test_health_checks.py::test_liveness_check_always_succeeds", "type": "Function", "lineno": 50}, {"nodeid": "tests/test_health_checks.py::test_readiness_check_healthy", "type": "Function", "lineno": 59}, {"nodeid": "tests/test_health_checks.py::test_readiness_check_not_ready", "type": "Function", "lineno": 75}]}, {"nodeid": "tests/test_import_export.py::TestClient", "outcome": "passed", "result": []}, {"nodeid": "tests/test_import_export.py", "outcome": "passed", "result": [{"nodeid": "tests/test_import_export.py::TestClient", "type": "Class"}, {"nodeid": "tests/test_import_export.py::test_create_student_import_job", "type": "Function", "lineno": 3}, {"nodeid": "tests/test_import_export.py::test_create_course_import_job", "type": "Function", "lineno": 19}, {"nodeid": "tests/test_import_export.py::test_create_grade_import_job", "type": "Function", "lineno": 32}, {"nodeid": "tests/test_import_export.py::test_list_import_jobs", "type": "Function", "lineno": 45}, {"nodeid": "tests/test_import_export.py::test_create_export_job", "type": "Function", "lineno": 54}, {"nodeid": "tests/test_import_export.py::test_list_export_jobs", "type": "Function", "lineno": 65}, {"nodeid": "tests/test_import_export.py::test_get_history", "type": "Function", "lineno": 74}]}, {"nodeid": "tests/test_import_resolver.py", "outcome": "passed", "result": [{"nodeid": "tests/test_import_resolver.py::test_import_from_possible_locations_prefers_backend", "type": "Function", "lineno": 9}, {"nodeid": "tests/test_import_resolver.py::test_import_from_possible_locations_raises_when_missing", "type": "Function", "lineno": 14}, {"nodeid": "tests/test_import_resolver.py::test_import_names_raises_for_missing_attribute", "type": "Function", "lineno": 26}, {"nodeid": "tests/test_import_resolver.py::test_import_from_possible_locations_not_found", "type": "Function", "lineno": 36}, {"nodeid": "tests/test_import_resolver.py::test_import_names_attribute_missing", "type": "Function", "lineno": 41}]}, {"nodeid": "tests/test_import_resolver_cov.py", "outcome": "passed", "result": [{"nodeid": "tests/test_import_resolver_cov.py::test_import_from_possible_locations_not_found", "type": "Function", "lineno": 5}, {"nodeid": "tests/test_import_resolver_cov.py::test_import_names_attribute_missing", "type": "Function", "lineno": 10}]}, {"nodeid": "tests/test_imports_integration.py::TestClient", "outcome": "passed", "result": []}, {"nodeid": "tests/test_imports_integration.py::TestImportPreviewEndpoint", "outcome": "passed", "result": [{"nodeid": "tests/test_imports_integration.py::TestImportPreviewEndpoint::test_preview_valid_students_json", "type": "Function", "lineno": 20}, {"nodeid": "tests/test_imports_integration.py::TestImportPreviewEndpoint::test_preview_valid_courses_json", "type": "Function", "lineno": 55}, {"nodeid": "tests/test_imports_integration.py::TestImportPreviewEndpoint::test_preview_no_files_rejected", "type": "Function", "lineno": 80}, {"nodeid": "tests/test_imports_integration.py::TestImportPreviewEndpoint::test_preview_invalid_import_type", "type": "Function", "lineno": 85}]}, {"nodeid": "tests/test_imports_integration.py::TestImportExecuteEndpoint", "outcome": "passed", "result": [{"nodeid": "tests/test_imports_integration.py::TestImportExecuteEndpoint::test_execute_creates_job_with_file", "type": "Function", "lineno": 98}, {"nodeid": "tests/test_imports_integration.py::TestImportExecuteEndpoint::test_execute_with_json_text", "type": "Function", "lineno": 130}, {"nodeid": "tests/test_imports_integration.py::TestImportExecuteEndpoint::test_execute_rejects_no_data", "type": "Function", "lineno": 157}, {"nodeid": "tests/test_imports_integration.py::TestImportExecuteEndpoint::test_execute_malformed_json_text", "type": "Function", "lineno": 162}]}, {"nodeid": "tests/test_imports_integration.py::TestJobTracking", "outcome": "passed", "result": [{"nodeid": "tests/test_imports_integration.py::TestJobTracking::test_get_job_by_id", "type": "Function", "lineno": 175}, {"nodeid": "tests/test_imports_integration.py::TestJobTracking::test_job_invalid_id_returns_404", "type": "Function", "lineno": 195}]}, {"nodeid": "tests/test_imports_integration.py::TestPreviewAndExecuteWorkflow", "outcome": "passed", "result": [{"nodeid": "tests/test_imports_integration.py::TestPreviewAndExecuteWorkflow::test_preview_then_execute_workflow", "type": "Function", "lineno": 204}]}, {"nodeid": "tests/test_imports_integration.py::TestImportErrorHandling", "outcome": "passed", "result": [{"nodeid": "tests/test_imports_integration.py::TestImportErrorHandling::test_audit_log_entry_on_failed_import", "type": "Function", "lineno": 247}, {"nodeid": "tests/test_imports_integration.py::TestImportErrorHandling::test_unsupported_file_type", "type": "Function", "lineno": 272}, {"nodeid": "tests/test_imports_integration.py::TestImportErrorHandling::test_oversized_json_text", "type": "Function", "lineno": 281}]}, {"nodeid": "tests/test_imports_integration.py", "outcome": "passed", "result": [{"nodeid": "tests/test_imports_integration.py::TestClient", "type": "Class"}, {"nodeid": "tests/test_imports_integration.py::TestImportPreviewEndpoint", "type": "Class"}, {"nodeid": "tests/test_imports_integration.py::TestImportExecuteEndpoint", "type": "Class"}, {"nodeid": "tests/test_imports_integration.py::TestJobTracking", "type": "Class"}, {"nodeid": "tests/test_imports_integration.py::TestPreviewAndExecuteWorkflow", "type": "Class"}, {"nodeid": "tests/test_imports_integration.py::TestImportErrorHandling", "type": "Class"}]}, {"nodeid": "tests/test_imports_soft_delete.py", "outcome": "passed", "result": [{"nodeid": "tests/test_imports_soft_delete.py::test_import_students_reactivates_soft_deleted_record", "type": "Function", "lineno": 7}, {"nodeid": "tests/test_imports_soft_delete.py::test_import_courses_reactivates_soft_deleted_record", "type": "Function", "lineno": 48}]}, {"nodeid": "tests/test_imports_upload.py::TestClient", "outcome": "passed", "result": []}, {"nodeid": "tests/test_imports_upload.py", "outcome": "passed", "result": [{"nodeid": "tests/test_imports_upload.py::TestClient", "type": "Class"}, {"nodeid": "tests/test_imports_upload.py::test_upload_courses_accepts_octet_stream", "type": "Function", "lineno": 5}, {"nodeid": "tests/test_imports_upload.py::test_upload_courses_accepts_application_json", "type": "Function", "lineno": 42}, {"nodeid": "tests/test_imports_upload.py::test_upload_courses_preserves_evaluation_rules", "type": "Function", "lineno": 84}]}, {"nodeid": "tests/test_integration_smoke.py", "outcome": "passed", "result": [{"nodeid": "tests/test_integration_smoke.py::test_health_endpoint_integration", "type": "Function", "lineno": 7}]}, {"nodeid": "tests/test_jwt_smoke.py", "outcome": "passed", "result": [{"nodeid": "tests/test_jwt_smoke.py::test_jwt_encode_decode", "type": "Function", "lineno": 12}]}, {"nodeid": "tests/test_list_routes.py", "outcome": "passed", "result": [{"nodeid": "tests/test_list_routes.py::test_list_routes", "type": "Function", "lineno": 0}]}, {"nodeid": "tests/test_logging_config.py", "outcome": "passed", "result": [{"nodeid": "tests/test_logging_config.py::test_initialize_logging_fallback_import", "type": "Function", "lineno": 10}, {"nodeid": "tests/test_logging_config.py::test_initialize_logging_adds_rotating_file_handler", "type": "Function", "lineno": 40}]}, {"nodeid": "tests/test_logging_config_cov.py", "outcome": "passed", "result": [{"nodeid": "tests/test_logging_config_cov.py::test_initialize_logging_fallback_import", "type": "Function", "lineno": 5}]}, {"nodeid": "tests/test_metrics.py::TestMetricsService", "outcome": "passed", "result": [{"nodeid": "tests/test_metrics.py::TestMetricsService::test_get_student_metrics", "type": "Function", "lineno": 98}, {"nodeid": "tests/test_metrics.py::TestMetricsService::test_get_student_metrics_by_semester", "type": "Function", "lineno": 108}, {"nodeid": "tests/test_metrics.py::TestMetricsService::test_get_course_metrics", "type": "Function", "lineno": 115}, {"nodeid": "tests/test_metrics.py::TestMetricsService::test_get_grade_metrics", "type": "Function", "lineno": 126}, {"nodeid": "tests/test_metrics.py::TestMetricsService::test_get_attendance_metrics", "type": "Function", "lineno": 138}, {"nodeid": "tests/test_metrics.py::TestMetricsService::test_get_dashboard_metrics", "type": "Function", "lineno": 150}, {"nodeid": "tests/test_metrics.py::TestMetricsService::test_metrics_with_no_data", "type": "Function", "lineno": 161}]}, {"nodeid": "tests/test_metrics.py::TestMetricsRouter", "outcome": "passed", "result": [{"nodeid": "tests/test_metrics.py::TestMetricsRouter::test_get_student_metrics_endpoint", "type": "Function", "lineno": 185}, {"nodeid": "tests/test_metrics.py::TestMetricsRouter::test_get_course_metrics_endpoint", "type": "Function", "lineno": 195}, {"nodeid": "tests/test_metrics.py::TestMetricsRouter::test_get_grade_metrics_endpoint", "type": "Function", "lineno": 204}, {"nodeid": "tests/test_metrics.py::TestMetricsRouter::test_get_attendance_metrics_endpoint", "type": "Function", "lineno": 214}, {"nodeid": "tests/test_metrics.py::TestMetricsRouter::test_get_dashboard_metrics_endpoint", "type": "Function", "lineno": 223}, {"nodeid": "tests/test_metrics.py::TestMetricsRouter::test_metrics_rate_limiting", "type": "Function", "lineno": 239}]}, {"nodeid": "tests/test_metrics.py", "outcome": "passed", "result": [{"nodeid": "tests/test_metrics.py::TestMetricsService", "type": "Class"}, {"nodeid": "tests/test_metrics.py::TestMetricsRouter", "type": "Class"}]}, {"nodeid": "tests/test_metrics_simple.py", "outcome": "passed", "result": []}, {"nodeid": "tests/test_models_relationships.py", "outcome": "passed", "result": [{"nodeid": "tests/test_models_relationships.py::test_deleting_student_cascades_related_records", "type": "Function", "lineno": 16}, {"nodeid": "tests/test_models_relationships.py::test_deleting_course_cascades_enrollments_only", "type": "Function", "lineno": 72}]}, {"nodeid": "tests/test_notifications_router.py", "outcome": "passed", "result": [{"nodeid": "tests/test_notifications_router.py::test_websocket_missing_token", "type": "Function", "lineno": 80}, {"nodeid": "tests/test_notifications_router.py::test_websocket_invalid_token", "type": "Function", "lineno": 88}, {"nodeid": "tests/test_notifications_router.py::test_list_notifications_success", "type": "Function", "lineno": 98}, {"nodeid": "tests/test_notifications_router.py::test_list_notifications_pagination", "type": "Function", "lineno": 121}, {"nodeid": "tests/test_notifications_router.py::test_list_notifications_unread_only_filter", "type": "Function", "lineno": 144}, {"nodeid": "tests/test_notifications_router.py::test_list_notifications_unauthorized", "type": "Function", "lineno": 161}, {"nodeid": "tests/test_notifications_router.py::test_list_notifications_invalid_pagination_params", "type": "Function", "lineno": 170}, {"nodeid": "tests/test_notifications_router.py::test_get_unread_count_success", "type": "Function", "lineno": 186}, {"nodeid": "tests/test_notifications_router.py::test_get_unread_count_no_notifications", "type": "Function", "lineno": 200}, {"nodeid": "tests/test_notifications_router.py::test_mark_notification_as_read_success", "type": "Function", "lineno": 213}, {"nodeid": "tests/test_notifications_router.py::test_mark_notification_as_read_not_found", "type": "Function", "lineno": 233}, {"nodeid": "tests/test_notifications_router.py::test_mark_notification_as_read_wrong_user", "type": "Function", "lineno": 246}, {"nodeid": "tests/test_notifications_router.py::test_mark_all_notifications_as_read_success", "type": "Function", "lineno": 267}, {"nodeid": "tests/test_notifications_router.py::test_mark_all_notifications_as_read_none_unread", "type": "Function", "lineno": 285}, {"nodeid": "tests/test_notifications_router.py::test_update_notification_to_read_via_put", "type": "Function", "lineno": 302}, {"nodeid": "tests/test_notifications_router.py::test_update_notification_not_found", "type": "Function", "lineno": 318}, {"nodeid": "tests/test_notifications_router.py::test_update_notification_wrong_user", "type": "Function", "lineno": 330}, {"nodeid": "tests/test_notifications_router.py::test_delete_notification_success", "type": "Function", "lineno": 354}, {"nodeid": "tests/test_notifications_router.py::test_delete_notification_not_found", "type": "Function", "lineno": 376}, {"nodeid": "tests/test_notifications_router.py::test_delete_notification_wrong_user", "type": "Function", "lineno": 389}, {"nodeid": "tests/test_notifications_router.py::test_get_preferences_success", "type": "Function", "lineno": 410}, {"nodeid": "tests/test_notifications_router.py::test_update_preferences_success", "type": "Function", "lineno": 427}, {"nodeid": "tests/test_notifications_router.py::test_update_preferences_partial", "type": "Function", "lineno": 455}, {"nodeid": "tests/test_notifications_router.py::test_update_preferences_quiet_hours", "type": "Function", "lineno": 474}, {"nodeid": "tests/test_notifications_router.py::test_update_preferences_invalid_phone", "type": "Function", "lineno": 498}, {"nodeid": "tests/test_notifications_router.py::test_update_preferences_invalid_quiet_hours", "type": "Function", "lineno": 512}, {"nodeid": "tests/test_notifications_router.py::test_broadcast_notification_to_all_users", "type": "Function", "lineno": 537}, {"nodeid": "tests/test_notifications_router.py::test_broadcast_notification_to_specific_users", "type": "Function", "lineno": 571}, {"nodeid": "tests/test_notifications_router.py::test_broadcast_notification_by_role_filter", "type": "Function", "lineno": 608}, {"nodeid": "tests/test_notifications_router.py::test_broadcast_notification_requires_admin", "type": "Function", "lineno": 642}, {"nodeid": "tests/test_notifications_router.py::test_broadcast_notification_validation", "type": "Function", "lineno": 663}, {"nodeid": "tests/test_notifications_router.py::test_list_notifications_rate_limiting", "type": "Function", "lineno": 685}, {"nodeid": "tests/test_notifications_router.py::test_update_preferences_rate_limiting", "type": "Function", "lineno": 697}, {"nodeid": "tests/test_notifications_router.py::test_notification_response_format", "type": "Function", "lineno": 715}, {"nodeid": "tests/test_notifications_router.py::test_preference_response_format", "type": "Function", "lineno": 736}]}, {"nodeid": "tests/test_password_rehash.py", "outcome": "passed", "result": [{"nodeid": "tests/test_password_rehash.py::test_pwd_context_supports_both_schemes", "type": "Function", "lineno": 14}, {"nodeid": "tests/test_password_rehash.py::test_pbkdf2_is_default_scheme", "type": "Function", "lineno": 21}, {"nodeid": "tests/test_password_rehash.py::test_pbkdf2_hash_is_not_deprecated", "type": "Function", "lineno": 28}, {"nodeid": "tests/test_password_rehash.py::test_verify_password_with_pbkdf2", "type": "Function", "lineno": 34}, {"nodeid": "tests/test_password_rehash.py::test_bcrypt_deprecation_check", "type": "Function", "lineno": 43}]}, {"nodeid": "tests/test_performance_monitor.py", "outcome": "passed", "result": [{"nodeid": "tests/test_performance_monitor.py::test_monitor_collects_slow_queries", "type": "Function", "lineno": 25}, {"nodeid": "tests/test_performance_monitor.py::test_monitor_exports_snapshot", "type": "Function", "lineno": 43}, {"nodeid": "tests/test_performance_monitor.py::test_monitor_respects_disable_flag", "type": "Function", "lineno": 60}]}, {"nodeid": "tests/test_permissions_api.py", "outcome": "passed", "result": [{"nodeid": "tests/test_permissions_api.py::test_list_permissions_requires_auth", "type": "Function", "lineno": 47}, {"nodeid": "tests/test_permissions_api.py::test_list_permissions_with_auth", "type": "Function", "lineno": 56}, {"nodeid": "tests/test_permissions_api.py::test_list_permissions_filter_by_resource", "type": "Function", "lineno": 76}, {"nodeid": "tests/test_permissions_api.py::test_list_permissions_filter_by_action", "type": "Function", "lineno": 89}, {"nodeid": "tests/test_permissions_api.py::test_list_permissions_search", "type": "Function", "lineno": 102}, {"nodeid": "tests/test_permissions_api.py::test_get_permission_by_id", "type": "Function", "lineno": 115}, {"nodeid": "tests/test_permissions_api.py::test_get_permission_not_found", "type": "Function", "lineno": 129}, {"nodeid": "tests/test_permissions_api.py::test_list_permissions_by_resource_grouped", "type": "Function", "lineno": 136}, {"nodeid": "tests/test_permissions_api.py::test_get_permission_stats", "type": "Function", "lineno": 155}, {"nodeid": "tests/test_permissions_api.py::test_create_permission_requires_permission", "type": "Function", "lineno": 173}, {"nodeid": "tests/test_permissions_api.py::test_update_permission", "type": "Function", "lineno": 184}, {"nodeid": "tests/test_permissions_api.py::test_get_user_permissions", "type": "Function", "lineno": 194}, {"nodeid": "tests/test_permissions_api.py::test_user_can_view_own_permissions", "type": "Function", "lineno": 219}, {"nodeid": "tests/test_permissions_api.py::test_pagination_works", "type": "Function", "lineno": 239}]}, {"nodeid": "tests/test_rate_limit_enforcement.py", "outcome": "passed", "result": [{"nodeid": "tests/test_rate_limit_enforcement.py::test_write_endpoints_rate_limited", "type": "Function", "lineno": 49}]}, {"nodeid": "tests/test_rate_limiting.py::TestClient", "outcome": "passed", "result": []}, {"nodeid": "tests/test_rate_limiting.py", "outcome": "passed", "result": [{"nodeid": "tests/test_rate_limiting.py::TestClient", "type": "Class"}, {"nodeid": "tests/test_rate_limiting.py::test_rate_limit_constants", "type": "Function", "lineno": 50}, {"nodeid": "tests/test_rate_limiting.py::test_read_endpoint_under_limit", "type": "Function", "lineno": 74}, {"nodeid": "tests/test_rate_limiting.py::test_write_endpoint_under_limit", "type": "Function", "lineno": 83}, {"nodeid": "tests/test_rate_limiting.py::test_heavy_endpoint_under_limit", "type": "Function", "lineno": 92}, {"nodeid": "tests/test_rate_limiting.py::test_rate_limit_headers_present", "type": "Function", "lineno": 101}, {"nodeid": "tests/test_rate_limiting.py::test_limiter_instance", "type": "Function", "lineno": 110}, {"nodeid": "tests/test_rate_limiting.py::test_different_endpoints_have_different_limits", "type": "Function", "lineno": 116}]}, {"nodeid": "tests/test_rbac.py", "outcome": "passed", "result": [{"nodeid": "tests/test_rbac.py::test_has_permission_via_role", "type": "Function", "lineno": 82}, {"nodeid": "tests/test_rbac.py::test_has_permission_via_direct_assignment", "type": "Function", "lineno": 101}, {"nodeid": "tests/test_rbac.py::test_has_permission_expired", "type": "Function", "lineno": 117}, {"nodeid": "tests/test_rbac.py::test_has_permission_not_granted", "type": "Function", "lineno": 134}, {"nodeid": "tests/test_rbac.py::test_has_permission_inactive_permission", "type": "Function", "lineno": 140}, {"nodeid": "tests/test_rbac.py::test_get_user_permissions", "type": "Function", "lineno": 159}, {"nodeid": "tests/test_rbac.py::test_get_user_permissions_empty", "type": "Function", "lineno": 207}, {"nodeid": "tests/test_rbac.py::test_is_self_access_student", "type": "Function", "lineno": 213}, {"nodeid": "tests/test_rbac.py::test_is_self_access_non_student", "type": "Function", "lineno": 234}, {"nodeid": "tests/test_rbac.py::test_is_self_access_non_self_permission", "type": "Function", "lineno": 249}]}, {"nodeid": "tests/test_rbac_enforcement.py::TestClient", "outcome": "passed", "result": []}, {"nodeid": "tests/test_rbac_enforcement.py", "outcome": "passed", "result": [{"nodeid": "tests/test_rbac_enforcement.py::TestClient", "type": "Class"}, {"nodeid": "tests/test_rbac_enforcement.py::test_rbac_blocks_anonymous_on_write", "type": "Function", "lineno": 134}, {"nodeid": "tests/test_rbac_enforcement.py::test_rbac_teacher_can_write_but_not_admin_ops", "type": "Function", "lineno": 150}]}, {"nodeid": "tests/test_rbac_router.py::TestClient", "outcome": "passed", "result": []}, {"nodeid": "tests/test_rbac_router.py", "outcome": "passed", "result": [{"nodeid": "tests/test_rbac_router.py::TestClient", "type": "Class"}, {"nodeid": "tests/test_rbac_router.py::test_ensure_defaults_and_summary", "type": "Function", "lineno": 112}, {"nodeid": "tests/test_rbac_router.py::test_assign_and_revoke_role_with_last_admin_protection", "type": "Function", "lineno": 134}, {"nodeid": "tests/test_rbac_router.py::test_bulk_grant_permission_and_permission_crud", "type": "Function", "lineno": 177}]}, {"nodeid": "tests/test_rbac_templates.py", "outcome": "passed", "result": [{"nodeid": "tests/test_rbac_templates.py::test_001_permission_check_allows_authorized_user", "type": "Function", "lineno": 12}, {"nodeid": "tests/test_rbac_templates.py::test_002_permission_check_denies_unauthorized_user", "type": "Function", "lineno": 18}, {"nodeid": "tests/test_rbac_templates.py::test_003_permission_check_denies_inactive_permission", "type": "Function", "lineno": 24}, {"nodeid": "tests/test_rbac_templates.py::test_004_permission_check_denies_expired_permission", "type": "Function", "lineno": 30}, {"nodeid": "tests/test_rbac_templates.py::test_005_permission_check_respects_future_start", "type": "Function", "lineno": 36}, {"nodeid": "tests/test_rbac_templates.py::test_006_role_permission_resolution", "type": "Function", "lineno": 42}, {"nodeid": "tests/test_rbac_templates.py::test_007_user_permission_overrides_role_revocation", "type": "Function", "lineno": 48}, {"nodeid": "tests/test_rbac_templates.py::test_008_revoked_user_permission_blocks_access", "type": "Function", "lineno": 54}, {"nodeid": "tests/test_rbac_templates.py::test_009_permission_cache_invalidation_on_role_change", "type": "Function", "lineno": 60}, {"nodeid": "tests/test_rbac_templates.py::test_010_permission_cache_invalidation_on_direct_grant", "type": "Function", "lineno": 66}, {"nodeid": "tests/test_rbac_templates.py::test_011_permission_cache_invalidation_on_direct_revoke", "type": "Function", "lineno": 72}, {"nodeid": "tests/test_rbac_templates.py::test_012_require_permission_allows_authorized_user", "type": "Function", "lineno": 78}, {"nodeid": "tests/test_rbac_templates.py::test_013_require_permission_denies_unauthorized_user", "type": "Function", "lineno": 84}, {"nodeid": "tests/test_rbac_templates.py::test_014_require_permission_logs_request_id", "type": "Function", "lineno": 90}, {"nodeid": "tests/test_rbac_templates.py::test_015_require_any_permission_allows_on_any_match", "type": "Function", "lineno": 96}, {"nodeid": "tests/test_rbac_templates.py::test_016_require_any_permission_denies_when_none_match", "type": "Function", "lineno": 102}, {"nodeid": "tests/test_rbac_templates.py::test_017_require_all_permissions_allows_when_all_present", "type": "Function", "lineno": 108}, {"nodeid": "tests/test_rbac_templates.py::test_018_require_all_permissions_denies_when_one_missing", "type": "Function", "lineno": 114}, {"nodeid": "tests/test_rbac_templates.py::test_019_self_access_student_own_record", "type": "Function", "lineno": 120}, {"nodeid": "tests/test_rbac_templates.py::test_020_self_access_student_other_record", "type": "Function", "lineno": 126}, {"nodeid": "tests/test_rbac_templates.py::test_021_self_access_grade_view", "type": "Function", "lineno": 132}, {"nodeid": "tests/test_rbac_templates.py::test_022_self_access_grade_edit_denied", "type": "Function", "lineno": 138}, {"nodeid": "tests/test_rbac_templates.py::test_023_teacher_scoped_permissions_by_course", "type": "Function", "lineno": 144}, {"nodeid": "tests/test_rbac_templates.py::test_024_viewer_read_only_enforcement", "type": "Function", "lineno": 150}, {"nodeid": "tests/test_rbac_templates.py::test_025_admin_has_all_seeded_permissions", "type": "Function", "lineno": 156}, {"nodeid": "tests/test_rbac_templates.py::test_026_teacher_has_expected_subset", "type": "Function", "lineno": 162}, {"nodeid": "tests/test_rbac_templates.py::test_027_viewer_has_expected_subset", "type": "Function", "lineno": 168}, {"nodeid": "tests/test_rbac_templates.py::test_028_seed_script_idempotent", "type": "Function", "lineno": 174}, {"nodeid": "tests/test_rbac_templates.py::test_029_seed_script_restores_missing_permission", "type": "Function", "lineno": 180}, {"nodeid": "tests/test_rbac_templates.py::test_030_seed_script_restores_missing_role_permission", "type": "Function", "lineno": 186}, {"nodeid": "tests/test_rbac_templates.py::test_031_permission_denied_returns_standard_error_payload", "type": "Function", "lineno": 192}, {"nodeid": "tests/test_rbac_templates.py::test_032_permission_denied_includes_permission_name", "type": "Function", "lineno": 198}, {"nodeid": "tests/test_rbac_templates.py::test_033_permission_denied_includes_request_id", "type": "Function", "lineno": 204}, {"nodeid": "tests/test_rbac_templates.py::test_034_permission_grant_propagates_to_tokens", "type": "Function", "lineno": 210}, {"nodeid": "tests/test_rbac_templates.py::test_035_permission_revocation_blocks_old_tokens_on_refresh", "type": "Function", "lineno": 216}, {"nodeid": "tests/test_rbac_templates.py::test_036_permission_revocation_does_not_affect_other_permissions", "type": "Function", "lineno": 222}, {"nodeid": "tests/test_rbac_templates.py::test_037_permission_lookup_handles_unknown_permission", "type": "Function", "lineno": 228}, {"nodeid": "tests/test_rbac_templates.py::test_038_permission_lookup_handles_soft_deleted_role", "type": "Function", "lineno": 234}, {"nodeid": "tests/test_rbac_templates.py::test_039_permission_lookup_handles_soft_deleted_user", "type": "Function", "lineno": 240}, {"nodeid": "tests/test_rbac_templates.py::test_040_permission_lookup_ignores_inactive_role_permission", "type": "Function", "lineno": 246}, {"nodeid": "tests/test_rbac_templates.py::test_041_permission_lookup_considers_user_permission_expiry", "type": "Function", "lineno": 252}, {"nodeid": "tests/test_rbac_templates.py::test_042_permission_lookup_considers_role_permission_expiry", "type": "Function", "lineno": 258}, {"nodeid": "tests/test_rbac_templates.py::test_043_permission_lookup_handles_multiple_roles", "type": "Function", "lineno": 264}, {"nodeid": "tests/test_rbac_templates.py::test_044_permission_lookup_handles_duplicate_permissions", "type": "Function", "lineno": 270}, {"nodeid": "tests/test_rbac_templates.py::test_045_permission_lookup_handles_cross_domain_permissions", "type": "Function", "lineno": 276}]}, {"nodeid": "tests/test_register_role_enforcement.py", "outcome": "passed", "result": [{"nodeid": "tests/test_register_role_enforcement.py::test_public_registration_cannot_set_admin", "type": "Function", "lineno": 3}, {"nodeid": "tests/test_register_role_enforcement.py::test_admin_token_allows_setting_role", "type": "Function", "lineno": 16}, {"nodeid": "tests/test_register_role_enforcement.py::test_invalid_or_expired_admin_token_is_ignored", "type": "Function", "lineno": 62}]}, {"nodeid": "tests/test_reports_router.py::TestClient", "outcome": "passed", "result": []}, {"nodeid": "tests/test_reports_router.py", "outcome": "passed", "result": [{"nodeid": "tests/test_reports_router.py::TestClient", "type": "Class"}, {"nodeid": "tests/test_reports_router.py::test_get_report_formats", "type": "Function", "lineno": 16}, {"nodeid": "tests/test_reports_router.py::test_get_report_periods", "type": "Function", "lineno": 25}, {"nodeid": "tests/test_reports_router.py::test_generate_student_performance_report", "type": "Function", "lineno": 35}, {"nodeid": "tests/test_reports_router.py::test_generate_report_nonexistent_student", "type": "Function", "lineno": 157}, {"nodeid": "tests/test_reports_router.py::test_generate_report_custom_date_range", "type": "Function", "lineno": 169}, {"nodeid": "tests/test_reports_router.py::test_generate_report_specific_courses", "type": "Function", "lineno": 196}, {"nodeid": "tests/test_reports_router.py::test_generate_report_without_optional_data", "type": "Function", "lineno": 228}]}, {"nodeid": "tests/test_request_id.py", "outcome": "passed", "result": [{"nodeid": "tests/test_request_id.py::test_request_id_in_response", "type": "Function", "lineno": 0}, {"nodeid": "tests/test_request_id.py::test_custom_request_id", "type": "Function", "lineno": 22}, {"nodeid": "tests/test_request_id.py::test_multiple_requests", "type": "Function", "lineno": 32}]}, {"nodeid": "tests/test_request_id_middleware.py::TestClient", "outcome": "passed", "result": []}, {"nodeid": "tests/test_request_id_middleware.py", "outcome": "passed", "result": [{"nodeid": "tests/test_request_id_middleware.py::TestClient", "type": "Class"}, {"nodeid": "tests/test_request_id_middleware.py::test_request_id_generation", "type": "Function", "lineno": 42}, {"nodeid": "tests/test_request_id_middleware.py::test_custom_request_id_preserved", "type": "Function", "lineno": 61}, {"nodeid": "tests/test_request_id_middleware.py::test_unique_request_ids", "type": "Function", "lineno": 71}, {"nodeid": "tests/test_request_id_middleware.py::test_request_id_in_response_body", "type": "Function", "lineno": 82}, {"nodeid": "tests/test_request_id_middleware.py::test_request_id_filter", "type": "Function", "lineno": 92}, {"nodeid": "tests/test_request_id_middleware.py::test_request_id_filter_with_existing_id", "type": "Function", "lineno": 115}, {"nodeid": "tests/test_request_id_middleware.py::test_multiple_concurrent_requests", "type": "Function", "lineno": 138}, {"nodeid": "tests/test_request_id_middleware.py::test_request_id_cleared_after_request", "type": "Function", "lineno": 154}, {"nodeid": "tests/test_request_id_middleware.py::test_request_id_filter_uses_context_value", "type": "Function", "lineno": 159}, {"nodeid": "tests/test_request_id_middleware.py::test_request_id_header_present_on_error", "type": "Function", "lineno": 177}]}, {"nodeid": "tests/test_response_cache_middleware.py::TestClient", "outcome": "passed", "result": []}, {"nodeid": "tests/test_response_cache_middleware.py", "outcome": "passed", "result": [{"nodeid": "tests/test_response_cache_middleware.py::TestClient", "type": "Class"}, {"nodeid": "tests/test_response_cache_middleware.py::test_response_cache_returns_cached_payload", "type": "Function", "lineno": 36}, {"nodeid": "tests/test_response_cache_middleware.py::test_authorized_requests_bypass_cache", "type": "Function", "lineno": 48}, {"nodeid": "tests/test_response_cache_middleware.py::test_query_flag_disables_cache", "type": "Function", "lineno": 61}, {"nodeid": "tests/test_response_cache_middleware.py::test_opt_in_header_controls_caching", "type": "Function", "lineno": 74}]}, {"nodeid": "tests/test_response_schemas.py::TestResponseMeta", "outcome": "passed", "result": [{"nodeid": "tests/test_response_schemas.py::TestResponseMeta::test_create_response_meta", "type": "Function", "lineno": 28}, {"nodeid": "tests/test_response_schemas.py::TestResponseMeta::test_response_meta_required_fields", "type": "Function", "lineno": 36}, {"nodeid": "tests/test_response_schemas.py::TestResponseMeta::test_response_meta_default_version", "type": "Function", "lineno": 46}]}, {"nodeid": "tests/test_response_schemas.py::TestErrorDetail", "outcome": "passed", "result": [{"nodeid": "tests/test_response_schemas.py::TestErrorDetail::test_create_error_detail", "type": "Function", "lineno": 56}, {"nodeid": "tests/test_response_schemas.py::TestErrorDetail::test_error_detail_minimal", "type": "Function", "lineno": 70}, {"nodeid": "tests/test_response_schemas.py::TestErrorDetail::test_error_detail_required_fields", "type": "Function", "lineno": 79}]}, {"nodeid": "tests/test_response_schemas.py::TestAPIResponse", "outcome": "passed", "result": [{"nodeid": "tests/test_response_schemas.py::TestAPIResponse::test_create_success_response", "type": "Function", "lineno": 93}, {"nodeid": "tests/test_response_schemas.py::TestAPIResponse::test_create_error_response", "type": "Function", "lineno": 104}, {"nodeid": "tests/test_response_schemas.py::TestAPIResponse::test_api_response_required_fields", "type": "Function", "lineno": 117}, {"nodeid": "tests/test_response_schemas.py::TestAPIResponse::test_api_response_with_generic_type", "type": "Function", "lineno": 127}]}, {"nodeid": "tests/test_response_schemas.py::TestPaginatedData", "outcome": "passed", "result": [{"nodeid": "tests/test_response_schemas.py::TestPaginatedData::test_create_paginated_data", "type": "Function", "lineno": 140}, {"nodeid": "tests/test_response_schemas.py::TestPaginatedData::test_paginated_data_first_page", "type": "Function", "lineno": 156}, {"nodeid": "tests/test_response_schemas.py::TestPaginatedData::test_paginated_data_last_page", "type": "Function", "lineno": 166}, {"nodeid": "tests/test_response_schemas.py::TestPaginatedData::test_paginated_data_validation", "type": "Function", "lineno": 176}]}, {"nodeid": "tests/test_response_schemas.py::TestHelperFunctions", "outcome": "passed", "result": [{"nodeid": "tests/test_response_schemas.py::TestHelperFunctions::test_success_response_helper", "type": "Function", "lineno": 206}, {"nodeid": "tests/test_response_schemas.py::TestHelperFunctions::test_error_response_helper", "type": "Function", "lineno": 216}, {"nodeid": "tests/test_response_schemas.py::TestHelperFunctions::test_paginated_response_helper", "type": "Function", "lineno": 235}, {"nodeid": "tests/test_response_schemas.py::TestHelperFunctions::test_paginated_response_first_page", "type": "Function", "lineno": 256}, {"nodeid": "tests/test_response_schemas.py::TestHelperFunctions::test_paginated_response_last_page", "type": "Function", "lineno": 265}, {"nodeid": "tests/test_response_schemas.py::TestHelperFunctions::test_paginated_response_empty_results", "type": "Function", "lineno": 280}]}, {"nodeid": "tests/test_response_schemas.py", "outcome": "passed", "result": [{"nodeid": "tests/test_response_schemas.py::TestResponseMeta", "type": "Class"}, {"nodeid": "tests/test_response_schemas.py::TestErrorDetail", "type": "Class"}, {"nodeid": "tests/test_response_schemas.py::TestAPIResponse", "type": "Class"}, {"nodeid": "tests/test_response_schemas.py::TestPaginatedData", "type": "Class"}, {"nodeid": "tests/test_response_schemas.py::TestHelperFunctions", "type": "Class"}]}, {"nodeid": "tests/test_routers_imports.py", "outcome": "passed", "result": [{"nodeid": "tests/test_routers_imports.py::test_validate_uploaded_file_accepts_valid_json", "type": "Function", "lineno": 22}, {"nodeid": "tests/test_routers_imports.py::test_validate_uploaded_file_rejects_bad_extension", "type": "Function", "lineno": 31}, {"nodeid": "tests/test_routers_imports.py::test_validate_uploaded_file_rejects_bad_content_type", "type": "Function", "lineno": 44}, {"nodeid": "tests/test_routers_imports.py::test_validate_uploaded_file_rejects_empty_payload", "type": "Function", "lineno": 57}, {"nodeid": "tests/test_routers_imports.py::test_validate_uploaded_file_rejects_oversized_payload", "type": "Function", "lineno": 70}, {"nodeid": "tests/test_routers_imports.py::test_validate_uploaded_file_rejects_invalid_json", "type": "Function", "lineno": 85}, {"nodeid": "tests/test_routers_imports.py::test_validate_uploaded_file_rejects_invalid_encoding", "type": "Function", "lineno": 98}]}, {"nodeid": "tests/test_run_migrations.py", "outcome": "passed", "result": [{"nodeid": "tests/test_run_migrations.py::test_run_migrations_creates_tables", "type": "Function", "lineno": 47}, {"nodeid": "tests/test_run_migrations.py::test_alembic_config_uses_application_settings", "type": "Function", "lineno": 75}, {"nodeid": "tests/test_run_migrations.py::test_run_migrations_invokes_upgrade", "type": "Function", "lineno": 90}, {"nodeid": "tests/test_run_migrations.py::test_run_migrations_handles_failure", "type": "Function", "lineno": 111}, {"nodeid": "tests/test_run_migrations.py::test_check_migration_status_returns_string", "type": "Function", "lineno": 130}]}, {"nodeid": "tests/test_run_migrations_repo_root.py", "outcome": "passed", "result": [{"nodeid": "tests/test_run_migrations_repo_root.py::test_run_migrations_writes_log", "type": "Function", "lineno": 4}]}, {"nodeid": "tests/test_run_migrations_unit.py", "outcome": "passed", "result": [{"nodeid": "tests/test_run_migrations_unit.py::test_run_migrations_success", "type": "Function", "lineno": 9}, {"nodeid": "tests/test_run_migrations_unit.py::test_run_migrations_failure", "type": "Function", "lineno": 30}, {"nodeid": "tests/test_run_migrations_unit.py::test_check_migration_status", "type": "Function", "lineno": 45}, {"nodeid": "tests/test_run_migrations_unit.py::test_check_migration_status_handles_exception", "type": "Function", "lineno": 58}]}, {"nodeid": "tests/test_schemas_students.py", "outcome": "passed", "result": [{"nodeid": "tests/test_schemas_students.py::test_student_create_normalizes_empty_optional_fields", "type": "Function", "lineno": 10}, {"nodeid": "tests/test_schemas_students.py::test_student_create_field_validators_raise[student_id-bad id]", "type": "Function", "lineno": 27}, {"nodeid": "tests/test_schemas_students.py::test_student_create_field_validators_raise[mobile_phone-123]", "type": "Function", "lineno": 27}, {"nodeid": "tests/test_schemas_students.py::test_student_create_field_validators_raise[study_year-7]", "type": "Function", "lineno": 27}, {"nodeid": "tests/test_schemas_students.py::test_student_create_rejects_future_enrollment_date", "type": "Function", "lineno": 47}, {"nodeid": "tests/test_schemas_students.py::test_student_update_normalizes_strings", "type": "Function", "lineno": 59}, {"nodeid": "tests/test_schemas_students.py::test_student_update_validators[student_id-bad id]", "type": "Function", "lineno": 73}, {"nodeid": "tests/test_schemas_students.py::test_student_update_validators[mobile_phone-abc]", "type": "Function", "lineno": 73}, {"nodeid": "tests/test_schemas_students.py::test_student_update_validators[study_year-0]", "type": "Function", "lineno": 73}, {"nodeid": "tests/test_schemas_students.py::test_student_update_rejects_future_enrollment", "type": "Function", "lineno": 87}]}, {"nodeid": "tests/test_search_api_endpoints.py::TestClient", "outcome": "passed", "result": []}, {"nodeid": "tests/test_search_api_endpoints.py::TestStudentSearchEndpoint", "outcome": "passed", "result": [{"nodeid": "tests/test_search_api_endpoints.py::TestStudentSearchEndpoint::test_search_students_by_name", "type": "Function", "lineno": 98}, {"nodeid": "tests/test_search_api_endpoints.py::TestStudentSearchEndpoint::test_search_students_by_email", "type": "Function", "lineno": 112}, {"nodeid": "tests/test_search_api_endpoints.py::TestStudentSearchEndpoint::test_search_students_case_insensitive", "type": "Function", "lineno": 121}, {"nodeid": "tests/test_search_api_endpoints.py::TestStudentSearchEndpoint::test_search_students_pagination", "type": "Function", "lineno": 135}, {"nodeid": "tests/test_search_api_endpoints.py::TestStudentSearchEndpoint::test_search_students_soft_delete_filter", "type": "Function", "lineno": 146}, {"nodeid": "tests/test_search_api_endpoints.py::TestStudentSearchEndpoint::test_search_students_empty_query", "type": "Function", "lineno": 159}, {"nodeid": "tests/test_search_api_endpoints.py::TestStudentSearchEndpoint::test_search_students_invalid_page", "type": "Function", "lineno": 166}, {"nodeid": "tests/test_search_api_endpoints.py::TestStudentSearchEndpoint::test_search_students_permission_student", "type": "Function", "lineno": 172}, {"nodeid": "tests/test_search_api_endpoints.py::TestStudentSearchEndpoint::test_search_students_missing_auth", "type": "Function", "lineno": 179}, {"nodeid": "tests/test_search_api_endpoints.py::TestStudentSearchEndpoint::test_search_students_response_format", "type": "Function", "lineno": 185}]}, {"nodeid": "tests/test_search_api_endpoints.py::TestCourseSearchEndpoint", "outcome": "passed", "result": [{"nodeid": "tests/test_search_api_endpoints.py::TestCourseSearchEndpoint::test_search_courses_by_name", "type": "Function", "lineno": 203}, {"nodeid": "tests/test_search_api_endpoints.py::TestCourseSearchEndpoint::test_search_courses_by_code", "type": "Function", "lineno": 212}, {"nodeid": "tests/test_search_api_endpoints.py::TestCourseSearchEndpoint::test_search_courses_filter_credits", "type": "Function", "lineno": 220}, {"nodeid": "tests/test_search_api_endpoints.py::TestCourseSearchEndpoint::test_search_courses_soft_delete_filter", "type": "Function", "lineno": 232}, {"nodeid": "tests/test_search_api_endpoints.py::TestCourseSearchEndpoint::test_search_courses_pagination", "type": "Function", "lineno": 243}, {"nodeid": "tests/test_search_api_endpoints.py::TestCourseSearchEndpoint::test_search_courses_invalid_filter", "type": "Function", "lineno": 252}, {"nodeid": "tests/test_search_api_endpoints.py::TestCourseSearchEndpoint::test_search_courses_response_fields", "type": "Function", "lineno": 261}]}, {"nodeid": "tests/test_search_api_endpoints.py::TestGradeSearchEndpoint", "outcome": "passed", "result": [{"nodeid": "tests/test_search_api_endpoints.py::TestGradeSearchEndpoint::test_search_grades_by_value", "type": "Function", "lineno": 281}, {"nodeid": "tests/test_search_api_endpoints.py::TestGradeSearchEndpoint::test_search_grades_by_range", "type": "Function", "lineno": 289}, {"nodeid": "tests/test_search_api_endpoints.py::TestGradeSearchEndpoint::test_search_grades_by_student", "type": "Function", "lineno": 302}, {"nodeid": "tests/test_search_api_endpoints.py::TestGradeSearchEndpoint::test_search_grades_by_course", "type": "Function", "lineno": 314}, {"nodeid": "tests/test_search_api_endpoints.py::TestGradeSearchEndpoint::test_search_grades_combined_filters", "type": "Function", "lineno": 325}, {"nodeid": "tests/test_search_api_endpoints.py::TestGradeSearchEndpoint::test_search_grades_soft_delete_filter", "type": "Function", "lineno": 340}, {"nodeid": "tests/test_search_api_endpoints.py::TestGradeSearchEndpoint::test_search_grades_invalid_range", "type": "Function", "lineno": 350}, {"nodeid": "tests/test_search_api_endpoints.py::TestGradeSearchEndpoint::test_search_grades_permission_student", "type": "Function", "lineno": 359}]}, {"nodeid": "tests/test_search_api_endpoints.py::TestAdvancedSearchEndpoint", "outcome": "passed", "result": [{"nodeid": "tests/test_search_api_endpoints.py::TestAdvancedSearchEndpoint::test_advanced_search_students", "type": "Function", "lineno": 371}, {"nodeid": "tests/test_search_api_endpoints.py::TestAdvancedSearchEndpoint::test_advanced_search_courses", "type": "Function", "lineno": 379}, {"nodeid": "tests/test_search_api_endpoints.py::TestAdvancedSearchEndpoint::test_advanced_search_grades", "type": "Function", "lineno": 387}, {"nodeid": "tests/test_search_api_endpoints.py::TestAdvancedSearchEndpoint::test_advanced_search_invalid_entity", "type": "Function", "lineno": 395}, {"nodeid": "tests/test_search_api_endpoints.py::TestAdvancedSearchEndpoint::test_advanced_search_with_filters", "type": "Function", "lineno": 401}, {"nodeid": "tests/test_search_api_endpoints.py::TestAdvancedSearchEndpoint::test_advanced_search_pagination", "type": "Function", "lineno": 413}]}, {"nodeid": "tests/test_search_api_endpoints.py::TestSuggestionsEndpoint", "outcome": "passed", "result": [{"nodeid": "tests/test_search_api_endpoints.py::TestSuggestionsEndpoint::test_get_suggestions_students", "type": "Function", "lineno": 429}, {"nodeid": "tests/test_search_api_endpoints.py::TestSuggestionsEndpoint::test_get_suggestions_courses", "type": "Function", "lineno": 439}, {"nodeid": "tests/test_search_api_endpoints.py::TestSuggestionsEndpoint::test_get_suggestions_empty_query", "type": "Function", "lineno": 447}, {"nodeid": "tests/test_search_api_endpoints.py::TestSuggestionsEndpoint::test_get_suggestions_limit", "type": "Function", "lineno": 453}, {"nodeid": "tests/test_search_api_endpoints.py::TestSuggestionsEndpoint::test_get_suggestions_caching", "type": "Function", "lineno": 461}, {"nodeid": "tests/test_search_api_endpoints.py::TestSuggestionsEndpoint::test_get_suggestions_response_format", "type": "Function", "lineno": 469}, {"nodeid": "tests/test_search_api_endpoints.py::TestSuggestionsEndpoint::test_get_suggestions_missing_entity", "type": "Function", "lineno": 478}]}, {"nodeid": "tests/test_search_api_endpoints.py::TestStatisticsEndpoint", "outcome": "passed", "result": [{"nodeid": "tests/test_search_api_endpoints.py::TestStatisticsEndpoint::test_get_statistics_all", "type": "Function", "lineno": 490}, {"nodeid": "tests/test_search_api_endpoints.py::TestStatisticsEndpoint::test_get_statistics_by_entity", "type": "Function", "lineno": 500}, {"nodeid": "tests/test_search_api_endpoints.py::TestStatisticsEndpoint::test_get_statistics_values_nonnegative", "type": "Function", "lineno": 508}, {"nodeid": "tests/test_search_api_endpoints.py::TestStatisticsEndpoint::test_get_statistics_response_format", "type": "Function", "lineno": 525}]}, {"nodeid": "tests/test_search_api_endpoints.py::TestRateLimiting", "outcome": "passed", "result": [{"nodeid": "tests/test_search_api_endpoints.py::TestRateLimiting::test_rate_limit_students_search", "type": "Function", "lineno": 539}, {"nodeid": "tests/test_search_api_endpoints.py::TestRateLimiting::test_rate_limit_suggestions", "type": "Function", "lineno": 554}]}, {"nodeid": "tests/test_search_api_endpoints.py::TestErrorHandling", "outcome": "passed", "result": [{"nodeid": "tests/test_search_api_endpoints.py::TestErrorHandling::test_invalid_json", "type": "Function", "lineno": 571}, {"nodeid": "tests/test_search_api_endpoints.py::TestErrorHandling::test_missing_required_fields", "type": "Function", "lineno": 577}, {"nodeid": "tests/test_search_api_endpoints.py::TestErrorHandling::test_very_long_query", "type": "Function", "lineno": 583}, {"nodeid": "tests/test_search_api_endpoints.py::TestErrorHandling::test_special_characters_in_query", "type": "Function", "lineno": 591}, {"nodeid": "tests/test_search_api_endpoints.py::TestErrorHandling::test_sql_injection_attempt", "type": "Function", "lineno": 598}]}, {"nodeid": "tests/test_search_api_endpoints.py", "outcome": "passed", "result": [{"nodeid": "tests/test_search_api_endpoints.py::TestClient", "type": "Class"}, {"nodeid": "tests/test_search_api_endpoints.py::TestStudentSearchEndpoint", "type": "Class"}, {"nodeid": "tests/test_search_api_endpoints.py::TestCourseSearchEndpoint", "type": "Class"}, {"nodeid": "tests/test_search_api_endpoints.py::TestGradeSearchEndpoint", "type": "Class"}, {"nodeid": "tests/test_search_api_endpoints.py::TestAdvancedSearchEndpoint", "type": "Class"}, {"nodeid": "tests/test_search_api_endpoints.py::TestSuggestionsEndpoint", "type": "Class"}, {"nodeid": "tests/test_search_api_endpoints.py::TestStatisticsEndpoint", "type": "Class"}, {"nodeid": "tests/test_search_api_endpoints.py::TestRateLimiting", "type": "Class"}, {"nodeid": "tests/test_search_api_endpoints.py::TestErrorHandling", "type": "Class"}]}, {"nodeid": "tests/test_search_integration.py::TestClient", "outcome": "passed", "result": []}, {"nodeid": "tests/test_search_integration.py::TestSearchServiceIntegration", "outcome": "passed", "result": [{"nodeid": "tests/test_search_integration.py::TestSearchServiceIntegration::test_search_students_returns_correct_data", "type": "Function", "lineno": 134}, {"nodeid": "tests/test_search_integration.py::TestSearchServiceIntegration::test_search_students_filters_soft_deleted", "type": "Function", "lineno": 144}, {"nodeid": "tests/test_search_integration.py::TestSearchServiceIntegration::test_search_students_pagination", "type": "Function", "lineno": 157}, {"nodeid": "tests/test_search_integration.py::TestSearchServiceIntegration::test_search_courses_filters_soft_deleted", "type": "Function", "lineno": 173}, {"nodeid": "tests/test_search_integration.py::TestSearchServiceIntegration::test_search_grades_with_student_filter", "type": "Function", "lineno": 183}, {"nodeid": "tests/test_search_integration.py::TestSearchServiceIntegration::test_search_grades_with_range_filter", "type": "Function", "lineno": 193}, {"nodeid": "tests/test_search_integration.py::TestSearchServiceIntegration::test_search_grades_combined_filters", "type": "Function", "lineno": 201}, {"nodeid": "tests/test_search_integration.py::TestSearchServiceIntegration::test_advanced_filter_student", "type": "Function", "lineno": 210}, {"nodeid": "tests/test_search_integration.py::TestSearchServiceIntegration::test_advanced_filter_course", "type": "Function", "lineno": 220}, {"nodeid": "tests/test_search_integration.py::TestSearchServiceIntegration::test_advanced_filter_grade", "type": "Function", "lineno": 229}, {"nodeid": "tests/test_search_integration.py::TestSearchServiceIntegration::test_get_suggestions_returns_correct_entities", "type": "Function", "lineno": 237}, {"nodeid": "tests/test_search_integration.py::TestSearchServiceIntegration::test_get_statistics_calculates_correctly", "type": "Function", "lineno": 246}, {"nodeid": "tests/test_search_integration.py::TestSearchServiceIntegration::test_rank_results_orders_by_relevance", "type": "Function", "lineno": 256}]}, {"nodeid": "tests/test_search_integration.py::TestAPIServiceDatabaseFlow", "outcome": "passed", "result": [{"nodeid": "tests/test_search_integration.py::TestAPIServiceDatabaseFlow::test_student_search_api_endpoint_integration", "type": "Function", "lineno": 270}, {"nodeid": "tests/test_search_integration.py::TestAPIServiceDatabaseFlow::test_course_search_with_filter_integration", "type": "Function", "lineno": 285}, {"nodeid": "tests/test_search_integration.py::TestAPIServiceDatabaseFlow::test_grade_search_with_multiple_filters_integration", "type": "Function", "lineno": 299}, {"nodeid": "tests/test_search_integration.py::TestAPIServiceDatabaseFlow::test_soft_delete_filtering_integration", "type": "Function", "lineno": 318}, {"nodeid": "tests/test_search_integration.py::TestAPIServiceDatabaseFlow::test_pagination_integration_counts_correct", "type": "Function", "lineno": 333}, {"nodeid": "tests/test_search_integration.py::TestAPIServiceDatabaseFlow::test_suggestions_integration_from_database", "type": "Function", "lineno": 359}, {"nodeid": "tests/test_search_integration.py::TestAPIServiceDatabaseFlow::test_statistics_integration_calculated_from_database", "type": "Function", "lineno": 371}]}, {"nodeid": "tests/test_search_integration.py::TestDataConsistency", "outcome": "passed", "result": [{"nodeid": "tests/test_search_integration.py::TestDataConsistency::test_search_results_match_database", "type": "Function", "lineno": 388}, {"nodeid": "tests/test_search_integration.py::TestDataConsistency::test_grade_calculations_consistent", "type": "Function", "lineno": 404}, {"nodeid": "tests/test_search_integration.py::TestDataConsistency::test_filter_application_consistent", "type": "Function", "lineno": 426}]}, {"nodeid": "tests/test_search_integration.py::TestTransactionHandling", "outcome": "passed", "result": [{"nodeid": "tests/test_search_integration.py::TestTransactionHandling::test_search_after_data_modification", "type": "Function", "lineno": 451}, {"nodeid": "tests/test_search_integration.py::TestTransactionHandling::test_search_with_soft_delete", "type": "Function", "lineno": 468}]}, {"nodeid": "tests/test_search_integration.py::TestErrorConditionsIntegration", "outcome": "passed", "result": [{"nodeid": "tests/test_search_integration.py::TestErrorConditionsIntegration::test_invalid_filter_handled_gracefully", "type": "Function", "lineno": 491}, {"nodeid": "tests/test_search_integration.py::TestErrorConditionsIntegration::test_extreme_pagination_values", "type": "Function", "lineno": 501}, {"nodeid": "tests/test_search_integration.py::TestErrorConditionsIntegration::test_special_characters_in_search", "type": "Function", "lineno": 516}]}, {"nodeid": "tests/test_search_integration.py::TestPerformanceIntegration", "outcome": "passed", "result": [{"nodeid": "tests/test_search_integration.py::TestPerformanceIntegration::test_large_result_set_paginated", "type": "Function", "lineno": 528}, {"nodeid": "tests/test_search_integration.py::TestPerformanceIntegration::test_multiple_sequential_searches", "type": "Function", "lineno": 556}]}, {"nodeid": "tests/test_search_integration.py", "outcome": "passed", "result": [{"nodeid": "tests/test_search_integration.py::TestClient", "type": "Class"}, {"nodeid": "tests/test_search_integration.py::TestSearchServiceIntegration", "type": "Class"}, {"nodeid": "tests/test_search_integration.py::TestAPIServiceDatabaseFlow", "type": "Class"}, {"nodeid": "tests/test_search_integration.py::TestDataConsistency", "type": "Class"}, {"nodeid": "tests/test_search_integration.py::TestTransactionHandling", "type": "Class"}, {"nodeid": "tests/test_search_integration.py::TestErrorConditionsIntegration", "type": "Class"}, {"nodeid": "tests/test_search_integration.py::TestPerformanceIntegration", "type": "Class"}]}, {"nodeid": "tests/test_search_service.py::TestSearchServiceInit", "outcome": "passed", "result": [{"nodeid": "tests/test_search_service.py::TestSearchServiceInit::test_init_with_database", "type": "Function", "lineno": 26}]}, {"nodeid": "tests/test_search_service.py::TestSearchStudents", "outcome": "passed", "result": [{"nodeid": "tests/test_search_service.py::TestSearchStudents::test_search_by_first_name", "type": "Function", "lineno": 35}, {"nodeid": "tests/test_search_service.py::TestSearchStudents::test_search_by_last_name", "type": "Function", "lineno": 44}, {"nodeid": "tests/test_search_service.py::TestSearchStudents::test_search_by_email", "type": "Function", "lineno": 52}, {"nodeid": "tests/test_search_service.py::TestSearchStudents::test_search_case_insensitive", "type": "Function", "lineno": 60}, {"nodeid": "tests/test_search_service.py::TestSearchStudents::test_search_excludes_deleted_students", "type": "Function", "lineno": 68}, {"nodeid": "tests/test_search_service.py::TestSearchStudents::test_search_pagination", "type": "Function", "lineno": 83}, {"nodeid": "tests/test_search_service.py::TestSearchStudents::test_search_empty_query", "type": "Function", "lineno": 95}, {"nodeid": "tests/test_search_service.py::TestSearchStudents::test_search_no_results", "type": "Function", "lineno": 102}, {"nodeid": "tests/test_search_service.py::TestSearchStudents::test_search_returns_required_fields", "type": "Function", "lineno": 109}]}, {"nodeid": "tests/test_search_service.py::TestSearchCourses", "outcome": "passed", "result": [{"nodeid": "tests/test_search_service.py::TestSearchCourses::test_search_by_course_name", "type": "Function", "lineno": 123}, {"nodeid": "tests/test_search_service.py::TestSearchCourses::test_search_by_course_code", "type": "Function", "lineno": 131}, {"nodeid": "tests/test_search_service.py::TestSearchCourses::test_search_courses_case_insensitive", "type": "Function", "lineno": 139}, {"nodeid": "tests/test_search_service.py::TestSearchCourses::test_search_excludes_deleted_courses", "type": "Function", "lineno": 147}, {"nodeid": "tests/test_search_service.py::TestSearchCourses::test_search_courses_returns_required_fields", "type": "Function", "lineno": 163}]}, {"nodeid": "tests/test_search_service.py::TestSearchGrades", "outcome": "passed", "result": [{"nodeid": "tests/test_search_service.py::TestSearchGrades::test_search_grades_with_query", "type": "Function", "lineno": 177}, {"nodeid": "tests/test_search_service.py::TestSearchGrades::test_search_grades_by_grade_range", "type": "Function", "lineno": 184}, {"nodeid": "tests/test_search_service.py::TestSearchGrades::test_search_grades_by_student_id", "type": "Function", "lineno": 192}, {"nodeid": "tests/test_search_service.py::TestSearchGrades::test_search_grades_by_course_id", "type": "Function", "lineno": 203}, {"nodeid": "tests/test_search_service.py::TestSearchGrades::test_search_grades_combined_filters", "type": "Function", "lineno": 214}, {"nodeid": "tests/test_search_service.py::TestSearchGrades::test_search_grades_returns_required_fields", "type": "Function", "lineno": 222}]}, {"nodeid": "tests/test_search_service.py::TestAdvancedFilter", "outcome": "passed", "result": [{"nodeid": "tests/test_search_service.py::TestAdvancedFilter::test_advanced_filter_students", "type": "Function", "lineno": 236}, {"nodeid": "tests/test_search_service.py::TestAdvancedFilter::test_advanced_filter_courses", "type": "Function", "lineno": 243}, {"nodeid": "tests/test_search_service.py::TestAdvancedFilter::test_advanced_filter_grades", "type": "Function", "lineno": 250}]}, {"nodeid": "tests/test_search_service.py::TestRankResults", "outcome": "passed", "result": [{"nodeid": "tests/test_search_service.py::TestRankResults::test_rank_results_by_relevance", "type": "Function", "lineno": 261}, {"nodeid": "tests/test_search_service.py::TestRankResults::test_rank_preserves_all_results", "type": "Function", "lineno": 274}]}, {"nodeid": "tests/test_search_service.py::TestGetSearchSuggestions", "outcome": "passed", "result": [{"nodeid": "tests/test_search_service.py::TestGetSearchSuggestions::test_get_suggestions_students", "type": "Function", "lineno": 286}, {"nodeid": "tests/test_search_service.py::TestGetSearchSuggestions::test_get_suggestions_limited", "type": "Function", "lineno": 296}, {"nodeid": "tests/test_search_service.py::TestGetSearchSuggestions::test_get_suggestions_no_results", "type": "Function", "lineno": 304}]}, {"nodeid": "tests/test_search_service.py::TestGetSearchStatistics", "outcome": "passed", "result": [{"nodeid": "tests/test_search_service.py::TestGetSearchStatistics::test_get_statistics_returns_counts", "type": "Function", "lineno": 317}, {"nodeid": "tests/test_search_service.py::TestGetSearchStatistics::test_statistics_values_are_positive", "type": "Function", "lineno": 327}]}, {"nodeid": "tests/test_search_service.py::TestErrorHandling", "outcome": "passed", "result": [{"nodeid": "tests/test_search_service.py::TestErrorHandling::test_search_with_invalid_limit", "type": "Function", "lineno": 340}, {"nodeid": "tests/test_search_service.py::TestErrorHandling::test_search_with_invalid_offset", "type": "Function", "lineno": 352}]}, {"nodeid": "tests/test_search_service.py", "outcome": "passed", "result": [{"nodeid": "tests/test_search_service.py::TestSearchServiceInit", "type": "Class"}, {"nodeid": "tests/test_search_service.py::TestSearchStudents", "type": "Class"}, {"nodeid": "tests/test_search_service.py::TestSearchCourses", "type": "Class"}, {"nodeid": "tests/test_search_service.py::TestSearchGrades", "type": "Class"}, {"nodeid": "tests/test_search_service.py::TestAdvancedFilter", "type": "Class"}, {"nodeid": "tests/test_search_service.py::TestRankResults", "type": "Class"}, {"nodeid": "tests/test_search_service.py::TestGetSearchSuggestions", "type": "Class"}, {"nodeid": "tests/test_search_service.py::TestGetSearchStatistics", "type": "Class"}, {"nodeid": "tests/test_search_service.py::TestErrorHandling", "type": "Class"}]}, {"nodeid": "tests/test_services_analytics.py", "outcome": "passed", "result": [{"nodeid": "tests/test_services_analytics.py::test_calculate_final_grade_handles_rules_and_penalties", "type": "Function", "lineno": 41}, {"nodeid": "tests/test_services_analytics.py::test_get_student_all_courses_summary_skips_courses_without_rules", "type": "Function", "lineno": 107}, {"nodeid": "tests/test_services_analytics.py::test_get_student_summary_returns_averages", "type": "Function", "lineno": 143}]}, {"nodeid": "tests/test_sessions_router.py", "outcome": "passed", "result": [{"nodeid": "tests/test_sessions_router.py::test_sessions_semesters_empty", "type": "Function", "lineno": 13}, {"nodeid": "tests/test_sessions_router.py::test_sessions_export_missing_semester", "type": "Function", "lineno": 22}, {"nodeid": "tests/test_sessions_router.py::test_sessions_import_dry_run_missing_metadata", "type": "Function", "lineno": 31}, {"nodeid": "tests/test_sessions_router.py::test_sessions_import_dry_run_missing_semester", "type": "Function", "lineno": 44}, {"nodeid": "tests/test_sessions_router.py::test_sessions_import_dry_run_valid_empty", "type": "Function", "lineno": 56}, {"nodeid": "tests/test_sessions_router.py::test_sessions_export_success_with_data", "type": "Function", "lineno": 86}, {"nodeid": "tests/test_sessions_router.py::test_sessions_list_backups", "type": "Function", "lineno": 160}, {"nodeid": "tests/test_sessions_router.py::test_sessions_import_non_dry_run_creates_backup_and_persists", "type": "Function", "lineno": 170}, {"nodeid": "tests/test_sessions_router.py::test_sessions_export_unicode_semester_filename_sanitized", "type": "Function", "lineno": 231}, {"nodeid": "tests/test_sessions_router.py::test_sessions_rollback_invalid_backup", "type": "Function", "lineno": 268}]}, {"nodeid": "tests/test_soft_delete_filtering.py", "outcome": "passed", "result": [{"nodeid": "tests/test_soft_delete_filtering.py::test_soft_delete_filtering_students", "type": "Function", "lineno": 68}, {"nodeid": "tests/test_soft_delete_filtering.py::test_soft_delete_filtering_courses", "type": "Function", "lineno": 79}, {"nodeid": "tests/test_soft_delete_filtering.py::test_deleted_student_not_in_list", "type": "Function", "lineno": 90}, {"nodeid": "tests/test_soft_delete_filtering.py::test_soft_delete_flag_works", "type": "Function", "lineno": 100}, {"nodeid": "tests/test_soft_delete_filtering.py::test_soft_delete_count_excludes_deleted", "type": "Function", "lineno": 118}, {"nodeid": "tests/test_soft_delete_filtering.py::test_can_query_deleted_explicitly", "type": "Function", "lineno": 125}, {"nodeid": "tests/test_soft_delete_filtering.py::test_multiple_soft_delete_models", "type": "Function", "lineno": 137}, {"nodeid": "tests/test_soft_delete_filtering.py::test_soft_delete_filtering_parametrized[Student-1]", "type": "Function", "lineno": 146}, {"nodeid": "tests/test_soft_delete_filtering.py::test_soft_delete_filtering_parametrized[Course-1]", "type": "Function", "lineno": 146}]}, {"nodeid": "tests/test_students_import.py::TestClient", "outcome": "passed", "result": []}, {"nodeid": "tests/test_students_import.py", "outcome": "passed", "result": [{"nodeid": "tests/test_students_import.py::TestClient", "type": "Class"}, {"nodeid": "tests/test_students_import.py::test_upload_students_preserves_all_fields", "type": "Function", "lineno": 7}, {"nodeid": "tests/test_students_import.py::test_upload_students_accepts_octet_stream", "type": "Function", "lineno": 83}]}, {"nodeid": "tests/test_students_router.py", "outcome": "passed", "result": [{"nodeid": "tests/test_students_router.py::test_create_student_success", "type": "Function", "lineno": 23}, {"nodeid": "tests/test_students_router.py::test_create_student_allows_empty_optional_strings", "type": "Function", "lineno": 34}, {"nodeid": "tests/test_students_router.py::test_create_student_duplicate_email", "type": "Function", "lineno": 52}, {"nodeid": "tests/test_students_router.py::test_create_student_duplicate_student_id", "type": "Function", "lineno": 64}, {"nodeid": "tests/test_students_router.py::test_get_student_by_id_and_404", "type": "Function", "lineno": 76}, {"nodeid": "tests/test_students_router.py::test_list_students_pagination_and_filters", "type": "Function", "lineno": 85}, {"nodeid": "tests/test_students_router.py::test_update_student_success_and_validation_errors", "type": "Function", "lineno": 104}, {"nodeid": "tests/test_students_router.py::test_delete_student_and_then_404", "type": "Function", "lineno": 133}, {"nodeid": "tests/test_students_router.py::test_activate_deactivate_student", "type": "Function", "lineno": 171}, {"nodeid": "tests/test_students_router.py::test_bulk_create_students_with_duplicates", "type": "Function", "lineno": 187}, {"nodeid": "tests/test_students_router.py::test_create_student_handles_internal_error", "type": "Function", "lineno": 205}]}, {"nodeid": "tests/test_timing_middleware.py::TestClient", "outcome": "passed", "result": []}, {"nodeid": "tests/test_timing_middleware.py", "outcome": "passed", "result": [{"nodeid": "tests/test_timing_middleware.py::TestClient", "type": "Class"}, {"nodeid": "tests/test_timing_middleware.py::test_timing_header_present", "type": "Function", "lineno": 28}]}, {"nodeid": "tests/test_version_consistency.py", "outcome": "passed", "result": [{"nodeid": "tests/test_version_consistency.py::test_version_file_exists", "type": "Function", "lineno": 49}, {"nodeid": "tests/test_version_consistency.py::test_frontend_package_json_version", "type": "Function", "lineno": 58}, {"nodeid": "tests/test_version_consistency.py::test_backend_main_docstring_version", "type": "Function", "lineno": 69}, {"nodeid": "tests/test_version_consistency.py::test_user_guide_version", "type": "Function", "lineno": 86}, {"nodeid": "tests/test_version_consistency.py::test_developer_guide_version", "type": "Function", "lineno": 99}, {"nodeid": "tests/test_version_consistency.py::test_documentation_index_version", "type": "Function", "lineno": 114}, {"nodeid": "tests/test_version_consistency.py::test_root_documentation_index_version", "type": "Function", "lineno": 129}, {"nodeid": "tests/test_version_consistency.py::test_installer_wizard_version", "type": "Function", "lineno": 158}, {"nodeid": "tests/test_version_consistency.py::test_uninstaller_wizard_version", "type": "Function", "lineno": 173}, {"nodeid": "tests/test_version_consistency.py::test_commit_ready_script_version", "type": "Function", "lineno": 193}, {"nodeid": "tests/test_version_consistency.py::test_all_versions_consistent", "type": "Function", "lineno": 214}, {"nodeid": "tests/test_version_consistency.py::test_verify_version_script_exists", "type": "Function", "lineno": 281}]}, {"nodeid": "tests/test_websocket.py::TestConnectionManager", "outcome": "passed", "result": [{"nodeid": "tests/test_websocket.py::TestConnectionManager::test_connect", "type": "Coroutine", "lineno": 26}, {"nodeid": "tests/test_websocket.py::TestConnectionManager::test_multiple_connections_same_user", "type": "Coroutine", "lineno": 35}, {"nodeid": "tests/test_websocket.py::TestConnectionManager::test_disconnect", "type": "Coroutine", "lineno": 45}, {"nodeid": "tests/test_websocket.py::TestConnectionManager::test_disconnect_one_connection_of_many", "type": "Coroutine", "lineno": 55}, {"nodeid": "tests/test_websocket.py::TestConnectionManager::test_get_online_users", "type": "Coroutine", "lineno": 65}, {"nodeid": "tests/test_websocket.py::TestConnectionManager::test_join_room", "type": "Coroutine", "lineno": 77}, {"nodeid": "tests/test_websocket.py::TestConnectionManager::test_leave_room", "type": "Coroutine", "lineno": 88}, {"nodeid": "tests/test_websocket.py::TestConnectionManager::test_heartbeat_update", "type": "Coroutine", "lineno": 97}, {"nodeid": "tests/test_websocket.py::TestConnectionManager::test_get_stale_sessions", "type": "Coroutine", "lineno": 111}, {"nodeid": "tests/test_websocket.py::TestConnectionManager::test_get_connection_stats", "type": "Coroutine", "lineno": 123}]}, {"nodeid": "tests/test_websocket.py::TestNotificationService", "outcome": "passed", "result": [{"nodeid": "tests/test_websocket.py::TestNotificationService::test_create_notification", "type": "Function", "lineno": 160}, {"nodeid": "tests/test_websocket.py::TestNotificationService::test_create_notification_invalid_user", "type": "Function", "lineno": 174}, {"nodeid": "tests/test_websocket.py::TestNotificationService::test_mark_as_read", "type": "Function", "lineno": 181}, {"nodeid": "tests/test_websocket.py::TestNotificationService::test_delete_notification", "type": "Function", "lineno": 194}, {"nodeid": "tests/test_websocket.py::TestNotificationService::test_get_user_notifications", "type": "Function", "lineno": 204}, {"nodeid": "tests/test_websocket.py::TestNotificationService::test_get_unread_count", "type": "Function", "lineno": 220}]}, {"nodeid": "tests/test_websocket.py", "outcome": "passed", "result": [{"nodeid": "tests/test_websocket.py::TestConnectionManager", "type": "Class"}, {"nodeid": "tests/test_websocket.py::TestNotificationService", "type": "Class"}]}, {"nodeid": "tests", "outcome": "passed", "result": [{"nodeid": "tests/test_admin_backup_encryption.py", "type": "Module"}, {"nodeid": "tests/test_admin_bootstrap.py", "type": "Module"}, {"nodeid": "tests/test_analytics_router.py", "type": "Module"}, {"nodeid": "tests/test_analytics_service.py", "type": "Module"}, {"nodeid": "tests/test_attendance_router.py", "type": "Module"}, {"nodeid": "tests/test_audit.py", "type": "Module"}, {"nodeid": "tests/test_audit_router.py", "type": "Module"}, {"nodeid": "tests/test_auth_flow.py", "type": "Module"}, {"nodeid": "tests/test_auth_refresh.py", "type": "Module"}, {"nodeid": "tests/test_auth_router.py", "type": "Module"}, {"nodeid": "tests/test_auto_import_courses.py", "type": "Module"}, {"nodeid": "tests/test_backup_encryption.py", "type": "Module"}, {"nodeid": "tests/test_change_password.py", "type": "Module"}, {"nodeid": "tests/test_config_module.py", "type": "Module"}, {"nodeid": "tests/test_config_settings.py", "type": "Module"}, {"nodeid": "tests/test_control_endpoints.py", "type": "Module"}, {"nodeid": "tests/test_control_environment.py", "type": "Module"}, {"nodeid": "tests/test_control_jwt_integration.py", "type": "Module"}, {"nodeid": "tests/test_control_maintenance.py", "type": "Module"}, {"nodeid": "tests/test_control_path_traversal.py", "type": "Module"}, {"nodeid": "tests/test_control_start_branches.py", "type": "Module"}, {"nodeid": "tests/test_course_rule_normalization.py", "type": "Module"}, {"nodeid": "tests/test_courses_router.py", "type": "Module"}, {"nodeid": "tests/test_csrf_flow.py", "type": "Module"}, {"nodeid": "tests/test_csv_import.py", "type": "Module"}, {"nodeid": "tests/test_daily_performance_router.py", "type": "Module"}, {"nodeid": "tests/test_database_upload.py", "type": "Module"}, {"nodeid": "tests/test_db_utils.py", "type": "Module"}, {"nodeid": "tests/test_edge_cases.py", "type": "Module"}, {"nodeid": "tests/test_enrollments_router.py", "type": "Module"}, {"nodeid": "tests/test_environment_detection.py", "type": "Module"}, {"nodeid": "tests/test_environment_module.py", "type": "Module"}, {"nodeid": "tests/test_exception_handlers.py", "type": "Module"}, {"nodeid": "tests/test_export_analytics.py", "type": "Module"}, {"nodeid": "tests/test_grade_calculation.py", "type": "Module"}, {"nodeid": "tests/test_grade_calculation_fix.py", "type": "Module"}, {"nodeid": "tests/test_grade_calculation_integration.py", "type": "Module"}, {"nodeid": "tests/test_grades_router.py", "type": "Module"}, {"nodeid": "tests/test_gzip_middleware.py", "type": "Module"}, {"nodeid": "tests/test_health.py", "type": "Module"}, {"nodeid": "tests/test_health_checks.py", "type": "Module"}, {"nodeid": "tests/test_import_export.py", "type": "Module"}, {"nodeid": "tests/test_import_resolver.py", "type": "Module"}, {"nodeid": "tests/test_import_resolver_cov.py", "type": "Module"}, {"nodeid": "tests/test_imports_integration.py", "type": "Module"}, {"nodeid": "tests/test_imports_soft_delete.py", "type": "Module"}, {"nodeid": "tests/test_imports_upload.py", "type": "Module"}, {"nodeid": "tests/test_integration_smoke.py", "type": "Module"}, {"nodeid": "tests/test_jwt_smoke.py", "type": "Module"}, {"nodeid": "tests/test_list_routes.py", "type": "Module"}, {"nodeid": "tests/test_logging_config.py", "type": "Module"}, {"nodeid": "tests/test_logging_config_cov.py", "type": "Module"}, {"nodeid": "tests/test_metrics.py", "type": "Module"}, {"nodeid": "tests/test_metrics_simple.py", "type": "Module"}, {"nodeid": "tests/test_models_relationships.py", "type": "Module"}, {"nodeid": "tests/test_notifications_router.py", "type": "Module"}, {"nodeid": "tests/test_password_rehash.py", "type": "Module"}, {"nodeid": "tests/test_performance_monitor.py", "type": "Module"}, {"nodeid": "tests/test_permissions_api.py", "type": "Module"}, {"nodeid": "tests/test_rate_limit_enforcement.py", "type": "Module"}, {"nodeid": "tests/test_rate_limiting.py", "type": "Module"}, {"nodeid": "tests/test_rbac.py", "type": "Module"}, {"nodeid": "tests/test_rbac_enforcement.py", "type": "Module"}, {"nodeid": "tests/test_rbac_router.py", "type": "Module"}, {"nodeid": "tests/test_rbac_templates.py", "type": "Module"}, {"nodeid": "tests/test_register_role_enforcement.py", "type": "Module"}, {"nodeid": "tests/test_reports_router.py", "type": "Module"}, {"nodeid": "tests/test_request_id.py", "type": "Module"}, {"nodeid": "tests/test_request_id_middleware.py", "type": "Module"}, {"nodeid": "tests/test_response_cache_middleware.py", "type": "Module"}, {"nodeid": "tests/test_response_schemas.py", "type": "Module"}, {"nodeid": "tests/test_routers_imports.py", "type": "Module"}, {"nodeid": "tests/test_run_migrations.py", "type": "Module"}, {"nodeid": "tests/test_run_migrations_repo_root.py", "type": "Module"}, {"nodeid": "tests/test_run_migrations_unit.py", "type": "Module"}, {"nodeid": "tests/test_schemas_students.py", "type": "Module"}, {"nodeid": "tests/test_search_api_endpoints.py", "type": "Module"}, {"nodeid": "tests/test_search_integration.py", "type": "Module"}, {"nodeid": "tests/test_search_service.py", "type": "Module"}, {"nodeid": "tests/test_services_analytics.py", "type": "Module"}, {"nodeid": "tests/test_sessions_router.py", "type": "Module"}, {"nodeid": "tests/test_soft_delete_filtering.py", "type": "Module"}, {"nodeid": "tests/test_students_import.py", "type": "Module"}, {"nodeid": "tests/test_students_router.py", "type": "Module"}, {"nodeid": "tests/test_timing_middleware.py", "type": "Module"}, {"nodeid": "tests/test_version_consistency.py", "type": "Module"}, {"nodeid": "tests/test_websocket.py", "type": "Module"}]}], "tests": [{"nodeid": "tests/test_admin_backup_encryption.py::test_create_encrypted_backup_default", "lineno": 12, "outcome": "passed", "keywords": ["test_create_encrypted_backup_default", "test_admin_backup_encryption.py", "tests", "backend", ""], "setup": {"duration": 0.17590057900000033, "outcome": "passed"}, "call": {"duration": 0.20642883000000722, "outcome": "passed"}, "teardown": {"duration": 0.009954171000003953, "outcome": "passed"}}, {"nodeid": "tests/test_admin_backup_encryption.py::test_create_unencrypted_backup", "lineno": 45, "outcome": "passed", "keywords": ["test_create_unencrypted_backup", "test_admin_backup_encryption.py", "tests", "backend", ""], "setup": {"duration": 0.07809323600000084, "outcome": "passed"}, "call": {"duration": 0.19745119300000624, "outcome": "passed"}, "teardown": {"duration": 0.009446177000000944, "outcome": "passed"}}, {"nodeid": "tests/test_admin_backup_encryption.py::test_backup_with_explicit_encryption_true", "lineno": 81, "outcome": "passed", "keywords": ["test_backup_with_explicit_encryption_true", "test_admin_backup_encryption.py", "tests", "backend", ""], "setup": {"duration": 0.07568798100000151, "outcome": "passed"}, "call": {"duration": 0.20393517499999803, "outcome": "passed"}, "teardown": {"duration": 0.009104163000003496, "outcome": "passed"}}, {"nodeid": "tests/test_admin_backup_encryption.py::test_backup_encryption_details", "lineno": 112, "outcome": "passed", "keywords": ["test_backup_encryption_details", "test_admin_backup_encryption.py", "tests", "backend", ""], "setup": {"duration": 0.07595769999998936, "outcome": "passed"}, "call": {"duration": 0.20361559699999532, "outcome": "passed"}, "teardown": {"duration": 0.009345445999997537, "outcome": "passed"}}, {"nodeid": "tests/test_admin_backup_encryption.py::test_unencrypted_backup_no_encryption_details", "lineno": 148, "outcome": "passed", "keywords": ["test_unencrypted_backup_no_encryption_details", "test_admin_backup_encryption.py", "tests", "backend", ""], "setup": {"duration": 0.0772147680000046, "outcome": "passed"}, "call": {"duration": 0.21917752899999243, "outcome": "passed"}, "teardown": {"duration": 0.009155574000004663, "outcome": "passed"}}, {"nodeid": "tests/test_admin_backup_encryption.py::test_backup_requires_authentication", "lineno": 181, "outcome": "passed", "keywords": ["test_backup_requires_authentication", "test_admin_backup_encryption.py", "tests", "backend", ""], "setup": {"duration": 0.0383941219999997, "outcome": "passed"}, "call": {"duration": 0.004889708999996856, "outcome": "passed"}, "teardown": {"duration": 0.008110694999999168, "outcome": "passed"}}, {"nodeid": "tests/test_admin_bootstrap.py::test_bootstrap_skips_without_credentials", "lineno": 29, "outcome": "passed", "keywords": ["test_bootstrap_skips_without_credentials", "test_admin_bootstrap.py", "tests", "backend", ""], "setup": {"duration": 0.03336814799999388, "outcome": "passed"}, "call": {"duration": 0.00480244599999935, "outcome": "passed"}, "teardown": {"duration": 0.000393704000003936, "outcome": "passed"}}, {"nodeid": "tests/test_admin_bootstrap.py::test_bootstrap_warns_when_auth_enabled_without_credentials", "lineno": 35, "outcome": "passed", "keywords": ["test_bootstrap_warns_when_auth_enabled_without_credentials", "test_admin_bootstrap.py", "tests", "backend", ""], "setup": {"duration": 0.036711342999993235, "outcome": "passed"}, "call": {"duration": 0.001605253999997558, "outcome": "passed", "log": [{"name": "backend.scripts.admin.bootstrap", "msg": "\u26a0\ufe0f  Bootstrap: AUTH_ENABLED is True but DEFAULT_ADMIN_EMAIL/PASSWORD not configured. Application may be unusable without users!", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/scripts/admin/bootstrap.py", "filename": "bootstrap.py", "module": "bootstrap", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 52, "funcName": "ensure_default_admin_account", "created": 1768815203.6600106, "msecs": 660.0, "relativeCreated": 9537.978649139404, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:33:23,660"}]}, "teardown": {"duration": 0.00044258600000546267, "outcome": "passed"}}, {"nodeid": "tests/test_admin_bootstrap.py::test_bootstrap_creates_admin_user", "lineno": 45, "outcome": "passed", "keywords": ["test_bootstrap_creates_admin_user", "test_admin_bootstrap.py", "tests", "backend", ""], "setup": {"duration": 0.037117511000005265, "outcome": "passed"}, "call": {"duration": 0.023272491000000173, "outcome": "passed", "stdout": "\u2705 Admin user created: admin@example.com\n"}, "teardown": {"duration": 0.0006475670000014588, "outcome": "passed"}}, {"nodeid": "tests/test_admin_bootstrap.py::test_bootstrap_updates_existing_user_with_force_reset", "lineno": 56, "outcome": "passed", "keywords": ["test_bootstrap_updates_existing_user_with_force_reset", "test_admin_bootstrap.py", "tests", "backend", ""], "setup": {"duration": 0.03931708300000025, "outcome": "passed"}, "call": {"duration": 0.03703843300000642, "outcome": "passed", "stdout": "\u2705 Admin user updated: admin@example.com (role, is_active, full_name, password)\n"}, "teardown": {"duration": 0.00040507599999273225, "outcome": "passed"}}, {"nodeid": "tests/test_admin_bootstrap.py::test_bootstrap_updates_existing_user_without_force_reset", "lineno": 90, "outcome": "passed", "keywords": ["test_bootstrap_updates_existing_user_without_force_reset", "test_admin_bootstrap.py", "tests", "backend", ""], "setup": {"duration": 0.03711248099999409, "outcome": "passed"}, "call": {"duration": 0.012620126000001619, "outcome": "passed", "stdout": "\u2705 Admin user updated: admin@example.com (role, is_active, full_name)\n"}, "teardown": {"duration": 0.00040525599999341466, "outcome": "passed"}}, {"nodeid": "tests/test_admin_bootstrap.py::test_bootstrap_creates_user_and_allows_login", "lineno": 112, "outcome": "passed", "keywords": ["test_bootstrap_creates_user_and_allows_login", "test_admin_bootstrap.py", "tests", "backend", ""], "setup": {"duration": 0.042327276999998276, "outcome": "passed"}, "call": {"duration": 0.03070197600000313, "outcome": "passed", "stdout": "\u2705 Admin user created: bootstrap-login@example.com\n"}, "teardown": {"duration": 0.008818711000003532, "outcome": "passed"}}, {"nodeid": "tests/test_admin_bootstrap.py::test_bootstrap_auto_resets_when_enabled", "lineno": 136, "outcome": "passed", "keywords": ["test_bootstrap_auto_resets_when_enabled", "test_admin_bootstrap.py", "tests", "backend", ""], "setup": {"duration": 0.033865585999990344, "outcome": "passed"}, "call": {"duration": 0.0411303440000097, "outcome": "passed", "stdout": "\u2705 Admin user updated: auto-reset@example.com (role, is_active, full_name, password)\n"}, "teardown": {"duration": 0.0004133110000026363, "outcome": "passed"}}, {"nodeid": "tests/test_admin_bootstrap.py::test_bootstrap_auto_does_not_reset_if_password_matches", "lineno": 175, "outcome": "passed", "keywords": ["test_bootstrap_auto_does_not_reset_if_password_matches", "test_admin_bootstrap.py", "tests", "backend", ""], "setup": {"duration": 0.03712263999999266, "outcome": "passed"}, "call": {"duration": 0.023263173999993114, "outcome": "passed", "stdout": "\u2705 Admin user updated: auto-match@example.com (is_active, full_name)\n"}, "teardown": {"duration": 0.0004408620000049268, "outcome": "passed"}}, {"nodeid": "tests/test_admin_bootstrap.py::test_bootstrap_auto_resets_on_verification_error", "lineno": 216, "outcome": "passed", "keywords": ["test_bootstrap_auto_resets_on_verification_error", "test_admin_bootstrap.py", "tests", "backend", ""], "setup": {"duration": 0.03751173800000629, "outcome": "passed"}, "call": {"duration": 0.02327611799999829, "outcome": "passed", "stdout": "\u2705 Admin user updated: auto-error@example.com (role, is_active, full_name, password)\n"}, "teardown": {"duration": 0.0003997759999947448, "outcome": "passed"}}, {"nodeid": "tests/test_analytics_router.py::test_final_grade_with_grades_dailyperf_and_absence_penalty", "lineno": 103, "outcome": "passed", "keywords": ["test_final_grade_with_grades_dailyperf_and_absence_penalty", "test_analytics_router.py", "tests", "backend", ""], "setup": {"duration": 0.04201743900000565, "outcome": "passed"}, "call": {"duration": 0.18139165200000207, "outcome": "passed"}, "teardown": {"duration": 0.009056279000006384, "outcome": "passed"}}, {"nodeid": "tests/test_analytics_router.py::test_final_grade_without_rules_returns_error", "lineno": 148, "outcome": "passed", "keywords": ["test_final_grade_without_rules_returns_error", "test_analytics_router.py", "tests", "backend", ""], "setup": {"duration": 0.0388710910000043, "outcome": "passed"}, "call": {"duration": 0.03594729799999641, "outcome": "passed"}, "teardown": {"duration": 0.008715272999992862, "outcome": "passed"}}, {"nodeid": "tests/test_analytics_router.py::test_final_grade_with_attendance_category", "lineno": 159, "outcome": "passed", "keywords": ["test_final_grade_with_attendance_category", "test_analytics_router.py", "tests", "backend", ""], "setup": {"duration": 0.03980644600000005, "outcome": "passed"}, "call": {"duration": 0.08511859600000093, "outcome": "passed"}, "teardown": {"duration": 0.009204495999995288, "outcome": "passed"}}, {"nodeid": "tests/test_analytics_router.py::test_final_grade_course_not_found", "lineno": 187, "outcome": "passed", "keywords": ["test_final_grade_course_not_found", "test_analytics_router.py", "tests", "backend", ""], "setup": {"duration": 0.03951898900000117, "outcome": "passed"}, "call": {"duration": 0.02660745999999392, "outcome": "passed"}, "teardown": {"duration": 0.00932415100000128, "outcome": "passed"}}, {"nodeid": "tests/test_analytics_router.py::test_student_all_courses_summary_with_mixed_courses", "lineno": 195, "outcome": "passed", "keywords": ["test_student_all_courses_summary_with_mixed_courses", "test_analytics_router.py", "tests", "backend", ""], "setup": {"duration": 0.04015185000000088, "outcome": "passed"}, "call": {"duration": 0.1311397630000073, "outcome": "passed"}, "teardown": {"duration": 0.00921457200000475, "outcome": "passed"}}, {"nodeid": "tests/test_analytics_router.py::test_student_all_courses_summary_student_not_found", "lineno": 244, "outcome": "passed", "keywords": ["test_student_all_courses_summary_student_not_found", "test_analytics_router.py", "tests", "backend", ""], "setup": {"duration": 0.039250650999989034, "outcome": "passed"}, "call": {"duration": 0.008716616000000954, "outcome": "passed"}, "teardown": {"duration": 0.00880638300000669, "outcome": "passed"}}, {"nodeid": "tests/test_analytics_router.py::test_student_all_courses_summary_limits_queries", "lineno": 251, "outcome": "passed", "keywords": ["test_student_all_courses_summary_limits_queries", "test_analytics_router.py", "tests", "backend", ""], "setup": {"duration": 0.03865475800000695, "outcome": "passed"}, "call": {"duration": 0.1870347520000024, "outcome": "passed"}, "teardown": {"duration": 0.009872631999996884, "outcome": "passed"}}, {"nodeid": "tests/test_analytics_router.py::test_student_summary_success", "lineno": 282, "outcome": "passed", "keywords": ["test_student_summary_success", "test_analytics_router.py", "tests", "backend", ""], "setup": {"duration": 0.04203563200000815, "outcome": "passed"}, "call": {"duration": 0.09668616800000507, "outcome": "passed"}, "teardown": {"duration": 0.009544331000000739, "outcome": "passed"}}, {"nodeid": "tests/test_analytics_router.py::test_student_summary_not_found", "lineno": 308, "outcome": "passed", "keywords": ["test_student_summary_not_found", "test_analytics_router.py", "tests", "backend", ""], "setup": {"duration": 0.04189488000000097, "outcome": "passed"}, "call": {"duration": 0.00875393600000507, "outcome": "passed"}, "teardown": {"duration": 0.009040169000002152, "outcome": "passed"}}, {"nodeid": "tests/test_analytics_service.py::TestGetStudentPerformance::test_performance_with_grades", "lineno": 112, "outcome": "passed", "keywords": ["test_performance_with_grades", "TestGetStudentPerformance", "test_analytics_service.py", "tests", "backend", ""], "setup": {"duration": 0.04443426499999248, "outcome": "passed"}, "call": {"duration": 0.00421912800000257, "outcome": "passed"}, "teardown": {"duration": 0.0005704839999935984, "outcome": "passed"}}, {"nodeid": "tests/test_analytics_service.py::TestGetStudentPerformance::test_performance_no_grades", "lineno": 121, "outcome": "passed", "keywords": ["test_performance_no_grades", "TestGetStudentPerformance", "test_analytics_service.py", "tests", "backend", ""], "setup": {"duration": 0.04240151499999456, "outcome": "passed"}, "call": {"duration": 0.0016044319999934942, "outcome": "passed"}, "teardown": {"duration": 0.0004469739999990452, "outcome": "passed"}}, {"nodeid": "tests/test_analytics_service.py::TestGetStudentPerformance::test_performance_custom_days_back", "lineno": 128, "outcome": "passed", "keywords": ["test_performance_custom_days_back", "TestGetStudentPerformance", "test_analytics_service.py", "tests", "backend", ""], "setup": {"duration": 0.04548776000000032, "outcome": "passed"}, "call": {"duration": 0.0027049939999983508, "outcome": "passed"}, "teardown": {"duration": 0.0005480519999991884, "outcome": "passed"}}, {"nodeid": "tests/test_analytics_service.py::TestGetStudentPerformance::test_performance_excludes_deleted_grades", "lineno": 135, "outcome": "passed", "keywords": ["test_performance_excludes_deleted_grades", "TestGetStudentPerformance", "test_analytics_service.py", "tests", "backend", ""], "setup": {"duration": 0.04540455499999041, "outcome": "passed"}, "call": {"duration": 0.005914931000006618, "outcome": "passed"}, "teardown": {"duration": 0.0005613170000060563, "outcome": "passed"}}, {"nodeid": "tests/test_analytics_service.py::TestGetStudentTrends::test_trends_with_improving_pattern", "lineno": 153, "outcome": "passed", "keywords": ["test_trends_with_improving_pattern", "TestGetStudentTrends", "test_analytics_service.py", "tests", "backend", ""], "setup": {"duration": 0.0468287109999892, "outcome": "passed"}, "call": {"duration": 0.0035507319999936726, "outcome": "passed"}, "teardown": {"duration": 0.0005744620000029954, "outcome": "passed"}}, {"nodeid": "tests/test_analytics_service.py::TestGetStudentTrends::test_trends_limit_parameter", "lineno": 161, "outcome": "passed", "keywords": ["test_trends_limit_parameter", "TestGetStudentTrends", "test_analytics_service.py", "tests", "backend", ""], "setup": {"duration": 0.045496016000001305, "outcome": "passed"}, "call": {"duration": 0.002247732000000724, "outcome": "passed"}, "teardown": {"duration": 0.0005264609999926506, "outcome": "passed"}}, {"nodeid": "tests/test_analytics_service.py::TestGetStudentTrends::test_trends_no_grades", "lineno": 167, "outcome": "passed", "keywords": ["test_trends_no_grades", "TestGetStudentTrends", "test_analytics_service.py", "tests", "backend", ""], "setup": {"duration": 0.04176865499999849, "outcome": "passed"}, "call": {"duration": 0.0015751980000118238, "outcome": "passed"}, "teardown": {"duration": 0.00046206099999324124, "outcome": "passed"}}, {"nodeid": "tests/test_analytics_service.py::TestGetStudentTrends::test_trends_moving_average_calculation", "lineno": 175, "outcome": "passed", "keywords": ["test_trends_moving_average_calculation", "TestGetStudentTrends", "test_analytics_service.py", "tests", "backend", ""], "setup": {"duration": 0.045757624000003716, "outcome": "passed"}, "call": {"duration": 0.002274982999992403, "outcome": "passed"}, "teardown": {"duration": 0.0005634510000049886, "outcome": "passed"}}, {"nodeid": "tests/test_analytics_service.py::TestGetStudentsComparison::test_comparison_with_students", "lineno": 187, "outcome": "passed", "keywords": ["test_comparison_with_students", "TestGetStudentsComparison", "test_analytics_service.py", "tests", "backend", ""], "setup": {"duration": 0.04174450999998669, "outcome": "passed"}, "call": {"duration": 0.015299783000003231, "outcome": "passed"}, "teardown": {"duration": 0.0004745049999996809, "outcome": "passed"}}, {"nodeid": "tests/test_analytics_service.py::TestGetStudentsComparison::test_comparison_class_statistics", "lineno": 241, "outcome": "passed", "keywords": ["test_comparison_class_statistics", "TestGetStudentsComparison", "test_analytics_service.py", "tests", "backend", ""], "setup": {"duration": 0.042273346000001766, "outcome": "passed"}, "call": {"duration": 0.007850801000003571, "outcome": "passed"}, "teardown": {"duration": 0.0004935200000062423, "outcome": "passed"}}, {"nodeid": "tests/test_analytics_service.py::TestGetStudentsComparison::test_comparison_no_students", "lineno": 280, "outcome": "passed", "keywords": ["test_comparison_no_students", "TestGetStudentsComparison", "test_analytics_service.py", "tests", "backend", ""], "setup": {"duration": 0.04227641200000676, "outcome": "passed"}, "call": {"duration": 0.0015980499999983522, "outcome": "passed"}, "teardown": {"duration": 0.0004979480000031344, "outcome": "passed"}}, {"nodeid": "tests/test_analytics_service.py::TestGetAttendanceSummary::test_attendance_summary_all_courses", "lineno": 292, "outcome": "passed", "keywords": ["test_attendance_summary_all_courses", "TestGetAttendanceSummary", "test_analytics_service.py", "tests", "backend", ""], "setup": {"duration": 0.04702922500000284, "outcome": "passed"}, "call": {"duration": 0.003596737000009398, "outcome": "passed"}, "teardown": {"duration": 0.0005715660000049638, "outcome": "passed"}}, {"nodeid": "tests/test_analytics_service.py::TestGetAttendanceSummary::test_attendance_summary_specific_course", "lineno": 301, "outcome": "passed", "keywords": ["test_attendance_summary_specific_course", "TestGetAttendanceSummary", "test_analytics_service.py", "tests", "backend", ""], "setup": {"duration": 0.04628277199999786, "outcome": "passed"}, "call": {"duration": 0.004197218000001612, "outcome": "passed"}, "teardown": {"duration": 0.0005634210000096118, "outcome": "passed"}}, {"nodeid": "tests/test_analytics_service.py::TestGetAttendanceSummary::test_attendance_summary_no_records", "lineno": 310, "outcome": "passed", "keywords": ["test_attendance_summary_no_records", "TestGetAttendanceSummary", "test_analytics_service.py", "tests", "backend", ""], "setup": {"duration": 0.042398258999995164, "outcome": "passed"}, "call": {"duration": 0.0015149949999937462, "outcome": "passed"}, "teardown": {"duration": 0.0004908760000006396, "outcome": "passed"}}, {"nodeid": "tests/test_analytics_service.py::TestGetAttendanceSummary::test_attendance_excludes_deleted", "lineno": 317, "outcome": "passed", "keywords": ["test_attendance_excludes_deleted", "TestGetAttendanceSummary", "test_analytics_service.py", "tests", "backend", ""], "setup": {"duration": 0.047278300000002105, "outcome": "passed"}, "call": {"duration": 0.005142730000002871, "outcome": "passed"}, "teardown": {"duration": 0.0005892890000041007, "outcome": "passed"}}, {"nodeid": "tests/test_analytics_service.py::TestGetGradeDistribution::test_grade_distribution_calculation", "lineno": 331, "outcome": "passed", "keywords": ["test_grade_distribution_calculation", "TestGetGradeDistribution", "test_analytics_service.py", "tests", "backend", ""], "setup": {"duration": 0.042784468999997216, "outcome": "passed"}, "call": {"duration": 0.006602243000003227, "outcome": "passed"}, "teardown": {"duration": 0.0005227349999898934, "outcome": "passed"}}, {"nodeid": "tests/test_analytics_service.py::TestGetGradeDistribution::test_grade_distribution_no_grades", "lineno": 369, "outcome": "passed", "keywords": ["test_grade_distribution_no_grades", "TestGetGradeDistribution", "test_analytics_service.py", "tests", "backend", ""], "setup": {"duration": 0.04193426300000169, "outcome": "passed"}, "call": {"duration": 0.0014294660000047088, "outcome": "passed"}, "teardown": {"duration": 0.0004467029999943861, "outcome": "passed"}}, {"nodeid": "tests/test_analytics_service.py::TestCalculateFinalGrade::test_final_grade_calculation", "lineno": 382, "outcome": "passed", "keywords": ["test_final_grade_calculation", "TestCalculateFinalGrade", "test_analytics_service.py", "tests", "backend", ""], "setup": {"duration": 0.043622691999999574, "outcome": "passed"}, "call": {"duration": 0.003907326999993188, "outcome": "passed"}, "teardown": {"duration": 0.0005775569999997288, "outcome": "passed"}}, {"nodeid": "tests/test_analytics_service.py::TestGetStudentSummary::test_student_summary_with_data", "lineno": 396, "outcome": "passed", "keywords": ["test_student_summary_with_data", "TestGetStudentSummary", "test_analytics_service.py", "tests", "backend", ""], "setup": {"duration": 0.051457333999991306, "outcome": "passed"}, "call": {"duration": 0.004581733999998505, "outcome": "passed"}, "teardown": {"duration": 0.0006454130000008718, "outcome": "passed"}}, {"nodeid": "tests/test_analytics_service.py::TestGetStudentSummary::test_student_summary_without_data", "lineno": 412, "outcome": "passed", "keywords": ["test_student_summary_without_data", "TestGetStudentSummary", "test_analytics_service.py", "tests", "backend", ""], "setup": {"duration": 0.04199631900000611, "outcome": "passed"}, "call": {"duration": 0.0014976730000029193, "outcome": "passed"}, "teardown": {"duration": 0.0004553989999891428, "outcome": "passed"}}, {"nodeid": "tests/test_analytics_service.py::TestErrorHandling::test_invalid_student_id", "lineno": 425, "outcome": "passed", "keywords": ["test_invalid_student_id", "TestErrorHandling", "test_analytics_service.py", "tests", "backend", ""], "setup": {"duration": 0.0401133069999986, "outcome": "passed"}, "call": {"duration": 0.0018076810000025034, "outcome": "passed"}, "teardown": {"duration": 0.00043809699999997065, "outcome": "passed"}}, {"nodeid": "tests/test_analytics_service.py::TestErrorHandling::test_invalid_course_id", "lineno": 434, "outcome": "passed", "keywords": ["test_invalid_course_id", "TestErrorHandling", "test_analytics_service.py", "tests", "backend", ""], "setup": {"duration": 0.039926257999994164, "outcome": "passed"}, "call": {"duration": 0.0015643769999940105, "outcome": "passed"}, "teardown": {"duration": 0.0006128530000069077, "outcome": "passed"}}, {"nodeid": "tests/test_attendance_router.py::test_create_attendance_success", "lineno": 24, "outcome": "passed", "keywords": ["test_create_attendance_success", "requires_params", "auth_required", "pytestmark", "test_attendance_router.py", "tests", "backend", ""], "setup": {"duration": 0.04521430999999154, "outcome": "passed"}, "call": {"duration": 0.03128890099999637, "outcome": "passed"}, "teardown": {"duration": 0.009179840000001604, "outcome": "passed"}}, {"nodeid": "tests/test_attendance_router.py::test_create_attendance_invalid_student", "lineno": 77, "outcome": "passed", "keywords": ["test_create_attendance_invalid_student", "auth_required", "pytestmark", "test_attendance_router.py", "tests", "backend", ""], "setup": {"duration": 0.04341250999999602, "outcome": "passed"}, "call": {"duration": 0.017310050999995497, "outcome": "passed"}, "teardown": {"duration": 0.008960016999992604, "outcome": "passed"}}, {"nodeid": "tests/test_attendance_router.py::test_create_attendance_invalid_course", "lineno": 108, "outcome": "passed", "keywords": ["test_create_attendance_invalid_course", "auth_required", "pytestmark", "test_attendance_router.py", "tests", "backend", ""], "setup": {"duration": 0.04094110100000137, "outcome": "passed"}, "call": {"duration": 0.019464287999994667, "outcome": "passed"}, "teardown": {"duration": 0.009045788999998194, "outcome": "passed"}}, {"nodeid": "tests/test_attendance_router.py::test_create_attendance_upserts_existing_record", "lineno": 139, "outcome": "passed", "keywords": ["test_create_attendance_upserts_existing_record", "auth_required", "pytestmark", "test_attendance_router.py", "tests", "backend", ""], "setup": {"duration": 0.041746084999999766, "outcome": "passed"}, "call": {"duration": 0.04108528499999409, "outcome": "passed"}, "teardown": {"duration": 0.009343784999998661, "outcome": "passed"}}, {"nodeid": "tests/test_attendance_router.py::test_get_all_attendance", "lineno": 190, "outcome": "passed", "keywords": ["test_get_all_attendance", "auth_required", "pytestmark", "test_attendance_router.py", "tests", "backend", ""], "setup": {"duration": 0.04211741400000335, "outcome": "passed"}, "call": {"duration": 0.0662803580000002, "outcome": "passed"}, "teardown": {"duration": 0.009594672999995169, "outcome": "passed"}}, {"nodeid": "tests/test_attendance_router.py::test_filter_attendance_by_student", "lineno": 237, "outcome": "passed", "keywords": ["test_filter_attendance_by_student", "auth_required", "pytestmark", "test_attendance_router.py", "tests", "backend", ""], "setup": {"duration": 0.04257257300000106, "outcome": "passed"}, "call": {"duration": 0.06546126800000707, "outcome": "passed"}, "teardown": {"duration": 0.009542984000006527, "outcome": "passed"}}, {"nodeid": "tests/test_attendance_router.py::test_filter_attendance_by_status", "lineno": 306, "outcome": "passed", "keywords": ["test_filter_attendance_by_status", "auth_required", "pytestmark", "test_attendance_router.py", "tests", "backend", ""], "setup": {"duration": 0.043376493000010896, "outcome": "passed"}, "call": {"duration": 0.07407086499999593, "outcome": "passed"}, "teardown": {"duration": 0.009623056000009456, "outcome": "passed"}}, {"nodeid": "tests/test_attendance_router.py::test_get_student_attendance", "lineno": 356, "outcome": "passed", "keywords": ["test_get_student_attendance", "auth_required", "pytestmark", "test_attendance_router.py", "tests", "backend", ""], "setup": {"duration": 0.042855490999997414, "outcome": "passed"}, "call": {"duration": 0.04023337099999935, "outcome": "passed"}, "teardown": {"duration": 0.009585346000008599, "outcome": "passed"}}, {"nodeid": "tests/test_attendance_router.py::test_get_course_attendance", "lineno": 402, "outcome": "passed", "keywords": ["test_get_course_attendance", "auth_required", "pytestmark", "test_attendance_router.py", "tests", "backend", ""], "setup": {"duration": 0.04285372699999357, "outcome": "passed"}, "call": {"duration": 0.04397806500000456, "outcome": "passed"}, "teardown": {"duration": 0.009554868999998689, "outcome": "passed"}}, {"nodeid": "tests/test_attendance_router.py::test_get_attendance_by_date_and_course", "lineno": 448, "outcome": "passed", "keywords": ["test_get_attendance_by_date_and_course", "auth_required", "pytestmark", "test_attendance_router.py", "tests", "backend", ""], "setup": {"duration": 0.043361054000001786, "outcome": "passed"}, "call": {"duration": 0.0398880609999992, "outcome": "passed"}, "teardown": {"duration": 0.009816025999995759, "outcome": "passed"}}, {"nodeid": "tests/test_attendance_router.py::test_attendance_date_range_filtering", "lineno": 495, "outcome": "passed", "keywords": ["test_attendance_date_range_filtering", "auth_required", "pytestmark", "test_attendance_router.py", "tests", "backend", ""], "setup": {"duration": 0.042762697999989996, "outcome": "passed"}, "call": {"duration": 0.08157443500000738, "outcome": "passed"}, "teardown": {"duration": 0.00945028299999251, "outcome": "passed"}}, {"nodeid": "tests/test_attendance_router.py::test_update_attendance", "lineno": 571, "outcome": "passed", "keywords": ["test_update_attendance", "test_attendance_router.py", "auth_required", "tests", "backend", ""], "setup": {"duration": 0.16238706599999375, "outcome": "passed"}, "call": {"duration": 0.04189128599999492, "outcome": "passed"}, "teardown": {"duration": 0.009507501000001639, "outcome": "passed"}}, {"nodeid": "tests/test_attendance_router.py::test_delete_attendance", "lineno": 623, "outcome": "passed", "keywords": ["test_delete_attendance", "test_attendance_router.py", "auth_required", "tests", "backend", ""], "setup": {"duration": 0.04259325400001046, "outcome": "passed"}, "call": {"duration": 0.043503936999996995, "outcome": "passed"}, "teardown": {"duration": 0.009942391999999245, "outcome": "passed"}}, {"nodeid": "tests/test_attendance_router.py::test_attendance_stats", "lineno": 671, "outcome": "passed", "keywords": ["test_attendance_stats", "test_attendance_router.py", "auth_required", "tests", "backend", ""], "setup": {"duration": 0.04463799600000584, "outcome": "passed"}, "call": {"duration": 0.07985573300000226, "outcome": "passed"}, "teardown": {"duration": 0.010626225999999406, "outcome": "passed"}}, {"nodeid": "tests/test_attendance_router.py::test_attendance_stats_no_records_returns_message", "lineno": 722, "outcome": "passed", "keywords": ["test_attendance_stats_no_records_returns_message", "test_attendance_router.py", "auth_required", "tests", "backend", ""], "setup": {"duration": 0.04340282200000445, "outcome": "passed"}, "call": {"duration": 0.027831026000001202, "outcome": "passed"}, "teardown": {"duration": 0.009668146999999294, "outcome": "passed"}}, {"nodeid": "tests/test_attendance_router.py::test_bulk_create_attendance", "lineno": 750, "outcome": "passed", "keywords": ["test_bulk_create_attendance", "test_attendance_router.py", "auth_required", "tests", "backend", ""], "setup": {"duration": 0.043312342999996645, "outcome": "passed"}, "call": {"duration": 0.05785762900001146, "outcome": "passed"}, "teardown": {"duration": 0.009724609000002715, "outcome": "passed"}}, {"nodeid": "tests/test_attendance_router.py::test_attendance_date_range_with_only_end_date", "lineno": 796, "outcome": "passed", "keywords": ["test_attendance_date_range_with_only_end_date", "test_attendance_router.py", "auth_required", "tests", "backend", ""], "setup": {"duration": 0.04332556699999657, "outcome": "passed"}, "call": {"duration": 0.05175929600000018, "outcome": "passed"}, "teardown": {"duration": 0.009899559000004388, "outcome": "passed"}}, {"nodeid": "tests/test_attendance_router.py::test_update_attendance_not_found", "lineno": 845, "outcome": "passed", "keywords": ["test_update_attendance_not_found", "test_attendance_router.py", "auth_required", "tests", "backend", ""], "setup": {"duration": 0.04351452999999594, "outcome": "passed"}, "call": {"duration": 0.009186331000009318, "outcome": "passed"}, "teardown": {"duration": 0.009845631000004573, "outcome": "passed"}}, {"nodeid": "tests/test_attendance_router.py::test_delete_attendance_not_found", "lineno": 852, "outcome": "passed", "keywords": ["test_delete_attendance_not_found", "test_attendance_router.py", "auth_required", "tests", "backend", ""], "setup": {"duration": 0.043696870000005106, "outcome": "passed"}, "call": {"duration": 0.0068704530000047725, "outcome": "passed"}, "teardown": {"duration": 0.009473867999986396, "outcome": "passed"}}, {"nodeid": "tests/test_attendance_router.py::test_get_student_attendance_not_found", "lineno": 859, "outcome": "passed", "keywords": ["test_get_student_attendance_not_found", "test_attendance_router.py", "auth_required", "tests", "backend", ""], "setup": {"duration": 0.04328444099999729, "outcome": "passed"}, "call": {"duration": 0.006813827000001993, "outcome": "passed"}, "teardown": {"duration": 0.008931138999997756, "outcome": "passed"}}, {"nodeid": "tests/test_attendance_router.py::test_get_course_attendance_not_found", "lineno": 866, "outcome": "passed", "keywords": ["test_get_course_attendance_not_found", "test_attendance_router.py", "auth_required", "tests", "backend", ""], "setup": {"duration": 0.043224319000003675, "outcome": "passed"}, "call": {"duration": 0.007157337999998958, "outcome": "passed"}, "teardown": {"duration": 0.00937581499999851, "outcome": "passed"}}, {"nodeid": "tests/test_attendance_router.py::test_get_attendance_by_date_course_not_found", "lineno": 873, "outcome": "passed", "keywords": ["test_get_attendance_by_date_course_not_found", "test_attendance_router.py", "auth_required", "tests", "backend", ""], "setup": {"duration": 0.042488634999998, "outcome": "passed"}, "call": {"duration": 0.007084892000008836, "outcome": "passed"}, "teardown": {"duration": 0.009184911000005513, "outcome": "passed"}}, {"nodeid": "tests/test_audit.py::TestAuditLogger::test_log_action_basic", "lineno": 24, "outcome": "passed", "keywords": ["test_log_action_basic", "TestAuditLogger", "test_audit.py", "tests", "backend", ""], "setup": {"duration": 0.0374559410000046, "outcome": "passed"}, "call": {"duration": 0.002165388000008761, "outcome": "passed"}, "teardown": {"duration": 0.0004432570000005853, "outcome": "passed"}}, {"nodeid": "tests/test_audit.py::TestAuditLogger::test_log_action_with_error", "lineno": 52, "outcome": "passed", "keywords": ["test_log_action_with_error", "TestAuditLogger", "test_audit.py", "tests", "backend", ""], "setup": {"duration": 0.041396069000001035, "outcome": "passed"}, "call": {"duration": 0.002199442000005547, "outcome": "passed"}, "teardown": {"duration": 0.00048496399999464757, "outcome": "passed"}}, {"nodeid": "tests/test_audit.py::TestAuditLogger::test_log_action_system_action", "lineno": 68, "outcome": "passed", "keywords": ["test_log_action_system_action", "TestAuditLogger", "test_audit.py", "tests", "backend", ""], "setup": {"duration": 0.04189342700000509, "outcome": "passed"}, "call": {"duration": 0.0021676519999971333, "outcome": "passed"}, "teardown": {"duration": 0.00046270299999662257, "outcome": "passed"}}, {"nodeid": "tests/test_audit.py::TestAuditLogger::test_log_action_all_action_types", "lineno": 83, "outcome": "passed", "keywords": ["test_log_action_all_action_types", "TestAuditLogger", "test_audit.py", "tests", "backend", ""], "setup": {"duration": 0.04080184100000395, "outcome": "passed"}, "call": {"duration": 0.008959759999996209, "outcome": "passed"}, "teardown": {"duration": 0.0004596079999998892, "outcome": "passed"}}, {"nodeid": "tests/test_audit.py::TestAuditLogger::test_log_action_all_resource_types", "lineno": 105, "outcome": "passed", "keywords": ["test_log_action_all_resource_types", "TestAuditLogger", "test_audit.py", "tests", "backend", ""], "setup": {"duration": 0.0412825880000014, "outcome": "passed"}, "call": {"duration": 0.0081450899999993, "outcome": "passed"}, "teardown": {"duration": 0.0005023769999894512, "outcome": "passed"}}, {"nodeid": "tests/test_audit.py::TestAuditRouter::test_list_audit_logs_admin_only", "lineno": 130, "outcome": "passed", "keywords": ["test_list_audit_logs_admin_only", "TestAuditRouter", "test_audit.py", "tests", "backend", ""], "setup": {"duration": 0.1218944190000002, "outcome": "passed"}, "call": {"duration": 0.018404091999997263, "outcome": "passed"}, "teardown": {"duration": 0.0095943619999872, "outcome": "passed"}}, {"nodeid": "tests/test_audit.py::TestAuditRouter::test_list_audit_logs_empty", "lineno": 142, "outcome": "passed", "keywords": ["test_list_audit_logs_empty", "TestAuditRouter", "test_audit.py", "tests", "backend", ""], "setup": {"duration": 0.08000392900000008, "outcome": "passed"}, "call": {"duration": 0.007533409000004099, "outcome": "passed"}, "teardown": {"duration": 0.009866711000000805, "outcome": "passed"}}, {"nodeid": "tests/test_audit.py::TestAuditRouter::test_list_audit_logs_with_data", "lineno": 152, "outcome": "passed", "keywords": ["test_list_audit_logs_with_data", "TestAuditRouter", "test_audit.py", "tests", "backend", ""], "setup": {"duration": 0.08409240100000659, "outcome": "passed"}, "call": {"duration": 0.016616046999999412, "outcome": "passed"}, "teardown": {"duration": 0.011033926999999721, "outcome": "passed"}}, {"nodeid": "tests/test_audit.py::TestAuditRouter::test_list_audit_logs_pagination", "lineno": 171, "outcome": "passed", "keywords": ["test_list_audit_logs_pagination", "TestAuditRouter", "test_audit.py", "tests", "backend", ""], "setup": {"duration": 0.08164254500000823, "outcome": "passed"}, "call": {"duration": 0.031950244000000794, "outcome": "passed"}, "teardown": {"duration": 0.009528598999992255, "outcome": "passed"}}, {"nodeid": "tests/test_audit.py::TestAuditRouter::test_list_audit_logs_filter_by_user", "lineno": 200, "outcome": "passed", "keywords": ["test_list_audit_logs_filter_by_user", "TestAuditRouter", "test_audit.py", "tests", "backend", ""], "setup": {"duration": 0.07956939899999327, "outcome": "passed"}, "call": {"duration": 0.015512118000003738, "outcome": "passed"}, "teardown": {"duration": 0.009570819000003894, "outcome": "passed"}}, {"nodeid": "tests/test_audit.py::TestAuditRouter::test_list_audit_logs_filter_by_action", "lineno": 218, "outcome": "passed", "keywords": ["test_list_audit_logs_filter_by_action", "TestAuditRouter", "test_audit.py", "tests", "backend", ""], "setup": {"duration": 0.08047084999999754, "outcome": "passed"}, "call": {"duration": 0.01564611800000648, "outcome": "passed"}, "teardown": {"duration": 0.00968832799999575, "outcome": "passed"}}, {"nodeid": "tests/test_audit.py::TestAuditRouter::test_list_audit_logs_filter_by_resource", "lineno": 234, "outcome": "passed", "keywords": ["test_list_audit_logs_filter_by_resource", "TestAuditRouter", "test_audit.py", "tests", "backend", ""], "setup": {"duration": 0.08096679700000209, "outcome": "passed"}, "call": {"duration": 0.015743279999995252, "outcome": "passed"}, "teardown": {"duration": 0.010115772999995443, "outcome": "passed"}}, {"nodeid": "tests/test_audit.py::TestAuditRouter::test_list_audit_logs_filter_by_date_range", "lineno": 250, "outcome": "passed", "keywords": ["test_list_audit_logs_filter_by_date_range", "TestAuditRouter", "test_audit.py", "tests", "backend", ""], "setup": {"duration": 0.08020646700001066, "outcome": "passed"}, "call": {"duration": 0.014473921999993422, "outcome": "passed"}, "teardown": {"duration": 0.009631050999999502, "outcome": "passed"}}, {"nodeid": "tests/test_audit.py::TestAuditRouter::test_list_audit_logs_filter_by_success", "lineno": 271, "outcome": "passed", "keywords": ["test_list_audit_logs_filter_by_success", "TestAuditRouter", "test_audit.py", "tests", "backend", ""], "setup": {"duration": 0.08053373899998917, "outcome": "passed"}, "call": {"duration": 0.014465946000001395, "outcome": "passed"}, "teardown": {"duration": 0.009612989999993715, "outcome": "passed"}}, {"nodeid": "tests/test_audit.py::TestAuditRouter::test_get_audit_log_by_id", "lineno": 286, "outcome": "passed", "keywords": ["test_get_audit_log_by_id", "TestAuditRouter", "test_audit.py", "tests", "backend", ""], "setup": {"duration": 0.07981614000000548, "outcome": "passed"}, "call": {"duration": 0.008971600999998941, "outcome": "passed"}, "teardown": {"duration": 0.009620621999999912, "outcome": "passed"}}, {"nodeid": "tests/test_audit.py::TestAuditRouter::test_get_audit_log_not_found", "lineno": 308, "outcome": "passed", "keywords": ["test_get_audit_log_not_found", "TestAuditRouter", "test_audit.py", "tests", "backend", ""], "setup": {"duration": 0.0797883200000058, "outcome": "passed"}, "call": {"duration": 0.0063253959999940434, "outcome": "passed"}, "teardown": {"duration": 0.00964383499999144, "outcome": "passed"}}, {"nodeid": "tests/test_audit.py::TestAuditRouter::test_get_user_audit_logs", "lineno": 314, "outcome": "passed", "keywords": ["test_get_user_audit_logs", "TestAuditRouter", "test_audit.py", "tests", "backend", ""], "setup": {"duration": 0.08130199699999707, "outcome": "passed"}, "call": {"duration": 0.012767951000000721, "outcome": "passed"}, "teardown": {"duration": 0.010022710999990636, "outcome": "passed"}}, {"nodeid": "tests/test_audit.py::TestAuditCoverage::test_audit_log_timestamp_ordering", "lineno": 340, "outcome": "passed", "keywords": ["test_audit_log_timestamp_ordering", "TestAuditCoverage", "test_audit.py", "tests", "backend", ""], "setup": {"duration": 0.03874555700001281, "outcome": "passed"}, "call": {"duration": 0.006696969000003605, "outcome": "passed"}, "teardown": {"duration": 0.0004840229999985013, "outcome": "passed"}}, {"nodeid": "tests/test_audit.py::TestAuditCoverage::test_audit_log_with_complex_details", "lineno": 355, "outcome": "passed", "keywords": ["test_audit_log_with_complex_details", "TestAuditCoverage", "test_audit.py", "tests", "backend", ""], "setup": {"duration": 0.04336928899999748, "outcome": "passed"}, "call": {"duration": 0.0031538620000048923, "outcome": "passed"}, "teardown": {"duration": 0.0006721029999994244, "outcome": "passed"}}, {"nodeid": "tests/test_audit_router.py::test_list_audit_logs_pagination", "lineno": 48, "outcome": "passed", "keywords": ["test_list_audit_logs_pagination", "test_audit_router.py", "tests", "backend", ""], "setup": {"duration": 0.05186092600000336, "outcome": "passed"}, "call": {"duration": 0.018013683999996033, "outcome": "passed"}, "teardown": {"duration": 0.010660200000003783, "outcome": "passed"}}, {"nodeid": "tests/test_audit_router.py::test_get_user_audit_logs", "lineno": 75, "outcome": "passed", "keywords": ["test_get_user_audit_logs", "test_audit_router.py", "tests", "backend", ""], "setup": {"duration": 0.05269802600000162, "outcome": "passed"}, "call": {"duration": 0.009847815000000537, "outcome": "passed"}, "teardown": {"duration": 0.009528729999999541, "outcome": "passed"}}, {"nodeid": "tests/test_auth_flow.py::test_register_login_me_success", "lineno": 18, "outcome": "passed", "keywords": ["test_register_login_me_success", "test_auth_flow.py", "tests", "backend", ""], "setup": {"duration": 0.04372087499999111, "outcome": "passed"}, "call": {"duration": 0.05547782000000723, "outcome": "passed"}, "teardown": {"duration": 0.009989879999992013, "outcome": "passed"}}, {"nodeid": "tests/test_auth_flow.py::test_register_duplicate_and_bad_login", "lineno": 54, "outcome": "passed", "keywords": ["test_register_duplicate_and_bad_login", "test_auth_flow.py", "tests", "backend", ""], "setup": {"duration": 0.04305562399999019, "outcome": "passed"}, "call": {"duration": 0.0560814669999985, "outcome": "passed", "log": [{"name": "backend.routers.routers_auth", "msg": "HTTPException during login", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py\", line 487, in login\n    raise http_error(\nfastapi.exceptions.HTTPException: 400: {'error_id': 'AUTH_INVALID_CREDENTIALS', 'error_code': 'AUTH_INVALID_CREDENTIALS', 'message': 'Invalid email or password', 'request_id': 'dd605807-faa5-49f0-8dd9-64be82939b6a'}", "stack_info": null, "lineno": 540, "funcName": "login", "created": 1768815210.6248362, "msecs": 624.0, "relativeCreated": 16502.804279327393, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a576890", "processName": "MainProcess", "process": 2241, "request_id": "dd605807-faa5-49f0-8dd9-64be82939b6a", "asctime": "2026-01-19 09:33:30,624"}]}, "teardown": {"duration": 0.010127456000006418, "outcome": "passed"}}, {"nodeid": "tests/test_auth_flow.py::test_login_lockout_after_failed_attempts", "lineno": 76, "outcome": "passed", "keywords": ["test_login_lockout_after_failed_attempts", "test_auth_flow.py", "tests", "backend", ""], "setup": {"duration": 0.04436671899999567, "outcome": "passed"}, "call": {"duration": 0.13286772600000063, "outcome": "passed", "log": [{"name": "backend.routers.routers_auth", "msg": "HTTPException during login", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py\", line 487, in login\n    raise http_error(\nfastapi.exceptions.HTTPException: 400: {'error_id': 'AUTH_INVALID_CREDENTIALS', 'error_code': 'AUTH_INVALID_CREDENTIALS', 'message': 'Invalid email or password', 'request_id': '5a3317f8-0014-402a-ad8b-cb97e508178b'}", "stack_info": null, "lineno": 540, "funcName": "login", "created": 1768815210.7270489, "msecs": 727.0, "relativeCreated": 16605.016946792603, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a56ee10", "processName": "MainProcess", "process": 2241, "request_id": "5a3317f8-0014-402a-ad8b-cb97e508178b", "asctime": "2026-01-19 09:33:30,727"}, {"name": "backend.routers.routers_auth", "msg": "HTTPException during login", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py\", line 487, in login\n    raise http_error(\nfastapi.exceptions.HTTPException: 400: {'error_id': 'AUTH_INVALID_CREDENTIALS', 'error_code': 'AUTH_INVALID_CREDENTIALS', 'message': 'Invalid email or password', 'request_id': '18c2f5f0-50eb-438c-92bf-74c6be25a927'}", "stack_info": null, "lineno": 540, "funcName": "login", "created": 1768815210.748645, "msecs": 748.0, "relativeCreated": 16626.6131401062, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a56ee10", "processName": "MainProcess", "process": 2241, "request_id": "18c2f5f0-50eb-438c-92bf-74c6be25a927", "asctime": "2026-01-19 09:33:30,748"}, {"name": "backend.routers.routers_auth", "msg": "HTTPException during login", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py\", line 487, in login\n    raise http_error(\nfastapi.exceptions.HTTPException: 400: {'error_id': 'AUTH_INVALID_CREDENTIALS', 'error_code': 'AUTH_INVALID_CREDENTIALS', 'message': 'Invalid email or password', 'request_id': '5a1ad3b0-50a1-4a4b-9b32-077eed6be412'}", "stack_info": null, "lineno": 540, "funcName": "login", "created": 1768815210.7706082, "msecs": 770.0, "relativeCreated": 16648.576259613037, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a56ee10", "processName": "MainProcess", "process": 2241, "request_id": "5a1ad3b0-50a1-4a4b-9b32-077eed6be412", "asctime": "2026-01-19 09:33:30,770"}, {"name": "backend.routers.routers_auth", "msg": "HTTPException during login", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py\", line 487, in login\n    raise http_error(\nfastapi.exceptions.HTTPException: 400: {'error_id': 'AUTH_INVALID_CREDENTIALS', 'error_code': 'AUTH_INVALID_CREDENTIALS', 'message': 'Invalid email or password', 'request_id': '8cb88c1d-776d-4c5f-9655-a1b05569dcc1'}", "stack_info": null, "lineno": 540, "funcName": "login", "created": 1768815210.7918956, "msecs": 791.0, "relativeCreated": 16669.8637008667, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a56ee10", "processName": "MainProcess", "process": 2241, "request_id": "8cb88c1d-776d-4c5f-9655-a1b05569dcc1", "asctime": "2026-01-19 09:33:30,791"}, {"name": "backend.routers.routers_auth", "msg": "Account lockout triggered", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 485, "funcName": "login", "created": 1768815210.813865, "msecs": 813.0, "relativeCreated": 16691.83301925659, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a56ee10", "processName": "MainProcess", "process": 2241, "request_id": "e59a7b40-4ce5-410f-aeac-70eda08ca4c0", "asctime": "2026-01-19 09:33:30,813"}, {"name": "backend.routers.routers_auth", "msg": "HTTPException during login", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py\", line 486, in login\n    raise _build_lockout_exception(request, lockout_until)\nfastapi.exceptions.HTTPException: 429: {'error_id': 'AUTH_ACCOUNT_LOCKED', 'error_code': 'AUTH_ACCOUNT_LOCKED', 'message': 'Too many failed login attempts. Please try again later.', 'request_id': 'e59a7b40-4ce5-410f-aeac-70eda08ca4c0', 'context': {'lockout_until': '2026-01-19T09:38:30.812372+00:00'}}", "stack_info": null, "lineno": 540, "funcName": "login", "created": 1768815210.8141046, "msecs": 814.0, "relativeCreated": 16692.07262992859, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a56ee10", "processName": "MainProcess", "process": 2241, "request_id": "e59a7b40-4ce5-410f-aeac-70eda08ca4c0", "asctime": "2026-01-19 09:33:30,814"}]}, "teardown": {"duration": 0.010057046000000014, "outcome": "passed"}}, {"nodeid": "tests/test_auth_flow.py::test_login_recovers_after_lockout_window", "lineno": 107, "outcome": "passed", "keywords": ["test_login_recovers_after_lockout_window", "test_auth_flow.py", "tests", "backend", ""], "setup": {"duration": 0.042986917999996876, "outcome": "passed"}, "call": {"duration": 1.3298608319999943, "outcome": "passed", "log": [{"name": "backend.routers.routers_auth", "msg": "HTTPException during login", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py\", line 487, in login\n    raise http_error(\nfastapi.exceptions.HTTPException: 400: {'error_id': 'AUTH_INVALID_CREDENTIALS', 'error_code': 'AUTH_INVALID_CREDENTIALS', 'message': 'Invalid email or password', 'request_id': 'd5e1c89d-291d-4bb1-b004-a1f25135d700'}", "stack_info": null, "lineno": 540, "funcName": "login", "created": 1768815210.9157312, "msecs": 915.0, "relativeCreated": 16793.699264526367, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a559b90", "processName": "MainProcess", "process": 2241, "request_id": "d5e1c89d-291d-4bb1-b004-a1f25135d700", "asctime": "2026-01-19 09:33:30,915"}, {"name": "backend.routers.routers_auth", "msg": "HTTPException during login", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py\", line 487, in login\n    raise http_error(\nfastapi.exceptions.HTTPException: 400: {'error_id': 'AUTH_INVALID_CREDENTIALS', 'error_code': 'AUTH_INVALID_CREDENTIALS', 'message': 'Invalid email or password', 'request_id': 'f0438d61-f83e-48bc-8c76-208288932a76'}", "stack_info": null, "lineno": 540, "funcName": "login", "created": 1768815210.937416, "msecs": 937.0, "relativeCreated": 16815.38414955139, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a559b90", "processName": "MainProcess", "process": 2241, "request_id": "f0438d61-f83e-48bc-8c76-208288932a76", "asctime": "2026-01-19 09:33:30,937"}, {"name": "backend.routers.routers_auth", "msg": "Account lockout triggered", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 485, "funcName": "login", "created": 1768815210.9592118, "msecs": 959.0, "relativeCreated": 16837.1798992157, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a559b90", "processName": "MainProcess", "process": 2241, "request_id": "c1feb452-afcf-4ffe-b059-1db698586006", "asctime": "2026-01-19 09:33:30,959"}, {"name": "backend.routers.routers_auth", "msg": "HTTPException during login", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py\", line 486, in login\n    raise _build_lockout_exception(request, lockout_until)\nfastapi.exceptions.HTTPException: 429: {'error_id': 'AUTH_ACCOUNT_LOCKED', 'error_code': 'AUTH_ACCOUNT_LOCKED', 'message': 'Too many failed login attempts. Please try again later.', 'request_id': 'c1feb452-afcf-4ffe-b059-1db698586006', 'context': {'lockout_until': '2026-01-19T09:33:31.958228+00:00'}}", "stack_info": null, "lineno": 540, "funcName": "login", "created": 1768815210.959467, "msecs": 959.0, "relativeCreated": 16837.435007095337, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a559b90", "processName": "MainProcess", "process": 2241, "request_id": "c1feb452-afcf-4ffe-b059-1db698586006", "asctime": "2026-01-19 09:33:30,959"}, {"name": "backend.routers.routers_auth", "msg": "HTTPException during login", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py\", line 466, in login\n    _enforce_throttle_guards(throttle_keys, request)\n  File \"/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py\", line 101, in _enforce_throttle_guards\n    raise _build_lockout_exception(request, lockout_until)\nfastapi.exceptions.HTTPException: 429: {'error_id': 'AUTH_ACCOUNT_LOCKED', 'error_code': 'AUTH_ACCOUNT_LOCKED', 'message': 'Too many failed login attempts. Please try again later.', 'request_id': '647b559d-d09c-4c74-b657-fe1d39f373db', 'context': {'lockout_until': '2026-01-19T09:33:31.959162+00:00'}}", "stack_info": null, "lineno": 540, "funcName": "login", "created": 1768815210.970555, "msecs": 970.0, "relativeCreated": 16848.523139953613, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a559b90", "processName": "MainProcess", "process": 2241, "request_id": "647b559d-d09c-4c74-b657-fe1d39f373db", "asctime": "2026-01-19 09:33:30,970"}]}, "teardown": {"duration": 0.009839319000008118, "outcome": "passed"}}, {"nodeid": "tests/test_auth_refresh.py::test_refresh_rotation_and_logout", "lineno": 5, "outcome": "passed", "keywords": ["test_refresh_rotation_and_logout", "test_auth_refresh.py", "tests", "backend", ""], "setup": {"duration": 0.043687142000010226, "outcome": "passed"}, "call": {"duration": 0.07369520399998919, "outcome": "passed"}, "teardown": {"duration": 0.0097314879999999, "outcome": "passed"}}, {"nodeid": "tests/test_auth_refresh.py::test_refresh_expiry", "lineno": 61, "outcome": "passed", "keywords": ["test_refresh_expiry", "test_auth_refresh.py", "tests", "backend", ""], "setup": {"duration": 0.043249406000001045, "outcome": "passed"}, "call": {"duration": 0.04668563700001016, "outcome": "passed"}, "teardown": {"duration": 0.00978019899999083, "outcome": "passed"}}, {"nodeid": "tests/test_auth_router.py::test_register_login_me_flow", "lineno": 6, "outcome": "passed", "keywords": ["test_register_login_me_flow", "test_auth_router.py", "tests", "backend", ""], "setup": {"duration": 0.04263115300000209, "outcome": "passed"}, "call": {"duration": 0.053751708999996595, "outcome": "passed"}, "teardown": {"duration": 0.009269631000009326, "outcome": "passed"}}, {"nodeid": "tests/test_auth_router.py::test_login_wrong_password", "lineno": 36, "outcome": "passed", "keywords": ["test_login_wrong_password", "test_auth_router.py", "tests", "backend", ""], "setup": {"duration": 0.04523737200000255, "outcome": "passed"}, "call": {"duration": 0.03852836100000445, "outcome": "passed", "log": [{"name": "backend.routers.routers_auth", "msg": "HTTPException during login", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py\", line 487, in login\n    raise http_error(\nfastapi.exceptions.HTTPException: 400: {'error_id': 'AUTH_INVALID_CREDENTIALS', 'error_code': 'AUTH_INVALID_CREDENTIALS', 'message': 'Invalid email or password', 'request_id': '5f1ce16c-681d-4d8b-a343-c2e1a3394b4f'}", "stack_info": null, "lineno": 540, "funcName": "login", "created": 1768815212.629906, "msecs": 629.0, "relativeCreated": 18507.87401199341, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a5f68d0", "processName": "MainProcess", "process": 2241, "request_id": "5f1ce16c-681d-4d8b-a343-c2e1a3394b4f", "asctime": "2026-01-19 09:33:32,629"}]}, "teardown": {"duration": 0.009648940999994693, "outcome": "passed"}}, {"nodeid": "tests/test_auth_router.py::test_register_rejects_weak_passwords[1-nocaps123!]", "lineno": 50, "outcome": "passed", "keywords": ["test_register_rejects_weak_passwords[1-nocaps123!]", "parametrize", "pytestmark", "1-nocaps123!", "test_auth_router.py", "tests", "backend", ""], "setup": {"duration": 0.043918714000000136, "outcome": "passed"}, "call": {"duration": 0.00725713399999961, "outcome": "passed"}, "teardown": {"duration": 0.00921905499998843, "outcome": "passed"}}, {"nodeid": "tests/test_auth_router.py::test_register_rejects_weak_passwords[2-NOLOWER123!]", "lineno": 50, "outcome": "passed", "keywords": ["test_register_rejects_weak_passwords[2-NOLOWER123!]", "parametrize", "pytestmark", "2-NOLOWER123!", "test_auth_router.py", "tests", "backend", ""], "setup": {"duration": 0.04272595800000545, "outcome": "passed"}, "call": {"duration": 0.007103658000005453, "outcome": "passed"}, "teardown": {"duration": 0.009389099999992823, "outcome": "passed"}}, {"nodeid": "tests/test_auth_router.py::test_register_rejects_weak_passwords[3-NoDigits!!!!]", "lineno": 50, "outcome": "passed", "keywords": ["test_register_rejects_weak_passwords[3-NoDigits!!!!]", "parametrize", "pytestmark", "3-NoDigits!!!!", "test_auth_router.py", "tests", "backend", ""], "setup": {"duration": 0.042742129999993494, "outcome": "passed"}, "call": {"duration": 0.007232117000000926, "outcome": "passed"}, "teardown": {"duration": 0.009588241000002995, "outcome": "passed"}}, {"nodeid": "tests/test_auth_router.py::test_register_rejects_weak_passwords[4-NoSpecial123]", "lineno": 50, "outcome": "passed", "keywords": ["test_register_rejects_weak_passwords[4-NoSpecial123]", "parametrize", "pytestmark", "4-NoSpecial123", "test_auth_router.py", "tests", "backend", ""], "setup": {"duration": 0.044265038999995454, "outcome": "passed"}, "call": {"duration": 0.008210121000004733, "outcome": "passed"}, "teardown": {"duration": 0.009661136999994824, "outcome": "passed"}}, {"nodeid": "tests/test_auth_router.py::test_register_rejects_weak_passwords[5-Space Pass1!]", "lineno": 50, "outcome": "passed", "keywords": ["test_register_rejects_weak_passwords[5-Space Pass1!]", "parametrize", "pytestmark", "5-Space Pass1!", "test_auth_router.py", "tests", "backend", ""], "setup": {"duration": 0.04244645100000355, "outcome": "passed"}, "call": {"duration": 0.007075986000003809, "outcome": "passed"}, "teardown": {"duration": 0.00920272000000466, "outcome": "passed"}}, {"nodeid": "tests/test_auth_router.py::test_me_requires_token", "lineno": 69, "outcome": "passed", "keywords": ["test_me_requires_token", "test_auth_router.py", "tests", "backend", ""], "setup": {"duration": 0.04199052799999947, "outcome": "passed"}, "call": {"duration": 0.007082861000000662, "outcome": "passed"}, "teardown": {"duration": 0.008877505000000951, "outcome": "passed"}}, {"nodeid": "tests/test_auth_router.py::test_verify_password_invalid_hash", "lineno": 74, "outcome": "passed", "keywords": ["test_verify_password_invalid_hash", "test_auth_router.py", "tests", "backend", ""], "setup": {"duration": 0.03679542799999069, "outcome": "passed"}, "call": {"duration": 0.00033560600000726026, "outcome": "passed"}, "teardown": {"duration": 0.00030382700001041485, "outcome": "passed"}}, {"nodeid": "tests/test_auth_router.py::test_get_current_user_invalid_token", "lineno": 80, "outcome": "passed", "keywords": ["test_get_current_user_invalid_token", "test_auth_router.py", "tests", "backend", ""], "setup": {"duration": 0.0407563859999982, "outcome": "passed"}, "call": {"duration": 0.001226878000011311, "outcome": "passed"}, "teardown": {"duration": 0.00044340700000589095, "outcome": "passed"}}, {"nodeid": "tests/test_auth_router.py::test_get_current_user_inactive_user", "lineno": 96, "outcome": "passed", "keywords": ["test_get_current_user_inactive_user", "test_auth_router.py", "tests", "backend", ""], "setup": {"duration": 0.04666413399999669, "outcome": "passed"}, "call": {"duration": 0.01426587400000301, "outcome": "passed", "log": [{"name": "backend.routers.routers_auth", "msg": "HTTPException during login", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py\", line 487, in login\n    raise http_error(\nfastapi.exceptions.HTTPException: 400: {'error_id': 'AUTH_INVALID_CREDENTIALS', 'error_code': 'AUTH_INVALID_CREDENTIALS', 'message': 'Invalid email or password', 'request_id': 'bbf1d741-33f6-4cd1-94b9-27d48df6a3cd'}", "stack_info": null, "lineno": 540, "funcName": "login", "created": 1768815213.1494534, "msecs": 149.0, "relativeCreated": 19027.421474456787, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a5c5e50", "processName": "MainProcess", "process": 2241, "request_id": "bbf1d741-33f6-4cd1-94b9-27d48df6a3cd", "asctime": "2026-01-19 09:33:33,149"}]}, "teardown": {"duration": 0.009185801000000993, "outcome": "passed"}}, {"nodeid": "tests/test_auth_router.py::test_require_role_denies_mismatch", "lineno": 119, "outcome": "passed", "keywords": ["test_require_role_denies_mismatch", "test_auth_router.py", "tests", "backend", ""], "setup": {"duration": 0.036647603999995226, "outcome": "passed"}, "call": {"duration": 0.000404294000006189, "outcome": "passed"}, "teardown": {"duration": 0.00027822900000273876, "outcome": "passed"}}, {"nodeid": "tests/test_auth_router.py::test_optional_require_role_returns_dummy_when_disabled", "lineno": 131, "outcome": "passed", "keywords": ["test_optional_require_role_returns_dummy_when_disabled", "test_auth_router.py", "tests", "backend", ""], "setup": {"duration": 0.039623796000000766, "outcome": "passed"}, "call": {"duration": 0.0003565749999978607, "outcome": "passed"}, "teardown": {"duration": 0.00026588500000457316, "outcome": "passed"}}, {"nodeid": "tests/test_auth_router.py::test_optional_require_role_enforces_when_enabled", "lineno": 145, "outcome": "passed", "keywords": ["test_optional_require_role_enforces_when_enabled", "test_auth_router.py", "tests", "backend", ""], "setup": {"duration": 0.03929575300000465, "outcome": "passed"}, "call": {"duration": 0.0003381499999903781, "outcome": "passed"}, "teardown": {"duration": 0.0002798729999966554, "outcome": "passed"}}, {"nodeid": "tests/test_auto_import_courses.py::test_wait_for_server_success", "lineno": 14, "outcome": "passed", "keywords": ["test_wait_for_server_success", "test_auto_import_courses.py", "tests", "backend", ""], "setup": {"duration": 0.039302524999996535, "outcome": "passed"}, "call": {"duration": 0.00030532899999968777, "outcome": "passed"}, "teardown": {"duration": 0.0002715569999907075, "outcome": "passed"}}, {"nodeid": "tests/test_auto_import_courses.py::test_wait_for_server_timeout", "lineno": 23, "outcome": "passed", "keywords": ["test_wait_for_server_timeout", "test_auto_import_courses.py", "tests", "backend", ""], "setup": {"duration": 0.039171971000001804, "outcome": "passed"}, "call": {"duration": 0.00027110599999957685, "outcome": "passed"}, "teardown": {"duration": 0.0002774680000072749, "outcome": "passed"}}, {"nodeid": "tests/test_auto_import_courses.py::test_wait_for_server_non_200", "lineno": 34, "outcome": "passed", "keywords": ["test_wait_for_server_non_200", "test_auto_import_courses.py", "tests", "backend", ""], "setup": {"duration": 0.039958699000010256, "outcome": "passed"}, "call": {"duration": 0.006612220999997476, "outcome": "passed"}, "teardown": {"duration": 0.00033838200000957386, "outcome": "passed"}}, {"nodeid": "tests/test_auto_import_courses.py::test_check_and_import_courses_empty_success", "lineno": 52, "outcome": "passed", "keywords": ["test_check_and_import_courses_empty_success", "test_auto_import_courses.py", "tests", "backend", ""], "setup": {"duration": 0.04023405200000241, "outcome": "passed"}, "call": {"duration": 0.00036770600000579634, "outcome": "passed", "stdout": "No courses found in database - importing from templates...\n\u2713 Auto-import completed: 3 created, 1 updated\n"}, "teardown": {"duration": 0.00031086900000332207, "outcome": "passed"}}, {"nodeid": "tests/test_auto_import_courses.py::test_check_and_import_courses_courses_exist", "lineno": 68, "outcome": "passed", "keywords": ["test_check_and_import_courses_courses_exist", "test_auto_import_courses.py", "tests", "backend", ""], "setup": {"duration": 0.0395840599999957, "outcome": "passed"}, "call": {"duration": 0.000317942999998877, "outcome": "passed", "stdout": "Courses already exist in database (1 courses) - skipping auto-import\n"}, "teardown": {"duration": 0.0002869059999994761, "outcome": "passed"}}, {"nodeid": "tests/test_auto_import_courses.py::test_check_and_import_courses_import_failed", "lineno": 79, "outcome": "passed", "keywords": ["test_check_and_import_courses_import_failed", "test_auto_import_courses.py", "tests", "backend", ""], "setup": {"duration": 0.03920913099999268, "outcome": "passed"}, "call": {"duration": 0.00032987499999137526, "outcome": "passed", "stdout": "No courses found in database - importing from templates...\n\u26a0 Auto-import failed with status 500\n"}, "teardown": {"duration": 0.0003025139999977, "outcome": "passed"}}, {"nodeid": "tests/test_auto_import_courses.py::test_check_and_import_courses_exception", "lineno": 94, "outcome": "passed", "keywords": ["test_check_and_import_courses_exception", "test_auto_import_courses.py", "tests", "backend", ""], "setup": {"duration": 0.03941017599998986, "outcome": "passed"}, "call": {"duration": 0.0003155090000035443, "outcome": "passed", "stdout": "\u26a0 Auto-import check failed: nope\n"}, "teardown": {"duration": 0.0003029249999997319, "outcome": "passed"}}, {"nodeid": "tests/test_backup_encryption.py::TestEncryptionService::test_master_key_creation", "lineno": 49, "outcome": "passed", "keywords": ["test_master_key_creation", "TestEncryptionService", "test_backup_encryption.py", "tests", "backend", ""], "setup": {"duration": 0.03986197899999411, "outcome": "passed"}, "call": {"duration": 0.000399865999995086, "outcome": "passed"}, "teardown": {"duration": 0.0005060339999971575, "outcome": "passed"}}, {"nodeid": "tests/test_backup_encryption.py::TestEncryptionService::test_master_key_reuse", "lineno": 59, "outcome": "passed", "keywords": ["test_master_key_reuse", "TestEncryptionService", "test_backup_encryption.py", "tests", "backend", ""], "setup": {"duration": 0.03953521900000112, "outcome": "passed"}, "call": {"duration": 0.00039738099999908627, "outcome": "passed"}, "teardown": {"duration": 0.0004253440000070441, "outcome": "passed"}}, {"nodeid": "tests/test_backup_encryption.py::TestEncryptionService::test_encrypt_decrypt_roundtrip", "lineno": 66, "outcome": "passed", "keywords": ["test_encrypt_decrypt_roundtrip", "TestEncryptionService", "test_backup_encryption.py", "tests", "backend", ""], "setup": {"duration": 0.03955748099998857, "outcome": "passed"}, "call": {"duration": 0.00047605700000019624, "outcome": "passed"}, "teardown": {"duration": 0.00043096400000308677, "outcome": "passed"}}, {"nodeid": "tests/test_backup_encryption.py::TestEncryptionService::test_encrypt_produces_different_output", "lineno": 73, "outcome": "passed", "keywords": ["test_encrypt_produces_different_output", "TestEncryptionService", "test_backup_encryption.py", "tests", "backend", ""], "setup": {"duration": 0.040499085999996964, "outcome": "passed"}, "call": {"duration": 0.0005795109999979786, "outcome": "passed"}, "teardown": {"duration": 0.00048191900000915666, "outcome": "passed"}}, {"nodeid": "tests/test_backup_encryption.py::TestEncryptionService::test_encrypt_with_associated_data", "lineno": 85, "outcome": "passed", "keywords": ["test_encrypt_with_associated_data", "TestEncryptionService", "test_backup_encryption.py", "tests", "backend", ""], "setup": {"duration": 0.04010087399998952, "outcome": "passed"}, "call": {"duration": 0.00042564399998923363, "outcome": "passed"}, "teardown": {"duration": 0.0004390389999997524, "outcome": "passed"}}, {"nodeid": "tests/test_backup_encryption.py::TestEncryptionService::test_decrypt_with_wrong_associated_data_fails", "lineno": 94, "outcome": "passed", "keywords": ["test_decrypt_with_wrong_associated_data_fails", "TestEncryptionService", "test_backup_encryption.py", "tests", "backend", ""], "setup": {"duration": 0.039636809000000994, "outcome": "passed"}, "call": {"duration": 0.0004893219999928533, "outcome": "passed"}, "teardown": {"duration": 0.00047779999999875145, "outcome": "passed"}}, {"nodeid": "tests/test_backup_encryption.py::TestEncryptionService::test_encrypt_corrupted_data_fails", "lineno": 105, "outcome": "passed", "keywords": ["test_encrypt_corrupted_data_fails", "TestEncryptionService", "test_backup_encryption.py", "tests", "backend", ""], "setup": {"duration": 0.03995894999999905, "outcome": "passed"}, "call": {"duration": 0.0004873080000038499, "outcome": "passed"}, "teardown": {"duration": 0.00046371500000930155, "outcome": "passed"}}, {"nodeid": "tests/test_backup_encryption.py::TestEncryptionService::test_invalid_encrypted_data_length", "lineno": 116, "outcome": "passed", "keywords": ["test_invalid_encrypted_data_length", "TestEncryptionService", "test_backup_encryption.py", "tests", "backend", ""], "setup": {"duration": 0.03970942499999808, "outcome": "passed"}, "call": {"duration": 0.00030198299999995015, "outcome": "passed"}, "teardown": {"duration": 0.00038314499998648444, "outcome": "passed"}}, {"nodeid": "tests/test_backup_encryption.py::TestEncryptionService::test_encrypt_file_roundtrip", "lineno": 121, "outcome": "passed", "keywords": ["test_encrypt_file_roundtrip", "TestEncryptionService", "test_backup_encryption.py", "tests", "backend", ""], "setup": {"duration": 0.041253823999994665, "outcome": "passed"}, "call": {"duration": 0.000872426999990239, "outcome": "passed"}, "teardown": {"duration": 0.0005737900000042373, "outcome": "passed"}}, {"nodeid": "tests/test_backup_encryption.py::TestEncryptionService::test_get_key_info", "lineno": 151, "outcome": "passed", "keywords": ["test_get_key_info", "TestEncryptionService", "test_backup_encryption.py", "tests", "backend", ""], "setup": {"duration": 0.04061533399999462, "outcome": "passed"}, "call": {"duration": 0.0003211089999979322, "outcome": "passed"}, "teardown": {"duration": 0.0003936640000006264, "outcome": "passed"}}, {"nodeid": "tests/test_backup_encryption.py::TestEncryptionService::test_rotate_master_key", "lineno": 161, "outcome": "passed", "keywords": ["test_rotate_master_key", "TestEncryptionService", "test_backup_encryption.py", "tests", "backend", ""], "setup": {"duration": 0.03971026600000016, "outcome": "passed"}, "call": {"duration": 0.0006978509999981952, "outcome": "passed"}, "teardown": {"duration": 0.00047314199998993445, "outcome": "passed"}}, {"nodeid": "tests/test_backup_encryption.py::TestBackupServiceEncrypted::test_create_encrypted_backup", "lineno": 183, "outcome": "passed", "keywords": ["test_create_encrypted_backup", "TestBackupServiceEncrypted", "test_backup_encryption.py", "tests", "backend", ""], "setup": {"duration": 0.040470963999993614, "outcome": "passed"}, "call": {"duration": 0.0007437670000030039, "outcome": "passed"}, "teardown": {"duration": 0.0005970930000103181, "outcome": "passed"}}, {"nodeid": "tests/test_backup_encryption.py::TestBackupServiceEncrypted::test_restore_encrypted_backup", "lineno": 197, "outcome": "passed", "keywords": ["test_restore_encrypted_backup", "TestBackupServiceEncrypted", "test_backup_encryption.py", "tests", "backend", ""], "setup": {"duration": 0.040326634999999555, "outcome": "passed"}, "call": {"duration": 0.0009331800000040857, "outcome": "passed"}, "teardown": {"duration": 0.000599788000002377, "outcome": "passed"}}, {"nodeid": "tests/test_backup_encryption.py::TestBackupServiceEncrypted::test_list_encrypted_backups", "lineno": 223, "outcome": "passed", "keywords": ["test_list_encrypted_backups", "TestBackupServiceEncrypted", "test_backup_encryption.py", "tests", "backend", ""], "setup": {"duration": 0.040156066999998075, "outcome": "passed"}, "call": {"duration": 0.0018564519999983986, "outcome": "passed"}, "teardown": {"duration": 0.0006514239999972915, "outcome": "passed"}}, {"nodeid": "tests/test_backup_encryption.py::TestBackupServiceEncrypted::test_delete_encrypted_backup", "lineno": 240, "outcome": "passed", "keywords": ["test_delete_encrypted_backup", "TestBackupServiceEncrypted", "test_backup_encryption.py", "tests", "backend", ""], "setup": {"duration": 0.04040330800000902, "outcome": "passed"}, "call": {"duration": 0.0009105980000043701, "outcome": "passed"}, "teardown": {"duration": 0.0005203000000051361, "outcome": "passed"}}, {"nodeid": "tests/test_backup_encryption.py::TestBackupServiceEncrypted::test_verify_backup_integrity", "lineno": 261, "outcome": "passed", "keywords": ["test_verify_backup_integrity", "TestBackupServiceEncrypted", "test_backup_encryption.py", "tests", "backend", ""], "setup": {"duration": 0.040216669999992405, "outcome": "passed"}, "call": {"duration": 0.0007157950000049595, "outcome": "passed"}, "teardown": {"duration": 0.0005963029999946912, "outcome": "passed"}}, {"nodeid": "tests/test_backup_encryption.py::TestBackupServiceEncrypted::test_verify_corrupted_backup_fails", "lineno": 275, "outcome": "passed", "keywords": ["test_verify_corrupted_backup_fails", "TestBackupServiceEncrypted", "test_backup_encryption.py", "tests", "backend", ""], "setup": {"duration": 0.048896537000004514, "outcome": "passed"}, "call": {"duration": 0.0012297840000030646, "outcome": "passed"}, "teardown": {"duration": 0.0009011009999966291, "outcome": "passed"}}, {"nodeid": "tests/test_backup_encryption.py::TestBackupServiceEncrypted::test_cleanup_old_backups", "lineno": 295, "outcome": "passed", "keywords": ["test_cleanup_old_backups", "TestBackupServiceEncrypted", "test_backup_encryption.py", "tests", "backend", ""], "setup": {"duration": 0.04351632099999847, "outcome": "passed"}, "call": {"duration": 0.006804940999998621, "outcome": "passed"}, "teardown": {"duration": 0.0009828530000106639, "outcome": "passed"}}, {"nodeid": "tests/test_backup_encryption.py::TestBackupServiceEncrypted::test_backup_not_found", "lineno": 315, "outcome": "passed", "keywords": ["test_backup_not_found", "TestBackupServiceEncrypted", "test_backup_encryption.py", "tests", "backend", ""], "setup": {"duration": 0.041690856999991865, "outcome": "passed"}, "call": {"duration": 0.00040793999998811614, "outcome": "passed"}, "teardown": {"duration": 0.00047799200000042674, "outcome": "passed"}}, {"nodeid": "tests/test_backup_encryption.py::TestBackupServiceEncrypted::test_source_file_not_found", "lineno": 323, "outcome": "passed", "keywords": ["test_source_file_not_found", "TestBackupServiceEncrypted", "test_backup_encryption.py", "tests", "backend", ""], "setup": {"duration": 0.04026290400000221, "outcome": "passed"}, "call": {"duration": 0.0003509440000044606, "outcome": "passed"}, "teardown": {"duration": 0.0005088480000097206, "outcome": "passed"}}, {"nodeid": "tests/test_change_password.py::test_change_password_flow", "lineno": 0, "outcome": "passed", "keywords": ["test_change_password_flow", "test_change_password.py", "tests", "backend", ""], "setup": {"duration": 0.04527038199999822, "outcome": "passed"}, "call": {"duration": 0.1137230479999971, "outcome": "passed", "log": [{"name": "backend.routers.routers_auth", "msg": "HTTPException during login", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py\", line 487, in login\n    raise http_error(\nfastapi.exceptions.HTTPException: 400: {'error_id': 'AUTH_INVALID_CREDENTIALS', 'error_code': 'AUTH_INVALID_CREDENTIALS', 'message': 'Invalid email or password', 'request_id': '8e780f64-a8a4-48f7-9ed9-2f8457e7de59'}", "stack_info": null, "lineno": 540, "funcName": "login", "created": 1768815214.5836296, "msecs": 583.0, "relativeCreated": 20461.597681045532, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a623dd0", "processName": "MainProcess", "process": 2241, "request_id": "8e780f64-a8a4-48f7-9ed9-2f8457e7de59", "asctime": "2026-01-19 09:33:34,583"}]}, "teardown": {"duration": 0.009662348000006205, "outcome": "passed"}}, {"nodeid": "tests/test_config_module.py::test_semester_weeks_validation_bounds", "lineno": 24, "outcome": "passed", "keywords": ["test_semester_weeks_validation_bounds", "test_config_module.py", "tests", "backend", ""], "setup": {"duration": 0.03713177400000234, "outcome": "passed"}, "call": {"duration": 0.013756933999999887, "outcome": "passed"}, "teardown": {"duration": 0.0003323199999982762, "outcome": "passed"}}, {"nodeid": "tests/test_config_module.py::test_database_url_must_reside_in_project", "lineno": 31, "outcome": "passed", "keywords": ["test_database_url_must_reside_in_project", "test_config_module.py", "tests", "backend", ""], "setup": {"duration": 0.03957049199999574, "outcome": "passed"}, "call": {"duration": 0.0070003139999954556, "outcome": "passed"}, "teardown": {"duration": 0.000276837000001251, "outcome": "passed"}}, {"nodeid": "tests/test_config_module.py::test_secret_key_auto_generates_secure_value", "lineno": 37, "outcome": "passed", "keywords": ["test_secret_key_auto_generates_secure_value", "test_config_module.py", "tests", "backend", ""], "setup": {"duration": 0.039862436999996476, "outcome": "passed"}, "call": {"duration": 0.014404181000003291, "outcome": "passed", "log": [{"name": "backend.config", "msg": "\ud83d\udd10 SECRET_KEY SECURITY ISSUE: must be at least 32 characters (current: 5)\n   Environment: development (native mode)\n   Generate strong key: python -c \"import secrets; print(secrets.token_urlsafe(48))\"\n   Set in backend/.env: SECRET_KEY=<generated_key>\n   Auto-generated temporary secure SECRET_KEY for tests/CI.", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/config.py", "filename": "config.py", "module": "config", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 517, "funcName": "handle_insecure", "created": 1768815214.7630305, "msecs": 763.0, "relativeCreated": 20640.998601913452, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:33:34,763"}, {"name": "backend.config", "msg": "\ud83d\udd10 SECRET_KEY SECURITY ISSUE: placeholder/default value detected\n   Environment: development (native mode)\n   Generate strong key: python -c \"import secrets; print(secrets.token_urlsafe(48))\"\n   Set in backend/.env: SECRET_KEY=<generated_key>", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/config.py", "filename": "config.py", "module": "config", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 502, "funcName": "handle_insecure", "created": 1768815214.7700071, "msecs": 770.0, "relativeCreated": 20647.975206375122, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:33:34,770"}]}, "teardown": {"duration": 0.0003196459999941226, "outcome": "passed"}}, {"nodeid": "tests/test_config_module.py::test_cors_origins_list_parses_json_string", "lineno": 53, "outcome": "passed", "keywords": ["test_cors_origins_list_parses_json_string", "test_config_module.py", "tests", "backend", ""], "setup": {"duration": 0.039632238000010034, "outcome": "passed"}, "call": {"duration": 0.0070215940000082355, "outcome": "passed"}, "teardown": {"duration": 0.0002964230000088719, "outcome": "passed"}}, {"nodeid": "tests/test_config_module.py::test_cors_origins_list_handles_comma_values", "lineno": 58, "outcome": "passed", "keywords": ["test_cors_origins_list_handles_comma_values", "test_config_module.py", "tests", "backend", ""], "setup": {"duration": 0.03974420800000189, "outcome": "passed"}, "call": {"duration": 0.0072465230000062775, "outcome": "passed"}, "teardown": {"duration": 0.0002975050000060264, "outcome": "passed"}}, {"nodeid": "tests/test_config_module.py::test_database_url_accepts_postgres_uri", "lineno": 67, "outcome": "passed", "keywords": ["test_database_url_accepts_postgres_uri", "test_config_module.py", "tests", "backend", ""], "setup": {"duration": 0.03972584300001358, "outcome": "passed"}, "call": {"duration": 0.006829796999994642, "outcome": "passed"}, "teardown": {"duration": 0.0002904910000012251, "outcome": "passed"}}, {"nodeid": "tests/test_config_module.py::test_database_url_autobuilds_when_engine_is_postgres", "lineno": 74, "outcome": "passed", "keywords": ["test_database_url_autobuilds_when_engine_is_postgres", "test_config_module.py", "tests", "backend", ""], "setup": {"duration": 0.03954296199999874, "outcome": "passed"}, "call": {"duration": 0.007122743000010701, "outcome": "passed"}, "teardown": {"duration": 0.0002873159999978725, "outcome": "passed"}}, {"nodeid": "tests/test_config_module.py::test_database_url_autobuild_requires_complete_postgres_config", "lineno": 91, "outcome": "passed", "keywords": ["test_database_url_autobuild_requires_complete_postgres_config", "test_config_module.py", "tests", "backend", ""], "setup": {"duration": 0.039757041000001436, "outcome": "passed"}, "call": {"duration": 0.006990125999990937, "outcome": "passed"}, "teardown": {"duration": 0.0003041480000121055, "outcome": "passed"}}, {"nodeid": "tests/test_config_settings.py::test_cors_origins_list_parses_json_like_string", "lineno": 10, "outcome": "passed", "keywords": ["test_cors_origins_list_parses_json_like_string", "test_config_settings.py", "tests", "backend", ""], "setup": {"duration": 0.04028824099999895, "outcome": "passed"}, "call": {"duration": 0.007626201999997306, "outcome": "passed", "log": [{"name": "backend.config", "msg": "\ud83d\udd10 SECRET_KEY SECURITY ISSUE: placeholder/default value detected\n   Environment: development (native mode)\n   Generate strong key: python -c \"import secrets; print(secrets.token_urlsafe(48))\"\n   Set in backend/.env: SECRET_KEY=<generated_key>", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/config.py", "filename": "config.py", "module": "config", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 502, "funcName": "handle_insecure", "created": 1768815215.0597034, "msecs": 59.0, "relativeCreated": 20937.671422958374, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:33:35,059"}]}, "teardown": {"duration": 0.00029531999999221625, "outcome": "passed"}}, {"nodeid": "tests/test_config_settings.py::test_cors_origins_list_parses_comma_list", "lineno": 15, "outcome": "passed", "keywords": ["test_cors_origins_list_parses_comma_list", "test_config_settings.py", "tests", "backend", ""], "setup": {"duration": 0.04076813600001117, "outcome": "passed"}, "call": {"duration": 0.007383439000008707, "outcome": "passed", "log": [{"name": "backend.config", "msg": "\ud83d\udd10 SECRET_KEY SECURITY ISSUE: placeholder/default value detected\n   Environment: development (native mode)\n   Generate strong key: python -c \"import secrets; print(secrets.token_urlsafe(48))\"\n   Set in backend/.env: SECRET_KEY=<generated_key>", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/config.py", "filename": "config.py", "module": "config", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 502, "funcName": "handle_insecure", "created": 1768815215.1093001, "msecs": 109.0, "relativeCreated": 20987.268209457397, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:33:35,109"}]}, "teardown": {"duration": 0.0002980560000054311, "outcome": "passed"}}, {"nodeid": "tests/test_config_settings.py::test_semester_weeks_validator_rejects_out_of_range", "lineno": 20, "outcome": "passed", "keywords": ["test_semester_weeks_validator_rejects_out_of_range", "test_config_settings.py", "tests", "backend", ""], "setup": {"duration": 0.03969187999999235, "outcome": "passed"}, "call": {"duration": 0.007125598000001787, "outcome": "passed"}, "teardown": {"duration": 0.00028686500000674187, "outcome": "passed"}}, {"nodeid": "tests/test_config_settings.py::test_secret_key_placeholder_generates_random_key_when_enforced", "lineno": 25, "outcome": "passed", "keywords": ["test_secret_key_placeholder_generates_random_key_when_enforced", "test_config_settings.py", "tests", "backend", ""], "setup": {"duration": 0.03983269199999029, "outcome": "passed"}, "call": {"duration": 0.007350808000012421, "outcome": "passed", "log": [{"name": "backend.config", "msg": "\ud83d\udd10 SECRET_KEY SECURITY ISSUE: placeholder/default value detected\n   Environment: development (native mode)\n   Generate strong key: python -c \"import secrets; print(secrets.token_urlsafe(48))\"\n   Set in backend/.env: SECRET_KEY=<generated_key>\n   Auto-generated temporary secure SECRET_KEY for tests/CI.", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/config.py", "filename": "config.py", "module": "config", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 517, "funcName": "handle_insecure", "created": 1768815215.2060597, "msecs": 206.0, "relativeCreated": 21084.027767181396, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:33:35,206"}]}, "teardown": {"duration": 0.0003203770000084205, "outcome": "passed"}}, {"nodeid": "tests/test_config_settings.py::test_secret_key_placeholder_allowed_when_not_enforced", "lineno": 41, "outcome": "passed", "keywords": ["test_secret_key_placeholder_allowed_when_not_enforced", "test_config_settings.py", "tests", "backend", ""], "setup": {"duration": 0.03993962199999146, "outcome": "passed"}, "call": {"duration": 0.007458658999993872, "outcome": "passed", "log": [{"name": "backend.config", "msg": "\ud83d\udd10 SECRET_KEY SECURITY ISSUE: placeholder/default value detected\n   Environment: development (native mode)\n   Generate strong key: python -c \"import secrets; print(secrets.token_urlsafe(48))\"\n   Set in backend/.env: SECRET_KEY=<generated_key>", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/config.py", "filename": "config.py", "module": "config", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 502, "funcName": "handle_insecure", "created": 1768815215.2548623, "msecs": 254.0, "relativeCreated": 21132.830381393433, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:33:35,254"}]}, "teardown": {"duration": 0.0003247460000039837, "outcome": "passed"}}, {"nodeid": "tests/test_config_settings.py::test_secret_key_placeholder_raises_when_not_in_test_env", "lineno": 55, "outcome": "passed", "keywords": ["test_secret_key_placeholder_raises_when_not_in_test_env", "test_config_settings.py", "tests", "backend", ""], "setup": {"duration": 0.040194155999998316, "outcome": "passed"}, "call": {"duration": 0.020777467000002048, "outcome": "passed", "log": [{"name": "backend.config", "msg": "\ud83d\udd10 SECRET_KEY SECURITY ISSUE: placeholder/default value detected\n   Environment: development (native mode)\n   Generate strong key: python -c \"import secrets; print(secrets.token_urlsafe(48))\"\n   Set in backend/.env: SECRET_KEY=<generated_key>", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/config.py", "filename": "config.py", "module": "config", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 502, "funcName": "handle_insecure", "created": 1768815215.31727, "msecs": 317.0, "relativeCreated": 21195.23811340332, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:33:35,317"}]}, "teardown": {"duration": 0.00031586900000490914, "outcome": "passed"}}, {"nodeid": "tests/test_config_settings.py::test_secret_key_short_generates_when_enforced", "lineno": 95, "outcome": "passed", "keywords": ["test_secret_key_short_generates_when_enforced", "test_config_settings.py", "tests", "backend", ""], "setup": {"duration": 0.03996922599999664, "outcome": "passed"}, "call": {"duration": 0.01427456899999413, "outcome": "passed", "log": [{"name": "backend.config", "msg": "\ud83d\udd10 SECRET_KEY SECURITY ISSUE: must be at least 32 characters (current: 5)\n   Environment: development (native mode)\n   Generate strong key: python -c \"import secrets; print(secrets.token_urlsafe(48))\"\n   Set in backend/.env: SECRET_KEY=<generated_key>\n   Auto-generated temporary secure SECRET_KEY for tests/CI.", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/config.py", "filename": "config.py", "module": "config", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 517, "funcName": "handle_insecure", "created": 1768815215.3660429, "msecs": 366.0, "relativeCreated": 21244.01092529297, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:33:35,366"}, {"name": "backend.config", "msg": "\ud83d\udd10 SECRET_KEY SECURITY ISSUE: must be at least 32 characters (current: 5)\n   Environment: development (native mode)\n   Generate strong key: python -c \"import secrets; print(secrets.token_urlsafe(48))\"\n   Set in backend/.env: SECRET_KEY=<generated_key>\n   Auto-generated temporary secure SECRET_KEY for tests/CI.", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/config.py", "filename": "config.py", "module": "config", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 517, "funcName": "handle_insecure", "created": 1768815215.3729901, "msecs": 372.0, "relativeCreated": 21250.95820426941, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:33:35,372"}]}, "teardown": {"duration": 0.00033913199999346944, "outcome": "passed"}}, {"nodeid": "tests/test_config_settings.py::test_secret_key_short_allowed_when_not_enforced", "lineno": 117, "outcome": "passed", "keywords": ["test_secret_key_short_allowed_when_not_enforced", "test_config_settings.py", "tests", "backend", ""], "setup": {"duration": 0.04077767399999743, "outcome": "passed"}, "call": {"duration": 0.007352120999996714, "outcome": "passed", "log": [{"name": "backend.config", "msg": "\ud83d\udd10 SECRET_KEY SECURITY ISSUE: must be at least 32 characters (current: 5)\n   Environment: development (native mode)\n   Generate strong key: python -c \"import secrets; print(secrets.token_urlsafe(48))\"\n   Set in backend/.env: SECRET_KEY=<generated_key>", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/config.py", "filename": "config.py", "module": "config", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 502, "funcName": "handle_insecure", "created": 1768815215.422546, "msecs": 422.0, "relativeCreated": 21300.513982772827, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:33:35,422"}]}, "teardown": {"duration": 0.0002963630000039075, "outcome": "passed"}}, {"nodeid": "tests/test_config_settings.py::test_database_url_rejects_path_outside_project", "lineno": 126, "outcome": "passed", "keywords": ["test_database_url_rejects_path_outside_project", "test_config_settings.py", "tests", "backend", ""], "setup": {"duration": 0.039899026000000504, "outcome": "passed"}, "call": {"duration": 0.0071849880000058874, "outcome": "passed"}, "teardown": {"duration": 0.0003061809999991283, "outcome": "passed"}}, {"nodeid": "tests/test_config_settings.py::test_database_url_accepts_path_inside_project", "lineno": 134, "outcome": "passed", "keywords": ["test_database_url_accepts_path_inside_project", "test_config_settings.py", "tests", "backend", ""], "setup": {"duration": 0.039225379000001226, "outcome": "passed"}, "call": {"duration": 0.0074543620000042665, "outcome": "passed", "log": [{"name": "backend.config", "msg": "\ud83d\udd10 SECRET_KEY SECURITY ISSUE: placeholder/default value detected\n   Environment: development (native mode)\n   Generate strong key: python -c \"import secrets; print(secrets.token_urlsafe(48))\"\n   Set in backend/.env: SECRET_KEY=<generated_key>", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/config.py", "filename": "config.py", "module": "config", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 502, "funcName": "handle_insecure", "created": 1768815215.518993, "msecs": 518.0, "relativeCreated": 21396.960973739624, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:33:35,518"}]}, "teardown": {"duration": 0.00030762399998707224, "outcome": "passed"}}, {"nodeid": "tests/test_config_settings.py::test_auth_enabled_raises_error_with_placeholder_secret_key", "lineno": 143, "outcome": "passed", "keywords": ["test_auth_enabled_raises_error_with_placeholder_secret_key", "test_config_settings.py", "tests", "backend", ""], "setup": {"duration": 0.03940421199999378, "outcome": "passed"}, "call": {"duration": 0.0070479630000050975, "outcome": "passed"}, "teardown": {"duration": 0.0002833789999954206, "outcome": "passed"}}, {"nodeid": "tests/test_config_settings.py::test_auth_enabled_accepts_custom_secret_key", "lineno": 156, "outcome": "passed", "keywords": ["test_auth_enabled_accepts_custom_secret_key", "test_config_settings.py", "tests", "backend", ""], "setup": {"duration": 0.039255646000000866, "outcome": "passed"}, "call": {"duration": 0.006967884000005142, "outcome": "passed"}, "teardown": {"duration": 0.00028243699999563887, "outcome": "passed"}}, {"nodeid": "tests/test_config_settings.py::test_auth_disabled_allows_placeholder_secret_key", "lineno": 169, "outcome": "passed", "keywords": ["test_auth_disabled_allows_placeholder_secret_key", "test_config_settings.py", "tests", "backend", ""], "setup": {"duration": 0.039010077000000365, "outcome": "passed"}, "call": {"duration": 0.007196750999995061, "outcome": "passed", "log": [{"name": "backend.config", "msg": "\ud83d\udd10 SECRET_KEY SECURITY ISSUE: placeholder/default value detected\n   Environment: development (native mode)\n   Generate strong key: python -c \"import secrets; print(secrets.token_urlsafe(48))\"\n   Set in backend/.env: SECRET_KEY=<generated_key>", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/config.py", "filename": "config.py", "module": "config", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 502, "funcName": "handle_insecure", "created": 1768815215.6616657, "msecs": 661.0, "relativeCreated": 21539.633750915527, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:33:35,661"}]}, "teardown": {"duration": 0.00027829900000142516, "outcome": "passed"}}, {"nodeid": "tests/test_config_settings.py::test_secret_key_can_be_explicitly_set", "lineno": 183, "outcome": "passed", "keywords": ["test_secret_key_can_be_explicitly_set", "test_config_settings.py", "tests", "backend", ""], "setup": {"duration": 0.03910306100000582, "outcome": "passed"}, "call": {"duration": 0.007031702999995559, "outcome": "passed"}, "teardown": {"duration": 0.00030300499999214026, "outcome": "passed"}}, {"nodeid": "tests/test_config_settings.py::test_secret_key_auto_generation_on_short_key", "lineno": 197, "outcome": "passed", "keywords": ["test_secret_key_auto_generation_on_short_key", "test_config_settings.py", "tests", "backend", ""], "setup": {"duration": 0.039225588999997285, "outcome": "passed"}, "call": {"duration": 0.007308868999999163, "outcome": "passed", "log": [{"name": "backend.config", "msg": "\ud83d\udd10 SECRET_KEY SECURITY ISSUE: must be at least 32 characters (current: 9)\n   Environment: development (native mode)\n   Generate strong key: python -c \"import secrets; print(secrets.token_urlsafe(48))\"\n   Set in backend/.env: SECRET_KEY=<generated_key>\n   Auto-generated temporary secure SECRET_KEY for tests/CI.", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/config.py", "filename": "config.py", "module": "config", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 517, "funcName": "handle_insecure", "created": 1768815215.7568815, "msecs": 756.0, "relativeCreated": 21634.849548339844, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:33:35,756"}]}, "teardown": {"duration": 0.0003144659999918531, "outcome": "passed"}}, {"nodeid": "tests/test_control_endpoints.py::test_control_status_monkeypatched", "lineno": 25, "outcome": "passed", "keywords": ["test_control_status_monkeypatched", "test_control_endpoints.py", "skipif", "tests", "backend", ""], "setup": {"duration": 0.046726057000000765, "outcome": "passed"}, "call": {"duration": 1.1376938110000054, "outcome": "passed"}, "teardown": {"duration": 0.010123278000008895, "outcome": "passed"}}, {"nodeid": "tests/test_control_endpoints.py::test_control_start_npm_missing", "lineno": 34, "outcome": "passed", "keywords": ["test_control_start_npm_missing", "test_control_endpoints.py", "skipif", "tests", "backend", ""], "setup": {"duration": 0.043401445999990074, "outcome": "passed"}, "call": {"duration": 0.004775576000000115, "outcome": "passed"}, "teardown": {"duration": 0.009309110000003784, "outcome": "passed"}}, {"nodeid": "tests/test_control_endpoints.py::test_control_stop_kills_pids", "lineno": 57, "outcome": "passed", "keywords": ["test_control_stop_kills_pids", "test_control_endpoints.py", "skipif", "tests", "backend", ""], "setup": {"duration": 0.043894496000007166, "outcome": "passed"}, "call": {"duration": 0.00537501400000906, "outcome": "passed"}, "teardown": {"duration": 0.009821488000000045, "outcome": "passed"}}, {"nodeid": "tests/test_control_endpoints.py::test_control_restart_schedules_thread", "lineno": 80, "outcome": "passed", "keywords": ["test_control_restart_schedules_thread", "test_control_endpoints.py", "skipif", "tests", "backend", ""], "setup": {"duration": 0.04389376500000708, "outcome": "passed"}, "call": {"duration": 0.005131349000009777, "outcome": "passed"}, "teardown": {"duration": 0.009564276000006089, "outcome": "passed"}}, {"nodeid": "tests/test_control_endpoints.py::test_control_restart_blocked_in_docker", "lineno": 99, "outcome": "passed", "keywords": ["test_control_restart_blocked_in_docker", "test_control_endpoints.py", "skipif", "tests", "backend", ""], "setup": {"duration": 0.04300586900001235, "outcome": "passed"}, "call": {"duration": 0.004814086999999745, "outcome": "passed"}, "teardown": {"duration": 0.009052701000001662, "outcome": "passed"}}, {"nodeid": "tests/test_control_endpoints.py::test_restart_diagnostics_reports_native", "lineno": 109, "outcome": "passed", "keywords": ["test_restart_diagnostics_reports_native", "test_control_endpoints.py", "skipif", "tests", "backend", ""], "setup": {"duration": 0.04280017600000008, "outcome": "passed"}, "call": {"duration": 0.005127712000003726, "outcome": "passed"}, "teardown": {"duration": 0.009265197999994257, "outcome": "passed"}}, {"nodeid": "tests/test_control_endpoints.py::test_restart_disabled_when_control_api_off", "lineno": 121, "outcome": "passed", "keywords": ["test_restart_disabled_when_control_api_off", "test_control_endpoints.py", "skipif", "tests", "backend", ""], "setup": {"duration": 0.042884061999998835, "outcome": "passed"}, "call": {"duration": 0.009683448000004091, "outcome": "passed"}, "teardown": {"duration": 0.00989948100000504, "outcome": "passed"}}, {"nodeid": "tests/test_control_endpoints.py::test_install_frontend_deps_missing_package_json", "lineno": 136, "outcome": "passed", "keywords": ["test_install_frontend_deps_missing_package_json", "test_control_endpoints.py", "skipif", "tests", "backend", ""], "setup": {"duration": 0.04357736500000442, "outcome": "passed"}, "call": {"duration": 0.005424085000001355, "outcome": "passed"}, "teardown": {"duration": 0.009549335000002657, "outcome": "passed"}}, {"nodeid": "tests/test_control_endpoints.py::test_install_frontend_deps_npm_missing", "lineno": 154, "outcome": "passed", "keywords": ["test_install_frontend_deps_npm_missing", "test_control_endpoints.py", "skipif", "tests", "backend", ""], "setup": {"duration": 0.04445944000001134, "outcome": "passed"}, "call": {"duration": 0.005401703000003977, "outcome": "passed"}, "teardown": {"duration": 0.009732088000006911, "outcome": "passed"}}, {"nodeid": "tests/test_control_endpoints.py::test_install_backend_deps_missing_requirements", "lineno": 164, "outcome": "passed", "keywords": ["test_install_backend_deps_missing_requirements", "test_control_endpoints.py", "skipif", "tests", "backend", ""], "setup": {"duration": 0.04440908699999113, "outcome": "passed"}, "call": {"duration": 0.00581094700000051, "outcome": "passed"}, "teardown": {"duration": 0.009813471000001073, "outcome": "passed"}}, {"nodeid": "tests/test_control_endpoints.py::test_docker_build_when_docker_not_running", "lineno": 182, "outcome": "passed", "keywords": ["test_docker_build_when_docker_not_running", "test_control_endpoints.py", "skipif", "tests", "backend", ""], "setup": {"duration": 0.04371261700001128, "outcome": "passed"}, "call": {"duration": 0.005069594000005395, "outcome": "passed"}, "teardown": {"duration": 0.009564546000007113, "outcome": "passed"}}, {"nodeid": "tests/test_control_endpoints.py::test_docker_update_volume_when_docker_not_running", "lineno": 191, "outcome": "passed", "keywords": ["test_docker_update_volume_when_docker_not_running", "test_control_endpoints.py", "skipif", "tests", "backend", ""], "setup": {"duration": 0.043529485999997064, "outcome": "passed"}, "call": {"duration": 0.005155525000006378, "outcome": "passed"}, "teardown": {"duration": 0.009609260000004838, "outcome": "passed"}}, {"nodeid": "tests/test_control_endpoints.py::test_download_database_backup_success", "lineno": 200, "outcome": "passed", "keywords": ["test_download_database_backup_success", "test_control_endpoints.py", "skipif", "tests", "backend", ""], "setup": {"duration": 0.04392281900000228, "outcome": "passed"}, "call": {"duration": 0.008042056999997271, "outcome": "passed"}, "teardown": {"duration": 0.010024586000000113, "outcome": "passed"}}, {"nodeid": "tests/test_control_endpoints.py::test_download_database_backup_not_found", "lineno": 218, "outcome": "passed", "keywords": ["test_download_database_backup_not_found", "test_control_endpoints.py", "skipif", "tests", "backend", ""], "setup": {"duration": 0.043864379999988046, "outcome": "passed"}, "call": {"duration": 0.0056930359999967095, "outcome": "passed"}, "teardown": {"duration": 0.009761603999990598, "outcome": "passed"}}, {"nodeid": "tests/test_control_endpoints.py::test_download_database_backup_rejects_traversal", "lineno": 226, "outcome": "passed", "keywords": ["test_download_database_backup_rejects_traversal", "test_control_endpoints.py", "skipif", "tests", "backend", ""], "setup": {"duration": 0.0379036450000001, "outcome": "passed"}, "call": {"duration": 0.0014854200000087303, "outcome": "passed"}, "teardown": {"duration": 0.0003014620000101331, "outcome": "passed"}}, {"nodeid": "tests/test_control_environment.py::test_environment_basic_shape", "lineno": 4, "outcome": "passed", "keywords": ["test_environment_basic_shape", "test_control_environment.py", "tests", "backend", ""], "setup": {"duration": 0.047191084000004935, "outcome": "passed"}, "call": {"duration": 1.987912098999999, "outcome": "passed", "log": [{"name": "backend.app_factory", "msg": "\u26a0\ufe0f  Failed to mount WebSocket server: 'AsyncServer' object has no attribute 'asgi_app'", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/app_factory.py", "filename": "app_factory.py", "module": "app_factory", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 126, "funcName": "create_app", "created": 1768815219.7912028, "msecs": 791.0, "relativeCreated": 25669.17085647583, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a4849d0", "processName": "MainProcess", "process": 2241, "request_id": "20723384-5345-4a4b-888e-3d38243635cb", "asctime": "2026-01-19 09:33:39,791"}]}, "teardown": {"duration": 0.009866529000007063, "outcome": "passed"}}, {"nodeid": "tests/test_control_environment.py::test_environment_includes_python_packages", "lineno": 30, "outcome": "passed", "keywords": ["test_environment_includes_python_packages", "test_control_environment.py", "tests", "backend", ""], "setup": {"duration": 0.04254936799999598, "outcome": "passed"}, "call": {"duration": 0.6895235349999922, "outcome": "passed", "log": [{"name": "backend.app_factory", "msg": "\u26a0\ufe0f  Failed to mount WebSocket server: 'AsyncServer' object has no attribute 'asgi_app'", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/app_factory.py", "filename": "app_factory.py", "module": "app_factory", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 126, "funcName": "create_app", "created": 1768815220.54439, "msecs": 544.0, "relativeCreated": 26422.35803604126, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a49e750", "processName": "MainProcess", "process": 2241, "request_id": "66ede5aa-9593-41fa-868b-ae6b391dd84f", "asctime": "2026-01-19 09:33:40,544"}]}, "teardown": {"duration": 0.00927651000000651, "outcome": "passed"}}, {"nodeid": "tests/test_control_jwt_integration.py::test_jwt_admin_can_call_control_stop", "lineno": 3, "outcome": "passed", "keywords": ["test_jwt_admin_can_call_control_stop", "test_control_jwt_integration.py", "tests", "backend", ""], "setup": {"duration": 0.040950546000004806, "outcome": "passed"}, "call": {"duration": 0.041841172000005145, "outcome": "passed"}, "teardown": {"duration": 0.009391543999996088, "outcome": "passed"}}, {"nodeid": "tests/test_control_maintenance.py::test_get_auth_settings", "lineno": 6, "outcome": "passed", "keywords": ["test_get_auth_settings", "test_control_maintenance.py", "tests", "backend", ""], "setup": {"duration": 0.04158017100000677, "outcome": "passed"}, "call": {"duration": 0.005802536000004466, "outcome": "passed"}, "teardown": {"duration": 0.008894316999999319, "outcome": "passed"}}, {"nodeid": "tests/test_control_maintenance.py::test_get_auth_policy_guide", "lineno": 23, "outcome": "passed", "keywords": ["test_get_auth_policy_guide", "test_control_maintenance.py", "tests", "backend", ""], "setup": {"duration": 0.04124843099999964, "outcome": "passed"}, "call": {"duration": 0.006593832999996607, "outcome": "passed"}, "teardown": {"duration": 0.0089571339999992, "outcome": "passed"}}, {"nodeid": "tests/test_control_maintenance.py::test_update_auth_settings_with_auth_mode", "lineno": 42, "outcome": "passed", "keywords": ["test_update_auth_settings_with_auth_mode", "test_control_maintenance.py", "tests", "backend", ""], "setup": {"duration": 0.04132821100000683, "outcome": "passed"}, "call": {"duration": 0.007164574000000812, "outcome": "passed"}, "teardown": {"duration": 0.00917513099999212, "outcome": "passed"}}, {"nodeid": "tests/test_control_maintenance.py::test_update_auth_settings_multiple_values", "lineno": 68, "outcome": "passed", "keywords": ["test_update_auth_settings_multiple_values", "test_control_maintenance.py", "tests", "backend", ""], "setup": {"duration": 0.041190634000003, "outcome": "passed"}, "call": {"duration": 0.007533939999987638, "outcome": "passed"}, "teardown": {"duration": 0.008775975999995467, "outcome": "passed"}}, {"nodeid": "tests/test_control_maintenance.py::test_update_auth_settings_validation", "lineno": 82, "outcome": "passed", "keywords": ["test_update_auth_settings_validation", "test_control_maintenance.py", "tests", "backend", ""], "setup": {"duration": 0.04099132300000008, "outcome": "passed"}, "call": {"duration": 0.011343534000005207, "outcome": "passed"}, "teardown": {"duration": 0.008654058000004738, "outcome": "passed"}}, {"nodeid": "tests/test_control_maintenance.py::test_auth_settings_endpoint_exists_in_openapi", "lineno": 93, "outcome": "passed", "keywords": ["test_auth_settings_endpoint_exists_in_openapi", "test_control_maintenance.py", "tests", "backend", ""], "setup": {"duration": 0.04174009900000897, "outcome": "passed"}, "call": {"duration": 1.0624877650000002, "outcome": "passed"}, "teardown": {"duration": 0.010390716999992833, "outcome": "passed"}}, {"nodeid": "tests/test_control_path_traversal.py::test_save_backups_zip_to_path_traversal", "lineno": 7, "outcome": "passed", "keywords": ["test_save_backups_zip_to_path_traversal", "test_control_path_traversal.py", "tests", "backend", ""], "setup": {"duration": 0.03764383000000748, "outcome": "passed"}, "call": {"duration": 0.007428723999993281, "outcome": "passed"}, "teardown": {"duration": 0.00031592900000987356, "outcome": "passed"}}, {"nodeid": "tests/test_control_path_traversal.py::test_save_selected_backups_zip_to_path_traversal", "lineno": 17, "outcome": "passed", "keywords": ["test_save_selected_backups_zip_to_path_traversal", "test_control_path_traversal.py", "tests", "backend", ""], "setup": {"duration": 0.04110511400000405, "outcome": "passed"}, "call": {"duration": 0.007561090999999465, "outcome": "passed"}, "teardown": {"duration": 0.0003153490000045167, "outcome": "passed"}}, {"nodeid": "tests/test_control_path_traversal.py::test_save_database_backup_to_path_traversal", "lineno": 25, "outcome": "passed", "keywords": ["test_save_database_backup_to_path_traversal", "test_control_path_traversal.py", "tests", "backend", ""], "setup": {"duration": 0.04183871300000419, "outcome": "passed"}, "call": {"duration": 0.007177365000003988, "outcome": "passed"}, "teardown": {"duration": 0.0003140050000070005, "outcome": "passed"}}, {"nodeid": "tests/test_control_start_branches.py::test_control_start_success", "lineno": 17, "outcome": "passed", "keywords": ["test_control_start_success", "test_control_start_branches.py", "skipif", "tests", "backend", ""], "setup": {"duration": 0.04583550600000308, "outcome": "passed"}, "call": {"duration": 0.2559861609999956, "outcome": "passed"}, "teardown": {"duration": 0.009659799999994334, "outcome": "passed"}}, {"nodeid": "tests/test_control_start_branches.py::test_control_start_install_failure", "lineno": 78, "outcome": "passed", "keywords": ["test_control_start_install_failure", "test_control_start_branches.py", "skipif", "tests", "backend", ""], "setup": {"duration": 0.04283881499999609, "outcome": "passed"}, "call": {"duration": 0.00466813900000318, "outcome": "passed"}, "teardown": {"duration": 0.008951901000003204, "outcome": "passed"}}, {"nodeid": "tests/test_control_start_branches.py::test_control_start_process_terminated", "lineno": 125, "outcome": "passed", "keywords": ["test_control_start_process_terminated", "test_control_start_branches.py", "skipif", "tests", "backend", ""], "setup": {"duration": 0.042303527000001395, "outcome": "passed"}, "call": {"duration": 0.2556460389999984, "outcome": "passed"}, "teardown": {"duration": 0.010103956999998331, "outcome": "passed"}}, {"nodeid": "tests/test_course_rule_normalization.py::test_normalize_evaluation_rules_simple_cases[None-None]", "lineno": 7, "outcome": "passed", "keywords": ["test_normalize_evaluation_rules_simple_cases[None-None]", "parametrize", "pytestmark", "None-None", "test_course_rule_normalization.py", "tests", "backend", ""], "setup": {"duration": 0.03693511299999841, "outcome": "passed"}, "call": {"duration": 0.0002980449999938628, "outcome": "passed"}, "teardown": {"duration": 0.0003464360000009492, "outcome": "passed"}}, {"nodeid": "tests/test_course_rule_normalization.py::test_normalize_evaluation_rules_simple_cases[input_rules1-expected1]", "lineno": 7, "outcome": "passed", "keywords": ["test_normalize_evaluation_rules_simple_cases[input_rules1-expected1]", "parametrize", "pytestmark", "input_rules1-expected1", "test_course_rule_normalization.py", "tests", "backend", ""], "setup": {"duration": 0.04058491400000719, "outcome": "passed"}, "call": {"duration": 0.00034972099999208694, "outcome": "passed"}, "teardown": {"duration": 0.0003224209999928007, "outcome": "passed"}}, {"nodeid": "tests/test_course_rule_normalization.py::test_normalize_evaluation_rules_simple_cases[input_rules2-expected2]", "lineno": 7, "outcome": "passed", "keywords": ["test_normalize_evaluation_rules_simple_cases[input_rules2-expected2]", "parametrize", "pytestmark", "input_rules2-expected2", "test_course_rule_normalization.py", "tests", "backend", ""], "setup": {"duration": 0.040233929000009994, "outcome": "passed"}, "call": {"duration": 0.00030333500001233915, "outcome": "passed"}, "teardown": {"duration": 0.0003169599999921502, "outcome": "passed"}}, {"nodeid": "tests/test_course_rule_normalization.py::test_normalize_evaluation_rules_extracts_weight_from_text", "lineno": 22, "outcome": "passed", "keywords": ["test_normalize_evaluation_rules_extracts_weight_from_text", "test_course_rule_normalization.py", "tests", "backend", ""], "setup": {"duration": 0.039832101000001785, "outcome": "passed"}, "call": {"duration": 0.000581913999994299, "outcome": "passed"}, "teardown": {"duration": 0.0003105579999953534, "outcome": "passed"}}, {"nodeid": "tests/test_course_rule_normalization.py::test_normalize_evaluation_rules_from_pair_sequence", "lineno": 34, "outcome": "passed", "keywords": ["test_normalize_evaluation_rules_from_pair_sequence", "test_course_rule_normalization.py", "tests", "backend", ""], "setup": {"duration": 0.039639391999998, "outcome": "passed"}, "call": {"duration": 0.0004072589999992715, "outcome": "passed"}, "teardown": {"duration": 0.00029915700000060497, "outcome": "passed"}}, {"nodeid": "tests/test_course_rule_normalization.py::test_normalize_evaluation_rules_from_string_entries", "lineno": 44, "outcome": "passed", "keywords": ["test_normalize_evaluation_rules_from_string_entries", "test_course_rule_normalization.py", "tests", "backend", ""], "setup": {"duration": 0.039503479999993374, "outcome": "passed"}, "call": {"duration": 0.0003755799999964893, "outcome": "passed"}, "teardown": {"duration": 0.0003087449999981118, "outcome": "passed"}}, {"nodeid": "tests/test_course_rule_normalization.py::test_normalize_evaluation_rules_fallback_to_zero_weight", "lineno": 56, "outcome": "passed", "keywords": ["test_normalize_evaluation_rules_fallback_to_zero_weight", "test_course_rule_normalization.py", "tests", "backend", ""], "setup": {"duration": 0.039718230000005406, "outcome": "passed"}, "call": {"duration": 0.0003391920000126447, "outcome": "passed"}, "teardown": {"duration": 0.00029440800000202216, "outcome": "passed"}}, {"nodeid": "tests/test_course_rule_normalization.py::test_normalize_evaluation_rules_handles_invalid_payload_gracefully", "lineno": 63, "outcome": "passed", "keywords": ["test_normalize_evaluation_rules_handles_invalid_payload_gracefully", "test_course_rule_normalization.py", "tests", "backend", ""], "setup": {"duration": 0.039549665999999206, "outcome": "passed"}, "call": {"duration": 0.00035654399999884845, "outcome": "passed"}, "teardown": {"duration": 0.00028700500000411466, "outcome": "passed"}}, {"nodeid": "tests/test_courses_router.py::test_create_course_success", "lineno": 23, "outcome": "passed", "keywords": ["test_create_course_success", "test_courses_router.py", "tests", "backend", ""], "setup": {"duration": 0.045562138999997615, "outcome": "passed"}, "call": {"duration": 0.010624648000003845, "outcome": "passed"}, "teardown": {"duration": 0.009528975999998579, "outcome": "passed"}}, {"nodeid": "tests/test_courses_router.py::test_create_course_allows_empty_optional_strings", "lineno": 35, "outcome": "passed", "keywords": ["test_create_course_allows_empty_optional_strings", "test_courses_router.py", "tests", "backend", ""], "setup": {"duration": 0.04353862800000741, "outcome": "passed"}, "call": {"duration": 0.011145167000009337, "outcome": "passed"}, "teardown": {"duration": 0.009617980999991005, "outcome": "passed"}}, {"nodeid": "tests/test_courses_router.py::test_create_course_duplicate_code", "lineno": 50, "outcome": "passed", "keywords": ["test_create_course_duplicate_code", "test_courses_router.py", "tests", "backend", ""], "setup": {"duration": 0.04231243399999585, "outcome": "passed"}, "call": {"duration": 0.016890644000000066, "outcome": "passed"}, "teardown": {"duration": 0.009835852999998451, "outcome": "passed"}}, {"nodeid": "tests/test_courses_router.py::test_update_course_basic_fields", "lineno": 62, "outcome": "passed", "keywords": ["test_update_course_basic_fields", "test_courses_router.py", "tests", "backend", ""], "setup": {"duration": 0.042996579000003976, "outcome": "passed"}, "call": {"duration": 0.01954669299999523, "outcome": "passed"}, "teardown": {"duration": 0.009124417999998968, "outcome": "passed"}}, {"nodeid": "tests/test_courses_router.py::test_update_course_preserves_unset_fields", "lineno": 90, "outcome": "passed", "keywords": ["test_update_course_preserves_unset_fields", "test_courses_router.py", "tests", "backend", ""], "setup": {"duration": 0.041827940999993984, "outcome": "passed"}, "call": {"duration": 0.018701457000005917, "outcome": "passed"}, "teardown": {"duration": 0.009179780000010851, "outcome": "passed"}}, {"nodeid": "tests/test_courses_router.py::test_update_course_evaluation_rules_validation", "lineno": 114, "outcome": "passed", "keywords": ["test_update_course_evaluation_rules_validation", "test_courses_router.py", "tests", "backend", ""], "setup": {"duration": 0.04148918999999296, "outcome": "passed"}, "call": {"duration": 0.025705118000004745, "outcome": "passed"}, "teardown": {"duration": 0.00943679399999553, "outcome": "passed"}}, {"nodeid": "tests/test_courses_router.py::test_get_course_by_id", "lineno": 141, "outcome": "passed", "keywords": ["test_get_course_by_id", "test_courses_router.py", "tests", "backend", ""], "setup": {"duration": 0.042309046999989164, "outcome": "passed"}, "call": {"duration": 0.015173324000002708, "outcome": "passed"}, "teardown": {"duration": 0.009213823999999704, "outcome": "passed"}}, {"nodeid": "tests/test_courses_router.py::test_get_course_404", "lineno": 152, "outcome": "passed", "keywords": ["test_get_course_404", "test_courses_router.py", "tests", "backend", ""], "setup": {"duration": 0.042170728999991525, "outcome": "passed"}, "call": {"duration": 0.0075058259999991606, "outcome": "passed"}, "teardown": {"duration": 0.00951585200000693, "outcome": "passed"}}, {"nodeid": "tests/test_courses_router.py::test_list_courses_with_semester_filter", "lineno": 158, "outcome": "passed", "keywords": ["test_list_courses_with_semester_filter", "test_courses_router.py", "tests", "backend", ""], "setup": {"duration": 0.042145661000006385, "outcome": "passed"}, "call": {"duration": 0.0465390560000003, "outcome": "passed"}, "teardown": {"duration": 0.009711877000000868, "outcome": "passed"}}, {"nodeid": "tests/test_courses_router.py::test_delete_course", "lineno": 179, "outcome": "passed", "keywords": ["test_delete_course", "test_courses_router.py", "tests", "backend", ""], "setup": {"duration": 0.08085818400000733, "outcome": "passed"}, "call": {"duration": 0.0795324780000044, "outcome": "passed", "stdout": "BOOTSTRAP ADMIN LOGIN RESPONSE: 200 {\"access_token\":\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbkBleGFtcGxlLmNvbSIsImV4cCI6MTc2ODgxNzAyMywicm9sZSI6InRlYWNoZXIifQ.JapIKneOuOAbsRw0YUj7idCY_k3R7Mxvq2nBOU2Dho0\",\"token_type\":\"bearer\",\"refresh_token\":null}\n"}, "teardown": {"duration": 0.010043244000002005, "outcome": "passed"}}, {"nodeid": "tests/test_courses_router.py::test_evaluation_rules_endpoints", "lineno": 218, "outcome": "passed", "keywords": ["test_evaluation_rules_endpoints", "test_courses_router.py", "tests", "backend", ""], "setup": {"duration": 0.04266012200000091, "outcome": "passed"}, "call": {"duration": 0.03084240100000102, "outcome": "passed"}, "teardown": {"duration": 0.00939108000000033, "outcome": "passed"}}, {"nodeid": "tests/test_courses_router.py::test_normalize_evaluation_rules_variants", "lineno": 237, "outcome": "passed", "keywords": ["test_normalize_evaluation_rules_variants", "test_courses_router.py", "tests", "backend", ""], "setup": {"duration": 0.03678132699999992, "outcome": "passed"}, "call": {"duration": 0.0004244309999990037, "outcome": "passed"}, "teardown": {"duration": 0.0002869250000117063, "outcome": "passed"}}, {"nodeid": "tests/test_csrf_flow.py::test_state_change_rejected_without_csrf", "lineno": 95, "outcome": "passed", "keywords": ["test_state_change_rejected_without_csrf", "test_csrf_flow.py", "tests", "backend", ""], "setup": {"duration": 0.10784995500000605, "outcome": "passed"}, "call": {"duration": 0.055118055000008326, "outcome": "passed", "log": [{"name": "backend.security.csrf", "msg": "CSRF validation failed for /api/v1/courses: Bad headers. Expected \"X-CSRF-Token\" in headers", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/security/csrf.py", "filename": "csrf.py", "module": "csrf", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 115, "funcName": "dispatch", "created": 1768815224.339655, "msecs": 339.0, "relativeCreated": 30217.622995376587, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a4dba50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:33:44,339"}]}, "teardown": {"duration": 0.00040768899999932273, "outcome": "passed"}}, {"nodeid": "tests/test_csrf_flow.py::test_state_change_allowed_with_csrf", "lineno": 103, "outcome": "passed", "keywords": ["test_state_change_allowed_with_csrf", "test_csrf_flow.py", "tests", "backend", ""], "setup": {"duration": 0.10843042599999819, "outcome": "passed"}, "call": {"duration": 0.07305156300000704, "outcome": "passed"}, "teardown": {"duration": 0.0005202889999935678, "outcome": "passed"}}, {"nodeid": "tests/test_csrf_flow.py::test_csrf_token_rotation_on_refresh", "lineno": 116, "outcome": "passed", "keywords": ["test_csrf_token_rotation_on_refresh", "test_csrf_flow.py", "tests", "backend", ""], "setup": {"duration": 0.12218401399999834, "outcome": "passed"}, "call": {"duration": 0.06810629499999266, "outcome": "passed"}, "teardown": {"duration": 0.00040525500000399006, "outcome": "passed"}}, {"nodeid": "tests/test_csrf_flow.py::test_csrf_endpoint_exempted", "lineno": 127, "outcome": "passed", "keywords": ["test_csrf_endpoint_exempted", "test_csrf_flow.py", "tests", "backend", ""], "setup": {"duration": 0.1124004240000005, "outcome": "passed"}, "call": {"duration": 0.004714835000001472, "outcome": "passed"}, "teardown": {"duration": 0.00040331200000309764, "outcome": "passed"}}, {"nodeid": "tests/test_csv_import.py::test_csv_import_students_with_greek_columns", "lineno": 6, "outcome": "passed", "keywords": ["test_csv_import_students_with_greek_columns", "test_csv_import.py", "auth_required", "tests", "backend", ""], "setup": {"duration": 0.04851045500001305, "outcome": "passed"}, "call": {"duration": 0.04553964699999824, "outcome": "passed"}, "teardown": {"duration": 0.010335315000006062, "outcome": "passed"}}, {"nodeid": "tests/test_csv_import.py::test_csv_import_rejects_for_courses", "lineno": 53, "outcome": "passed", "keywords": ["test_csv_import_rejects_for_courses", "test_csv_import.py", "auth_required", "tests", "backend", ""], "setup": {"duration": 0.04644915199999389, "outcome": "passed"}, "call": {"duration": 0.011063706000001616, "outcome": "passed"}, "teardown": {"duration": 0.01053340100000355, "outcome": "passed"}}, {"nodeid": "tests/test_csv_import.py::test_csv_import_handles_missing_required_fields", "lineno": 71, "outcome": "passed", "keywords": ["test_csv_import_handles_missing_required_fields", "test_csv_import.py", "auth_required", "tests", "backend", ""], "setup": {"duration": 0.044324342999999544, "outcome": "passed"}, "call": {"duration": 0.012935744000003524, "outcome": "passed"}, "teardown": {"duration": 0.010255829999991306, "outcome": "passed"}}, {"nodeid": "tests/test_csv_import.py::test_csv_import_converts_study_years", "lineno": 92, "outcome": "passed", "keywords": ["test_csv_import_converts_study_years", "test_csv_import.py", "auth_required", "tests", "backend", ""], "setup": {"duration": 0.043168990000012286, "outcome": "passed"}, "call": {"duration": 0.02574281799999767, "outcome": "passed"}, "teardown": {"duration": 0.009855213999998114, "outcome": "passed"}}, {"nodeid": "tests/test_daily_performance_router.py::test_create_daily_performance_success", "lineno": 57, "outcome": "passed", "keywords": ["test_create_daily_performance_success", "test_daily_performance_router.py", "tests", "backend", ""], "setup": {"duration": 0.043476713000004, "outcome": "passed"}, "call": {"duration": 0.03288340100000653, "outcome": "passed"}, "teardown": {"duration": 0.010231295000011187, "outcome": "passed"}}, {"nodeid": "tests/test_daily_performance_router.py::test_get_student_daily_performance_returns_only_matching_records", "lineno": 70, "outcome": "passed", "keywords": ["test_get_student_daily_performance_returns_only_matching_records", "test_daily_performance_router.py", "tests", "backend", ""], "setup": {"duration": 0.04350253199999088, "outcome": "passed"}, "call": {"duration": 0.06185891899998808, "outcome": "passed"}, "teardown": {"duration": 0.010407794000002468, "outcome": "passed"}}, {"nodeid": "tests/test_daily_performance_router.py::test_get_student_course_daily_performance_filters_by_course", "lineno": 86, "outcome": "passed", "keywords": ["test_get_student_course_daily_performance_filters_by_course", "test_daily_performance_router.py", "tests", "backend", ""], "setup": {"duration": 0.04393371500000853, "outcome": "passed"}, "call": {"duration": 0.05532859800000267, "outcome": "passed"}, "teardown": {"duration": 0.010144066999998813, "outcome": "passed"}}, {"nodeid": "tests/test_daily_performance_router.py::test_get_course_daily_performance_by_date_requires_iso_format", "lineno": 102, "outcome": "passed", "keywords": ["test_get_course_daily_performance_by_date_requires_iso_format", "test_daily_performance_router.py", "tests", "backend", ""], "setup": {"duration": 0.044248557000003075, "outcome": "passed"}, "call": {"duration": 0.016206849999989004, "outcome": "passed"}, "teardown": {"duration": 0.009910957999991865, "outcome": "passed"}}, {"nodeid": "tests/test_daily_performance_router.py::test_get_course_daily_performance_by_date_filters_results", "lineno": 109, "outcome": "passed", "keywords": ["test_get_course_daily_performance_by_date_filters_results", "test_daily_performance_router.py", "tests", "backend", ""], "setup": {"duration": 0.04309988100000339, "outcome": "passed"}, "call": {"duration": 0.04739889699999367, "outcome": "passed"}, "teardown": {"duration": 0.010073245000000952, "outcome": "passed"}}, {"nodeid": "tests/test_daily_performance_router.py::test_create_daily_performance_handles_internal_errors", "lineno": 124, "outcome": "passed", "keywords": ["test_create_daily_performance_handles_internal_errors", "test_daily_performance_router.py", "tests", "backend", ""], "setup": {"duration": 0.04320612899999787, "outcome": "passed"}, "call": {"duration": 0.02912500099999704, "outcome": "passed", "log": [{"name": "backend.routers.routers_performance", "msg": "Error creating daily performance", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_performance.py", "filename": "routers_performance.py", "module": "routers_performance", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_performance.py\", line 95, in create_daily_performance\n    import_names(\"models\", \"DailyPerformance\", \"Student\", \"Course\")\n  File \"/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_daily_performance_router.py\", line 130, in _raise_import_error\n    raise RuntimeError(\"boom\")\nRuntimeError: boom", "stack_info": null, "lineno": 105, "funcName": "create_daily_performance", "created": 1768815225.7203152, "msecs": 720.0, "relativeCreated": 31598.283290863037, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a170dd0", "processName": "MainProcess", "process": 2241, "error": "boom", "request_id": "174dd90f-7be1-4869-a270-abd6b1c8c860", "asctime": "2026-01-19 09:33:45,720"}]}, "teardown": {"duration": 0.009746034999992048, "outcome": "passed"}}, {"nodeid": "tests/test_daily_performance_router.py::test_get_student_daily_performance_handles_unexpected_errors", "lineno": 148, "outcome": "passed", "keywords": ["test_get_student_daily_performance_handles_unexpected_errors", "test_daily_performance_router.py", "tests", "backend", ""], "setup": {"duration": 0.04385926599999834, "outcome": "passed"}, "call": {"duration": 0.007274304000006282, "outcome": "passed", "log": [{"name": "backend.routers.routers_performance", "msg": "Error fetching daily performance for student", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_performance.py", "filename": "routers_performance.py", "module": "routers_performance", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_performance.py\", line 148, in get_student_daily_performance\n    import_names(\"models\", \"DailyPerformance\")\n  File \"/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_daily_performance_router.py\", line 151, in _raise_import_error\n    raise RuntimeError(\"boom\")\nRuntimeError: boom", "stack_info": null, "lineno": 153, "funcName": "get_student_daily_performance", "created": 1768815225.7825727, "msecs": 782.0, "relativeCreated": 31660.54081916809, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89e4bf50", "processName": "MainProcess", "process": 2241, "student_id": 1, "error": "boom", "request_id": "3e4f3acd-2729-43d5-9451-57831388c55a", "asctime": "2026-01-19 09:33:45,782"}]}, "teardown": {"duration": 0.009279175999992617, "outcome": "passed"}}, {"nodeid": "tests/test_daily_performance_router.py::test_update_daily_performance_success", "lineno": 160, "outcome": "passed", "keywords": ["test_update_daily_performance_success", "test_daily_performance_router.py", "tests", "backend", ""], "setup": {"duration": 0.04269146100000398, "outcome": "passed"}, "call": {"duration": 0.04214255200000139, "outcome": "passed"}, "teardown": {"duration": 0.00973155299999462, "outcome": "passed"}}, {"nodeid": "tests/test_daily_performance_router.py::test_update_daily_performance_not_found", "lineno": 183, "outcome": "passed", "keywords": ["test_update_daily_performance_not_found", "test_daily_performance_router.py", "tests", "backend", ""], "setup": {"duration": 0.043157178000001295, "outcome": "passed"}, "call": {"duration": 0.009017674000006082, "outcome": "passed", "log": [{"name": "backend.db.utils", "msg": "Transaction rolled back due to unexpected error: 404: DailyPerformance with id 99999 not found", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/db/utils.py", "filename": "utils.py", "module": "utils", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 53, "funcName": "transaction", "created": 1768815225.941472, "msecs": 941.0, "relativeCreated": 31819.440126419067, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89c678d0", "processName": "MainProcess", "process": 2241, "request_id": "8d6299df-9983-48b2-91f3-a130f344e9c0", "asctime": "2026-01-19 09:33:45,941"}]}, "teardown": {"duration": 0.009342000000003736, "outcome": "passed"}}, {"nodeid": "tests/test_database_upload.py::test_database_upload_valid", "lineno": 7, "outcome": "passed", "keywords": ["test_database_upload_valid", "test_database_upload.py", "tests", "backend", ""], "setup": {"duration": 0.04331525300000294, "outcome": "passed"}, "call": {"duration": 0.007837293000008572, "outcome": "passed"}, "teardown": {"duration": 0.009831399000006513, "outcome": "passed"}}, {"nodeid": "tests/test_database_upload.py::test_database_upload_invalid_extension", "lineno": 23, "outcome": "passed", "keywords": ["test_database_upload_invalid_extension", "test_database_upload.py", "tests", "backend", ""], "setup": {"duration": 0.04477886799999453, "outcome": "passed"}, "call": {"duration": 0.00714519400000313, "outcome": "passed"}, "teardown": {"duration": 0.009727535999999759, "outcome": "passed"}}, {"nodeid": "tests/test_database_upload.py::test_database_upload_invalid_magic", "lineno": 31, "outcome": "passed", "keywords": ["test_database_upload_invalid_magic", "test_database_upload.py", "tests", "backend", ""], "setup": {"duration": 0.04428906700000823, "outcome": "passed"}, "call": {"duration": 0.00775340799999924, "outcome": "passed"}, "teardown": {"duration": 0.00923544900000195, "outcome": "passed"}}, {"nodeid": "tests/test_db_utils.py::test_get_session_closes_on_cleanup", "lineno": 9, "outcome": "passed", "keywords": ["test_get_session_closes_on_cleanup", "test_db_utils.py", "tests", "backend", ""], "setup": {"duration": 0.03781039500000816, "outcome": "passed"}, "call": {"duration": 0.00037764399999673515, "outcome": "passed"}, "teardown": {"duration": 0.00031757200000015473, "outcome": "passed"}}, {"nodeid": "tests/test_db_utils.py::test_ensure_column_adds_missing_column_sqlite", "lineno": 33, "outcome": "passed", "keywords": ["test_ensure_column_adds_missing_column_sqlite", "test_db_utils.py", "tests", "backend", ""], "setup": {"duration": 0.04072747099999674, "outcome": "passed"}, "call": {"duration": 0.002161638000004018, "outcome": "passed"}, "teardown": {"duration": 0.0003138950000050045, "outcome": "passed"}}, {"nodeid": "tests/test_db_utils.py::test_ensure_column_handles_non_sqlite", "lineno": 45, "outcome": "passed", "keywords": ["test_ensure_column_handles_non_sqlite", "test_db_utils.py", "tests", "backend", ""], "setup": {"duration": 0.04074321000000225, "outcome": "passed"}, "call": {"duration": 0.0006640269999991233, "outcome": "passed"}, "teardown": {"duration": 0.000333941999997478, "outcome": "passed"}}, {"nodeid": "tests/test_db_utils.py::test_ensure_schema_delegates_to_helper", "lineno": 83, "outcome": "passed", "keywords": ["test_ensure_schema_delegates_to_helper", "test_db_utils.py", "tests", "backend", ""], "setup": {"duration": 0.04110914199999627, "outcome": "passed"}, "call": {"duration": 0.0007846120000039036, "outcome": "passed"}, "teardown": {"duration": 0.0003182629999969322, "outcome": "passed"}}, {"nodeid": "tests/test_edge_cases.py::test_create_student_with_max_length_fields", "lineno": 9, "outcome": "passed", "keywords": ["test_create_student_with_max_length_fields", "usefixtures", "pytestmark", "test_edge_cases.py", "tests", "backend", ""], "setup": {"duration": 0.046195498999992424, "outcome": "passed"}, "call": {"duration": 0.008564978999999084, "outcome": "passed"}, "teardown": {"duration": 0.009194936000000098, "outcome": "passed"}}, {"nodeid": "tests/test_edge_cases.py::test_attendance_invalid_date_range", "lineno": 25, "outcome": "passed", "keywords": ["test_attendance_invalid_date_range", "usefixtures", "pytestmark", "test_edge_cases.py", "tests", "backend", ""], "setup": {"duration": 0.04284424499999773, "outcome": "passed"}, "call": {"duration": 0.012079116999998973, "outcome": "passed"}, "teardown": {"duration": 0.009360481999991066, "outcome": "passed"}}, {"nodeid": "tests/test_edge_cases.py::test_concurrent_student_creation", "lineno": 35, "outcome": "passed", "keywords": ["test_concurrent_student_creation", "usefixtures", "pytestmark", "test_edge_cases.py", "tests", "backend", ""], "setup": {"duration": 0.04254171099999837, "outcome": "passed"}, "call": {"duration": 0.031569425000000706, "outcome": "passed"}, "teardown": {"duration": 0.009390858000003277, "outcome": "passed"}}, {"nodeid": "tests/test_edge_cases.py::test_grade_create_invalid_student", "lineno": 46, "outcome": "passed", "keywords": ["test_grade_create_invalid_student", "usefixtures", "pytestmark", "test_edge_cases.py", "tests", "backend", ""], "setup": {"duration": 0.04158686200000261, "outcome": "passed"}, "call": {"duration": 0.0070398849999975255, "outcome": "passed"}, "teardown": {"duration": 0.009346035000007191, "outcome": "passed"}}, {"nodeid": "tests/test_edge_cases.py::test_create_course_with_invalid_code", "lineno": 56, "outcome": "passed", "keywords": ["test_create_course_with_invalid_code", "usefixtures", "pytestmark", "test_edge_cases.py", "tests", "backend", ""], "setup": {"duration": 0.0423868820000024, "outcome": "passed"}, "call": {"duration": 0.007075428999996802, "outcome": "passed"}, "teardown": {"duration": 0.00926618600000495, "outcome": "passed"}}, {"nodeid": "tests/test_edge_cases.py::test_create_course_with_max_length_fields", "lineno": 64, "outcome": "passed", "keywords": ["test_create_course_with_max_length_fields", "usefixtures", "pytestmark", "test_edge_cases.py", "tests", "backend", ""], "setup": {"duration": 0.04229074399999888, "outcome": "passed"}, "call": {"duration": 0.010141317000005756, "outcome": "passed"}, "teardown": {"duration": 0.009080875999998739, "outcome": "passed"}}, {"nodeid": "tests/test_edge_cases.py::test_grade_create_with_boundary_values", "lineno": 71, "outcome": "passed", "keywords": ["test_grade_create_with_boundary_values", "usefixtures", "pytestmark", "test_edge_cases.py", "tests", "backend", ""], "setup": {"duration": 0.042653720000004114, "outcome": "passed"}, "call": {"duration": 0.00819095299999617, "outcome": "passed", "stdout": "grade boundary response: 404 {\"success\":false,\"data\":null,\"error\":{\"code\":\"HTTP_404\",\"message\":\"Student with id 1 not found\",\"details\":null,\"path\":\"/api/v1/grades/\"},\"meta\":{\"request_id\":\"d6849dda-c8f8-48bc-8f3a-8134c4d47b94\",\"timestamp\":\"2026-01-19T09:33:46.758760Z\",\"version\":\"1.15.0\"}}\n"}, "teardown": {"duration": 0.009168709999997304, "outcome": "passed"}}, {"nodeid": "tests/test_edge_cases.py::test_grade_create_exceeding_max_grade", "lineno": 81, "outcome": "passed", "keywords": ["test_grade_create_exceeding_max_grade", "usefixtures", "pytestmark", "test_edge_cases.py", "tests", "backend", ""], "setup": {"duration": 0.04187045999999839, "outcome": "passed"}, "call": {"duration": 0.006770455999998148, "outcome": "passed"}, "teardown": {"duration": 0.009208542999999736, "outcome": "passed"}}, {"nodeid": "tests/test_edge_cases.py::test_rollback_import_invalid_filename", "lineno": 89, "outcome": "passed", "keywords": ["test_rollback_import_invalid_filename", "usefixtures", "pytestmark", "test_edge_cases.py", "tests", "backend", ""], "setup": {"duration": 0.043015674000002946, "outcome": "passed"}, "call": {"duration": 0.00542930600001057, "outcome": "passed"}, "teardown": {"duration": 0.009459566999993285, "outcome": "passed"}}, {"nodeid": "tests/test_edge_cases.py::test_rollback_import_missing_file", "lineno": 98, "outcome": "passed", "keywords": ["test_rollback_import_missing_file", "usefixtures", "pytestmark", "test_edge_cases.py", "tests", "backend", ""], "setup": {"duration": 0.04367572499999994, "outcome": "passed"}, "call": {"duration": 0.004985810999997398, "outcome": "passed"}, "teardown": {"duration": 0.009135141999990992, "outcome": "passed"}}, {"nodeid": "tests/test_edge_cases.py::test_import_session_rollback_on_critical_error", "lineno": 106, "outcome": "passed", "keywords": ["test_import_session_rollback_on_critical_error", "usefixtures", "pytestmark", "test_edge_cases.py", "tests", "backend", ""], "setup": {"duration": 0.04213267900000517, "outcome": "passed"}, "call": {"duration": 0.008396530999988272, "outcome": "passed", "stdout": "import rollback response: 400 {\"success\":false,\"data\":null,\"error\":{\"code\":\"HTTP_400\",\"message\":\"Import validation failed: 1 errors found\",\"details\":{\"error_id\":\"IMP_INVALID_REQ\",\"error_code\":\"IMPORT_INVALID_REQUEST\",\"message\":\"Import validation failed: 1 errors found\",\"request_id\":\"ddacdafe-2e33-4c45-8a72-1eb3bc60c202\",\"context\":{\"total_errors\":1,\"errors\":[\"Missing metadata section\"],\"error_summary\":\"Missing metadata section\"}},\"path\":\"/api/v1/sessions/import\"},\"meta\":{\"request_id\":\"ddacdafe-2e33-4c45-8a72-1eb3bc60c202\",\"timestamp\":\"2026-01-19T09:33:46.996617Z\",\"version\":\"1.15.0\"}}\n"}, "teardown": {"duration": 0.009521582000004969, "outcome": "passed"}}, {"nodeid": "tests/test_edge_cases.py::test_rate_limiting_on_students", "lineno": 123, "outcome": "passed", "keywords": ["test_rate_limiting_on_students", "usefixtures", "pytestmark", "test_edge_cases.py", "tests", "backend", ""], "setup": {"duration": 0.042489664000001426, "outcome": "passed"}, "call": {"duration": 0.12045101500000044, "outcome": "passed"}, "teardown": {"duration": 0.010001901999999063, "outcome": "passed"}}, {"nodeid": "tests/test_edge_cases.py::test_access_admin_endpoint_without_auth", "lineno": 133, "outcome": "passed", "keywords": ["test_access_admin_endpoint_without_auth", "test_edge_cases.py", "tests", "backend", ""], "setup": {"duration": 0.0428986459999976, "outcome": "passed"}, "call": {"duration": 0.00758749300000261, "outcome": "passed"}, "teardown": {"duration": 0.009451973000011549, "outcome": "passed"}}, {"nodeid": "tests/test_edge_cases.py::test_access_admin_endpoint_with_invalid_token", "lineno": 161, "outcome": "passed", "keywords": ["test_access_admin_endpoint_with_invalid_token", "test_edge_cases.py", "tests", "backend", ""], "setup": {"duration": 0.036942057000004525, "outcome": "passed"}, "call": {"duration": 0.009119331999997371, "outcome": "passed"}, "teardown": {"duration": 0.0003141060000046991, "outcome": "passed"}}, {"nodeid": "tests/test_edge_cases.py::test_double_delete_student", "lineno": 194, "outcome": "passed", "keywords": ["test_double_delete_student", "usefixtures", "pytestmark", "test_edge_cases.py", "tests", "backend", ""], "setup": {"duration": 0.04604664200000741, "outcome": "passed"}, "call": {"duration": 0.007168125999996278, "outcome": "passed"}, "teardown": {"duration": 0.009119248000004632, "outcome": "passed"}}, {"nodeid": "tests/test_edge_cases.py::test_bulk_import_large_number_of_students", "lineno": 209, "outcome": "passed", "keywords": ["test_bulk_import_large_number_of_students", "usefixtures", "pytestmark", "test_edge_cases.py", "tests", "backend", ""], "setup": {"duration": 0.04229839799999979, "outcome": "passed"}, "call": {"duration": 0.00795386099999007, "outcome": "passed"}, "teardown": {"duration": 0.009152504999988764, "outcome": "passed"}}, {"nodeid": "tests/test_enrollments_router.py::test_enroll_single_student_success", "lineno": 19, "outcome": "passed", "keywords": ["test_enroll_single_student_success", "requires_params", "auth_required", "pytestmark", "test_enrollments_router.py", "tests", "backend", ""], "setup": {"duration": 0.04190277099999662, "outcome": "passed"}, "call": {"duration": 0.032912612999993485, "outcome": "passed"}, "teardown": {"duration": 0.009300731000010387, "outcome": "passed"}}, {"nodeid": "tests/test_enrollments_router.py::test_enroll_multiple_students", "lineno": 62, "outcome": "passed", "keywords": ["test_enroll_multiple_students", "requires_params", "auth_required", "pytestmark", "test_enrollments_router.py", "tests", "backend", ""], "setup": {"duration": 0.04143349599999624, "outcome": "passed"}, "call": {"duration": 0.05460734999999772, "outcome": "passed"}, "teardown": {"duration": 0.009789010999995185, "outcome": "passed"}}, {"nodeid": "tests/test_enrollments_router.py::test_enroll_duplicate_prevention", "lineno": 105, "outcome": "passed", "keywords": ["test_enroll_duplicate_prevention", "test_enrollments_router.py", "tests", "backend", ""], "setup": {"duration": 0.04263245799999993, "outcome": "passed"}, "call": {"duration": 0.037890003000001116, "outcome": "passed"}, "teardown": {"duration": 0.009642028000001801, "outcome": "passed"}}, {"nodeid": "tests/test_enrollments_router.py::test_enroll_nonexistent_course", "lineno": 139, "outcome": "passed", "keywords": ["test_enroll_nonexistent_course", "test_enrollments_router.py", "tests", "backend", ""], "setup": {"duration": 0.04397804700001018, "outcome": "passed"}, "call": {"duration": 0.008841655000011883, "outcome": "passed", "log": [{"name": "backend.db.utils", "msg": "Transaction rolled back due to unexpected error: 404: Course with id 99999 not found", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/db/utils.py", "filename": "utils.py", "module": "utils", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 53, "funcName": "transaction", "created": 1768815227.7502637, "msecs": 750.0, "relativeCreated": 33628.23176383972, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb89d90a90", "processName": "MainProcess", "process": 2241, "request_id": "bc237f24-0803-411f-b936-186b5ff14fdc", "asctime": "2026-01-19 09:33:47,750"}]}, "teardown": {"duration": 0.009280443999998056, "outcome": "passed"}}, {"nodeid": "tests/test_enrollments_router.py::test_enroll_nonexistent_student_skipped", "lineno": 148, "outcome": "passed", "keywords": ["test_enroll_nonexistent_student_skipped", "test_enrollments_router.py", "tests", "backend", ""], "setup": {"duration": 0.042566316999995024, "outcome": "passed"}, "call": {"duration": 0.01929678599999818, "outcome": "passed", "log": [{"name": "backend.services.enrollment_service", "msg": "No valid students found for enrollment in course 1", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/services/enrollment_service.py", "filename": "enrollment_service.py", "module": "enrollment_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 184, "funcName": "enroll_students", "created": 1768815227.8223195, "msecs": 822.0, "relativeCreated": 33700.28758049011, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89db2850", "processName": "MainProcess", "process": 2241, "request_id": "219dc459-f0eb-46ce-a63c-8a045458dd77", "asctime": "2026-01-19 09:33:47,822"}]}, "teardown": {"duration": 0.009361273999999753, "outcome": "passed"}}, {"nodeid": "tests/test_enrollments_router.py::test_get_all_enrollments", "lineno": 169, "outcome": "passed", "keywords": ["test_get_all_enrollments", "test_enrollments_router.py", "tests", "backend", ""], "setup": {"duration": 0.04328964500000154, "outcome": "passed"}, "call": {"duration": 0.04176767000001291, "outcome": "passed"}, "teardown": {"duration": 0.0096944040000011, "outcome": "passed"}}, {"nodeid": "tests/test_enrollments_router.py::test_list_course_enrollments", "lineno": 205, "outcome": "passed", "keywords": ["test_list_course_enrollments", "test_enrollments_router.py", "tests", "backend", ""], "setup": {"duration": 0.043712331999998355, "outcome": "passed"}, "call": {"duration": 0.04942213200000367, "outcome": "passed"}, "teardown": {"duration": 0.00997427400000106, "outcome": "passed"}}, {"nodeid": "tests/test_enrollments_router.py::test_list_course_enrollments_not_found", "lineno": 243, "outcome": "passed", "keywords": ["test_list_course_enrollments_not_found", "test_enrollments_router.py", "tests", "backend", ""], "setup": {"duration": 0.043547474999996894, "outcome": "passed"}, "call": {"duration": 0.007127931999988846, "outcome": "passed"}, "teardown": {"duration": 0.009532103000012171, "outcome": "passed"}}, {"nodeid": "tests/test_enrollments_router.py::test_list_student_enrollments", "lineno": 251, "outcome": "passed", "keywords": ["test_list_student_enrollments", "test_enrollments_router.py", "tests", "backend", ""], "setup": {"duration": 0.04268224300000156, "outcome": "passed"}, "call": {"duration": 0.05721617700000081, "outcome": "passed"}, "teardown": {"duration": 0.010288297999991869, "outcome": "passed"}}, {"nodeid": "tests/test_enrollments_router.py::test_list_student_enrollments_not_found", "lineno": 294, "outcome": "passed", "keywords": ["test_list_student_enrollments_not_found", "test_enrollments_router.py", "tests", "backend", ""], "setup": {"duration": 0.043197284000001446, "outcome": "passed"}, "call": {"duration": 0.0069747470000010026, "outcome": "passed"}, "teardown": {"duration": 0.00947194300000831, "outcome": "passed"}}, {"nodeid": "tests/test_enrollments_router.py::test_list_enrolled_students", "lineno": 302, "outcome": "passed", "keywords": ["test_list_enrolled_students", "test_enrollments_router.py", "tests", "backend", ""], "setup": {"duration": 0.04337000700000715, "outcome": "passed"}, "call": {"duration": 0.06215608900001257, "outcome": "passed"}, "teardown": {"duration": 0.010068576000008989, "outcome": "passed"}}, {"nodeid": "tests/test_enrollments_router.py::test_list_enrolled_students_not_found", "lineno": 340, "outcome": "passed", "keywords": ["test_list_enrolled_students_not_found", "test_enrollments_router.py", "tests", "backend", ""], "setup": {"duration": 0.044059813000004056, "outcome": "passed"}, "call": {"duration": 0.007729074000010883, "outcome": "passed"}, "teardown": {"duration": 0.009647147999999106, "outcome": "passed"}}, {"nodeid": "tests/test_enrollments_router.py::test_unenroll_student_success", "lineno": 348, "outcome": "passed", "keywords": ["test_unenroll_student_success", "test_enrollments_router.py", "tests", "backend", ""], "setup": {"duration": 0.04395378600000299, "outcome": "passed"}, "call": {"duration": 0.050735155000012355, "outcome": "passed"}, "teardown": {"duration": 0.00978779899999438, "outcome": "passed"}}, {"nodeid": "tests/test_enrollments_router.py::test_unenroll_student_not_found", "lineno": 390, "outcome": "passed", "keywords": ["test_unenroll_student_not_found", "test_enrollments_router.py", "tests", "backend", ""], "setup": {"duration": 0.04375231999999585, "outcome": "passed"}, "call": {"duration": 0.028171624999998812, "outcome": "passed", "log": [{"name": "backend.db.utils", "msg": "Transaction rolled back due to unexpected error: 404: {'error_id': 'ENR_NOT_FOUND', 'error_code': 'ENROLLMENT_NOT_FOUND', 'message': 'Enrollment not found', 'request_id': '84f89e3f-3583-4b59-8fb0-161ac9556ca1', 'context': {'course_id': 1, 'student_id': 1}}", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/db/utils.py", "filename": "utils.py", "module": "utils", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 53, "funcName": "transaction", "created": 1768815228.6248279, "msecs": 624.0, "relativeCreated": 34502.795934677124, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89d6d910", "processName": "MainProcess", "process": 2241, "request_id": "84f89e3f-3583-4b59-8fb0-161ac9556ca1", "asctime": "2026-01-19 09:33:48,624"}]}, "teardown": {"duration": 0.00989967400001035, "outcome": "passed"}}, {"nodeid": "tests/test_enrollments_router.py::test_enrollment_pagination", "lineno": 424, "outcome": "passed", "keywords": ["test_enrollment_pagination", "test_enrollments_router.py", "tests", "backend", ""], "setup": {"duration": 0.04415058300000396, "outcome": "passed"}, "call": {"duration": 0.0957977049999954, "outcome": "passed"}, "teardown": {"duration": 0.01042237599999396, "outcome": "passed"}}, {"nodeid": "tests/test_enrollments_router.py::test_enroll_with_custom_date", "lineno": 468, "outcome": "passed", "keywords": ["test_enroll_with_custom_date", "test_enrollments_router.py", "tests", "backend", ""], "setup": {"duration": 0.04422818700000164, "outcome": "passed"}, "call": {"duration": 0.03978816699999754, "outcome": "passed"}, "teardown": {"duration": 0.01040754800000343, "outcome": "passed"}}, {"nodeid": "tests/test_environment_detection.py::test_default_environment_is_development", "lineno": 51, "outcome": "passed", "keywords": ["test_default_environment_is_development", "skipif", "pytestmark", "test_environment_detection.py", "tests", "backend", ""], "setup": {"duration": 0.03950027999999861, "outcome": "passed"}, "call": {"duration": 0.0006217690000056564, "outcome": "passed"}, "teardown": {"duration": 0.000357327000003238, "outcome": "passed"}}, {"nodeid": "tests/test_environment_detection.py::test_production_without_docker_is_blocked", "lineno": 66, "outcome": "passed", "keywords": ["test_production_without_docker_is_blocked", "skipif", "pytestmark", "test_environment_detection.py", "tests", "backend", ""], "setup": {"duration": 0.041594115000009424, "outcome": "passed"}, "call": {"duration": 0.0005511880000028668, "outcome": "passed"}, "teardown": {"duration": 0.0003504230000004327, "outcome": "passed"}}, {"nodeid": "tests/test_environment_detection.py::test_production_inside_docker_allowed", "lineno": 78, "outcome": "passed", "keywords": ["test_production_inside_docker_allowed", "test_environment_detection.py", "tests", "backend", ""], "setup": {"duration": 0.04230784599999993, "outcome": "passed"}, "call": {"duration": 0.00042009300000245275, "outcome": "passed"}, "teardown": {"duration": 0.00037625099999161193, "outcome": "passed"}}, {"nodeid": "tests/test_environment_module.py::test_pytest_detection_overrides_other_signals", "lineno": 16, "outcome": "passed", "keywords": ["test_pytest_detection_overrides_other_signals", "test_environment_module.py", "tests", "backend", ""], "setup": {"duration": 0.041329071000006934, "outcome": "passed"}, "call": {"duration": 0.0003623850000025186, "outcome": "passed"}, "teardown": {"duration": 0.00036741599998890706, "outcome": "passed"}}, {"nodeid": "tests/test_environment_module.py::test_env_variable_controls_runtime_when_not_pytest", "lineno": 25, "outcome": "passed", "keywords": ["test_env_variable_controls_runtime_when_not_pytest", "test_environment_module.py", "tests", "backend", ""], "setup": {"duration": 0.0404770930000069, "outcome": "passed"}, "call": {"duration": 0.0003595310000008567, "outcome": "passed"}, "teardown": {"duration": 0.00033613699999079927, "outcome": "passed"}}, {"nodeid": "tests/test_environment_module.py::test_require_production_constraints_demands_docker", "lineno": 36, "outcome": "passed", "keywords": ["test_require_production_constraints_demands_docker", "test_environment_module.py", "tests", "backend", ""], "setup": {"duration": 0.0408348290000049, "outcome": "passed"}, "call": {"duration": 0.00044273599999655744, "outcome": "passed"}, "teardown": {"duration": 0.0003688769999996566, "outcome": "passed"}}, {"nodeid": "tests/test_environment_module.py::test_ci_without_env_defaults_to_test", "lineno": 46, "outcome": "passed", "keywords": ["test_ci_without_env_defaults_to_test", "skipif", "pytestmark", "test_environment_module.py", "tests", "backend", ""], "setup": {"duration": 0.042324597000003905, "outcome": "passed"}, "call": {"duration": 0.00040420299998800147, "outcome": "passed"}, "teardown": {"duration": 0.0003607129999920744, "outcome": "passed"}}, {"nodeid": "tests/test_environment_module.py::test_normalize_env_value_variants", "lineno": 64, "outcome": "passed", "keywords": ["test_normalize_env_value_variants", "test_environment_module.py", "tests", "backend", ""], "setup": {"duration": 0.04141066300000773, "outcome": "passed"}, "call": {"duration": 0.00037027099999420443, "outcome": "passed"}, "teardown": {"duration": 0.0003367080000060696, "outcome": "passed"}}, {"nodeid": "tests/test_exception_handlers.py::test_http_exception_handler_returns_rfc7807", "lineno": 15, "outcome": "passed", "keywords": ["test_http_exception_handler_returns_rfc7807", "test_exception_handlers.py", "tests", "backend", ""], "setup": {"duration": 0.04681110399999966, "outcome": "passed"}, "call": {"duration": 0.008679675999999859, "outcome": "passed"}, "teardown": {"duration": 0.010491224000006127, "outcome": "passed"}}, {"nodeid": "tests/test_exception_handlers.py::test_http_exception_handler_preserves_headers", "lineno": 31, "outcome": "passed", "keywords": ["test_http_exception_handler_preserves_headers", "test_exception_handlers.py", "tests", "backend", ""], "setup": {"duration": 0.043852396000005456, "outcome": "passed"}, "call": {"duration": 0.004555596000002993, "outcome": "passed"}, "teardown": {"duration": 0.008970679000000814, "outcome": "passed"}}, {"nodeid": "tests/test_exception_handlers.py::test_validation_error_handler_returns_rfc7807_with_errors", "lineno": 41, "outcome": "passed", "keywords": ["test_validation_error_handler_returns_rfc7807_with_errors", "test_exception_handlers.py", "tests", "backend", ""], "setup": {"duration": 0.04197071800000174, "outcome": "passed"}, "call": {"duration": 0.006720192000003067, "outcome": "passed"}, "teardown": {"duration": 0.0092526550000116, "outcome": "passed"}}, {"nodeid": "tests/test_exception_handlers.py::test_validation_error_grade_weight_exceeds_limit", "lineno": 62, "outcome": "passed", "keywords": ["test_validation_error_grade_weight_exceeds_limit", "test_exception_handlers.py", "tests", "backend", ""], "setup": {"duration": 0.04196638999999891, "outcome": "passed"}, "call": {"duration": 0.027858109999996827, "outcome": "passed"}, "teardown": {"duration": 0.009247414000000731, "outcome": "passed"}}, {"nodeid": "tests/test_exception_handlers.py::test_generic_exception_handler_returns_500_rfc7807", "lineno": 112, "outcome": "passed", "keywords": ["test_generic_exception_handler_returns_500_rfc7807", "test_exception_handlers.py", "tests", "backend", ""], "setup": {"duration": 0.042067647999999735, "outcome": "passed"}, "call": {"duration": 0.0064830660000012585, "outcome": "passed"}, "teardown": {"duration": 0.00942585699999654, "outcome": "passed"}}, {"nodeid": "tests/test_exception_handlers.py::test_security_headers_present", "lineno": 133, "outcome": "passed", "keywords": ["test_security_headers_present", "test_exception_handlers.py", "tests", "backend", ""], "setup": {"duration": 0.04229189699999836, "outcome": "passed"}, "call": {"duration": 0.4988548609999981, "outcome": "passed"}, "teardown": {"duration": 0.009710267999992084, "outcome": "passed"}}, {"nodeid": "tests/test_exception_handlers.py::test_error_response_is_json_serializable", "lineno": 153, "outcome": "passed", "keywords": ["test_error_response_is_json_serializable", "test_exception_handlers.py", "tests", "backend", ""], "setup": {"duration": 0.04251989200000139, "outcome": "passed"}, "call": {"duration": 0.017141335000005142, "outcome": "passed"}, "teardown": {"duration": 0.009566109000004985, "outcome": "passed"}}, {"nodeid": "tests/test_export_analytics.py::test_attendance_analytics_export_contains_period_breakdown", "lineno": 43, "outcome": "passed", "keywords": ["test_attendance_analytics_export_contains_period_breakdown", "test_export_analytics.py", "tests", "backend", ""], "setup": {"duration": 0.043783400000009465, "outcome": "passed"}, "call": {"duration": 0.1462805049999929, "outcome": "passed"}, "teardown": {"duration": 0.01088173200000142, "outcome": "passed"}}, {"nodeid": "tests/test_grade_calculation.py::test_grade_calculation_logic", "lineno": 13, "outcome": "passed", "keywords": ["test_grade_calculation_logic", "test_grade_calculation.py", "tests", "backend", ""], "setup": {"duration": 0.03807248899998683, "outcome": "passed"}, "call": {"duration": 0.0007711580000062668, "outcome": "passed", "stdout": "\n======================================================================\nGRADE CALCULATION LOGIC TEST\n======================================================================\n\n[TEST 1] Basic Weighted Average\n----------------------------------------------------------------------\nSetup:\n  - Category A (50% weight): grades 80/100, 90/100 \u2192 avg 85%\n  - Category B (50% weight): grades 70/100, 90/100 \u2192 avg 80%\nExpected final grade: (85 * 0.5) + (80 * 0.5) = 82.5%\n\u2713 Logic: Correct - averages category scores, applies weights\n\n[TEST 2] Daily Performance Multiplier\n----------------------------------------------------------------------\nSetup:\n  - Category: Homework (40% weight)\n  - Regular grade: 80/100 (80%)\n  - Daily performance: 9/10 (90%), multiplier = 2.0\nOLD (incorrect) logic: add 90% twice \u2192 scores = [80, 90, 90] \u2192 avg = 86.67%\nNEW (correct) logic: weight daily score \u2192 scores = [80, 180] \u2192 avg = 130% (wrong!)\n\n\u26a0\ufe0f  ISSUE IDENTIFIED: Multiplier should weight within category calculation\nBETTER approach: Track weighted sums separately\n  - Regular grades: 80% (weight 1.0) = 80\n  - Daily perf: 90% (weight 2.0) = 180\n  - Total weight: 3.0\n  - Average: (80 + 180) / 3.0 = 86.67%\n  - Contribution: 86.67% * 40% = 34.67%\n\n[TEST 3] Attendance Category\n----------------------------------------------------------------------\nSetup:\n  - 10 total classes\n  - 8 Present, 2 Absent\nExpected: 80% attendance\n\u2713 Logic: Correct - (present / total) * 100\n\n[TEST 4] Absence Penalty Application\n----------------------------------------------------------------------\nSetup:\n  - Base final grade: 85%\n  - Absence penalty: 5% per unexcused absence\n  - Unexcused absences: 3\nCalculation: 85% - (5% * 3) = 85% - 15% = 70%\n\u2713 Logic: Correct - max(0, final_grade - penalty * count)\n\n[TEST 5] Grade Scale Conversions\n----------------------------------------------------------------------\nFinal grade: 85%\n  - Percentage: 85%\n  - GPA (4.0 scale): (85/100) * 4.0 = 3.4\n  - Greek (20 scale): (85/100) * 20.0 = 17.0\n  - Letter grade: B (83-86%)\n\u2713 Logic: Correct linear conversions\n\n[TEST 6] Edge Cases\n----------------------------------------------------------------------\nCase 6a: Empty category (no grades)\n  - Category weight: 30%\n  - No grades recorded\n  \u2192 Category skipped, weight redistributed implicitly\n  \u26a0\ufe0f  ISSUE: Should warn or handle explicitly\n\nCase 6b: Division by zero protection\n  - Grade with max_grade = 0\n  \u2192 Skipped (if max_grade check)\n  \u2713 Protected\n\nCase 6c: Weights don't sum to 100%\n  - Category A: 40%, Category B: 40% (total 80%)\n  \u2192 Final grade will be 80% of expected\n  \u2713 Now validated in backend (HTTP 400 error)\n\nCase 6d: Negative grades after penalty\n  - Base: 10%, Penalty: 5% \u00d7 3 = 15%\n  \u2192 max(0, 10 - 15) = 0%\n  \u2713 Protected with max(0, ...)\n\n======================================================================\nFINDINGS & RECOMMENDATIONS\n======================================================================\n\n\u2705 CORRECT:\n  1. Attendance category calculation\n  2. Absence penalty application\n  3. Grade scale conversions\n  4. Edge case protections (div by zero, negative grades)\n  5. Backend validation for weight totals\n\n\u26a0\ufe0f  NEEDS ATTENTION:\n  1. Daily performance multiplier implementation\n     Current: Multiplies score value (can exceed 100%)\n     Better: Use multiplier as weight in weighted average\n     Status: FIXED in latest code\n\n  2. Empty category handling\n     Current: Silently skipped\n     Better: Warn user or redistribute weight\n     Status: Acceptable for MVP\n\n  3. Grade calculation transparency\n     Current: Backend calculates, frontend displays\n     Better: Add detailed formula in breakdown modal\n     Status: Category breakdown shows contribution\n\n======================================================================\nGRADE CALCULATION ALGORITHM REVIEW COMPLETE\n======================================================================\n\n"}, "teardown": {"duration": 0.00028992100000380105, "outcome": "passed"}}, {"nodeid": "tests/test_grade_calculation_fix.py::test_partial_work_normalization", "lineno": 7, "outcome": "passed", "keywords": ["test_partial_work_normalization", "test_grade_calculation_fix.py", "tests", "backend", ""], "setup": {"duration": 0.04041107999999838, "outcome": "passed"}, "call": {"duration": 0.0004512410000074851, "outcome": "passed", "stdout": "============================================================\nOLD LOGIC (BEFORE FIX):\n============================================================\nFinal Grade: 36.00%\nTotal Weight Used: 40.0%\nGPA: 1.44 / 4.0\nProblem: Student has 90% on Midterm but shows as 36%!\n\n============================================================\nNEW LOGIC (AFTER FIX):\n============================================================\nFinal Grade: 90.00%\nTotal Weight Used: 40.0%\nGPA: 3.60 / 4.0\nSuccess: Grade normalized from 36% to 90%!\n\n\u2705 Test passed! Grades are now correctly normalized for partial work.\n"}, "teardown": {"duration": 0.0002896600000070748, "outcome": "passed"}}, {"nodeid": "tests/test_grade_calculation_fix.py::test_complete_work_no_normalization", "lineno": 75, "outcome": "passed", "keywords": ["test_complete_work_no_normalization", "test_grade_calculation_fix.py", "tests", "backend", ""], "setup": {"duration": 0.04033826400001317, "outcome": "passed"}, "call": {"duration": 0.0003604730000006384, "outcome": "passed", "stdout": "============================================================\nCOMPLETE WORK (NO NORMALIZATION):\n============================================================\nFinal Grade: 88.00%\nTotal Weight Used: 100.0%\nGPA: 3.52 / 4.0\n\n\u2705 Test passed! Complete work is not normalized (correct).\n"}, "teardown": {"duration": 0.00028150500000379, "outcome": "passed"}}, {"nodeid": "tests/test_grade_calculation_fix.py::test_multiple_partial_categories", "lineno": 114, "outcome": "passed", "keywords": ["test_multiple_partial_categories", "test_grade_calculation_fix.py", "tests", "backend", ""], "setup": {"duration": 0.03960148000000174, "outcome": "passed"}, "call": {"duration": 0.00034699600000465125, "outcome": "passed", "stdout": "============================================================\nMULTIPLE PARTIAL CATEGORIES:\n============================================================\nFinal Grade: 86.00%\nTotal Weight Used: 50.0%\nCompleted: Homework (95%) + Midterm (80%)\nPending: Project + Final\n\n\u2705 Test passed! Multiple partial categories normalized correctly.\n"}, "teardown": {"duration": 0.0003005900000090378, "outcome": "passed"}}, {"nodeid": "tests/test_grade_calculation_integration.py::test_final_grade_with_absence_penalty", "lineno": 7, "outcome": "passed", "keywords": ["test_final_grade_with_absence_penalty", "test_grade_calculation_integration.py", "tests", "backend", ""], "setup": {"duration": 0.0842192639999979, "outcome": "passed"}, "call": {"duration": 0.11717524300000548, "outcome": "passed", "stdout": "BOOTSTRAP ADMIN LOGIN RESPONSE: 200 {\"access_token\":\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJhZG1pbkBleGFtcGxlLmNvbSIsImV4cCI6MTc2ODgxNzAzMCwicm9sZSI6InRlYWNoZXIifQ.MUs3PseZOgctjDg4Uf6YLQ1J9MdXLnBZV-b-hoWDfnI\",\"token_type\":\"bearer\",\"refresh_token\":null}\nGRADE CREATE RESPONSE: 201 {\"id\":1,\"student_id\":1,\"course_id\":1,\"assignment_name\":\"HW1\",\"category\":\"Homework\",\"grade\":90.0,\"max_grade\":100.0,\"weight\":1.0,\"date_assigned\":null,\"date_submitted\":null,\"notes\":null}\n"}, "teardown": {"duration": 0.009883579000003806, "outcome": "passed"}}, {"nodeid": "tests/test_grades_router.py::test_create_grade_success", "lineno": 33, "outcome": "passed", "keywords": ["test_create_grade_success", "no_rate_limit", "requires_params", "auth_required", "pytestmark", "test_grades_router.py", "tests", "backend", ""], "setup": {"duration": 0.04279469499999777, "outcome": "passed"}, "call": {"duration": 0.03395573099999183, "outcome": "passed"}, "teardown": {"duration": 0.009334334000001832, "outcome": "passed"}}, {"nodeid": "tests/test_grades_router.py::test_create_and_retrieve_multiple_assignments", "lineno": 74, "outcome": "passed", "keywords": ["test_create_and_retrieve_multiple_assignments", "requires_params", "auth_required", "pytestmark", "test_grades_router.py", "tests", "backend", ""], "setup": {"duration": 0.041885628999992264, "outcome": "passed"}, "call": {"duration": 0.11031431199999986, "outcome": "passed"}, "teardown": {"duration": 0.00980808799999977, "outcome": "passed"}}, {"nodeid": "tests/test_grades_router.py::test_create_grade_weight_exceeds_limit", "lineno": 167, "outcome": "passed", "keywords": ["test_create_grade_weight_exceeds_limit", "requires_params", "auth_required", "pytestmark", "test_grades_router.py", "tests", "backend", ""], "setup": {"duration": 0.04305835600000307, "outcome": "passed"}, "call": {"duration": 0.027702691999991202, "outcome": "passed"}, "teardown": {"duration": 0.009348299999999199, "outcome": "passed"}}, {"nodeid": "tests/test_grades_router.py::test_create_grade_submitted_before_assigned", "lineno": 201, "outcome": "passed", "keywords": ["test_create_grade_submitted_before_assigned", "requires_params", "auth_required", "pytestmark", "test_grades_router.py", "tests", "backend", ""], "setup": {"duration": 0.04296059400000729, "outcome": "passed"}, "call": {"duration": 0.027253956999999218, "outcome": "passed"}, "teardown": {"duration": 0.00951742799999522, "outcome": "passed"}}, {"nodeid": "tests/test_grades_router.py::test_create_grade_category_normalized", "lineno": 239, "outcome": "passed", "keywords": ["test_create_grade_category_normalized", "requires_params", "auth_required", "pytestmark", "test_grades_router.py", "tests", "backend", ""], "setup": {"duration": 0.04201147400000593, "outcome": "passed"}, "call": {"duration": 0.03358260599999596, "outcome": "passed"}, "teardown": {"duration": 0.009630426999990505, "outcome": "passed"}}, {"nodeid": "tests/test_grades_router.py::test_get_grades_by_student_and_course", "lineno": 270, "outcome": "passed", "keywords": ["test_get_grades_by_student_and_course", "requires_params", "auth_required", "pytestmark", "test_grades_router.py", "tests", "backend", ""], "setup": {"duration": 0.042863612999994416, "outcome": "passed"}, "call": {"duration": 0.3195003039999875, "outcome": "passed"}, "teardown": {"duration": 0.009878709999995294, "outcome": "passed"}}, {"nodeid": "tests/test_grades_router.py::test_update_grade_validation", "lineno": 349, "outcome": "passed", "keywords": ["test_update_grade_validation", "requires_params", "auth_required", "pytestmark", "test_grades_router.py", "tests", "backend", ""], "setup": {"duration": 0.04267650399999923, "outcome": "passed"}, "call": {"duration": 0.04789385399999446, "outcome": "passed"}, "teardown": {"duration": 0.009873029000004863, "outcome": "passed"}}, {"nodeid": "tests/test_grades_router.py::test_delete_grade", "lineno": 395, "outcome": "passed", "keywords": ["test_delete_grade", "requires_params", "auth_required", "pytestmark", "test_grades_router.py", "tests", "backend", ""], "setup": {"duration": 0.0440873750000037, "outcome": "passed"}, "call": {"duration": 0.050159253999993325, "outcome": "passed"}, "teardown": {"duration": 0.010381878000004008, "outcome": "passed"}}, {"nodeid": "tests/test_grades_router.py::test_grades_date_range_filtering_assigned_and_submitted", "lineno": 432, "outcome": "passed", "keywords": ["test_grades_date_range_filtering_assigned_and_submitted", "requires_params", "auth_required", "pytestmark", "test_grades_router.py", "tests", "backend", ""], "setup": {"duration": 0.04343833500000471, "outcome": "passed"}, "call": {"duration": 0.10193505799999514, "outcome": "passed"}, "teardown": {"duration": 0.010770811000000435, "outcome": "passed"}}, {"nodeid": "tests/test_grades_router.py::test_create_grade_missing_student", "lineno": 526, "outcome": "passed", "keywords": ["test_create_grade_missing_student", "requires_params", "auth_required", "pytestmark", "test_grades_router.py", "tests", "backend", ""], "setup": {"duration": 0.045128845999997225, "outcome": "passed"}, "call": {"duration": 0.01746104699999762, "outcome": "passed"}, "teardown": {"duration": 0.010198786999993104, "outcome": "passed"}}, {"nodeid": "tests/test_grades_router.py::test_get_course_grades_missing_course", "lineno": 546, "outcome": "passed", "keywords": ["test_get_course_grades_missing_course", "requires_params", "auth_required", "pytestmark", "test_grades_router.py", "tests", "backend", ""], "setup": {"duration": 0.044026470999995126, "outcome": "passed"}, "call": {"duration": 0.007132810000001655, "outcome": "passed"}, "teardown": {"duration": 0.009915007000003584, "outcome": "passed"}}, {"nodeid": "tests/test_grades_router.py::test_update_grade_not_found", "lineno": 556, "outcome": "passed", "keywords": ["test_update_grade_not_found", "requires_params", "auth_required", "pytestmark", "test_grades_router.py", "tests", "backend", ""], "setup": {"duration": 0.044274873999995634, "outcome": "passed"}, "call": {"duration": 0.008531587000007335, "outcome": "passed"}, "teardown": {"duration": 0.009681654000004869, "outcome": "passed"}}, {"nodeid": "tests/test_grades_router.py::test_delete_grade_not_found", "lineno": 566, "outcome": "passed", "keywords": ["test_delete_grade_not_found", "requires_params", "auth_required", "pytestmark", "test_grades_router.py", "tests", "backend", ""], "setup": {"duration": 0.04387064000000862, "outcome": "passed"}, "call": {"duration": 0.00846612600000185, "outcome": "passed"}, "teardown": {"duration": 0.010167005999988987, "outcome": "passed"}}, {"nodeid": "tests/test_grades_router.py::test_get_grade_analysis_with_and_without_data", "lineno": 576, "outcome": "passed", "keywords": ["test_get_grade_analysis_with_and_without_data", "requires_params", "auth_required", "pytestmark", "test_grades_router.py", "tests", "backend", ""], "setup": {"duration": 0.0437540629999944, "outcome": "passed"}, "call": {"duration": 0.0846628609999982, "outcome": "passed"}, "teardown": {"duration": 0.009974847999998815, "outcome": "passed"}}, {"nodeid": "tests/test_grades_router.py::test_normalize_date_range_partial_bounds[start0-None-97]", "lineno": 626, "outcome": "passed", "keywords": ["test_normalize_date_range_partial_bounds[start0-None-97]", "parametrize", "pytestmark", "start0-None-97", "test_grades_router.py", "auth_required", "tests", "backend", ""], "setup": {"duration": 0.0377765380000028, "outcome": "passed"}, "call": {"duration": 0.00031570900000588153, "outcome": "passed"}, "teardown": {"duration": 0.00031227200000216726, "outcome": "passed"}}, {"nodeid": "tests/test_grades_router.py::test_normalize_date_range_partial_bounds[None-end1-97]", "lineno": 626, "outcome": "passed", "keywords": ["test_normalize_date_range_partial_bounds[None-end1-97]", "parametrize", "pytestmark", "None-end1-97", "test_grades_router.py", "auth_required", "tests", "backend", ""], "setup": {"duration": 0.041574650000001157, "outcome": "passed"}, "call": {"duration": 0.00035397999999986496, "outcome": "passed"}, "teardown": {"duration": 0.00031585799999334085, "outcome": "passed"}}, {"nodeid": "tests/test_grades_router.py::test_get_student_grades_missing_student", "lineno": 641, "outcome": "passed", "keywords": ["test_get_student_grades_missing_student", "requires_params", "auth_required", "pytestmark", "test_grades_router.py", "tests", "backend", ""], "setup": {"duration": 0.0457868029999986, "outcome": "passed"}, "call": {"duration": 0.007055656000005683, "outcome": "passed"}, "teardown": {"duration": 0.0091840660000031, "outcome": "passed"}}, {"nodeid": "tests/test_grades_router.py::test_get_student_grades_filtered_view", "lineno": 651, "outcome": "passed", "keywords": ["test_get_student_grades_filtered_view", "requires_params", "auth_required", "pytestmark", "test_grades_router.py", "tests", "backend", ""], "setup": {"duration": 0.04172312699999736, "outcome": "passed"}, "call": {"duration": 0.06244224699999279, "outcome": "passed"}, "teardown": {"duration": 0.009534047000002488, "outcome": "passed"}}, {"nodeid": "tests/test_grades_router.py::test_get_course_grades_with_submitted_range", "lineno": 718, "outcome": "passed", "keywords": ["test_get_course_grades_with_submitted_range", "requires_params", "auth_required", "pytestmark", "test_grades_router.py", "tests", "backend", ""], "setup": {"duration": 0.04191980299999898, "outcome": "passed"}, "call": {"duration": 0.05193738299999495, "outcome": "passed"}, "teardown": {"duration": 0.009522294999996461, "outcome": "passed"}}, {"nodeid": "tests/test_grades_router.py::test_get_all_grades_category_filter", "lineno": 772, "outcome": "passed", "keywords": ["test_get_all_grades_category_filter", "requires_params", "auth_required", "pytestmark", "test_grades_router.py", "tests", "backend", ""], "setup": {"duration": 0.04335643199999595, "outcome": "passed"}, "call": {"duration": 0.048978151000000025, "outcome": "passed"}, "teardown": {"duration": 0.010082519000008006, "outcome": "passed"}}, {"nodeid": "tests/test_grades_router.py::test_get_grade_success_and_not_found", "lineno": 813, "outcome": "passed", "keywords": ["test_get_grade_success_and_not_found", "requires_params", "auth_required", "pytestmark", "test_grades_router.py", "tests", "backend", ""], "setup": {"duration": 0.04370517399999585, "outcome": "passed"}, "call": {"duration": 0.04619604500000207, "outcome": "passed"}, "teardown": {"duration": 0.01004946999999845, "outcome": "passed"}}, {"nodeid": "tests/test_grades_router.py::test_update_grade_successful", "lineno": 851, "outcome": "passed", "keywords": ["test_update_grade_successful", "requires_params", "auth_required", "pytestmark", "test_grades_router.py", "tests", "backend", ""], "setup": {"duration": 0.0432866109999992, "outcome": "passed"}, "call": {"duration": 0.049540692999997304, "outcome": "passed"}, "teardown": {"duration": 0.010107574000002728, "outcome": "passed"}}, {"nodeid": "tests/test_grades_router.py::test_excellence_highlight_created_for_top_grade", "lineno": 891, "outcome": "passed", "keywords": ["test_excellence_highlight_created_for_top_grade", "test_grades_router.py", "auth_required", "tests", "backend", ""], "setup": {"duration": 0.04316079699999875, "outcome": "passed"}, "call": {"duration": 0.04519685500000037, "outcome": "passed"}, "teardown": {"duration": 0.009985739000001104, "outcome": "passed"}}, {"nodeid": "tests/test_grades_router.py::test_no_highlight_created_for_non_excellence_grade", "lineno": 933, "outcome": "passed", "keywords": ["test_no_highlight_created_for_non_excellence_grade", "test_grades_router.py", "auth_required", "tests", "backend", ""], "setup": {"duration": 0.04334861499999931, "outcome": "passed"}, "call": {"duration": 0.04095779200000038, "outcome": "passed"}, "teardown": {"duration": 0.009511602999992874, "outcome": "passed"}}, {"nodeid": "tests/test_gzip_middleware.py::test_gzip_compression_enabled_for_large_payloads", "lineno": 0, "outcome": "passed", "keywords": ["test_gzip_compression_enabled_for_large_payloads", "test_gzip_middleware.py", "tests", "backend", ""], "setup": {"duration": 0.04265915099999518, "outcome": "passed"}, "call": {"duration": 0.019188108000008697, "outcome": "passed"}, "teardown": {"duration": 0.009418991999993409, "outcome": "passed"}}, {"nodeid": "tests/test_health.py::test_health_endpoint", "lineno": 3, "outcome": "passed", "keywords": ["test_health_endpoint", "test_health.py", "tests", "backend", ""], "setup": {"duration": 0.04290478900000494, "outcome": "passed"}, "call": {"duration": 0.49939281899999344, "outcome": "passed"}, "teardown": {"duration": 0.010156940000001669, "outcome": "passed"}}, {"nodeid": "tests/test_health.py::test_root_endpoint", "lineno": 19, "outcome": "passed", "keywords": ["test_root_endpoint", "test_health.py", "tests", "backend", ""], "setup": {"duration": 0.04336181099999692, "outcome": "passed"}, "call": {"duration": 0.005036050000001069, "outcome": "passed"}, "teardown": {"duration": 0.009251770000005877, "outcome": "passed"}}, {"nodeid": "tests/test_health_checks.py::test_get_network_ips_exception", "lineno": 23, "outcome": "passed", "keywords": ["test_get_network_ips_exception", "test_health_checks.py", "tests", "backend", ""], "setup": {"duration": 0.03882482299999879, "outcome": "passed"}, "call": {"duration": 0.0007937799999950812, "outcome": "passed", "log": [{"name": "backend.health_checks", "msg": "Could not get network IPs: lookup failed", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/health_checks.py", "filename": "health_checks.py", "module": "health_checks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 526, "funcName": "_get_network_ips", "created": 1768815233.9966445, "msecs": 996.0, "relativeCreated": 39874.61256980896, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:33:53,996"}]}, "teardown": {"duration": 0.00038374599999713155, "outcome": "passed"}}, {"nodeid": "tests/test_health_checks.py::test_liveness_check_always_succeeds", "lineno": 50, "outcome": "passed", "keywords": ["test_liveness_check_always_succeeds", "test_health_checks.py", "tests", "backend", ""], "setup": {"duration": 0.04197121900000411, "outcome": "passed"}, "call": {"duration": 0.0007688829999921154, "outcome": "passed"}, "teardown": {"duration": 0.0003984629999962408, "outcome": "passed"}}, {"nodeid": "tests/test_health_checks.py::test_readiness_check_healthy", "lineno": 59, "outcome": "passed", "keywords": ["test_readiness_check_healthy", "test_health_checks.py", "tests", "backend", ""], "setup": {"duration": 0.0448027489999987, "outcome": "passed"}, "call": {"duration": 0.00162824599999567, "outcome": "passed"}, "teardown": {"duration": 0.00040037600000175644, "outcome": "passed"}}, {"nodeid": "tests/test_health_checks.py::test_readiness_check_not_ready", "lineno": 75, "outcome": "passed", "keywords": ["test_readiness_check_not_ready", "test_health_checks.py", "tests", "backend", ""], "setup": {"duration": 0.04284606999999596, "outcome": "passed"}, "call": {"duration": 0.0012559719999956087, "outcome": "passed"}, "teardown": {"duration": 0.0003665939999990542, "outcome": "passed"}}, {"nodeid": "tests/test_import_export.py::test_create_student_import_job", "lineno": 3, "outcome": "passed", "keywords": ["test_create_student_import_job", "test_import_export.py", "tests", "backend", ""], "setup": {"duration": 0.08807560399999659, "outcome": "passed"}, "call": {"duration": 0.02933603900000037, "outcome": "passed"}, "teardown": {"duration": 0.009829787999990458, "outcome": "passed"}}, {"nodeid": "tests/test_import_export.py::test_create_course_import_job", "lineno": 19, "outcome": "passed", "keywords": ["test_create_course_import_job", "test_import_export.py", "tests", "backend", ""], "setup": {"duration": 0.07971133799999564, "outcome": "passed"}, "call": {"duration": 0.0189463980000113, "outcome": "passed"}, "teardown": {"duration": 0.00992274200000054, "outcome": "passed"}}, {"nodeid": "tests/test_import_export.py::test_create_grade_import_job", "lineno": 32, "outcome": "passed", "keywords": ["test_create_grade_import_job", "test_import_export.py", "tests", "backend", ""], "setup": {"duration": 0.08366458999999793, "outcome": "passed"}, "call": {"duration": 0.019462537999999086, "outcome": "passed"}, "teardown": {"duration": 0.010186353999998232, "outcome": "passed"}}, {"nodeid": "tests/test_import_export.py::test_list_import_jobs", "lineno": 45, "outcome": "passed", "keywords": ["test_list_import_jobs", "test_import_export.py", "tests", "backend", ""], "setup": {"duration": 0.08088211399999068, "outcome": "passed"}, "call": {"duration": 0.010263968000003842, "outcome": "passed"}, "teardown": {"duration": 0.009729401000001303, "outcome": "passed"}}, {"nodeid": "tests/test_import_export.py::test_create_export_job", "lineno": 54, "outcome": "passed", "keywords": ["test_create_export_job", "test_import_export.py", "tests", "backend", ""], "setup": {"duration": 0.08012585200000899, "outcome": "passed"}, "call": {"duration": 0.02390859899999498, "outcome": "passed"}, "teardown": {"duration": 0.009580093000010947, "outcome": "passed"}}, {"nodeid": "tests/test_import_export.py::test_list_export_jobs", "lineno": 65, "outcome": "passed", "keywords": ["test_list_export_jobs", "test_import_export.py", "tests", "backend", ""], "setup": {"duration": 0.08112502299999846, "outcome": "passed"}, "call": {"duration": 0.012061941000013121, "outcome": "passed"}, "teardown": {"duration": 0.01056451799999536, "outcome": "passed"}}, {"nodeid": "tests/test_import_export.py::test_get_history", "lineno": 74, "outcome": "passed", "keywords": ["test_get_history", "test_import_export.py", "tests", "backend", ""], "setup": {"duration": 0.08412785500000552, "outcome": "passed"}, "call": {"duration": 0.008515837999993892, "outcome": "passed"}, "teardown": {"duration": 0.010134225999991031, "outcome": "passed"}}, {"nodeid": "tests/test_import_resolver.py::test_import_from_possible_locations_prefers_backend", "lineno": 9, "outcome": "passed", "keywords": ["test_import_from_possible_locations_prefers_backend", "test_import_resolver.py", "tests", "backend", ""], "setup": {"duration": 0.03769210999999473, "outcome": "passed"}, "call": {"duration": 0.0003137540000039962, "outcome": "passed"}, "teardown": {"duration": 0.00030044000000373217, "outcome": "passed"}}, {"nodeid": "tests/test_import_resolver.py::test_import_from_possible_locations_raises_when_missing", "lineno": 14, "outcome": "passed", "keywords": ["test_import_from_possible_locations_raises_when_missing", "test_import_resolver.py", "tests", "backend", ""], "setup": {"duration": 0.04016998999999544, "outcome": "passed"}, "call": {"duration": 0.0003394220000103587, "outcome": "passed"}, "teardown": {"duration": 0.00029255500000147094, "outcome": "passed"}}, {"nodeid": "tests/test_import_resolver.py::test_import_names_raises_for_missing_attribute", "lineno": 26, "outcome": "passed", "keywords": ["test_import_names_raises_for_missing_attribute", "test_import_resolver.py", "tests", "backend", ""], "setup": {"duration": 0.04042014699999186, "outcome": "passed"}, "call": {"duration": 0.0003656009999986054, "outcome": "passed"}, "teardown": {"duration": 0.00031307399999036534, "outcome": "passed"}}, {"nodeid": "tests/test_import_resolver.py::test_import_from_possible_locations_not_found", "lineno": 36, "outcome": "passed", "keywords": ["test_import_from_possible_locations_not_found", "test_import_resolver.py", "tests", "backend", ""], "setup": {"duration": 0.040641289000006964, "outcome": "passed"}, "call": {"duration": 0.0007519720000033203, "outcome": "passed"}, "teardown": {"duration": 0.0002921849999921733, "outcome": "passed"}}, {"nodeid": "tests/test_import_resolver.py::test_import_names_attribute_missing", "lineno": 41, "outcome": "passed", "keywords": ["test_import_names_attribute_missing", "test_import_resolver.py", "tests", "backend", ""], "setup": {"duration": 0.040047762000000375, "outcome": "passed"}, "call": {"duration": 0.0004803050000106168, "outcome": "passed"}, "teardown": {"duration": 0.000290843000001928, "outcome": "passed"}}, {"nodeid": "tests/test_import_resolver_cov.py::test_import_from_possible_locations_not_found", "lineno": 5, "outcome": "passed", "keywords": ["test_import_from_possible_locations_not_found", "test_import_resolver_cov.py", "tests", "backend", ""], "setup": {"duration": 0.04051932200000863, "outcome": "passed"}, "call": {"duration": 0.0007349099999913733, "outcome": "passed"}, "teardown": {"duration": 0.0003025639999947316, "outcome": "passed"}}, {"nodeid": "tests/test_import_resolver_cov.py::test_import_names_attribute_missing", "lineno": 10, "outcome": "passed", "keywords": ["test_import_names_attribute_missing", "test_import_resolver_cov.py", "tests", "backend", ""], "setup": {"duration": 0.04117015399999957, "outcome": "passed"}, "call": {"duration": 0.0005744310000039832, "outcome": "passed"}, "teardown": {"duration": 0.0002974850000043716, "outcome": "passed"}}, {"nodeid": "tests/test_imports_integration.py::TestImportPreviewEndpoint::test_preview_valid_students_json", "lineno": 20, "outcome": "passed", "keywords": ["test_preview_valid_students_json", "TestImportPreviewEndpoint", "test_imports_integration.py", "tests", "backend", ""], "setup": {"duration": 0.04668707199999744, "outcome": "passed"}, "call": {"duration": 0.01598851199999274, "outcome": "passed"}, "teardown": {"duration": 0.01005375400001185, "outcome": "passed"}}, {"nodeid": "tests/test_imports_integration.py::TestImportPreviewEndpoint::test_preview_valid_courses_json", "lineno": 55, "outcome": "passed", "keywords": ["test_preview_valid_courses_json", "TestImportPreviewEndpoint", "test_imports_integration.py", "tests", "backend", ""], "setup": {"duration": 0.04463121900000999, "outcome": "passed"}, "call": {"duration": 0.013308566999995719, "outcome": "passed"}, "teardown": {"duration": 0.009998462999988078, "outcome": "passed"}}, {"nodeid": "tests/test_imports_integration.py::TestImportPreviewEndpoint::test_preview_no_files_rejected", "lineno": 80, "outcome": "passed", "keywords": ["test_preview_no_files_rejected", "TestImportPreviewEndpoint", "test_imports_integration.py", "tests", "backend", ""], "setup": {"duration": 0.044083787999994684, "outcome": "passed"}, "call": {"duration": 0.009109172999998805, "outcome": "passed"}, "teardown": {"duration": 0.009870714999991037, "outcome": "passed"}}, {"nodeid": "tests/test_imports_integration.py::TestImportPreviewEndpoint::test_preview_invalid_import_type", "lineno": 85, "outcome": "passed", "keywords": ["test_preview_invalid_import_type", "TestImportPreviewEndpoint", "test_imports_integration.py", "tests", "backend", ""], "setup": {"duration": 0.046465599000001134, "outcome": "passed"}, "call": {"duration": 0.009062349999993558, "outcome": "passed"}, "teardown": {"duration": 0.009787260000010178, "outcome": "passed"}}, {"nodeid": "tests/test_imports_integration.py::TestImportExecuteEndpoint::test_execute_creates_job_with_file", "lineno": 98, "outcome": "passed", "keywords": ["test_execute_creates_job_with_file", "TestImportExecuteEndpoint", "test_imports_integration.py", "tests", "backend", ""], "setup": {"duration": 0.04309601599999269, "outcome": "passed"}, "call": {"duration": 0.010827198000001204, "outcome": "passed"}, "teardown": {"duration": 0.009584658999997941, "outcome": "passed"}}, {"nodeid": "tests/test_imports_integration.py::TestImportExecuteEndpoint::test_execute_with_json_text", "lineno": 130, "outcome": "passed", "keywords": ["test_execute_with_json_text", "TestImportExecuteEndpoint", "test_imports_integration.py", "tests", "backend", ""], "setup": {"duration": 0.04356982999999559, "outcome": "passed"}, "call": {"duration": 0.011298287999991885, "outcome": "passed"}, "teardown": {"duration": 0.009620769000008522, "outcome": "passed"}}, {"nodeid": "tests/test_imports_integration.py::TestImportExecuteEndpoint::test_execute_rejects_no_data", "lineno": 157, "outcome": "passed", "keywords": ["test_execute_rejects_no_data", "TestImportExecuteEndpoint", "test_imports_integration.py", "tests", "backend", ""], "setup": {"duration": 0.04298159300000748, "outcome": "passed"}, "call": {"duration": 0.00810239800000545, "outcome": "passed"}, "teardown": {"duration": 0.00938073900000802, "outcome": "passed"}}, {"nodeid": "tests/test_imports_integration.py::TestImportExecuteEndpoint::test_execute_malformed_json_text", "lineno": 162, "outcome": "passed", "keywords": ["test_execute_malformed_json_text", "TestImportExecuteEndpoint", "test_imports_integration.py", "tests", "backend", ""], "setup": {"duration": 0.04265807999999538, "outcome": "passed"}, "call": {"duration": 0.008285850000007144, "outcome": "passed"}, "teardown": {"duration": 0.009471472000001313, "outcome": "passed"}}, {"nodeid": "tests/test_imports_integration.py::TestJobTracking::test_get_job_by_id", "lineno": 175, "outcome": "passed", "keywords": ["test_get_job_by_id", "TestJobTracking", "test_imports_integration.py", "tests", "backend", ""], "setup": {"duration": 0.04286694899998622, "outcome": "passed"}, "call": {"duration": 0.015355489000000944, "outcome": "passed"}, "teardown": {"duration": 0.009763043999996057, "outcome": "passed"}}, {"nodeid": "tests/test_imports_integration.py::TestJobTracking::test_job_invalid_id_returns_404", "lineno": 195, "outcome": "passed", "keywords": ["test_job_invalid_id_returns_404", "TestJobTracking", "test_imports_integration.py", "tests", "backend", ""], "setup": {"duration": 0.04333162599999696, "outcome": "passed"}, "call": {"duration": 0.0049584949999967876, "outcome": "passed"}, "teardown": {"duration": 0.009293098000000555, "outcome": "passed"}}, {"nodeid": "tests/test_imports_integration.py::TestPreviewAndExecuteWorkflow::test_preview_then_execute_workflow", "lineno": 204, "outcome": "passed", "keywords": ["test_preview_then_execute_workflow", "TestPreviewAndExecuteWorkflow", "test_imports_integration.py", "tests", "backend", ""], "setup": {"duration": 0.04267439000000195, "outcome": "passed"}, "call": {"duration": 0.021507354000007695, "outcome": "passed"}, "teardown": {"duration": 0.009878879999988044, "outcome": "passed"}}, {"nodeid": "tests/test_imports_integration.py::TestImportErrorHandling::test_audit_log_entry_on_failed_import", "lineno": 247, "outcome": "passed", "keywords": ["test_audit_log_entry_on_failed_import", "TestImportErrorHandling", "test_imports_integration.py", "tests", "backend", ""], "setup": {"duration": 0.042359642999997504, "outcome": "passed"}, "call": {"duration": 0.012121340999996733, "outcome": "passed"}, "teardown": {"duration": 0.009528854999999226, "outcome": "passed"}}, {"nodeid": "tests/test_imports_integration.py::TestImportErrorHandling::test_unsupported_file_type", "lineno": 272, "outcome": "passed", "keywords": ["test_unsupported_file_type", "TestImportErrorHandling", "test_imports_integration.py", "tests", "backend", ""], "setup": {"duration": 0.04258206699999789, "outcome": "passed"}, "call": {"duration": 0.008851605000003815, "outcome": "passed"}, "teardown": {"duration": 0.009405107999995721, "outcome": "passed"}}, {"nodeid": "tests/test_imports_integration.py::TestImportErrorHandling::test_oversized_json_text", "lineno": 281, "outcome": "passed", "keywords": ["test_oversized_json_text", "TestImportErrorHandling", "test_imports_integration.py", "tests", "backend", ""], "setup": {"duration": 0.04257990300000358, "outcome": "passed"}, "call": {"duration": 12.106543078000001, "outcome": "passed"}, "teardown": {"duration": 0.02281195400000513, "outcome": "passed"}}, {"nodeid": "tests/test_imports_soft_delete.py::test_import_students_reactivates_soft_deleted_record", "lineno": 7, "outcome": "passed", "keywords": ["test_import_students_reactivates_soft_deleted_record", "test_imports_soft_delete.py", "tests", "backend", ""], "setup": {"duration": 0.043551172999997334, "outcome": "passed"}, "call": {"duration": 0.015881121000006715, "outcome": "passed"}, "teardown": {"duration": 0.00955776299998945, "outcome": "passed"}}, {"nodeid": "tests/test_imports_soft_delete.py::test_import_courses_reactivates_soft_deleted_record", "lineno": 48, "outcome": "passed", "keywords": ["test_import_courses_reactivates_soft_deleted_record", "test_imports_soft_delete.py", "tests", "backend", ""], "setup": {"duration": 0.04370925800000691, "outcome": "passed"}, "call": {"duration": 0.010082209000003672, "outcome": "passed"}, "teardown": {"duration": 0.00942983199999503, "outcome": "passed"}}, {"nodeid": "tests/test_imports_upload.py::test_upload_courses_accepts_octet_stream", "lineno": 5, "outcome": "passed", "keywords": ["test_upload_courses_accepts_octet_stream", "test_imports_upload.py", "tests", "backend", ""], "setup": {"duration": 0.043506911000008586, "outcome": "passed"}, "call": {"duration": 0.024369015999994303, "outcome": "passed"}, "teardown": {"duration": 0.010207672000007051, "outcome": "passed"}}, {"nodeid": "tests/test_imports_upload.py::test_upload_courses_accepts_application_json", "lineno": 42, "outcome": "passed", "keywords": ["test_upload_courses_accepts_application_json", "test_imports_upload.py", "tests", "backend", ""], "setup": {"duration": 0.043925592000007896, "outcome": "passed"}, "call": {"duration": 0.020429964000001632, "outcome": "passed"}, "teardown": {"duration": 0.009925336999998535, "outcome": "passed"}}, {"nodeid": "tests/test_imports_upload.py::test_upload_courses_preserves_evaluation_rules", "lineno": 84, "outcome": "passed", "keywords": ["test_upload_courses_preserves_evaluation_rules", "test_imports_upload.py", "tests", "backend", ""], "setup": {"duration": 0.04462782999999604, "outcome": "passed"}, "call": {"duration": 0.020309586000010427, "outcome": "passed"}, "teardown": {"duration": 0.009931828999995673, "outcome": "passed"}}, {"nodeid": "tests/test_integration_smoke.py::test_health_endpoint_integration", "lineno": 7, "outcome": "skipped", "keywords": ["test_health_endpoint_integration", "skipif", "pytestmark", "test_integration_smoke.py", "tests", "backend", ""], "setup": {"duration": 0.0004173689999902308, "outcome": "skipped", "longrepr": "('/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_integration_smoke.py', 8, 'Skipped: Integration tests disabled (set RUN_INTEGRATION=1)')"}, "teardown": {"duration": 0.00020807800000000043, "outcome": "passed"}}, {"nodeid": "tests/test_jwt_smoke.py::test_jwt_encode_decode", "lineno": 12, "outcome": "passed", "keywords": ["test_jwt_encode_decode", "test_jwt_smoke.py", "tests", "backend", ""], "setup": {"duration": 0.038270306999990567, "outcome": "passed"}, "call": {"duration": 0.0005413599999997132, "outcome": "passed"}, "teardown": {"duration": 0.00028526200000555946, "outcome": "passed"}}, {"nodeid": "tests/test_list_routes.py::test_list_routes", "lineno": 0, "outcome": "passed", "keywords": ["test_list_routes", "test_list_routes.py", "tests", "backend", ""], "setup": {"duration": 0.04584680400000707, "outcome": "passed"}, "call": {"duration": 0.0224796140000052, "outcome": "passed", "stdout": "REGISTERED PATHS: ['/api/v1/admin/health', '/api/v1/admin/reset-database', '/api/v1/admin/backup-database', '/api/v1/admin/performance', '/api/v1/admin/restore-encrypted-backup', '/api/v1/admin/list-encrypted-backups', '/api/v1/admin/sample-data', '/api/v1/admin/debug-processes', '/api/v1/admin/shutdown', '/api/v1/security/csrf', '/api/v1/auth/register', '/api/v1/auth/login', '/api/v1/auth/me', '/api/v1/auth/refresh', '/api/v1/auth/logout', '/api/v1/admin/users', '/api/v1/admin/users/{user_id}', '/api/v1/admin/users/{user_id}/reset-password', '/api/v1/admin/users/{user_id}/unlock', '/api/v1/auth/change-password', '/api/v1/students/', '/api/v1/students/{student_id}', '/api/v1/students/{student_id}/activate', '/api/v1/students/{student_id}/deactivate', '/api/v1/students/bulk/create', '/api/v1/courses/', '/api/v1/courses/{course_id}', '/api/v1/courses/{course_id}/evaluation-rules', '/api/v1/grades/', '/api/v1/grades/student/{student_id}', '/api/v1/grades/course/{course_id}', '/api/v1/grades/{grade_id}', '/api/v1/grades/analysis/student/{student_id}/course/{course_id}', '/api/v1/attendance/', '/api/v1/attendance/student/{student_id}', '/api/v1/attendance/course/{course_id}', '/api/v1/attendance/date/{attendance_date}/course/{course_id}', '/api/v1/attendance/{attendance_id}', '/api/v1/attendance/stats/student/{student_id}/course/{course_id}', '/api/v1/attendance/bulk/create', '/api/v1/analytics/student/{student_id}/course/{course_id}/final-grade', '/api/v1/analytics/student/{student_id}/all-courses-summary', '/api/v1/analytics/student/{student_id}/summary', '/api/v1/analytics/dashboard', '/api/v1/analytics/student/{student_id}/performance', '/api/v1/analytics/student/{student_id}/trends', '/api/v1/analytics/course/{course_id}/students-comparison', '/api/v1/analytics/student/{student_id}/attendance', '/api/v1/analytics/course/{course_id}/grade-distribution', '/api/v1/analytics/cache/clear', '/api/v1/analytics/cache/student/{student_id}', '/api/v1/analytics/cache/course/{course_id}', '/api/v1/daily-performance/{id}', '/api/v1/daily-performance/', '/api/v1/daily-performance/student/{student_id}', '/api/v1/daily-performance/student/{student_id}/course/{course_id}', '/api/v1/daily-performance/date/{date_str}/course/{course_id}', '/api/v1/export/students/excel', '/api/v1/export/grades/excel/{student_id}', '/api/v1/export/students/pdf', '/api/v1/export/attendance/excel', '/api/v1/export/attendance/analytics/excel', '/api/v1/export/courses/excel', '/api/v1/export/enrollments/excel', '/api/v1/export/grades/excel', '/api/v1/export/performance/excel', '/api/v1/export/highlights/excel', '/api/v1/export/student-report/pdf/{student_id}', '/api/v1/export/courses/pdf', '/api/v1/export/analytics/course/{course_id}/pdf', '/api/v1/enrollments/', '/api/v1/enrollments/course/{course_id}', '/api/v1/enrollments/student/{student_id}', '/api/v1/enrollments/course/{course_id}/students', '/api/v1/enrollments/course/{course_id}/student/{student_id}', '/api/v1/imports/upload', '/api/v1/imports/preview', '/api/v1/imports/students', '/api/v1/imports/execute', '/api/v1/highlights/', '/api/v1/highlights/{highlight_id}', '/api/v1/highlights/student/{student_id}', '/api/v1/adminops/backup', '/api/v1/adminops/restore', '/api/v1/adminops/clear', '/api/v1/sessions/semesters', '/api/v1/sessions/export', '/api/v1/sessions/import', '/api/v1/sessions/rollback', '/api/v1/sessions/backups', '/api/v1/diagnostics/queries/summary', '/api/v1/diagnostics/queries/slow', '/api/v1/diagnostics/queries/patterns', '/api/v1/diagnostics/queries/reset', '/api/v1/diagnostics/health/queries', '/api/v1/reports/student-performance', '/api/v1/reports/formats', '/api/v1/reports/periods', '/api/v1/reports/student-performance/download', '/api/v1/reports/bulk/student-performance', '/api/v1/reports/cache/{student_id}', '/api/v1/reports/cache', '/api/v1/jobs/', '/api/v1/jobs/{job_id}', '/api/v1/jobs/{job_id}/cancel', '/api/v1/audit/logs', '/api/v1/audit/logs/{log_id}', '/api/v1/audit/logs/user/{user_id}', '/api/v1/admin/rbac/roles', '/api/v1/admin/rbac/roles/{role_id}', '/api/v1/admin/rbac/permissions', '/api/v1/admin/rbac/permissions/{permission_id}', '/api/v1/admin/rbac/change-history', '/api/v1/admin/rbac/bulk-assign-role', '/api/v1/admin/rbac/bulk-grant-permission', '/api/v1/admin/rbac/ensure-defaults', '/api/v1/admin/rbac/summary', '/api/v1/admin/rbac/assign-role', '/api/v1/admin/rbac/revoke-role', '/api/v1/admin/rbac/revoke-permission', '/api/v1/permissions/', '/api/v1/permissions/by-resource', '/api/v1/permissions/stats', '/api/v1/permissions/{permission_id}', '/api/v1/permissions/users/grant', '/api/v1/permissions/users/revoke', '/api/v1/permissions/roles/grant', '/api/v1/permissions/roles/revoke', '/api/v1/permissions/users/{user_id}', '/api/v1/metrics/students', '/api/v1/metrics/courses', '/api/v1/metrics/grades', '/api/v1/metrics/attendance', '/api/v1/metrics/dashboard', '/api/v1/feedback/', '/api/v1/notifications/unread-count', '/api/v1/notifications/read-all', '/api/v1/notifications/preferences', '/api/v1/notifications/', '/api/v1/notifications/{notification_id}', '/api/v1/notifications/{notification_id}/read', '/api/v1/notifications/broadcast', '/api/v1/import-export/imports/students', '/api/v1/import-export/imports/courses', '/api/v1/import-export/imports/grades', '/api/v1/import-export/imports/{import_job_id}', '/api/v1/import-export/imports', '/api/v1/import-export/imports/{import_job_id}/commit', '/api/v1/import-export/exports', '/api/v1/import-export/exports/{export_job_id}', '/api/v1/import-export/history', '/api/v1/api/v1/search/students', '/api/v1/api/v1/search/courses', '/api/v1/api/v1/search/grades', '/api/v1/api/v1/search/advanced', '/api/v1/api/v1/search/suggestions', '/api/v1/api/v1/search/statistics', '/control/api/status', '/control/api/diagnostics', '/control/api/ports', '/control/api/environment', '/control/api/troubleshoot', '/control/api/operations/install-frontend-deps', '/control/api/operations/install-backend-deps', '/control/api/operations/docker-build', '/control/api/operations/database-upload', '/control/api/operations/docker-update-volume', '/control/api/operations/database-backup', '/control/api/operations/database-backups', '/control/api/operations/database-backups/{backup_filename}/download', '/control/api/operations/database-backups/archive.zip', '/control/api/operations/database-backups/archive/save-to-path', '/control/api/operations/database-backups/archive/selected.zip', '/control/api/operations/database-backups/archive/selected/save-to-path', '/control/api/operations/database-backups/delete-selected', '/control/api/operations/database-backups/{backup_filename}/save-to-path', '/control/api/operations/database-restore', '/control/api/monitoring/environment', '/control/api/monitoring/status', '/control/api/monitoring/trigger', '/control/api/monitoring/start', '/control/api/monitoring/stop', '/control/api/monitoring/prometheus/query', '/control/api/monitoring/prometheus/range', '/control/api/logs/backend', '/control/api/operations/exit-all', '/control/api/restart', '/control/api/start', '/control/api/stop-all', '/control/api/stop', '/control/api/stop-backend', '/control/api/maintenance/auth-settings', '/control/api/maintenance/auth-policy-guide', '/control/api/maintenance/updates/check', '/control/api/rate-limits', '/control/api/rate-limits/update', '/control/api/rate-limits/bulk-update', '/control/api/rate-limits/reset', '/health', '/health/ready', '/health/live', '/api/logs/frontend-error', '/api/logs/frontend-warning', '/', '/api', '/favicon.ico', '/api/v1/import-export/import-export/imports/students', '/api/v1/import-export/import-export/imports/courses', '/api/v1/import-export/import-export/imports/grades', '/api/v1/import-export/import-export/imports/{import_job_id}', '/api/v1/import-export/import-export/imports', '/api/v1/import-export/import-export/imports/{import_job_id}/commit', '/api/v1/import-export/import-export/exports', '/api/v1/import-export/import-export/exports/{export_job_id}', '/api/v1/import-export/import-export/history']\n"}, "teardown": {"duration": 0.00975491900000236, "outcome": "passed"}}, {"nodeid": "tests/test_logging_config.py::test_initialize_logging_fallback_import", "lineno": 10, "outcome": "passed", "keywords": ["test_initialize_logging_fallback_import", "test_logging_config.py", "tests", "backend", ""], "setup": {"duration": 0.03787433899999826, "outcome": "passed"}, "call": {"duration": 0.0006736570000072106, "outcome": "passed"}, "teardown": {"duration": 0.00031326400001319143, "outcome": "passed"}}, {"nodeid": "tests/test_logging_config.py::test_initialize_logging_adds_rotating_file_handler", "lineno": 40, "outcome": "passed", "keywords": ["test_initialize_logging_adds_rotating_file_handler", "test_logging_config.py", "tests", "backend", ""], "setup": {"duration": 0.04071060699999407, "outcome": "passed"}, "call": {"duration": 0.0013661180000070772, "outcome": "passed", "stderr": "2026-01-19 09:34:08,811 - backend.logging_config - INFO - [-] - Logging initialized\n2026-01-19 09:34:08,811 - backend.logging_config - INFO - [-] - Logging initialized\n"}, "teardown": {"duration": 0.00030912699999419146, "outcome": "passed"}}, {"nodeid": "tests/test_logging_config_cov.py::test_initialize_logging_fallback_import", "lineno": 5, "outcome": "passed", "keywords": ["test_initialize_logging_fallback_import", "test_logging_config_cov.py", "tests", "backend", ""], "setup": {"duration": 0.042029095000003736, "outcome": "passed", "stderr": "2026-01-19 09:34:08,813 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815248.8135417, "msecs": 813.0, "relativeCreated": 54691.50972366333, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:08,813"}]}, "call": {"duration": 0.0011231539999982942, "outcome": "passed", "stderr": "2026-01-19 09:34:08,855 - backend.logging_config - INFO - [-] - Logging initialized\n", "log": [{"name": "backend.logging_config", "msg": "Logging initialized", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/logging_config.py", "filename": "logging_config.py", "module": "logging_config", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 114, "funcName": "initialize_logging", "created": 1768815248.855879, "msecs": 855.0, "relativeCreated": 54733.84714126587, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:08,855"}]}, "teardown": {"duration": 0.00034873999999263106, "outcome": "passed"}}, {"nodeid": "tests/test_metrics.py::TestMetricsService::test_get_student_metrics", "lineno": 98, "outcome": "passed", "keywords": ["test_get_student_metrics", "TestMetricsService", "test_metrics.py", "tests", "backend", ""], "setup": {"duration": 0.06154177799999161, "outcome": "passed", "stderr": "2026-01-19 09:34:08,858 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815248.8583388, "msecs": 858.0, "relativeCreated": 54736.30690574646, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:08,858"}]}, "call": {"duration": 0.0042938659999975926, "outcome": "passed"}, "teardown": {"duration": 0.0005643220000024485, "outcome": "passed"}}, {"nodeid": "tests/test_metrics.py::TestMetricsService::test_get_student_metrics_by_semester", "lineno": 108, "outcome": "passed", "keywords": ["test_get_student_metrics_by_semester", "TestMetricsService", "test_metrics.py", "tests", "backend", ""], "setup": {"duration": 0.061424337999994805, "outcome": "passed", "stderr": "2026-01-19 09:34:08,925 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815248.9259262, "msecs": 925.0, "relativeCreated": 54803.89428138733, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:08,925"}]}, "call": {"duration": 0.003488704999995207, "outcome": "passed"}, "teardown": {"duration": 0.0005967820000023494, "outcome": "passed"}}, {"nodeid": "tests/test_metrics.py::TestMetricsService::test_get_course_metrics", "lineno": 115, "outcome": "passed", "keywords": ["test_get_course_metrics", "TestMetricsService", "test_metrics.py", "tests", "backend", ""], "setup": {"duration": 0.060509432999992896, "outcome": "passed", "stderr": "2026-01-19 09:34:08,992 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815248.9926987, "msecs": 992.0, "relativeCreated": 54870.66674232483, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:08,992"}]}, "call": {"duration": 0.003980202000008148, "outcome": "passed"}, "teardown": {"duration": 0.000584129000003486, "outcome": "passed"}}, {"nodeid": "tests/test_metrics.py::TestMetricsService::test_get_grade_metrics", "lineno": 126, "outcome": "passed", "keywords": ["test_get_grade_metrics", "TestMetricsService", "test_metrics.py", "tests", "backend", ""], "setup": {"duration": 0.061837409000006005, "outcome": "passed", "stderr": "2026-01-19 09:34:09,059 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815249.059034, "msecs": 59.0, "relativeCreated": 54937.002182006836, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,059"}]}, "call": {"duration": 0.0030551769999931366, "outcome": "passed"}, "teardown": {"duration": 0.0005498449999947752, "outcome": "passed"}}, {"nodeid": "tests/test_metrics.py::TestMetricsService::test_get_attendance_metrics", "lineno": 138, "outcome": "passed", "keywords": ["test_get_attendance_metrics", "TestMetricsService", "test_metrics.py", "tests", "backend", ""], "setup": {"duration": 0.06133842799999911, "outcome": "passed", "stderr": "2026-01-19 09:34:09,125 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815249.1256812, "msecs": 125.0, "relativeCreated": 55003.64923477173, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,125"}]}, "call": {"duration": 0.006650309999997717, "outcome": "passed"}, "teardown": {"duration": 0.000694574999997144, "outcome": "passed"}}, {"nodeid": "tests/test_metrics.py::TestMetricsService::test_get_dashboard_metrics", "lineno": 150, "outcome": "passed", "keywords": ["test_get_dashboard_metrics", "TestMetricsService", "test_metrics.py", "tests", "backend", ""], "setup": {"duration": 0.06352568699999495, "outcome": "passed", "stderr": "2026-01-19 09:34:09,195 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815249.1959836, "msecs": 195.0, "relativeCreated": 55073.951721191406, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,195"}]}, "call": {"duration": 0.007578420000001529, "outcome": "passed"}, "teardown": {"duration": 0.0006391910000047574, "outcome": "passed"}}, {"nodeid": "tests/test_metrics.py::TestMetricsService::test_metrics_with_no_data", "lineno": 161, "outcome": "passed", "keywords": ["test_metrics_with_no_data", "TestMetricsService", "test_metrics.py", "tests", "backend", ""], "setup": {"duration": 0.0436295599999994, "outcome": "passed", "stderr": "2026-01-19 09:34:09,268 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815249.2689884, "msecs": 268.0, "relativeCreated": 55146.95644378662, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,268"}]}, "call": {"duration": 0.0046480759999951715, "outcome": "passed"}, "teardown": {"duration": 0.0005266520000049013, "outcome": "passed"}}, {"nodeid": "tests/test_metrics.py::TestMetricsRouter::test_get_student_metrics_endpoint", "lineno": 185, "outcome": "passed", "keywords": ["test_get_student_metrics_endpoint", "TestMetricsRouter", "test_metrics.py", "tests", "backend", ""], "setup": {"duration": 0.06797701600000039, "outcome": "passed", "stderr": "2026-01-19 09:34:09,319 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:09,363 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:09,365 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:09,365 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:09,365 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:09,366 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:09,366 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815249.3190072, "msecs": 319.0, "relativeCreated": 55196.975231170654, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,319"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815249.3636076, "msecs": 363.0, "relativeCreated": 55241.575717926025, "thread": 140512215779008, "threadName": "Thread-239 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,363"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815249.365219, "msecs": 365.0, "relativeCreated": 55243.18718910217, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a4859d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,365"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815249.3655715, "msecs": 365.0, "relativeCreated": 55243.539571762085, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a4859d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,365"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815249.3658342, "msecs": 365.0, "relativeCreated": 55243.802309036255, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a4859d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,365"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815249.3660648, "msecs": 366.0, "relativeCreated": 55244.032859802246, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a4859d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,366"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815249.3662817, "msecs": 366.0, "relativeCreated": 55244.24982070923, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a4859d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,366"}]}, "call": {"duration": 0.009011080999997034, "outcome": "passed", "stderr": "2026-01-19 09:34:09,388 - backend.request_id_middleware - INFO - [a001a875-610d-4c40-bf37-e8fb2e5a90d2] - Request started: GET /api/v1/metrics/students\n2026-01-19 09:34:09,392 - backend.request_id_middleware - INFO - [a001a875-610d-4c40-bf37-e8fb2e5a90d2] - Request completed: GET /api/v1/metrics/students - Status: 200\n2026-01-19 09:34:09,395 - httpx - INFO - [-] - HTTP Request: GET http://testserver/api/v1/metrics/students \"HTTP/1.1 200 OK\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: GET /api/v1/metrics/students", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815249.388748, "msecs": 388.0, "relativeCreated": 55266.71600341797, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a4859d0", "processName": "MainProcess", "process": 2241, "request_id": "a001a875-610d-4c40-bf37-e8fb2e5a90d2", "asctime": "2026-01-19 09:34:09,388"}, {"name": "backend.request_id_middleware", "msg": "Request completed: GET /api/v1/metrics/students - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815249.3928888, "msecs": 392.0, "relativeCreated": 55270.856857299805, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a4859d0", "processName": "MainProcess", "process": 2241, "request_id": "a001a875-610d-4c40-bf37-e8fb2e5a90d2", "asctime": "2026-01-19 09:34:09,392"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/api/v1/metrics/students \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815249.3952065, "msecs": 395.0, "relativeCreated": 55273.17452430725, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,395"}]}, "teardown": {"duration": 0.011943100999999956, "outcome": "passed", "stderr": "2026-01-19 09:34:09,396 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:09,397 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:09,397 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:09,397 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:09,397 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:09,398 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:09,398 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815249.3967562, "msecs": 396.0, "relativeCreated": 55274.72424507141, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a4859d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,396"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815249.3971627, "msecs": 397.0, "relativeCreated": 55275.13074874878, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a4859d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,397"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815249.3974288, "msecs": 397.0, "relativeCreated": 55275.39682388306, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a4859d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,397"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815249.3976781, "msecs": 397.0, "relativeCreated": 55275.6462097168, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a4859d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,397"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815249.3979876, "msecs": 397.0, "relativeCreated": 55275.95567703247, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a4859d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,397"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815249.398203, "msecs": 398.0, "relativeCreated": 55276.1709690094, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a4859d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,398"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815249.3984184, "msecs": 398.0, "relativeCreated": 55276.38649940491, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a4859d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,398"}]}}, {"nodeid": "tests/test_metrics.py::TestMetricsRouter::test_get_course_metrics_endpoint", "lineno": 195, "outcome": "passed", "keywords": ["test_get_course_metrics_endpoint", "TestMetricsRouter", "test_metrics.py", "tests", "backend", ""], "setup": {"duration": 0.06604702799999984, "outcome": "passed", "stderr": "2026-01-19 09:34:09,409 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:09,451 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:09,453 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:09,453 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:09,453 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:09,453 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:09,454 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815249.409423, "msecs": 409.0, "relativeCreated": 55287.3911857605, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,409"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815249.4516113, "msecs": 451.0, "relativeCreated": 55329.57935333252, "thread": 140512215779008, "threadName": "Thread-240 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,451"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815249.4530525, "msecs": 453.0, "relativeCreated": 55331.02059364319, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89fd7ed0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,453"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815249.4533932, "msecs": 453.0, "relativeCreated": 55331.361293792725, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89fd7ed0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,453"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815249.4536414, "msecs": 453.0, "relativeCreated": 55331.60948753357, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89fd7ed0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,453"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815249.4539025, "msecs": 453.0, "relativeCreated": 55331.870555877686, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89fd7ed0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,453"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815249.4541278, "msecs": 454.0, "relativeCreated": 55332.09586143494, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89fd7ed0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,454"}]}, "call": {"duration": 0.009368308000006209, "outcome": "passed", "stderr": "2026-01-19 09:34:09,477 - backend.request_id_middleware - INFO - [6c5570e4-0f47-4125-be09-8fb0b2f9b91d] - Request started: GET /api/v1/metrics/courses\n2026-01-19 09:34:09,481 - backend.request_id_middleware - INFO - [6c5570e4-0f47-4125-be09-8fb0b2f9b91d] - Request completed: GET /api/v1/metrics/courses - Status: 200\n2026-01-19 09:34:09,484 - httpx - INFO - [-] - HTTP Request: GET http://testserver/api/v1/metrics/courses \"HTTP/1.1 200 OK\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: GET /api/v1/metrics/courses", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815249.4773214, "msecs": 477.0, "relativeCreated": 55355.289459228516, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89fd7ed0", "processName": "MainProcess", "process": 2241, "request_id": "6c5570e4-0f47-4125-be09-8fb0b2f9b91d", "asctime": "2026-01-19 09:34:09,477"}, {"name": "backend.request_id_middleware", "msg": "Request completed: GET /api/v1/metrics/courses - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815249.4816432, "msecs": 481.0, "relativeCreated": 55359.61127281189, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89fd7ed0", "processName": "MainProcess", "process": 2241, "request_id": "6c5570e4-0f47-4125-be09-8fb0b2f9b91d", "asctime": "2026-01-19 09:34:09,481"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/api/v1/metrics/courses \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815249.484016, "msecs": 484.0, "relativeCreated": 55361.98401451111, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,484"}]}, "teardown": {"duration": 0.012290083999999979, "outcome": "passed", "stderr": "2026-01-19 09:34:09,485 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:09,486 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:09,486 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:09,486 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:09,486 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:09,487 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:09,487 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815249.4856935, "msecs": 485.0, "relativeCreated": 55363.66152763367, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89fd7ed0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,485"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815249.4861646, "msecs": 486.0, "relativeCreated": 55364.13264274597, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89fd7ed0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,486"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815249.4864318, "msecs": 486.0, "relativeCreated": 55364.399909973145, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89fd7ed0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,486"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815249.486684, "msecs": 486.0, "relativeCreated": 55364.652156829834, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89fd7ed0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,486"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815249.4869637, "msecs": 486.0, "relativeCreated": 55364.93182182312, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89fd7ed0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,486"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815249.4871826, "msecs": 487.0, "relativeCreated": 55365.150690078735, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89fd7ed0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,487"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815249.4874125, "msecs": 487.0, "relativeCreated": 55365.38052558899, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89fd7ed0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,487"}]}}, {"nodeid": "tests/test_metrics.py::TestMetricsRouter::test_get_grade_metrics_endpoint", "lineno": 204, "outcome": "passed", "keywords": ["test_get_grade_metrics_endpoint", "TestMetricsRouter", "test_metrics.py", "tests", "backend", ""], "setup": {"duration": 0.06489063200000089, "outcome": "passed", "stderr": "2026-01-19 09:34:09,498 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:09,540 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:09,541 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:09,541 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:09,542 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:09,542 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:09,542 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815249.4986324, "msecs": 498.0, "relativeCreated": 55376.60050392151, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,498"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815249.5400488, "msecs": 540.0, "relativeCreated": 55418.01691055298, "thread": 140512215779008, "threadName": "Thread-241 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,540"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815249.5416117, "msecs": 541.0, "relativeCreated": 55419.57974433899, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a280ed0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,541"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815249.5419972, "msecs": 541.0, "relativeCreated": 55419.9652671814, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a280ed0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,541"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815249.5422466, "msecs": 542.0, "relativeCreated": 55420.21465301514, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a280ed0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,542"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815249.5424798, "msecs": 542.0, "relativeCreated": 55420.4478263855, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a280ed0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,542"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815249.5427008, "msecs": 542.0, "relativeCreated": 55420.668840408325, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a280ed0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,542"}]}, "call": {"duration": 0.009036528999999405, "outcome": "passed", "stderr": "2026-01-19 09:34:09,565 - backend.request_id_middleware - INFO - [875e9c1e-3f5e-4d0f-9f77-350a64d4e3b8] - Request started: GET /api/v1/metrics/grades\n2026-01-19 09:34:09,569 - backend.request_id_middleware - INFO - [875e9c1e-3f5e-4d0f-9f77-350a64d4e3b8] - Request completed: GET /api/v1/metrics/grades - Status: 200\n2026-01-19 09:34:09,571 - httpx - INFO - [-] - HTTP Request: GET http://testserver/api/v1/metrics/grades \"HTTP/1.1 200 OK\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: GET /api/v1/metrics/grades", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815249.5653303, "msecs": 565.0, "relativeCreated": 55443.29833984375, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a280ed0", "processName": "MainProcess", "process": 2241, "request_id": "875e9c1e-3f5e-4d0f-9f77-350a64d4e3b8", "asctime": "2026-01-19 09:34:09,565"}, {"name": "backend.request_id_middleware", "msg": "Request completed: GET /api/v1/metrics/grades - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815249.5693572, "msecs": 569.0, "relativeCreated": 55447.325229644775, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a280ed0", "processName": "MainProcess", "process": 2241, "request_id": "875e9c1e-3f5e-4d0f-9f77-350a64d4e3b8", "asctime": "2026-01-19 09:34:09,569"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/api/v1/metrics/grades \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815249.5717049, "msecs": 571.0, "relativeCreated": 55449.67293739319, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,571"}]}, "teardown": {"duration": 0.011772209000000089, "outcome": "passed", "stderr": "2026-01-19 09:34:09,573 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:09,573 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:09,573 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:09,574 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:09,574 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:09,574 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:09,574 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815249.573317, "msecs": 573.0, "relativeCreated": 55451.28512382507, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a280ed0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,573"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815249.5736794, "msecs": 573.0, "relativeCreated": 55451.64752006531, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a280ed0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,573"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815249.5739932, "msecs": 573.0, "relativeCreated": 55451.961278915405, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a280ed0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,573"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815249.5742471, "msecs": 574.0, "relativeCreated": 55452.21519470215, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a280ed0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,574"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815249.5744934, "msecs": 574.0, "relativeCreated": 55452.46148109436, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a280ed0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,574"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815249.5747108, "msecs": 574.0, "relativeCreated": 55452.6789188385, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a280ed0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,574"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815249.5749552, "msecs": 574.0, "relativeCreated": 55452.92329788208, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a280ed0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,574"}]}}, {"nodeid": "tests/test_metrics.py::TestMetricsRouter::test_get_attendance_metrics_endpoint", "lineno": 214, "outcome": "passed", "keywords": ["test_get_attendance_metrics_endpoint", "TestMetricsRouter", "test_metrics.py", "tests", "backend", ""], "setup": {"duration": 0.06518259599999965, "outcome": "passed", "stderr": "2026-01-19 09:34:09,585 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:09,626 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:09,628 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:09,628 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:09,629 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:09,629 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:09,629 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815249.5857766, "msecs": 585.0, "relativeCreated": 55463.74464035034, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,585"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815249.6269393, "msecs": 626.0, "relativeCreated": 55504.90736961365, "thread": 140512215779008, "threadName": "Thread-242 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,626"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815249.628421, "msecs": 628.0, "relativeCreated": 55506.389141082764, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a206910", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,628"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815249.6288137, "msecs": 628.0, "relativeCreated": 55506.781816482544, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a206910", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,628"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815249.629065, "msecs": 629.0, "relativeCreated": 55507.03310966492, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a206910", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,629"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815249.6292965, "msecs": 629.0, "relativeCreated": 55507.264614105225, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a206910", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,629"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815249.6295214, "msecs": 629.0, "relativeCreated": 55507.48944282532, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a206910", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,629"}]}, "call": {"duration": 0.0109996790000082, "outcome": "passed", "stderr": "2026-01-19 09:34:09,652 - backend.request_id_middleware - INFO - [4331ac63-4c60-4007-ba19-4df7adb23159] - Request started: GET /api/v1/metrics/attendance\n2026-01-19 09:34:09,658 - backend.request_id_middleware - INFO - [4331ac63-4c60-4007-ba19-4df7adb23159] - Request completed: GET /api/v1/metrics/attendance - Status: 200\n2026-01-19 09:34:09,661 - httpx - INFO - [-] - HTTP Request: GET http://testserver/api/v1/metrics/attendance \"HTTP/1.1 200 OK\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: GET /api/v1/metrics/attendance", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815249.652878, "msecs": 652.0, "relativeCreated": 55530.846118927, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a206910", "processName": "MainProcess", "process": 2241, "request_id": "4331ac63-4c60-4007-ba19-4df7adb23159", "asctime": "2026-01-19 09:34:09,652"}, {"name": "backend.request_id_middleware", "msg": "Request completed: GET /api/v1/metrics/attendance - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815249.658612, "msecs": 658.0, "relativeCreated": 55536.580085754395, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a206910", "processName": "MainProcess", "process": 2241, "request_id": "4331ac63-4c60-4007-ba19-4df7adb23159", "asctime": "2026-01-19 09:34:09,658"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/api/v1/metrics/attendance \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815249.6610472, "msecs": 661.0, "relativeCreated": 55539.01529312134, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,661"}]}, "teardown": {"duration": 0.012115621000006627, "outcome": "passed", "stderr": "2026-01-19 09:34:09,662 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:09,663 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:09,663 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:09,663 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:09,664 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:09,664 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:09,664 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815249.6627824, "msecs": 662.0, "relativeCreated": 55540.75050354004, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a206910", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,662"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815249.663219, "msecs": 663.0, "relativeCreated": 55541.187047958374, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a206910", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,663"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815249.663503, "msecs": 663.0, "relativeCreated": 55541.471004486084, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a206910", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,663"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815249.6638143, "msecs": 663.0, "relativeCreated": 55541.78237915039, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a206910", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,663"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815249.664075, "msecs": 664.0, "relativeCreated": 55542.04297065735, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a206910", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,664"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815249.6642926, "msecs": 664.0, "relativeCreated": 55542.26064682007, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a206910", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,664"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815249.6645124, "msecs": 664.0, "relativeCreated": 55542.48046875, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a206910", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,664"}]}}, {"nodeid": "tests/test_metrics.py::TestMetricsRouter::test_get_dashboard_metrics_endpoint", "lineno": 223, "outcome": "passed", "keywords": ["test_get_dashboard_metrics_endpoint", "TestMetricsRouter", "test_metrics.py", "tests", "backend", ""], "setup": {"duration": 0.06404820099999142, "outcome": "passed", "stderr": "2026-01-19 09:34:09,675 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:09,716 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:09,717 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:09,718 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:09,718 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:09,718 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:09,719 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815249.6755462, "msecs": 675.0, "relativeCreated": 55553.51424217224, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,675"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815249.7163458, "msecs": 716.0, "relativeCreated": 55594.313859939575, "thread": 140512215779008, "threadName": "Thread-243 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,716"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815249.7179317, "msecs": 717.0, "relativeCreated": 55595.89982032776, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89fd5190", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,717"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815249.7182965, "msecs": 718.0, "relativeCreated": 55596.264600753784, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89fd5190", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,718"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815249.7185414, "msecs": 718.0, "relativeCreated": 55596.50945663452, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89fd5190", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,718"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815249.7188, "msecs": 718.0, "relativeCreated": 55596.76814079285, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89fd5190", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,718"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815249.719047, "msecs": 719.0, "relativeCreated": 55597.015142440796, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89fd5190", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,719"}]}, "call": {"duration": 0.014213823000005732, "outcome": "passed", "stderr": "2026-01-19 09:34:09,741 - backend.request_id_middleware - INFO - [9fa24675-5d5c-4511-a9f6-e7e292893d43] - Request started: GET /api/v1/metrics/dashboard\n2026-01-19 09:34:09,750 - backend.request_id_middleware - INFO - [9fa24675-5d5c-4511-a9f6-e7e292893d43] - Request completed: GET /api/v1/metrics/dashboard - Status: 200\n2026-01-19 09:34:09,753 - httpx - INFO - [-] - HTTP Request: GET http://testserver/api/v1/metrics/dashboard \"HTTP/1.1 200 OK\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: GET /api/v1/metrics/dashboard", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815249.7412322, "msecs": 741.0, "relativeCreated": 55619.200229644775, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89fd5190", "processName": "MainProcess", "process": 2241, "request_id": "9fa24675-5d5c-4511-a9f6-e7e292893d43", "asctime": "2026-01-19 09:34:09,741"}, {"name": "backend.request_id_middleware", "msg": "Request completed: GET /api/v1/metrics/dashboard - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815249.7506297, "msecs": 750.0, "relativeCreated": 55628.59773635864, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89fd5190", "processName": "MainProcess", "process": 2241, "request_id": "9fa24675-5d5c-4511-a9f6-e7e292893d43", "asctime": "2026-01-19 09:34:09,750"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/api/v1/metrics/dashboard \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815249.7530046, "msecs": 753.0, "relativeCreated": 55630.97262382507, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,753"}]}, "teardown": {"duration": 0.011349472999995669, "outcome": "passed", "stderr": "2026-01-19 09:34:09,754 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:09,754 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:09,755 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:09,755 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:09,755 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:09,755 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:09,756 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815249.7545483, "msecs": 754.0, "relativeCreated": 55632.516384124756, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89fd5190", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,754"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815249.7549458, "msecs": 754.0, "relativeCreated": 55632.91382789612, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89fd5190", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,754"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815249.7552152, "msecs": 755.0, "relativeCreated": 55633.1832408905, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89fd5190", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,755"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815249.755467, "msecs": 755.0, "relativeCreated": 55633.435010910034, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89fd5190", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,755"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815249.755711, "msecs": 755.0, "relativeCreated": 55633.679151535034, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89fd5190", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,755"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815249.755953, "msecs": 755.0, "relativeCreated": 55633.92114639282, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89fd5190", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,755"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815249.7561698, "msecs": 756.0, "relativeCreated": 55634.137868881226, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89fd5190", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,756"}]}}, {"nodeid": "tests/test_metrics.py::TestMetricsRouter::test_metrics_rate_limiting", "lineno": 239, "outcome": "passed", "keywords": ["test_metrics_rate_limiting", "TestMetricsRouter", "test_metrics.py", "tests", "backend", ""], "setup": {"duration": 0.06466595199998437, "outcome": "passed", "stderr": "2026-01-19 09:34:09,766 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:09,807 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:09,809 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:09,809 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:09,810 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:09,810 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:09,810 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815249.7665367, "msecs": 766.0, "relativeCreated": 55644.50478553772, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,766"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815249.8076928, "msecs": 807.0, "relativeCreated": 55685.66083908081, "thread": 140512198997696, "threadName": "Thread-244 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,807"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815249.8095357, "msecs": 809.0, "relativeCreated": 55687.503814697266, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a51ea50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,809"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815249.8099399, "msecs": 809.0, "relativeCreated": 55687.90793418884, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a51ea50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,809"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815249.810192, "msecs": 810.0, "relativeCreated": 55688.16018104553, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a51ea50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,810"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815249.810426, "msecs": 810.0, "relativeCreated": 55688.39406967163, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a51ea50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,810"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815249.8106532, "msecs": 810.0, "relativeCreated": 55688.621282577515, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a51ea50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,810"}]}, "call": {"duration": 0.009391609999994444, "outcome": "passed", "stderr": "2026-01-19 09:34:09,833 - backend.request_id_middleware - INFO - [6a896fe9-4da9-40a1-80e9-874636def1b2] - Request started: GET /api/v1/metrics/students\n2026-01-19 09:34:09,837 - backend.request_id_middleware - INFO - [6a896fe9-4da9-40a1-80e9-874636def1b2] - Request completed: GET /api/v1/metrics/students - Status: 200\n2026-01-19 09:34:09,839 - httpx - INFO - [-] - HTTP Request: GET http://testserver/api/v1/metrics/students \"HTTP/1.1 200 OK\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: GET /api/v1/metrics/students", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815249.8330061, "msecs": 833.0, "relativeCreated": 55710.97421646118, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a51ea50", "processName": "MainProcess", "process": 2241, "request_id": "6a896fe9-4da9-40a1-80e9-874636def1b2", "asctime": "2026-01-19 09:34:09,833"}, {"name": "backend.request_id_middleware", "msg": "Request completed: GET /api/v1/metrics/students - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815249.8373895, "msecs": 837.0, "relativeCreated": 55715.357542037964, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a51ea50", "processName": "MainProcess", "process": 2241, "request_id": "6a896fe9-4da9-40a1-80e9-874636def1b2", "asctime": "2026-01-19 09:34:09,837"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/api/v1/metrics/students \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815249.839815, "msecs": 839.0, "relativeCreated": 55717.782974243164, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,839"}]}, "teardown": {"duration": 0.011574623999990763, "outcome": "passed", "stderr": "2026-01-19 09:34:09,841 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:09,841 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:09,842 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:09,842 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:09,842 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:09,842 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:09,843 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815249.841359, "msecs": 841.0, "relativeCreated": 55719.326972961426, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a51ea50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,841"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815249.8417833, "msecs": 841.0, "relativeCreated": 55719.75135803223, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a51ea50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,841"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815249.8420608, "msecs": 842.0, "relativeCreated": 55720.0288772583, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a51ea50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,842"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815249.8423204, "msecs": 842.0, "relativeCreated": 55720.28851509094, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a51ea50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,842"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815249.8425727, "msecs": 842.0, "relativeCreated": 55720.54076194763, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a51ea50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,842"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815249.842818, "msecs": 842.0, "relativeCreated": 55720.78609466553, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a51ea50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,842"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815249.843043, "msecs": 843.0, "relativeCreated": 55721.0111618042, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a51ea50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,843"}]}}, {"nodeid": "tests/test_models_relationships.py::test_deleting_student_cascades_related_records", "lineno": 16, "outcome": "passed", "keywords": ["test_deleting_student_cascades_related_records", "test_models_relationships.py", "tests", "backend", ""], "setup": {"duration": 0.03730353399998876, "outcome": "passed", "stderr": "2026-01-19 09:34:09,853 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815249.8538024, "msecs": 853.0, "relativeCreated": 55731.770515441895, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,853"}]}, "call": {"duration": 0.034876189999977214, "outcome": "passed"}, "teardown": {"duration": 0.00035421999999130094, "outcome": "passed"}}, {"nodeid": "tests/test_models_relationships.py::test_deleting_course_cascades_enrollments_only", "lineno": 72, "outcome": "passed", "keywords": ["test_deleting_course_cascades_enrollments_only", "test_models_relationships.py", "tests", "backend", ""], "setup": {"duration": 0.042297806000021865, "outcome": "passed", "stderr": "2026-01-19 09:34:09,927 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815249.9276624, "msecs": 927.0, "relativeCreated": 55805.63044548035, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,927"}]}, "call": {"duration": 0.013163513999984389, "outcome": "passed"}, "teardown": {"duration": 0.0003225510000106624, "outcome": "passed"}}, {"nodeid": "tests/test_notifications_router.py::test_websocket_missing_token", "lineno": 80, "outcome": "passed", "keywords": ["test_websocket_missing_token", "test_notifications_router.py", "tests", "backend", ""], "setup": {"duration": 0.04866714300001718, "outcome": "passed", "stderr": "2026-01-19 09:34:09,984 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:10,029 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:10,031 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:10,031 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:10,031 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:10,031 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:10,032 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815249.9849503, "msecs": 984.0, "relativeCreated": 55862.91837692261, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:09,984"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815250.029486, "msecs": 29.0, "relativeCreated": 55907.45401382446, "thread": 140512198997696, "threadName": "Thread-245 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,029"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815250.0310266, "msecs": 31.0, "relativeCreated": 55908.99467468262, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb89e58ed0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,031"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815250.0313833, "msecs": 31.0, "relativeCreated": 55909.35134887695, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb89e58ed0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,031"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815250.0316257, "msecs": 31.0, "relativeCreated": 55909.5938205719, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb89e58ed0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,031"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815250.0318956, "msecs": 31.0, "relativeCreated": 55909.86371040344, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb89e58ed0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,031"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815250.0321271, "msecs": 32.0, "relativeCreated": 55910.09521484375, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb89e58ed0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,032"}]}, "call": {"duration": 0.00029460900000799484, "outcome": "passed"}, "teardown": {"duration": 0.011054792000010139, "outcome": "passed", "stderr": "2026-01-19 09:34:10,034 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:10,034 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:10,035 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:10,035 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:10,035 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:10,035 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:10,036 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815250.0344634, "msecs": 34.0, "relativeCreated": 55912.431478500366, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb89e58ed0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,034"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815250.03492, "msecs": 34.0, "relativeCreated": 55912.888050079346, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb89e58ed0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,034"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815250.035187, "msecs": 35.0, "relativeCreated": 55913.15507888794, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb89e58ed0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,035"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815250.0354455, "msecs": 35.0, "relativeCreated": 55913.413524627686, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb89e58ed0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,035"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815250.0356886, "msecs": 35.0, "relativeCreated": 55913.65671157837, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb89e58ed0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,035"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815250.035931, "msecs": 35.0, "relativeCreated": 55913.899183273315, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb89e58ed0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,035"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815250.0361474, "msecs": 36.0, "relativeCreated": 55914.11542892456, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb89e58ed0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,036"}]}}, {"nodeid": "tests/test_notifications_router.py::test_websocket_invalid_token", "lineno": 88, "outcome": "passed", "keywords": ["test_websocket_invalid_token", "test_notifications_router.py", "tests", "backend", ""], "setup": {"duration": 0.04445046999998681, "outcome": "passed", "stderr": "2026-01-19 09:34:10,046 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:10,086 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:10,088 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:10,088 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:10,088 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:10,088 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:10,089 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815250.0461845, "msecs": 46.0, "relativeCreated": 55924.15261268616, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,046"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815250.0865953, "msecs": 86.0, "relativeCreated": 55964.56336975098, "thread": 140512198997696, "threadName": "Thread-246 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,086"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815250.0880876, "msecs": 88.0, "relativeCreated": 55966.05563163757, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a0233d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,088"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815250.0884418, "msecs": 88.0, "relativeCreated": 55966.40992164612, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a0233d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,088"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815250.0886815, "msecs": 88.0, "relativeCreated": 55966.649532318115, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a0233d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,088"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815250.0889688, "msecs": 88.0, "relativeCreated": 55966.93682670593, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a0233d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,088"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815250.0891922, "msecs": 89.0, "relativeCreated": 55967.16022491455, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a0233d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,089"}]}, "call": {"duration": 0.0003091160000110449, "outcome": "passed"}, "teardown": {"duration": 0.011138086999977759, "outcome": "passed", "stderr": "2026-01-19 09:34:10,091 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:10,091 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:10,092 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:10,092 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:10,092 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:10,092 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:10,093 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815250.091518, "msecs": 91.0, "relativeCreated": 55969.48599815369, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a0233d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,091"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815250.0919542, "msecs": 91.0, "relativeCreated": 55969.92230415344, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a0233d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,091"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815250.092229, "msecs": 92.0, "relativeCreated": 55970.19696235657, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a0233d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,092"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815250.0924835, "msecs": 92.0, "relativeCreated": 55970.45159339905, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a0233d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,092"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815250.092756, "msecs": 92.0, "relativeCreated": 55970.72410583496, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a0233d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,092"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815250.092983, "msecs": 92.0, "relativeCreated": 55970.951080322266, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a0233d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,092"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815250.0931973, "msecs": 93.0, "relativeCreated": 55971.16541862488, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a0233d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,093"}]}}, {"nodeid": "tests/test_notifications_router.py::test_list_notifications_success", "lineno": 98, "outcome": "passed", "keywords": ["test_list_notifications_success", "test_notifications_router.py", "tests", "backend", ""], "setup": {"duration": 0.08621709600001282, "outcome": "passed", "stderr": "2026-01-19 09:34:10,103 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:10,144 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:10,146 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:10,147 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:10,147 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:10,147 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:10,148 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n2026-01-19 09:34:10,150 - backend.request_id_middleware - INFO - [95f2f3f3-422e-4fdf-99d6-ce0ade63f0aa] - Request started: POST /api/v1/auth/register\n2026-01-19 09:34:10,166 - backend.request_id_middleware - INFO - [95f2f3f3-422e-4fdf-99d6-ce0ade63f0aa] - Request completed: POST /api/v1/auth/register - Status: 200\n2026-01-19 09:34:10,168 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:10,170 - backend.request_id_middleware - INFO - [b6e93459-338a-4707-846e-37b3b955ebfe] - Request started: POST /api/v1/auth/login\n2026-01-19 09:34:10,173 - backend.routers.routers_auth - INFO - [b6e93459-338a-4707-846e-37b3b955ebfe] - Login attempt\n2026-01-19 09:34:10,184 - backend.routers.routers_auth - INFO - [b6e93459-338a-4707-846e-37b3b955ebfe] - Login successful\n2026-01-19 09:34:10,185 - backend.request_id_middleware - INFO - [b6e93459-338a-4707-846e-37b3b955ebfe] - Request completed: POST /api/v1/auth/login - Status: 200\n2026-01-19 09:34:10,188 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815250.1032815, "msecs": 103.0, "relativeCreated": 55981.24957084656, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,103"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815250.1441386, "msecs": 144.0, "relativeCreated": 56022.106647491455, "thread": 140512198997696, "threadName": "Thread-247 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,144"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815250.1469715, "msecs": 146.0, "relativeCreated": 56024.93953704834, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a023dd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,146"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815250.1473165, "msecs": 147.0, "relativeCreated": 56025.2845287323, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a023dd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,147"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815250.147558, "msecs": 147.0, "relativeCreated": 56025.52604675293, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a023dd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,147"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815250.1478207, "msecs": 147.0, "relativeCreated": 56025.7887840271, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a023dd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,147"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815250.1480525, "msecs": 148.0, "relativeCreated": 56026.020526885986, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a023dd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,148"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/register", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815250.1504683, "msecs": 150.0, "relativeCreated": 56028.43642234802, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a023dd0", "processName": "MainProcess", "process": 2241, "request_id": "95f2f3f3-422e-4fdf-99d6-ce0ade63f0aa", "asctime": "2026-01-19 09:34:10,150"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/register - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815250.166277, "msecs": 166.0, "relativeCreated": 56044.24500465393, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a023dd0", "processName": "MainProcess", "process": 2241, "request_id": "95f2f3f3-422e-4fdf-99d6-ce0ade63f0aa", "asctime": "2026-01-19 09:34:10,166"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815250.1686504, "msecs": 168.0, "relativeCreated": 56046.61846160889, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,168"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/login", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815250.1704361, "msecs": 170.0, "relativeCreated": 56048.40421676636, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a023dd0", "processName": "MainProcess", "process": 2241, "request_id": "b6e93459-338a-4707-846e-37b3b955ebfe", "asctime": "2026-01-19 09:34:10,170"}, {"name": "backend.routers.routers_auth", "msg": "Login attempt", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 459, "funcName": "login", "created": 1768815250.1730576, "msecs": 173.0, "relativeCreated": 56051.02562904358, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a023dd0", "processName": "MainProcess", "process": 2241, "request_id": "b6e93459-338a-4707-846e-37b3b955ebfe", "asctime": "2026-01-19 09:34:10,173"}, {"name": "backend.routers.routers_auth", "msg": "Login successful", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 496, "funcName": "login", "created": 1768815250.1842551, "msecs": 184.0, "relativeCreated": 56062.22319602966, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a023dd0", "processName": "MainProcess", "process": 2241, "user_id": 1, "request_id": "b6e93459-338a-4707-846e-37b3b955ebfe", "asctime": "2026-01-19 09:34:10,184"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/login - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815250.185883, "msecs": 185.0, "relativeCreated": 56063.85111808777, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a023dd0", "processName": "MainProcess", "process": 2241, "request_id": "b6e93459-338a-4707-846e-37b3b955ebfe", "asctime": "2026-01-19 09:34:10,185"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815250.1883187, "msecs": 188.0, "relativeCreated": 56066.28680229187, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,188"}]}, "call": {"duration": 0.02658350599998016, "outcome": "passed", "stderr": "2026-01-19 09:34:10,199 - backend.request_id_middleware - INFO - [6ef9421a-9dc5-49d7-814a-5916c2a3988b] - Request started: GET /api/v1/notifications/\n2026-01-19 09:34:10,212 - backend.request_id_middleware - INFO - [6ef9421a-9dc5-49d7-814a-5916c2a3988b] - Request completed: GET /api/v1/notifications/ - Status: 200\n2026-01-19 09:34:10,215 - httpx - INFO - [-] - HTTP Request: GET http://testserver/api/v1/notifications/ \"HTTP/1.1 200 OK\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: GET /api/v1/notifications/", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815250.199537, "msecs": 199.0, "relativeCreated": 56077.505111694336, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a023dd0", "processName": "MainProcess", "process": 2241, "request_id": "6ef9421a-9dc5-49d7-814a-5916c2a3988b", "asctime": "2026-01-19 09:34:10,199"}, {"name": "backend.request_id_middleware", "msg": "Request completed: GET /api/v1/notifications/ - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815250.2120683, "msecs": 212.0, "relativeCreated": 56090.036392211914, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a023dd0", "processName": "MainProcess", "process": 2241, "request_id": "6ef9421a-9dc5-49d7-814a-5916c2a3988b", "asctime": "2026-01-19 09:34:10,212"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/api/v1/notifications/ \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815250.2151155, "msecs": 215.0, "relativeCreated": 56093.08362007141, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,215"}]}, "teardown": {"duration": 0.015651071999997157, "outcome": "passed", "stderr": "2026-01-19 09:34:10,217 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:10,217 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:10,218 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:10,218 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:10,218 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:10,219 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:10,219 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815250.2172658, "msecs": 217.0, "relativeCreated": 56095.23391723633, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a023dd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,217"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815250.2178612, "msecs": 217.0, "relativeCreated": 56095.829248428345, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a023dd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,217"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815250.2182539, "msecs": 218.0, "relativeCreated": 56096.221923828125, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a023dd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,218"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815250.2185779, "msecs": 218.0, "relativeCreated": 56096.545934677124, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a023dd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,218"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815250.218982, "msecs": 218.0, "relativeCreated": 56096.9500541687, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a023dd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,218"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815250.2193232, "msecs": 219.0, "relativeCreated": 56097.291231155396, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a023dd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,219"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815250.2196023, "msecs": 219.0, "relativeCreated": 56097.57041931152, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a023dd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,219"}]}}, {"nodeid": "tests/test_notifications_router.py::test_list_notifications_pagination", "lineno": 121, "outcome": "passed", "keywords": ["test_list_notifications_pagination", "test_notifications_router.py", "tests", "backend", ""], "setup": {"duration": 0.09104102999998531, "outcome": "passed", "stderr": "2026-01-19 09:34:10,233 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:10,278 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:10,280 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:10,280 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:10,280 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:10,281 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:10,281 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n2026-01-19 09:34:10,283 - backend.request_id_middleware - INFO - [13dcb522-5854-4fe0-9caf-9b2e8001d404] - Request started: POST /api/v1/auth/register\n2026-01-19 09:34:10,300 - backend.request_id_middleware - INFO - [13dcb522-5854-4fe0-9caf-9b2e8001d404] - Request completed: POST /api/v1/auth/register - Status: 200\n2026-01-19 09:34:10,303 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:10,304 - backend.request_id_middleware - INFO - [501bec73-e573-43e2-b477-34e3e464dee1] - Request started: POST /api/v1/auth/login\n2026-01-19 09:34:10,307 - backend.routers.routers_auth - INFO - [501bec73-e573-43e2-b477-34e3e464dee1] - Login attempt\n2026-01-19 09:34:10,318 - backend.routers.routers_auth - INFO - [501bec73-e573-43e2-b477-34e3e464dee1] - Login successful\n2026-01-19 09:34:10,320 - backend.request_id_middleware - INFO - [501bec73-e573-43e2-b477-34e3e464dee1] - Request completed: POST /api/v1/auth/login - Status: 200\n2026-01-19 09:34:10,323 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815250.2335107, "msecs": 233.0, "relativeCreated": 56111.47880554199, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,233"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815250.2788472, "msecs": 278.0, "relativeCreated": 56156.81529045105, "thread": 140512215779008, "threadName": "Thread-248 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,278"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815250.2803013, "msecs": 280.0, "relativeCreated": 56158.26940536499, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a51d890", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,280"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815250.280591, "msecs": 280.0, "relativeCreated": 56158.5590839386, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a51d890", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,280"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815250.280867, "msecs": 280.0, "relativeCreated": 56158.8351726532, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a51d890", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,280"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815250.2811012, "msecs": 281.0, "relativeCreated": 56159.069299697876, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a51d890", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,281"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815250.281323, "msecs": 281.0, "relativeCreated": 56159.29102897644, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a51d890", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,281"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/register", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815250.2838993, "msecs": 283.0, "relativeCreated": 56161.86738014221, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a51d890", "processName": "MainProcess", "process": 2241, "request_id": "13dcb522-5854-4fe0-9caf-9b2e8001d404", "asctime": "2026-01-19 09:34:10,283"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/register - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815250.3005207, "msecs": 300.0, "relativeCreated": 56178.48873138428, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a51d890", "processName": "MainProcess", "process": 2241, "request_id": "13dcb522-5854-4fe0-9caf-9b2e8001d404", "asctime": "2026-01-19 09:34:10,300"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815250.3030567, "msecs": 303.0, "relativeCreated": 56181.02478981018, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,303"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/login", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815250.3049512, "msecs": 304.0, "relativeCreated": 56182.91926383972, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a51d890", "processName": "MainProcess", "process": 2241, "request_id": "501bec73-e573-43e2-b477-34e3e464dee1", "asctime": "2026-01-19 09:34:10,304"}, {"name": "backend.routers.routers_auth", "msg": "Login attempt", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 459, "funcName": "login", "created": 1768815250.307593, "msecs": 307.0, "relativeCreated": 56185.561180114746, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a51d890", "processName": "MainProcess", "process": 2241, "request_id": "501bec73-e573-43e2-b477-34e3e464dee1", "asctime": "2026-01-19 09:34:10,307"}, {"name": "backend.routers.routers_auth", "msg": "Login successful", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 496, "funcName": "login", "created": 1768815250.3189719, "msecs": 318.0, "relativeCreated": 56196.93994522095, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a51d890", "processName": "MainProcess", "process": 2241, "user_id": 1, "request_id": "501bec73-e573-43e2-b477-34e3e464dee1", "asctime": "2026-01-19 09:34:10,318"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/login - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815250.3206744, "msecs": 320.0, "relativeCreated": 56198.64249229431, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a51d890", "processName": "MainProcess", "process": 2241, "request_id": "501bec73-e573-43e2-b477-34e3e464dee1", "asctime": "2026-01-19 09:34:10,320"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815250.3232102, "msecs": 323.0, "relativeCreated": 56201.178312301636, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,323"}]}, "call": {"duration": 0.04641550400000938, "outcome": "passed", "stderr": "2026-01-19 09:34:10,347 - backend.request_id_middleware - INFO - [7158acf1-0af2-4d96-8078-606a41dfe5c0] - Request started: GET /api/v1/notifications/\n2026-01-19 09:34:10,355 - backend.request_id_middleware - INFO - [7158acf1-0af2-4d96-8078-606a41dfe5c0] - Request completed: GET /api/v1/notifications/ - Status: 200\n2026-01-19 09:34:10,357 - httpx - INFO - [-] - HTTP Request: GET http://testserver/api/v1/notifications/?skip=0&limit=10 \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:10,359 - backend.request_id_middleware - INFO - [fae97147-1a7e-48d5-884a-b833d3445a4b] - Request started: GET /api/v1/notifications/\n2026-01-19 09:34:10,367 - backend.request_id_middleware - INFO - [fae97147-1a7e-48d5-884a-b833d3445a4b] - Request completed: GET /api/v1/notifications/ - Status: 200\n2026-01-19 09:34:10,370 - httpx - INFO - [-] - HTTP Request: GET http://testserver/api/v1/notifications/?skip=10&limit=10 \"HTTP/1.1 200 OK\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: GET /api/v1/notifications/", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815250.347228, "msecs": 347.0, "relativeCreated": 56225.19612312317, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a51d890", "processName": "MainProcess", "process": 2241, "request_id": "7158acf1-0af2-4d96-8078-606a41dfe5c0", "asctime": "2026-01-19 09:34:10,347"}, {"name": "backend.request_id_middleware", "msg": "Request completed: GET /api/v1/notifications/ - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815250.3556285, "msecs": 355.0, "relativeCreated": 56233.59656333923, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a51d890", "processName": "MainProcess", "process": 2241, "request_id": "7158acf1-0af2-4d96-8078-606a41dfe5c0", "asctime": "2026-01-19 09:34:10,355"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/api/v1/notifications/?skip=0&limit=10 \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815250.3579512, "msecs": 357.0, "relativeCreated": 56235.91923713684, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,357"}, {"name": "backend.request_id_middleware", "msg": "Request started: GET /api/v1/notifications/", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815250.3599982, "msecs": 359.0, "relativeCreated": 56237.96629905701, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a51d890", "processName": "MainProcess", "process": 2241, "request_id": "fae97147-1a7e-48d5-884a-b833d3445a4b", "asctime": "2026-01-19 09:34:10,359"}, {"name": "backend.request_id_middleware", "msg": "Request completed: GET /api/v1/notifications/ - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815250.3677824, "msecs": 367.0, "relativeCreated": 56245.750427246094, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a51d890", "processName": "MainProcess", "process": 2241, "request_id": "fae97147-1a7e-48d5-884a-b833d3445a4b", "asctime": "2026-01-19 09:34:10,367"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/api/v1/notifications/?skip=10&limit=10 \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815250.3700585, "msecs": 370.0, "relativeCreated": 56248.02660942078, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,370"}]}, "teardown": {"duration": 0.014526304999975537, "outcome": "passed", "stderr": "2026-01-19 09:34:10,371 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:10,372 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:10,372 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:10,372 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:10,373 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:10,373 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:10,373 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815250.371756, "msecs": 371.0, "relativeCreated": 56249.72414970398, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a51d890", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,371"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815250.3721597, "msecs": 372.0, "relativeCreated": 56250.1277923584, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a51d890", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,372"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815250.3724375, "msecs": 372.0, "relativeCreated": 56250.40555000305, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a51d890", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,372"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815250.3726983, "msecs": 372.0, "relativeCreated": 56250.66637992859, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a51d890", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,372"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815250.373003, "msecs": 373.0, "relativeCreated": 56250.97107887268, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a51d890", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,373"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815250.373224, "msecs": 373.0, "relativeCreated": 56251.19209289551, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a51d890", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,373"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815250.373443, "msecs": 373.0, "relativeCreated": 56251.41096115112, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a51d890", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,373"}]}}, {"nodeid": "tests/test_notifications_router.py::test_list_notifications_unread_only_filter", "lineno": 144, "outcome": "passed", "keywords": ["test_list_notifications_unread_only_filter", "test_notifications_router.py", "tests", "backend", ""], "setup": {"duration": 0.09189840700000218, "outcome": "passed", "stderr": "2026-01-19 09:34:10,387 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:10,428 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:10,431 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:10,431 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:10,432 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:10,432 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:10,432 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n2026-01-19 09:34:10,436 - backend.request_id_middleware - INFO - [cf67b79b-eab5-4030-8e41-bfe3da78dd06] - Request started: POST /api/v1/auth/register\n2026-01-19 09:34:10,455 - backend.request_id_middleware - INFO - [cf67b79b-eab5-4030-8e41-bfe3da78dd06] - Request completed: POST /api/v1/auth/register - Status: 200\n2026-01-19 09:34:10,457 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:10,459 - backend.request_id_middleware - INFO - [2f634123-56b2-4ff1-b42e-471dd71429d7] - Request started: POST /api/v1/auth/login\n2026-01-19 09:34:10,462 - backend.routers.routers_auth - INFO - [2f634123-56b2-4ff1-b42e-471dd71429d7] - Login attempt\n2026-01-19 09:34:10,473 - backend.routers.routers_auth - INFO - [2f634123-56b2-4ff1-b42e-471dd71429d7] - Login successful\n2026-01-19 09:34:10,474 - backend.request_id_middleware - INFO - [2f634123-56b2-4ff1-b42e-471dd71429d7] - Request completed: POST /api/v1/auth/login - Status: 200\n2026-01-19 09:34:10,477 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815250.387196, "msecs": 387.0, "relativeCreated": 56265.1641368866, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,387"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815250.4284537, "msecs": 428.0, "relativeCreated": 56306.421756744385, "thread": 140512198997696, "threadName": "Thread-249 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,428"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815250.4312408, "msecs": 431.0, "relativeCreated": 56309.20886993408, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a203450", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,431"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815250.431649, "msecs": 431.0, "relativeCreated": 56309.617042541504, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a203450", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,431"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815250.432134, "msecs": 432.0, "relativeCreated": 56310.1019859314, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a203450", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,432"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815250.4324236, "msecs": 432.0, "relativeCreated": 56310.391664505005, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a203450", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,432"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815250.432682, "msecs": 432.0, "relativeCreated": 56310.65011024475, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a203450", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,432"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/register", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815250.4364028, "msecs": 436.0, "relativeCreated": 56314.37087059021, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a203450", "processName": "MainProcess", "process": 2241, "request_id": "cf67b79b-eab5-4030-8e41-bfe3da78dd06", "asctime": "2026-01-19 09:34:10,436"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/register - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815250.4552538, "msecs": 455.0, "relativeCreated": 56333.22191238403, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a203450", "processName": "MainProcess", "process": 2241, "request_id": "cf67b79b-eab5-4030-8e41-bfe3da78dd06", "asctime": "2026-01-19 09:34:10,455"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815250.4576404, "msecs": 457.0, "relativeCreated": 56335.60848236084, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,457"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/login", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815250.4594202, "msecs": 459.0, "relativeCreated": 56337.38827705383, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a203450", "processName": "MainProcess", "process": 2241, "request_id": "2f634123-56b2-4ff1-b42e-471dd71429d7", "asctime": "2026-01-19 09:34:10,459"}, {"name": "backend.routers.routers_auth", "msg": "Login attempt", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 459, "funcName": "login", "created": 1768815250.4621115, "msecs": 462.0, "relativeCreated": 56340.07954597473, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a203450", "processName": "MainProcess", "process": 2241, "request_id": "2f634123-56b2-4ff1-b42e-471dd71429d7", "asctime": "2026-01-19 09:34:10,462"}, {"name": "backend.routers.routers_auth", "msg": "Login successful", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 496, "funcName": "login", "created": 1768815250.473303, "msecs": 473.0, "relativeCreated": 56351.27115249634, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a203450", "processName": "MainProcess", "process": 2241, "user_id": 1, "request_id": "2f634123-56b2-4ff1-b42e-471dd71429d7", "asctime": "2026-01-19 09:34:10,473"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/login - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815250.4749749, "msecs": 474.0, "relativeCreated": 56352.942943573, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a203450", "processName": "MainProcess", "process": 2241, "request_id": "2f634123-56b2-4ff1-b42e-471dd71429d7", "asctime": "2026-01-19 09:34:10,474"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815250.4774735, "msecs": 477.0, "relativeCreated": 56355.44157028198, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,477"}]}, "call": {"duration": 0.021882942000019057, "outcome": "passed", "stderr": "2026-01-19 09:34:10,486 - backend.request_id_middleware - INFO - [14f7c7b3-8d8d-4845-84ee-d090adfd6d5a] - Request started: GET /api/v1/notifications/\n2026-01-19 09:34:10,497 - backend.request_id_middleware - INFO - [14f7c7b3-8d8d-4845-84ee-d090adfd6d5a] - Request completed: GET /api/v1/notifications/ - Status: 200\n2026-01-19 09:34:10,499 - httpx - INFO - [-] - HTTP Request: GET http://testserver/api/v1/notifications/?unread_only=true \"HTTP/1.1 200 OK\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: GET /api/v1/notifications/", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815250.486057, "msecs": 486.0, "relativeCreated": 56364.0251159668, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a203450", "processName": "MainProcess", "process": 2241, "request_id": "14f7c7b3-8d8d-4845-84ee-d090adfd6d5a", "asctime": "2026-01-19 09:34:10,486"}, {"name": "backend.request_id_middleware", "msg": "Request completed: GET /api/v1/notifications/ - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815250.4975317, "msecs": 497.0, "relativeCreated": 56375.4997253418, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a203450", "processName": "MainProcess", "process": 2241, "request_id": "14f7c7b3-8d8d-4845-84ee-d090adfd6d5a", "asctime": "2026-01-19 09:34:10,497"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/api/v1/notifications/?unread_only=true \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815250.4998467, "msecs": 499.0, "relativeCreated": 56377.81476974487, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,499"}]}, "teardown": {"duration": 0.011563708000011275, "outcome": "passed", "stderr": "2026-01-19 09:34:10,501 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:10,501 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:10,502 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:10,502 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:10,502 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:10,502 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:10,503 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815250.501383, "msecs": 501.0, "relativeCreated": 56379.3511390686, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a203450", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,501"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815250.501816, "msecs": 501.0, "relativeCreated": 56379.78410720825, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a203450", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,501"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815250.5020998, "msecs": 502.0, "relativeCreated": 56380.06782531738, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a203450", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,502"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815250.502357, "msecs": 502.0, "relativeCreated": 56380.32507896423, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a203450", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,502"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815250.502605, "msecs": 502.0, "relativeCreated": 56380.5730342865, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a203450", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,502"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815250.502855, "msecs": 502.0, "relativeCreated": 56380.82313537598, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a203450", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,502"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815250.503084, "msecs": 503.0, "relativeCreated": 56381.052017211914, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a203450", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,503"}]}}, {"nodeid": "tests/test_notifications_router.py::test_list_notifications_unauthorized", "lineno": 161, "outcome": "passed", "keywords": ["test_list_notifications_unauthorized", "test_notifications_router.py", "tests", "backend", ""], "setup": {"duration": 0.044824677999997675, "outcome": "passed", "stderr": "2026-01-19 09:34:10,513 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:10,554 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:10,555 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:10,556 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:10,556 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:10,556 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:10,556 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815250.5134768, "msecs": 513.0, "relativeCreated": 56391.44492149353, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,513"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815250.5540292, "msecs": 554.0, "relativeCreated": 56431.997299194336, "thread": 140512198997696, "threadName": "Thread-250 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,554"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815250.555888, "msecs": 555.0, "relativeCreated": 56433.85601043701, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a43ce50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,555"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815250.5562258, "msecs": 556.0, "relativeCreated": 56434.1938495636, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a43ce50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,556"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815250.5564697, "msecs": 556.0, "relativeCreated": 56434.43775177002, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a43ce50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,556"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815250.5567052, "msecs": 556.0, "relativeCreated": 56434.67330932617, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a43ce50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,556"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815250.556957, "msecs": 556.0, "relativeCreated": 56434.9250793457, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a43ce50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,556"}]}, "call": {"duration": 0.012301155999978164, "outcome": "passed", "stderr": "2026-01-19 09:34:10,559 - backend.request_id_middleware - INFO - [de6f0fa5-c3cd-4347-93b9-e186b15e38ba] - Request started: GET /api/v1/notifications/\n2026-01-19 09:34:10,567 - backend.request_id_middleware - INFO - [de6f0fa5-c3cd-4347-93b9-e186b15e38ba] - Request completed: GET /api/v1/notifications/ - Status: 200\n2026-01-19 09:34:10,569 - httpx - INFO - [-] - HTTP Request: GET http://testserver/api/v1/notifications/ \"HTTP/1.1 200 OK\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: GET /api/v1/notifications/", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815250.5597105, "msecs": 559.0, "relativeCreated": 56437.67857551575, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a43ce50", "processName": "MainProcess", "process": 2241, "request_id": "de6f0fa5-c3cd-4347-93b9-e186b15e38ba", "asctime": "2026-01-19 09:34:10,559"}, {"name": "backend.request_id_middleware", "msg": "Request completed: GET /api/v1/notifications/ - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815250.5675538, "msecs": 567.0, "relativeCreated": 56445.52183151245, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a43ce50", "processName": "MainProcess", "process": 2241, "request_id": "de6f0fa5-c3cd-4347-93b9-e186b15e38ba", "asctime": "2026-01-19 09:34:10,567"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/api/v1/notifications/ \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815250.569896, "msecs": 569.0, "relativeCreated": 56447.864055633545, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,569"}]}, "teardown": {"duration": 0.011094839999998385, "outcome": "passed", "stderr": "2026-01-19 09:34:10,571 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:10,571 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:10,572 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:10,572 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:10,572 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:10,572 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:10,572 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815250.5713203, "msecs": 571.0, "relativeCreated": 56449.2883682251, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a43ce50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,571"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815250.5716968, "msecs": 571.0, "relativeCreated": 56449.6648311615, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a43ce50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,571"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815250.572012, "msecs": 572.0, "relativeCreated": 56449.98002052307, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a43ce50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,572"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815250.5722678, "msecs": 572.0, "relativeCreated": 56450.23584365845, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a43ce50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,572"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815250.5725114, "msecs": 572.0, "relativeCreated": 56450.47950744629, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a43ce50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,572"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815250.572758, "msecs": 572.0, "relativeCreated": 56450.72603225708, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a43ce50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,572"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815250.5729876, "msecs": 572.0, "relativeCreated": 56450.955629348755, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a43ce50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,572"}]}}, {"nodeid": "tests/test_notifications_router.py::test_list_notifications_invalid_pagination_params", "lineno": 170, "outcome": "passed", "keywords": ["test_list_notifications_invalid_pagination_params", "test_notifications_router.py", "tests", "backend", ""], "setup": {"duration": 0.0828391780000004, "outcome": "passed", "stderr": "2026-01-19 09:34:10,582 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:10,622 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:10,623 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:10,624 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:10,624 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:10,624 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:10,624 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n2026-01-19 09:34:10,627 - backend.request_id_middleware - INFO - [d5832628-fd9b-4889-8989-67361a5c54e1] - Request started: POST /api/v1/auth/register\n2026-01-19 09:34:10,642 - backend.request_id_middleware - INFO - [d5832628-fd9b-4889-8989-67361a5c54e1] - Request completed: POST /api/v1/auth/register - Status: 200\n2026-01-19 09:34:10,644 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:10,646 - backend.request_id_middleware - INFO - [c83ac73c-c18f-4f03-8ef6-39a067d5199d] - Request started: POST /api/v1/auth/login\n2026-01-19 09:34:10,649 - backend.routers.routers_auth - INFO - [c83ac73c-c18f-4f03-8ef6-39a067d5199d] - Login attempt\n2026-01-19 09:34:10,660 - backend.routers.routers_auth - INFO - [c83ac73c-c18f-4f03-8ef6-39a067d5199d] - Login successful\n2026-01-19 09:34:10,662 - backend.request_id_middleware - INFO - [c83ac73c-c18f-4f03-8ef6-39a067d5199d] - Request completed: POST /api/v1/auth/login - Status: 200\n2026-01-19 09:34:10,664 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815250.582996, "msecs": 582.0, "relativeCreated": 56460.96396446228, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,582"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815250.6225533, "msecs": 622.0, "relativeCreated": 56500.521421432495, "thread": 140512198997696, "threadName": "Thread-251 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,622"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815250.6238294, "msecs": 623.0, "relativeCreated": 56501.79743766785, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a413dd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,623"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815250.6241739, "msecs": 624.0, "relativeCreated": 56502.14195251465, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a413dd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,624"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815250.6244283, "msecs": 624.0, "relativeCreated": 56502.39634513855, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a413dd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,624"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815250.624661, "msecs": 624.0, "relativeCreated": 56502.62904167175, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a413dd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,624"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815250.624927, "msecs": 624.0, "relativeCreated": 56502.89511680603, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a413dd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,624"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/register", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815250.6273367, "msecs": 627.0, "relativeCreated": 56505.30481338501, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a413dd0", "processName": "MainProcess", "process": 2241, "request_id": "d5832628-fd9b-4889-8989-67361a5c54e1", "asctime": "2026-01-19 09:34:10,627"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/register - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815250.6426644, "msecs": 642.0, "relativeCreated": 56520.63250541687, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a413dd0", "processName": "MainProcess", "process": 2241, "request_id": "d5832628-fd9b-4889-8989-67361a5c54e1", "asctime": "2026-01-19 09:34:10,642"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815250.6449978, "msecs": 644.0, "relativeCreated": 56522.96590805054, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,644"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/login", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815250.6467564, "msecs": 646.0, "relativeCreated": 56524.72448348999, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a413dd0", "processName": "MainProcess", "process": 2241, "request_id": "c83ac73c-c18f-4f03-8ef6-39a067d5199d", "asctime": "2026-01-19 09:34:10,646"}, {"name": "backend.routers.routers_auth", "msg": "Login attempt", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 459, "funcName": "login", "created": 1768815250.649326, "msecs": 649.0, "relativeCreated": 56527.29415893555, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a413dd0", "processName": "MainProcess", "process": 2241, "request_id": "c83ac73c-c18f-4f03-8ef6-39a067d5199d", "asctime": "2026-01-19 09:34:10,649"}, {"name": "backend.routers.routers_auth", "msg": "Login successful", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 496, "funcName": "login", "created": 1768815250.6606324, "msecs": 660.0, "relativeCreated": 56538.6004447937, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a413dd0", "processName": "MainProcess", "process": 2241, "user_id": 1, "request_id": "c83ac73c-c18f-4f03-8ef6-39a067d5199d", "asctime": "2026-01-19 09:34:10,660"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/login - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815250.6622603, "msecs": 662.0, "relativeCreated": 56540.22836685181, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a413dd0", "processName": "MainProcess", "process": 2241, "request_id": "c83ac73c-c18f-4f03-8ef6-39a067d5199d", "asctime": "2026-01-19 09:34:10,662"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815250.6647522, "msecs": 664.0, "relativeCreated": 56542.720317840576, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,664"}]}, "call": {"duration": 0.020483573000007027, "outcome": "passed", "stderr": "2026-01-19 09:34:10,667 - backend.request_id_middleware - INFO - [7183ca8d-c020-49ba-b83d-d9af6c9ff122] - Request started: GET /api/v1/notifications/\n2026-01-19 09:34:10,673 - backend.request_id_middleware - INFO - [7183ca8d-c020-49ba-b83d-d9af6c9ff122] - Request completed: GET /api/v1/notifications/ - Status: 422\n2026-01-19 09:34:10,675 - httpx - INFO - [-] - HTTP Request: GET http://testserver/api/v1/notifications/?skip=-1 \"HTTP/1.1 422 Unprocessable Entity\"\n2026-01-19 09:34:10,677 - backend.request_id_middleware - INFO - [6090b992-92ae-47ad-8cae-9a96c4669e15] - Request started: GET /api/v1/notifications/\n2026-01-19 09:34:10,683 - backend.request_id_middleware - INFO - [6090b992-92ae-47ad-8cae-9a96c4669e15] - Request completed: GET /api/v1/notifications/ - Status: 422\n2026-01-19 09:34:10,685 - httpx - INFO - [-] - HTTP Request: GET http://testserver/api/v1/notifications/?limit=101 \"HTTP/1.1 422 Unprocessable Entity\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: GET /api/v1/notifications/", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815250.667599, "msecs": 667.0, "relativeCreated": 56545.56703567505, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a413dd0", "processName": "MainProcess", "process": 2241, "request_id": "7183ca8d-c020-49ba-b83d-d9af6c9ff122", "asctime": "2026-01-19 09:34:10,667"}, {"name": "backend.request_id_middleware", "msg": "Request completed: GET /api/v1/notifications/ - Status: 422", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815250.6738958, "msecs": 673.0, "relativeCreated": 56551.8639087677, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a413dd0", "processName": "MainProcess", "process": 2241, "request_id": "7183ca8d-c020-49ba-b83d-d9af6c9ff122", "asctime": "2026-01-19 09:34:10,673"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/api/v1/notifications/?skip=-1 \"HTTP/1.1 422 Unprocessable Entity\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815250.6758401, "msecs": 675.0, "relativeCreated": 56553.80821228027, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,675"}, {"name": "backend.request_id_middleware", "msg": "Request started: GET /api/v1/notifications/", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815250.6777835, "msecs": 677.0, "relativeCreated": 56555.75156211853, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a413dd0", "processName": "MainProcess", "process": 2241, "request_id": "6090b992-92ae-47ad-8cae-9a96c4669e15", "asctime": "2026-01-19 09:34:10,677"}, {"name": "backend.request_id_middleware", "msg": "Request completed: GET /api/v1/notifications/ - Status: 422", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815250.6835363, "msecs": 683.0, "relativeCreated": 56561.50436401367, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a413dd0", "processName": "MainProcess", "process": 2241, "request_id": "6090b992-92ae-47ad-8cae-9a96c4669e15", "asctime": "2026-01-19 09:34:10,683"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/api/v1/notifications/?limit=101 \"HTTP/1.1 422 Unprocessable Entity\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815250.6854973, "msecs": 685.0, "relativeCreated": 56563.46535682678, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,685"}]}, "teardown": {"duration": 0.011446903000006614, "outcome": "passed", "stderr": "2026-01-19 09:34:10,687 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:10,687 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:10,687 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:10,688 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:10,688 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:10,688 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:10,688 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815250.6871445, "msecs": 687.0, "relativeCreated": 56565.112590789795, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a413dd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,687"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815250.6875055, "msecs": 687.0, "relativeCreated": 56565.473556518555, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a413dd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,687"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815250.6878183, "msecs": 687.0, "relativeCreated": 56565.786361694336, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a413dd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,687"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815250.688094, "msecs": 688.0, "relativeCreated": 56566.06197357178, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a413dd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,688"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815250.6883461, "msecs": 688.0, "relativeCreated": 56566.31422042847, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a413dd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,688"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815250.688567, "msecs": 688.0, "relativeCreated": 56566.534996032715, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a413dd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,688"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815250.6888144, "msecs": 688.0, "relativeCreated": 56566.78247451782, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a413dd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,688"}]}}, {"nodeid": "tests/test_notifications_router.py::test_get_unread_count_success", "lineno": 186, "outcome": "passed", "keywords": ["test_get_unread_count_success", "test_notifications_router.py", "tests", "backend", ""], "setup": {"duration": 0.08408138400000098, "outcome": "passed", "stderr": "2026-01-19 09:34:10,699 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:10,738 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:10,740 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:10,740 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:10,740 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:10,741 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:10,741 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n2026-01-19 09:34:10,743 - backend.request_id_middleware - INFO - [79202294-cf85-4a0e-846a-b373dd1f9602] - Request started: POST /api/v1/auth/register\n2026-01-19 09:34:10,758 - backend.request_id_middleware - INFO - [79202294-cf85-4a0e-846a-b373dd1f9602] - Request completed: POST /api/v1/auth/register - Status: 200\n2026-01-19 09:34:10,761 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:10,763 - backend.request_id_middleware - INFO - [6ee74700-e006-443e-bb8d-aa3c691df96e] - Request started: POST /api/v1/auth/login\n2026-01-19 09:34:10,766 - backend.routers.routers_auth - INFO - [6ee74700-e006-443e-bb8d-aa3c691df96e] - Login attempt\n2026-01-19 09:34:10,777 - backend.routers.routers_auth - INFO - [6ee74700-e006-443e-bb8d-aa3c691df96e] - Login successful\n2026-01-19 09:34:10,779 - backend.request_id_middleware - INFO - [6ee74700-e006-443e-bb8d-aa3c691df96e] - Request completed: POST /api/v1/auth/login - Status: 200\n2026-01-19 09:34:10,782 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815250.6991303, "msecs": 699.0, "relativeCreated": 56577.09836959839, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,699"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815250.7387898, "msecs": 738.0, "relativeCreated": 56616.75786972046, "thread": 140512215779008, "threadName": "Thread-252 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,738"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815250.7402613, "msecs": 740.0, "relativeCreated": 56618.229389190674, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a29b510", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,740"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815250.740612, "msecs": 740.0, "relativeCreated": 56618.58010292053, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a29b510", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,740"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815250.740887, "msecs": 740.0, "relativeCreated": 56618.854999542236, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a29b510", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,740"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815250.7411275, "msecs": 741.0, "relativeCreated": 56619.09556388855, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a29b510", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,741"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815250.7413585, "msecs": 741.0, "relativeCreated": 56619.3265914917, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a29b510", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,741"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/register", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815250.7435687, "msecs": 743.0, "relativeCreated": 56621.53673171997, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a29b510", "processName": "MainProcess", "process": 2241, "request_id": "79202294-cf85-4a0e-846a-b373dd1f9602", "asctime": "2026-01-19 09:34:10,743"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/register - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815250.7589827, "msecs": 758.0, "relativeCreated": 56636.950731277466, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a29b510", "processName": "MainProcess", "process": 2241, "request_id": "79202294-cf85-4a0e-846a-b373dd1f9602", "asctime": "2026-01-19 09:34:10,758"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815250.761408, "msecs": 761.0, "relativeCreated": 56639.376163482666, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,761"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/login", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815250.763259, "msecs": 763.0, "relativeCreated": 56641.22700691223, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a29b510", "processName": "MainProcess", "process": 2241, "request_id": "6ee74700-e006-443e-bb8d-aa3c691df96e", "asctime": "2026-01-19 09:34:10,763"}, {"name": "backend.routers.routers_auth", "msg": "Login attempt", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 459, "funcName": "login", "created": 1768815250.7666597, "msecs": 766.0, "relativeCreated": 56644.627809524536, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a29b510", "processName": "MainProcess", "process": 2241, "request_id": "6ee74700-e006-443e-bb8d-aa3c691df96e", "asctime": "2026-01-19 09:34:10,766"}, {"name": "backend.routers.routers_auth", "msg": "Login successful", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 496, "funcName": "login", "created": 1768815250.77789, "msecs": 777.0, "relativeCreated": 56655.85803985596, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a29b510", "processName": "MainProcess", "process": 2241, "user_id": 1, "request_id": "6ee74700-e006-443e-bb8d-aa3c691df96e", "asctime": "2026-01-19 09:34:10,777"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/login - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815250.7795417, "msecs": 779.0, "relativeCreated": 56657.50980377197, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a29b510", "processName": "MainProcess", "process": 2241, "request_id": "6ee74700-e006-443e-bb8d-aa3c691df96e", "asctime": "2026-01-19 09:34:10,779"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815250.7820241, "msecs": 782.0, "relativeCreated": 56659.99221801758, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,782"}]}, "call": {"duration": 0.016528728999986697, "outcome": "passed", "stderr": "2026-01-19 09:34:10,790 - backend.request_id_middleware - INFO - [d848a719-14fc-4fc8-ac1e-61b137a41560] - Request started: GET /api/v1/notifications/unread-count\n2026-01-19 09:34:10,796 - backend.request_id_middleware - INFO - [d848a719-14fc-4fc8-ac1e-61b137a41560] - Request completed: GET /api/v1/notifications/unread-count - Status: 200\n2026-01-19 09:34:10,799 - httpx - INFO - [-] - HTTP Request: GET http://testserver/api/v1/notifications/unread-count \"HTTP/1.1 200 OK\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: GET /api/v1/notifications/unread-count", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815250.7904396, "msecs": 790.0, "relativeCreated": 56668.407678604126, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a29b510", "processName": "MainProcess", "process": 2241, "request_id": "d848a719-14fc-4fc8-ac1e-61b137a41560", "asctime": "2026-01-19 09:34:10,790"}, {"name": "backend.request_id_middleware", "msg": "Request completed: GET /api/v1/notifications/unread-count - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815250.7967722, "msecs": 796.0, "relativeCreated": 56674.74031448364, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a29b510", "processName": "MainProcess", "process": 2241, "request_id": "d848a719-14fc-4fc8-ac1e-61b137a41560", "asctime": "2026-01-19 09:34:10,796"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/api/v1/notifications/unread-count \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815250.7990406, "msecs": 799.0, "relativeCreated": 56677.008628845215, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,799"}]}, "teardown": {"duration": 0.011440539000005856, "outcome": "passed", "stderr": "2026-01-19 09:34:10,800 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:10,800 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:10,801 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:10,801 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:10,801 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:10,802 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:10,802 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815250.8004751, "msecs": 800.0, "relativeCreated": 56678.44319343567, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a29b510", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,800"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815250.8009207, "msecs": 800.0, "relativeCreated": 56678.88879776001, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a29b510", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,800"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815250.8012607, "msecs": 801.0, "relativeCreated": 56679.22878265381, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a29b510", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,801"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815250.8015206, "msecs": 801.0, "relativeCreated": 56679.48865890503, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a29b510", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,801"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815250.801809, "msecs": 801.0, "relativeCreated": 56679.77714538574, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a29b510", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,801"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815250.8020477, "msecs": 802.0, "relativeCreated": 56680.01580238342, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a29b510", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,802"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815250.8022711, "msecs": 802.0, "relativeCreated": 56680.23920059204, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a29b510", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,802"}]}}, {"nodeid": "tests/test_notifications_router.py::test_get_unread_count_no_notifications", "lineno": 200, "outcome": "passed", "keywords": ["test_get_unread_count_no_notifications", "test_notifications_router.py", "tests", "backend", ""], "setup": {"duration": 0.08463047800000822, "outcome": "passed", "stderr": "2026-01-19 09:34:10,812 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:10,853 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:10,854 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:10,855 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:10,855 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:10,855 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:10,855 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n2026-01-19 09:34:10,858 - backend.request_id_middleware - INFO - [97676f65-e769-4f19-982b-1e5cfcb6e46d] - Request started: POST /api/v1/auth/register\n2026-01-19 09:34:10,873 - backend.request_id_middleware - INFO - [97676f65-e769-4f19-982b-1e5cfcb6e46d] - Request completed: POST /api/v1/auth/register - Status: 200\n2026-01-19 09:34:10,876 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:10,877 - backend.request_id_middleware - INFO - [9dae4ec3-b3a9-4a35-a6bb-9a23ff102814] - Request started: POST /api/v1/auth/login\n2026-01-19 09:34:10,880 - backend.routers.routers_auth - INFO - [9dae4ec3-b3a9-4a35-a6bb-9a23ff102814] - Login attempt\n2026-01-19 09:34:10,891 - backend.routers.routers_auth - INFO - [9dae4ec3-b3a9-4a35-a6bb-9a23ff102814] - Login successful\n2026-01-19 09:34:10,893 - backend.request_id_middleware - INFO - [9dae4ec3-b3a9-4a35-a6bb-9a23ff102814] - Request completed: POST /api/v1/auth/login - Status: 200\n2026-01-19 09:34:10,896 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815250.8124716, "msecs": 812.0, "relativeCreated": 56690.43970108032, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,812"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815250.853304, "msecs": 853.0, "relativeCreated": 56731.27198219299, "thread": 140512215779008, "threadName": "Thread-253 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,853"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815250.8547826, "msecs": 854.0, "relativeCreated": 56732.75065422058, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a43fb50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,854"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815250.8551445, "msecs": 855.0, "relativeCreated": 56733.11257362366, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a43fb50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,855"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815250.8553932, "msecs": 855.0, "relativeCreated": 56733.36124420166, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a43fb50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,855"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815250.8556516, "msecs": 855.0, "relativeCreated": 56733.619689941406, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a43fb50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,855"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815250.855908, "msecs": 855.0, "relativeCreated": 56733.87598991394, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a43fb50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,855"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/register", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815250.8585217, "msecs": 858.0, "relativeCreated": 56736.48977279663, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a43fb50", "processName": "MainProcess", "process": 2241, "request_id": "97676f65-e769-4f19-982b-1e5cfcb6e46d", "asctime": "2026-01-19 09:34:10,858"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/register - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815250.873858, "msecs": 873.0, "relativeCreated": 56751.82604789734, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a43fb50", "processName": "MainProcess", "process": 2241, "request_id": "97676f65-e769-4f19-982b-1e5cfcb6e46d", "asctime": "2026-01-19 09:34:10,873"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815250.8762202, "msecs": 876.0, "relativeCreated": 56754.18829917908, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,876"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/login", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815250.8779957, "msecs": 877.0, "relativeCreated": 56755.96380233765, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a43fb50", "processName": "MainProcess", "process": 2241, "request_id": "9dae4ec3-b3a9-4a35-a6bb-9a23ff102814", "asctime": "2026-01-19 09:34:10,877"}, {"name": "backend.routers.routers_auth", "msg": "Login attempt", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 459, "funcName": "login", "created": 1768815250.880571, "msecs": 880.0, "relativeCreated": 56758.53896141052, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a43fb50", "processName": "MainProcess", "process": 2241, "request_id": "9dae4ec3-b3a9-4a35-a6bb-9a23ff102814", "asctime": "2026-01-19 09:34:10,880"}, {"name": "backend.routers.routers_auth", "msg": "Login successful", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 496, "funcName": "login", "created": 1768815250.891831, "msecs": 891.0, "relativeCreated": 56769.79899406433, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a43fb50", "processName": "MainProcess", "process": 2241, "user_id": 1, "request_id": "9dae4ec3-b3a9-4a35-a6bb-9a23ff102814", "asctime": "2026-01-19 09:34:10,891"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/login - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815250.8934717, "msecs": 893.0, "relativeCreated": 56771.43979072571, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a43fb50", "processName": "MainProcess", "process": 2241, "request_id": "9dae4ec3-b3a9-4a35-a6bb-9a23ff102814", "asctime": "2026-01-19 09:34:10,893"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815250.8960228, "msecs": 896.0, "relativeCreated": 56773.990869522095, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,896"}]}, "call": {"duration": 0.011280482999978858, "outcome": "passed", "stderr": "2026-01-19 09:34:10,898 - backend.request_id_middleware - INFO - [0de99922-ca89-4491-97ad-61108a7f4576] - Request started: GET /api/v1/notifications/unread-count\n2026-01-19 09:34:10,905 - backend.request_id_middleware - INFO - [0de99922-ca89-4491-97ad-61108a7f4576] - Request completed: GET /api/v1/notifications/unread-count - Status: 200\n2026-01-19 09:34:10,907 - httpx - INFO - [-] - HTTP Request: GET http://testserver/api/v1/notifications/unread-count \"HTTP/1.1 200 OK\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: GET /api/v1/notifications/unread-count", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815250.8989503, "msecs": 898.0, "relativeCreated": 56776.91841125488, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a43fb50", "processName": "MainProcess", "process": 2241, "request_id": "0de99922-ca89-4491-97ad-61108a7f4576", "asctime": "2026-01-19 09:34:10,898"}, {"name": "backend.request_id_middleware", "msg": "Request completed: GET /api/v1/notifications/unread-count - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815250.905479, "msecs": 905.0, "relativeCreated": 56783.44702720642, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a43fb50", "processName": "MainProcess", "process": 2241, "request_id": "0de99922-ca89-4491-97ad-61108a7f4576", "asctime": "2026-01-19 09:34:10,905"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/api/v1/notifications/unread-count \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815250.9077015, "msecs": 907.0, "relativeCreated": 56785.669565200806, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,907"}]}, "teardown": {"duration": 0.011895071999987294, "outcome": "passed", "stderr": "2026-01-19 09:34:10,909 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:10,909 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:10,910 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:10,910 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:10,910 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:10,910 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:10,911 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815250.9093232, "msecs": 909.0, "relativeCreated": 56787.291288375854, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a43fb50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,909"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815250.9098325, "msecs": 909.0, "relativeCreated": 56787.800550460815, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a43fb50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,909"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815250.910119, "msecs": 910.0, "relativeCreated": 56788.087129592896, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a43fb50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,910"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815250.9103706, "msecs": 910.0, "relativeCreated": 56788.33866119385, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a43fb50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,910"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815250.9106169, "msecs": 910.0, "relativeCreated": 56788.58494758606, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a43fb50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,910"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815250.910867, "msecs": 910.0, "relativeCreated": 56788.83504867554, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a43fb50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,910"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815250.911092, "msecs": 911.0, "relativeCreated": 56789.06011581421, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a43fb50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,911"}]}}, {"nodeid": "tests/test_notifications_router.py::test_mark_notification_as_read_success", "lineno": 213, "outcome": "passed", "keywords": ["test_mark_notification_as_read_success", "test_notifications_router.py", "tests", "backend", ""], "setup": {"duration": 0.08374141999999551, "outcome": "passed", "stderr": "2026-01-19 09:34:10,921 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:10,961 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:10,963 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:10,963 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:10,964 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:10,964 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:10,964 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n2026-01-19 09:34:10,967 - backend.request_id_middleware - INFO - [11494a70-cf6e-4d19-b174-c8570ed4731e] - Request started: POST /api/v1/auth/register\n2026-01-19 09:34:10,982 - backend.request_id_middleware - INFO - [11494a70-cf6e-4d19-b174-c8570ed4731e] - Request completed: POST /api/v1/auth/register - Status: 200\n2026-01-19 09:34:10,984 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:10,986 - backend.request_id_middleware - INFO - [13ad5f46-e6bb-4f1e-a2ba-c89ebcba1202] - Request started: POST /api/v1/auth/login\n2026-01-19 09:34:10,989 - backend.routers.routers_auth - INFO - [13ad5f46-e6bb-4f1e-a2ba-c89ebcba1202] - Login attempt\n2026-01-19 09:34:11,000 - backend.routers.routers_auth - INFO - [13ad5f46-e6bb-4f1e-a2ba-c89ebcba1202] - Login successful\n2026-01-19 09:34:11,001 - backend.request_id_middleware - INFO - [13ad5f46-e6bb-4f1e-a2ba-c89ebcba1202] - Request completed: POST /api/v1/auth/login - Status: 200\n2026-01-19 09:34:11,004 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815250.9217715, "msecs": 921.0, "relativeCreated": 56799.739599227905, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,921"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815250.9616838, "msecs": 961.0, "relativeCreated": 56839.65182304382, "thread": 140512215779008, "threadName": "Thread-254 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,961"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815250.9633973, "msecs": 963.0, "relativeCreated": 56841.365337371826, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89dcd250", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,963"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815250.963871, "msecs": 963.0, "relativeCreated": 56841.8390750885, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89dcd250", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,963"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815250.9641247, "msecs": 964.0, "relativeCreated": 56842.092752456665, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89dcd250", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,964"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815250.9643607, "msecs": 964.0, "relativeCreated": 56842.328786849976, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89dcd250", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,964"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815250.9646273, "msecs": 964.0, "relativeCreated": 56842.59533882141, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89dcd250", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,964"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/register", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815250.9671373, "msecs": 967.0, "relativeCreated": 56845.10540962219, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89dcd250", "processName": "MainProcess", "process": 2241, "request_id": "11494a70-cf6e-4d19-b174-c8570ed4731e", "asctime": "2026-01-19 09:34:10,967"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/register - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815250.982395, "msecs": 982.0, "relativeCreated": 56860.3630065918, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89dcd250", "processName": "MainProcess", "process": 2241, "request_id": "11494a70-cf6e-4d19-b174-c8570ed4731e", "asctime": "2026-01-19 09:34:10,982"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815250.984799, "msecs": 984.0, "relativeCreated": 56862.76698112488, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:10,984"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/login", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815250.9866195, "msecs": 986.0, "relativeCreated": 56864.5875453949, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89dcd250", "processName": "MainProcess", "process": 2241, "request_id": "13ad5f46-e6bb-4f1e-a2ba-c89ebcba1202", "asctime": "2026-01-19 09:34:10,986"}, {"name": "backend.routers.routers_auth", "msg": "Login attempt", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 459, "funcName": "login", "created": 1768815250.9892094, "msecs": 989.0, "relativeCreated": 56867.17748641968, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89dcd250", "processName": "MainProcess", "process": 2241, "request_id": "13ad5f46-e6bb-4f1e-a2ba-c89ebcba1202", "asctime": "2026-01-19 09:34:10,989"}, {"name": "backend.routers.routers_auth", "msg": "Login successful", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 496, "funcName": "login", "created": 1768815251.0002315, "msecs": 0.0, "relativeCreated": 56878.19957733154, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89dcd250", "processName": "MainProcess", "process": 2241, "user_id": 1, "request_id": "13ad5f46-e6bb-4f1e-a2ba-c89ebcba1202", "asctime": "2026-01-19 09:34:11,000"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/login - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815251.0018306, "msecs": 1.0, "relativeCreated": 56879.79865074158, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89dcd250", "processName": "MainProcess", "process": 2241, "request_id": "13ad5f46-e6bb-4f1e-a2ba-c89ebcba1202", "asctime": "2026-01-19 09:34:11,001"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815251.0042915, "msecs": 4.0, "relativeCreated": 56882.25960731506, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,004"}]}, "call": {"duration": 0.01588813400002209, "outcome": "passed", "stderr": "2026-01-19 09:34:11,008 - backend.request_id_middleware - INFO - [5b07641d-18db-417d-b690-890071b81912] - Request started: POST /api/v1/notifications/1/read\n2026-01-19 09:34:11,017 - backend.services.notification_service - INFO - [5b07641d-18db-417d-b690-890071b81912] - Marked notification 1 as read\n2026-01-19 09:34:11,017 - backend.request_id_middleware - INFO - [5b07641d-18db-417d-b690-890071b81912] - Request completed: POST /api/v1/notifications/1/read - Status: 200\n2026-01-19 09:34:11,020 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/notifications/1/read \"HTTP/1.1 200 OK\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/notifications/1/read", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815251.0085309, "msecs": 8.0, "relativeCreated": 56886.49892807007, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89dcd250", "processName": "MainProcess", "process": 2241, "request_id": "5b07641d-18db-417d-b690-890071b81912", "asctime": "2026-01-19 09:34:11,008"}, {"name": "backend.services.notification_service", "msg": "Marked notification 1 as read", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/services/notification_service.py", "filename": "notification_service.py", "module": "notification_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 124, "funcName": "mark_as_read", "created": 1768815251.0172853, "msecs": 17.0, "relativeCreated": 56895.2534198761, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89dcd250", "processName": "MainProcess", "process": 2241, "request_id": "5b07641d-18db-417d-b690-890071b81912", "asctime": "2026-01-19 09:34:11,017"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/notifications/1/read - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815251.0178018, "msecs": 17.0, "relativeCreated": 56895.76983451843, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89dcd250", "processName": "MainProcess", "process": 2241, "request_id": "5b07641d-18db-417d-b690-890071b81912", "asctime": "2026-01-19 09:34:11,017"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/notifications/1/read \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815251.0200722, "msecs": 20.0, "relativeCreated": 56898.04029464722, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,020"}]}, "teardown": {"duration": 0.012039097999974047, "outcome": "passed", "stderr": "2026-01-19 09:34:11,022 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:11,022 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:11,022 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:11,023 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:11,023 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:11,023 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:11,023 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815251.0222526, "msecs": 22.0, "relativeCreated": 56900.2206325531, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89dcd250", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,022"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815251.0226238, "msecs": 22.0, "relativeCreated": 56900.59185028076, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89dcd250", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,022"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815251.022933, "msecs": 22.0, "relativeCreated": 56900.90107917786, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89dcd250", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,022"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815251.0231965, "msecs": 23.0, "relativeCreated": 56901.164531707764, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89dcd250", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,023"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815251.0234494, "msecs": 23.0, "relativeCreated": 56901.41749382019, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89dcd250", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,023"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815251.0236697, "msecs": 23.0, "relativeCreated": 56901.63779258728, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89dcd250", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,023"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815251.0239224, "msecs": 23.0, "relativeCreated": 56901.89051628113, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89dcd250", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,023"}]}}, {"nodeid": "tests/test_notifications_router.py::test_mark_notification_as_read_not_found", "lineno": 233, "outcome": "passed", "keywords": ["test_mark_notification_as_read_not_found", "test_notifications_router.py", "tests", "backend", ""], "setup": {"duration": 0.08702110500001936, "outcome": "passed", "stderr": "2026-01-19 09:34:11,034 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:11,075 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:11,077 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:11,077 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:11,078 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:11,078 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:11,078 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n2026-01-19 09:34:11,081 - backend.request_id_middleware - INFO - [c832dc7c-44e7-4bd8-999f-75dc6584dc10] - Request started: POST /api/v1/auth/register\n2026-01-19 09:34:11,096 - backend.request_id_middleware - INFO - [c832dc7c-44e7-4bd8-999f-75dc6584dc10] - Request completed: POST /api/v1/auth/register - Status: 200\n2026-01-19 09:34:11,099 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:11,101 - backend.request_id_middleware - INFO - [d819a9b5-63e5-4f84-baa3-ab86fed6ef88] - Request started: POST /api/v1/auth/login\n2026-01-19 09:34:11,104 - backend.routers.routers_auth - INFO - [d819a9b5-63e5-4f84-baa3-ab86fed6ef88] - Login attempt\n2026-01-19 09:34:11,116 - backend.routers.routers_auth - INFO - [d819a9b5-63e5-4f84-baa3-ab86fed6ef88] - Login successful\n2026-01-19 09:34:11,118 - backend.request_id_middleware - INFO - [d819a9b5-63e5-4f84-baa3-ab86fed6ef88] - Request completed: POST /api/v1/auth/login - Status: 200\n2026-01-19 09:34:11,120 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815251.0348418, "msecs": 34.0, "relativeCreated": 56912.8098487854, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,034"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815251.075614, "msecs": 75.0, "relativeCreated": 56953.58204841614, "thread": 140512215779008, "threadName": "Thread-255 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,075"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815251.0773964, "msecs": 77.0, "relativeCreated": 56955.3644657135, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a160790", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,077"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815251.077784, "msecs": 77.0, "relativeCreated": 56955.75213432312, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a160790", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,077"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815251.078047, "msecs": 78.0, "relativeCreated": 56956.01511001587, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a160790", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,078"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815251.0782878, "msecs": 78.0, "relativeCreated": 56956.25591278076, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a160790", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,078"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815251.0785162, "msecs": 78.0, "relativeCreated": 56956.48431777954, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a160790", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,078"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/register", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815251.0810537, "msecs": 81.0, "relativeCreated": 56959.02180671692, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a160790", "processName": "MainProcess", "process": 2241, "request_id": "c832dc7c-44e7-4bd8-999f-75dc6584dc10", "asctime": "2026-01-19 09:34:11,081"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/register - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815251.0969687, "msecs": 96.0, "relativeCreated": 56974.93672370911, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a160790", "processName": "MainProcess", "process": 2241, "request_id": "c832dc7c-44e7-4bd8-999f-75dc6584dc10", "asctime": "2026-01-19 09:34:11,096"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815251.099551, "msecs": 99.0, "relativeCreated": 56977.519035339355, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,099"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/login", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815251.101377, "msecs": 101.0, "relativeCreated": 56979.345083236694, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a160790", "processName": "MainProcess", "process": 2241, "request_id": "d819a9b5-63e5-4f84-baa3-ab86fed6ef88", "asctime": "2026-01-19 09:34:11,101"}, {"name": "backend.routers.routers_auth", "msg": "Login attempt", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 459, "funcName": "login", "created": 1768815251.1048963, "msecs": 104.0, "relativeCreated": 56982.86437988281, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a160790", "processName": "MainProcess", "process": 2241, "request_id": "d819a9b5-63e5-4f84-baa3-ab86fed6ef88", "asctime": "2026-01-19 09:34:11,104"}, {"name": "backend.routers.routers_auth", "msg": "Login successful", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 496, "funcName": "login", "created": 1768815251.1163037, "msecs": 116.0, "relativeCreated": 56994.271755218506, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a160790", "processName": "MainProcess", "process": 2241, "user_id": 1, "request_id": "d819a9b5-63e5-4f84-baa3-ab86fed6ef88", "asctime": "2026-01-19 09:34:11,116"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/login - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815251.118071, "msecs": 118.0, "relativeCreated": 56996.039152145386, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a160790", "processName": "MainProcess", "process": 2241, "request_id": "d819a9b5-63e5-4f84-baa3-ab86fed6ef88", "asctime": "2026-01-19 09:34:11,118"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815251.1206303, "msecs": 120.0, "relativeCreated": 56998.59833717346, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,120"}]}, "call": {"duration": 0.012060386999991124, "outcome": "passed", "stderr": "2026-01-19 09:34:11,123 - backend.request_id_middleware - INFO - [c450d923-8318-4851-a6b1-5ffa4f1dcc46] - Request started: POST /api/v1/notifications/9999/read\n2026-01-19 09:34:11,131 - backend.request_id_middleware - INFO - [c450d923-8318-4851-a6b1-5ffa4f1dcc46] - Request completed: POST /api/v1/notifications/9999/read - Status: 404\n2026-01-19 09:34:11,133 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/notifications/9999/read \"HTTP/1.1 404 Not Found\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/notifications/9999/read", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815251.123695, "msecs": 123.0, "relativeCreated": 57001.66296958923, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a160790", "processName": "MainProcess", "process": 2241, "request_id": "c450d923-8318-4851-a6b1-5ffa4f1dcc46", "asctime": "2026-01-19 09:34:11,123"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/notifications/9999/read - Status: 404", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815251.1310518, "msecs": 131.0, "relativeCreated": 57009.01985168457, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a160790", "processName": "MainProcess", "process": 2241, "request_id": "c450d923-8318-4851-a6b1-5ffa4f1dcc46", "asctime": "2026-01-19 09:34:11,131"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/notifications/9999/read \"HTTP/1.1 404 Not Found\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815251.133094, "msecs": 133.0, "relativeCreated": 57011.062145233154, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,133"}]}, "teardown": {"duration": 0.011819344999992154, "outcome": "passed", "stderr": "2026-01-19 09:34:11,134 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:11,135 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:11,135 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:11,135 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:11,136 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:11,136 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:11,136 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815251.1348403, "msecs": 134.0, "relativeCreated": 57012.808322906494, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a160790", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,134"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815251.135234, "msecs": 135.0, "relativeCreated": 57013.20219039917, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a160790", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,135"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815251.1355014, "msecs": 135.0, "relativeCreated": 57013.46945762634, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a160790", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,135"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815251.135775, "msecs": 135.0, "relativeCreated": 57013.74316215515, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a160790", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,135"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815251.136034, "msecs": 136.0, "relativeCreated": 57014.002084732056, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a160790", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,136"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815251.1362638, "msecs": 136.0, "relativeCreated": 57014.23192024231, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a160790", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,136"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815251.136493, "msecs": 136.0, "relativeCreated": 57014.461040496826, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a160790", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,136"}]}}, {"nodeid": "tests/test_notifications_router.py::test_mark_notification_as_read_wrong_user", "lineno": 246, "outcome": "passed", "keywords": ["test_mark_notification_as_read_wrong_user", "test_notifications_router.py", "tests", "backend", ""], "setup": {"duration": 0.08744609699999728, "outcome": "passed", "stderr": "2026-01-19 09:34:11,147 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:11,188 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:11,189 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:11,189 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:11,190 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:11,190 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:11,190 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n2026-01-19 09:34:11,193 - backend.request_id_middleware - INFO - [6b31479f-6f2b-4ee8-95b1-e0a85d0dd569] - Request started: POST /api/v1/auth/register\n2026-01-19 09:34:11,211 - backend.request_id_middleware - INFO - [6b31479f-6f2b-4ee8-95b1-e0a85d0dd569] - Request completed: POST /api/v1/auth/register - Status: 200\n2026-01-19 09:34:11,213 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:11,215 - backend.request_id_middleware - INFO - [39d89bb3-2189-4a8c-9856-754dba956a20] - Request started: POST /api/v1/auth/login\n2026-01-19 09:34:11,217 - backend.routers.routers_auth - INFO - [39d89bb3-2189-4a8c-9856-754dba956a20] - Login attempt\n2026-01-19 09:34:11,229 - backend.routers.routers_auth - INFO - [39d89bb3-2189-4a8c-9856-754dba956a20] - Login successful\n2026-01-19 09:34:11,230 - backend.request_id_middleware - INFO - [39d89bb3-2189-4a8c-9856-754dba956a20] - Request completed: POST /api/v1/auth/login - Status: 200\n2026-01-19 09:34:11,233 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815251.1472063, "msecs": 147.0, "relativeCreated": 57025.174379348755, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,147"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815251.1881175, "msecs": 188.0, "relativeCreated": 57066.08557701111, "thread": 140512215779008, "threadName": "Thread-256 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,188"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815251.189588, "msecs": 189.0, "relativeCreated": 57067.55614280701, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a306a50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,189"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815251.189947, "msecs": 189.0, "relativeCreated": 57067.914962768555, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a306a50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,189"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815251.1901934, "msecs": 190.0, "relativeCreated": 57068.161487579346, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a306a50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,190"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815251.1904285, "msecs": 190.0, "relativeCreated": 57068.39656829834, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a306a50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,190"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815251.1906514, "msecs": 190.0, "relativeCreated": 57068.6194896698, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a306a50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,190"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/register", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815251.1930926, "msecs": 193.0, "relativeCreated": 57071.06065750122, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a306a50", "processName": "MainProcess", "process": 2241, "request_id": "6b31479f-6f2b-4ee8-95b1-e0a85d0dd569", "asctime": "2026-01-19 09:34:11,193"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/register - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815251.2110636, "msecs": 211.0, "relativeCreated": 57089.03169631958, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a306a50", "processName": "MainProcess", "process": 2241, "request_id": "6b31479f-6f2b-4ee8-95b1-e0a85d0dd569", "asctime": "2026-01-19 09:34:11,211"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815251.2134194, "msecs": 213.0, "relativeCreated": 57091.38751029968, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,213"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/login", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815251.215221, "msecs": 215.0, "relativeCreated": 57093.189001083374, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a306a50", "processName": "MainProcess", "process": 2241, "request_id": "39d89bb3-2189-4a8c-9856-754dba956a20", "asctime": "2026-01-19 09:34:11,215"}, {"name": "backend.routers.routers_auth", "msg": "Login attempt", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 459, "funcName": "login", "created": 1768815251.2178612, "msecs": 217.0, "relativeCreated": 57095.829248428345, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a306a50", "processName": "MainProcess", "process": 2241, "request_id": "39d89bb3-2189-4a8c-9856-754dba956a20", "asctime": "2026-01-19 09:34:11,217"}, {"name": "backend.routers.routers_auth", "msg": "Login successful", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 496, "funcName": "login", "created": 1768815251.2291908, "msecs": 229.0, "relativeCreated": 57107.15889930725, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a306a50", "processName": "MainProcess", "process": 2241, "user_id": 1, "request_id": "39d89bb3-2189-4a8c-9856-754dba956a20", "asctime": "2026-01-19 09:34:11,229"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/login - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815251.2308927, "msecs": 230.0, "relativeCreated": 57108.86073112488, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a306a50", "processName": "MainProcess", "process": 2241, "request_id": "39d89bb3-2189-4a8c-9856-754dba956a20", "asctime": "2026-01-19 09:34:11,230"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815251.2333963, "msecs": 233.0, "relativeCreated": 57111.36436462402, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,233"}]}, "call": {"duration": 0.013871874000017215, "outcome": "passed", "stderr": "2026-01-19 09:34:11,237 - backend.request_id_middleware - INFO - [d255c700-886a-4b57-b564-6a2be88ae9cf] - Request started: POST /api/v1/notifications/1/read\n2026-01-19 09:34:11,245 - backend.services.notification_service - INFO - [d255c700-886a-4b57-b564-6a2be88ae9cf] - Marked notification 1 as read\n2026-01-19 09:34:11,245 - backend.request_id_middleware - INFO - [d255c700-886a-4b57-b564-6a2be88ae9cf] - Request completed: POST /api/v1/notifications/1/read - Status: 200\n2026-01-19 09:34:11,247 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/notifications/1/read \"HTTP/1.1 200 OK\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/notifications/1/read", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815251.2377982, "msecs": 237.0, "relativeCreated": 57115.766286849976, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a306a50", "processName": "MainProcess", "process": 2241, "request_id": "d255c700-886a-4b57-b564-6a2be88ae9cf", "asctime": "2026-01-19 09:34:11,237"}, {"name": "backend.services.notification_service", "msg": "Marked notification 1 as read", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/services/notification_service.py", "filename": "notification_service.py", "module": "notification_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 124, "funcName": "mark_as_read", "created": 1768815251.245031, "msecs": 245.0, "relativeCreated": 57122.99919128418, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a306a50", "processName": "MainProcess", "process": 2241, "request_id": "d255c700-886a-4b57-b564-6a2be88ae9cf", "asctime": "2026-01-19 09:34:11,245"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/notifications/1/read - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815251.2455258, "msecs": 245.0, "relativeCreated": 57123.493909835815, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a306a50", "processName": "MainProcess", "process": 2241, "request_id": "d255c700-886a-4b57-b564-6a2be88ae9cf", "asctime": "2026-01-19 09:34:11,245"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/notifications/1/read \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815251.2478006, "msecs": 247.0, "relativeCreated": 57125.76866149902, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,247"}]}, "teardown": {"duration": 0.011831973999989032, "outcome": "passed", "stderr": "2026-01-19 09:34:11,249 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:11,249 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:11,249 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:11,250 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:11,250 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:11,250 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:11,250 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815251.2492874, "msecs": 249.0, "relativeCreated": 57127.2554397583, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a306a50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,249"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815251.249644, "msecs": 249.0, "relativeCreated": 57127.61211395264, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a306a50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,249"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815251.2499523, "msecs": 249.0, "relativeCreated": 57127.920389175415, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a306a50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,249"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815251.2502112, "msecs": 250.0, "relativeCreated": 57128.17931175232, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a306a50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,250"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815251.2504587, "msecs": 250.0, "relativeCreated": 57128.42679023743, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a306a50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,250"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815251.2506757, "msecs": 250.0, "relativeCreated": 57128.64375114441, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a306a50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,250"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815251.2509184, "msecs": 250.0, "relativeCreated": 57128.886461257935, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a306a50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,250"}]}}, {"nodeid": "tests/test_notifications_router.py::test_mark_all_notifications_as_read_success", "lineno": 267, "outcome": "passed", "keywords": ["test_mark_all_notifications_as_read_success", "test_notifications_router.py", "tests", "backend", ""], "setup": {"duration": 0.08533549199998447, "outcome": "passed", "stderr": "2026-01-19 09:34:11,261 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:11,302 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:11,303 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:11,303 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:11,304 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:11,304 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:11,304 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n2026-01-19 09:34:11,307 - backend.request_id_middleware - INFO - [a676e06b-fef3-4408-b273-bcb3e8a3c9b9] - Request started: POST /api/v1/auth/register\n2026-01-19 09:34:11,322 - backend.request_id_middleware - INFO - [a676e06b-fef3-4408-b273-bcb3e8a3c9b9] - Request completed: POST /api/v1/auth/register - Status: 200\n2026-01-19 09:34:11,325 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:11,327 - backend.request_id_middleware - INFO - [8f34620a-b917-4cf8-8de4-5ca8bfded66d] - Request started: POST /api/v1/auth/login\n2026-01-19 09:34:11,330 - backend.routers.routers_auth - INFO - [8f34620a-b917-4cf8-8de4-5ca8bfded66d] - Login attempt\n2026-01-19 09:34:11,341 - backend.routers.routers_auth - INFO - [8f34620a-b917-4cf8-8de4-5ca8bfded66d] - Login successful\n2026-01-19 09:34:11,343 - backend.request_id_middleware - INFO - [8f34620a-b917-4cf8-8de4-5ca8bfded66d] - Request completed: POST /api/v1/auth/login - Status: 200\n2026-01-19 09:34:11,345 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815251.261645, "msecs": 261.0, "relativeCreated": 57139.61315155029, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,261"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815251.302001, "msecs": 302.0, "relativeCreated": 57179.96907234192, "thread": 140512215779008, "threadName": "Thread-257 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,302"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815251.3035476, "msecs": 303.0, "relativeCreated": 57181.51569366455, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a421d50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,303"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815251.3039327, "msecs": 303.0, "relativeCreated": 57181.9007396698, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a421d50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,303"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815251.3041797, "msecs": 304.0, "relativeCreated": 57182.14774131775, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a421d50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,304"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815251.3044152, "msecs": 304.0, "relativeCreated": 57182.3832988739, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a421d50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,304"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815251.3046403, "msecs": 304.0, "relativeCreated": 57182.60836601257, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a421d50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,304"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/register", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815251.3071575, "msecs": 307.0, "relativeCreated": 57185.12558937073, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a421d50", "processName": "MainProcess", "process": 2241, "request_id": "a676e06b-fef3-4408-b273-bcb3e8a3c9b9", "asctime": "2026-01-19 09:34:11,307"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/register - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815251.3227062, "msecs": 322.0, "relativeCreated": 57200.674295425415, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a421d50", "processName": "MainProcess", "process": 2241, "request_id": "a676e06b-fef3-4408-b273-bcb3e8a3c9b9", "asctime": "2026-01-19 09:34:11,322"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815251.325381, "msecs": 325.0, "relativeCreated": 57203.349113464355, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,325"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/login", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815251.3273692, "msecs": 327.0, "relativeCreated": 57205.33728599548, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a421d50", "processName": "MainProcess", "process": 2241, "request_id": "8f34620a-b917-4cf8-8de4-5ca8bfded66d", "asctime": "2026-01-19 09:34:11,327"}, {"name": "backend.routers.routers_auth", "msg": "Login attempt", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 459, "funcName": "login", "created": 1768815251.3301167, "msecs": 330.0, "relativeCreated": 57208.08482170105, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a421d50", "processName": "MainProcess", "process": 2241, "request_id": "8f34620a-b917-4cf8-8de4-5ca8bfded66d", "asctime": "2026-01-19 09:34:11,330"}, {"name": "backend.routers.routers_auth", "msg": "Login successful", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 496, "funcName": "login", "created": 1768815251.3414984, "msecs": 341.0, "relativeCreated": 57219.4664478302, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a421d50", "processName": "MainProcess", "process": 2241, "user_id": 1, "request_id": "8f34620a-b917-4cf8-8de4-5ca8bfded66d", "asctime": "2026-01-19 09:34:11,341"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/login - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815251.3432157, "msecs": 343.0, "relativeCreated": 57221.18377685547, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a421d50", "processName": "MainProcess", "process": 2241, "request_id": "8f34620a-b917-4cf8-8de4-5ca8bfded66d", "asctime": "2026-01-19 09:34:11,343"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815251.3457487, "msecs": 345.0, "relativeCreated": 57223.716735839844, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,345"}]}, "call": {"duration": 0.019675304999992704, "outcome": "passed", "stderr": "2026-01-19 09:34:11,354 - backend.request_id_middleware - INFO - [3f54d770-d7cc-4845-ae7d-579d3819689d] - Request started: POST /api/v1/notifications/read-all\n2026-01-19 09:34:11,361 - backend.services.notification_service - INFO - [3f54d770-d7cc-4845-ae7d-579d3819689d] - Marked 5 notifications as read for user 1\n2026-01-19 09:34:11,362 - backend.request_id_middleware - INFO - [3f54d770-d7cc-4845-ae7d-579d3819689d] - Request completed: POST /api/v1/notifications/read-all - Status: 200\n2026-01-19 09:34:11,364 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/notifications/read-all \"HTTP/1.1 200 OK\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/notifications/read-all", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815251.354603, "msecs": 354.0, "relativeCreated": 57232.57112503052, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a421d50", "processName": "MainProcess", "process": 2241, "request_id": "3f54d770-d7cc-4845-ae7d-579d3819689d", "asctime": "2026-01-19 09:34:11,354"}, {"name": "backend.services.notification_service", "msg": "Marked 5 notifications as read for user 1", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/services/notification_service.py", "filename": "notification_service.py", "module": "notification_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 154, "funcName": "mark_all_as_read", "created": 1768815251.3617668, "msecs": 361.0, "relativeCreated": 57239.73488807678, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a421d50", "processName": "MainProcess", "process": 2241, "request_id": "3f54d770-d7cc-4845-ae7d-579d3819689d", "asctime": "2026-01-19 09:34:11,361"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/notifications/read-all - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815251.3622308, "msecs": 362.0, "relativeCreated": 57240.198850631714, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a421d50", "processName": "MainProcess", "process": 2241, "request_id": "3f54d770-d7cc-4845-ae7d-579d3819689d", "asctime": "2026-01-19 09:34:11,362"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/notifications/read-all \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815251.3644795, "msecs": 364.0, "relativeCreated": 57242.4476146698, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,364"}]}, "teardown": {"duration": 0.011841509000021233, "outcome": "passed", "stderr": "2026-01-19 09:34:11,367 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:11,368 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:11,368 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:11,368 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:11,368 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:11,369 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:11,369 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815251.3676052, "msecs": 367.0, "relativeCreated": 57245.57328224182, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a421d50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,367"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815251.3680365, "msecs": 368.0, "relativeCreated": 57246.004581451416, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a421d50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,368"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815251.368311, "msecs": 368.0, "relativeCreated": 57246.27900123596, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a421d50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,368"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815251.3685637, "msecs": 368.0, "relativeCreated": 57246.53172492981, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a421d50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,368"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815251.3688428, "msecs": 368.0, "relativeCreated": 57246.81091308594, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a421d50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,368"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815251.3690655, "msecs": 369.0, "relativeCreated": 57247.03359603882, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a421d50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,369"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815251.3692873, "msecs": 369.0, "relativeCreated": 57247.25532531738, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a421d50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,369"}]}}, {"nodeid": "tests/test_notifications_router.py::test_mark_all_notifications_as_read_none_unread", "lineno": 285, "outcome": "passed", "keywords": ["test_mark_all_notifications_as_read_none_unread", "test_notifications_router.py", "tests", "backend", ""], "setup": {"duration": 0.08579427700001929, "outcome": "passed", "stderr": "2026-01-19 09:34:11,379 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:11,420 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:11,421 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:11,422 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:11,422 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:11,422 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:11,422 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n2026-01-19 09:34:11,425 - backend.request_id_middleware - INFO - [ea0a536b-da33-4064-a8b5-3bc3e84e39e3] - Request started: POST /api/v1/auth/register\n2026-01-19 09:34:11,440 - backend.request_id_middleware - INFO - [ea0a536b-da33-4064-a8b5-3bc3e84e39e3] - Request completed: POST /api/v1/auth/register - Status: 200\n2026-01-19 09:34:11,443 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:11,445 - backend.request_id_middleware - INFO - [ab227303-1fa5-46d8-a105-5db1fd074a9e] - Request started: POST /api/v1/auth/login\n2026-01-19 09:34:11,448 - backend.routers.routers_auth - INFO - [ab227303-1fa5-46d8-a105-5db1fd074a9e] - Login attempt\n2026-01-19 09:34:11,460 - backend.routers.routers_auth - INFO - [ab227303-1fa5-46d8-a105-5db1fd074a9e] - Login successful\n2026-01-19 09:34:11,461 - backend.request_id_middleware - INFO - [ab227303-1fa5-46d8-a105-5db1fd074a9e] - Request completed: POST /api/v1/auth/login - Status: 200\n2026-01-19 09:34:11,464 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815251.379983, "msecs": 379.0, "relativeCreated": 57257.95102119446, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,379"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815251.420187, "msecs": 420.0, "relativeCreated": 57298.155069351196, "thread": 140512198997696, "threadName": "Thread-258 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,420"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815251.4216633, "msecs": 421.0, "relativeCreated": 57299.63135719299, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a4259d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,421"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815251.42203, "msecs": 422.0, "relativeCreated": 57299.99804496765, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a4259d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,422"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815251.422275, "msecs": 422.0, "relativeCreated": 57300.24313926697, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a4259d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,422"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815251.4225097, "msecs": 422.0, "relativeCreated": 57300.477743148804, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a4259d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,422"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815251.4227643, "msecs": 422.0, "relativeCreated": 57300.732374191284, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a4259d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,422"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/register", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815251.4254134, "msecs": 425.0, "relativeCreated": 57303.38144302368, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a4259d0", "processName": "MainProcess", "process": 2241, "request_id": "ea0a536b-da33-4064-a8b5-3bc3e84e39e3", "asctime": "2026-01-19 09:34:11,425"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/register - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815251.4408998, "msecs": 440.0, "relativeCreated": 57318.86792182922, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a4259d0", "processName": "MainProcess", "process": 2241, "request_id": "ea0a536b-da33-4064-a8b5-3bc3e84e39e3", "asctime": "2026-01-19 09:34:11,440"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815251.443314, "msecs": 443.0, "relativeCreated": 57321.282148361206, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,443"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/login", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815251.4451125, "msecs": 445.0, "relativeCreated": 57323.08053970337, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a4259d0", "processName": "MainProcess", "process": 2241, "request_id": "ab227303-1fa5-46d8-a105-5db1fd074a9e", "asctime": "2026-01-19 09:34:11,445"}, {"name": "backend.routers.routers_auth", "msg": "Login attempt", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 459, "funcName": "login", "created": 1768815251.448309, "msecs": 448.0, "relativeCreated": 57326.277017593384, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a4259d0", "processName": "MainProcess", "process": 2241, "request_id": "ab227303-1fa5-46d8-a105-5db1fd074a9e", "asctime": "2026-01-19 09:34:11,448"}, {"name": "backend.routers.routers_auth", "msg": "Login successful", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 496, "funcName": "login", "created": 1768815251.4602365, "msecs": 460.0, "relativeCreated": 57338.20462226868, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a4259d0", "processName": "MainProcess", "process": 2241, "user_id": 1, "request_id": "ab227303-1fa5-46d8-a105-5db1fd074a9e", "asctime": "2026-01-19 09:34:11,460"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/login - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815251.4619358, "msecs": 461.0, "relativeCreated": 57339.90383148193, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a4259d0", "processName": "MainProcess", "process": 2241, "request_id": "ab227303-1fa5-46d8-a105-5db1fd074a9e", "asctime": "2026-01-19 09:34:11,461"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815251.4644914, "msecs": 464.0, "relativeCreated": 57342.45944023132, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,464"}]}, "call": {"duration": 0.015300408000001653, "outcome": "passed", "stderr": "2026-01-19 09:34:11,471 - backend.request_id_middleware - INFO - [1909db52-fb28-4833-986f-f7462a23e410] - Request started: POST /api/v1/notifications/read-all\n2026-01-19 09:34:11,477 - backend.services.notification_service - INFO - [1909db52-fb28-4833-986f-f7462a23e410] - Marked 0 notifications as read for user 1\n2026-01-19 09:34:11,477 - backend.request_id_middleware - INFO - [1909db52-fb28-4833-986f-f7462a23e410] - Request completed: POST /api/v1/notifications/read-all - Status: 200\n2026-01-19 09:34:11,480 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/notifications/read-all \"HTTP/1.1 200 OK\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/notifications/read-all", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815251.471062, "msecs": 471.0, "relativeCreated": 57349.03001785278, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a4259d0", "processName": "MainProcess", "process": 2241, "request_id": "1909db52-fb28-4833-986f-f7462a23e410", "asctime": "2026-01-19 09:34:11,471"}, {"name": "backend.services.notification_service", "msg": "Marked 0 notifications as read for user 1", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/services/notification_service.py", "filename": "notification_service.py", "module": "notification_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 154, "funcName": "mark_all_as_read", "created": 1768815251.4775183, "msecs": 477.0, "relativeCreated": 57355.48639297485, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a4259d0", "processName": "MainProcess", "process": 2241, "request_id": "1909db52-fb28-4833-986f-f7462a23e410", "asctime": "2026-01-19 09:34:11,477"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/notifications/read-all - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815251.4779985, "msecs": 477.0, "relativeCreated": 57355.966567993164, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a4259d0", "processName": "MainProcess", "process": 2241, "request_id": "1909db52-fb28-4833-986f-f7462a23e410", "asctime": "2026-01-19 09:34:11,477"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/notifications/read-all \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815251.4802897, "msecs": 480.0, "relativeCreated": 57358.25777053833, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,480"}]}, "teardown": {"duration": 0.011604296000001568, "outcome": "passed", "stderr": "2026-01-19 09:34:11,481 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:11,482 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:11,482 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:11,482 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:11,483 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:11,483 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:11,483 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815251.4818468, "msecs": 481.0, "relativeCreated": 57359.81488227844, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a4259d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,481"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815251.4822445, "msecs": 482.0, "relativeCreated": 57360.212564468384, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a4259d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,482"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815251.4825094, "msecs": 482.0, "relativeCreated": 57360.477447509766, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a4259d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,482"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815251.482797, "msecs": 482.0, "relativeCreated": 57360.76498031616, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a4259d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,482"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815251.4830616, "msecs": 483.0, "relativeCreated": 57361.029624938965, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a4259d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,483"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815251.4832811, "msecs": 483.0, "relativeCreated": 57361.24920845032, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a4259d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,483"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815251.4835107, "msecs": 483.0, "relativeCreated": 57361.47880554199, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a4259d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,483"}]}}, {"nodeid": "tests/test_notifications_router.py::test_update_notification_to_read_via_put", "lineno": 302, "outcome": "passed", "keywords": ["test_update_notification_to_read_via_put", "test_notifications_router.py", "tests", "backend", ""], "setup": {"duration": 0.0901075090000063, "outcome": "passed", "stderr": "2026-01-19 09:34:11,494 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:11,535 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:11,536 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:11,537 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:11,537 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:11,537 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:11,537 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n2026-01-19 09:34:11,540 - backend.request_id_middleware - INFO - [c9bf2d4f-523e-441b-9d89-73fd77bd65fb] - Request started: POST /api/v1/auth/register\n2026-01-19 09:34:11,558 - backend.request_id_middleware - INFO - [c9bf2d4f-523e-441b-9d89-73fd77bd65fb] - Request completed: POST /api/v1/auth/register - Status: 200\n2026-01-19 09:34:11,561 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:11,563 - backend.request_id_middleware - INFO - [3f7b1a67-c502-4085-b988-8165b59687ac] - Request started: POST /api/v1/auth/login\n2026-01-19 09:34:11,565 - backend.routers.routers_auth - INFO - [3f7b1a67-c502-4085-b988-8165b59687ac] - Login attempt\n2026-01-19 09:34:11,578 - backend.routers.routers_auth - INFO - [3f7b1a67-c502-4085-b988-8165b59687ac] - Login successful\n2026-01-19 09:34:11,580 - backend.request_id_middleware - INFO - [3f7b1a67-c502-4085-b988-8165b59687ac] - Request completed: POST /api/v1/auth/login - Status: 200\n2026-01-19 09:34:11,583 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815251.4942107, "msecs": 494.0, "relativeCreated": 57372.17879295349, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,494"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815251.5350063, "msecs": 535.0, "relativeCreated": 57412.97435760498, "thread": 140512215779008, "threadName": "Thread-259 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,535"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815251.5367298, "msecs": 536.0, "relativeCreated": 57414.697885513306, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a5c5610", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,536"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815251.5371213, "msecs": 537.0, "relativeCreated": 57415.08936882019, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a5c5610", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,537"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815251.5373716, "msecs": 537.0, "relativeCreated": 57415.33970832825, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a5c5610", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,537"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815251.537609, "msecs": 537.0, "relativeCreated": 57415.57717323303, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a5c5610", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,537"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815251.5378678, "msecs": 537.0, "relativeCreated": 57415.83585739136, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a5c5610", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,537"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/register", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815251.5402951, "msecs": 540.0, "relativeCreated": 57418.26319694519, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a5c5610", "processName": "MainProcess", "process": 2241, "request_id": "c9bf2d4f-523e-441b-9d89-73fd77bd65fb", "asctime": "2026-01-19 09:34:11,540"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/register - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815251.5587378, "msecs": 558.0, "relativeCreated": 57436.70582771301, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a5c5610", "processName": "MainProcess", "process": 2241, "request_id": "c9bf2d4f-523e-441b-9d89-73fd77bd65fb", "asctime": "2026-01-19 09:34:11,558"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815251.5611815, "msecs": 561.0, "relativeCreated": 57439.149618148804, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,561"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/login", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815251.5630286, "msecs": 563.0, "relativeCreated": 57440.9966468811, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a5c5610", "processName": "MainProcess", "process": 2241, "request_id": "3f7b1a67-c502-4085-b988-8165b59687ac", "asctime": "2026-01-19 09:34:11,563"}, {"name": "backend.routers.routers_auth", "msg": "Login attempt", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 459, "funcName": "login", "created": 1768815251.5657005, "msecs": 565.0, "relativeCreated": 57443.668603897095, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a5c5610", "processName": "MainProcess", "process": 2241, "request_id": "3f7b1a67-c502-4085-b988-8165b59687ac", "asctime": "2026-01-19 09:34:11,565"}, {"name": "backend.routers.routers_auth", "msg": "Login successful", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 496, "funcName": "login", "created": 1768815251.5789459, "msecs": 578.0, "relativeCreated": 57456.91394805908, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a5c5610", "processName": "MainProcess", "process": 2241, "user_id": 1, "request_id": "3f7b1a67-c502-4085-b988-8165b59687ac", "asctime": "2026-01-19 09:34:11,578"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/login - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815251.5806088, "msecs": 580.0, "relativeCreated": 57458.576917648315, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a5c5610", "processName": "MainProcess", "process": 2241, "request_id": "3f7b1a67-c502-4085-b988-8165b59687ac", "asctime": "2026-01-19 09:34:11,580"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815251.5831037, "msecs": 583.0, "relativeCreated": 57461.071729660034, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,583"}]}, "call": {"duration": 0.015305317999974477, "outcome": "passed", "stderr": "2026-01-19 09:34:11,587 - backend.request_id_middleware - INFO - [2b93c2f6-0301-4aff-8307-db82437007f4] - Request started: PUT /api/v1/notifications/1\n2026-01-19 09:34:11,596 - backend.services.notification_service - INFO - [2b93c2f6-0301-4aff-8307-db82437007f4] - Marked notification 1 as read\n2026-01-19 09:34:11,596 - backend.request_id_middleware - INFO - [2b93c2f6-0301-4aff-8307-db82437007f4] - Request completed: PUT /api/v1/notifications/1 - Status: 200\n2026-01-19 09:34:11,598 - httpx - INFO - [-] - HTTP Request: PUT http://testserver/api/v1/notifications/1 \"HTTP/1.1 200 OK\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: PUT /api/v1/notifications/1", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815251.587503, "msecs": 587.0, "relativeCreated": 57465.471029281616, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a5c5610", "processName": "MainProcess", "process": 2241, "request_id": "2b93c2f6-0301-4aff-8307-db82437007f4", "asctime": "2026-01-19 09:34:11,587"}, {"name": "backend.services.notification_service", "msg": "Marked notification 1 as read", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/services/notification_service.py", "filename": "notification_service.py", "module": "notification_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 124, "funcName": "mark_as_read", "created": 1768815251.5960748, "msecs": 596.0, "relativeCreated": 57474.042892456055, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a5c5610", "processName": "MainProcess", "process": 2241, "request_id": "2b93c2f6-0301-4aff-8307-db82437007f4", "asctime": "2026-01-19 09:34:11,596"}, {"name": "backend.request_id_middleware", "msg": "Request completed: PUT /api/v1/notifications/1 - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815251.5965734, "msecs": 596.0, "relativeCreated": 57474.541425704956, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a5c5610", "processName": "MainProcess", "process": 2241, "request_id": "2b93c2f6-0301-4aff-8307-db82437007f4", "asctime": "2026-01-19 09:34:11,596"}, {"name": "httpx", "msg": "HTTP Request: PUT http://testserver/api/v1/notifications/1 \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815251.598874, "msecs": 598.0, "relativeCreated": 57476.842164993286, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,598"}]}, "teardown": {"duration": 0.011765113999985033, "outcome": "passed", "stderr": "2026-01-19 09:34:11,600 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:11,601 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:11,601 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:11,601 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:11,601 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:11,602 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:11,602 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815251.6005478, "msecs": 600.0, "relativeCreated": 57478.51586341858, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a5c5610", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,600"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815251.601045, "msecs": 601.0, "relativeCreated": 57479.012966156006, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a5c5610", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,601"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815251.6013322, "msecs": 601.0, "relativeCreated": 57479.30026054382, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a5c5610", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,601"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815251.6015873, "msecs": 601.0, "relativeCreated": 57479.55536842346, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a5c5610", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,601"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815251.6018744, "msecs": 601.0, "relativeCreated": 57479.8424243927, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a5c5610", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,601"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815251.6020982, "msecs": 602.0, "relativeCreated": 57480.06629943848, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a5c5610", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,602"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815251.6023295, "msecs": 602.0, "relativeCreated": 57480.297565460205, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a5c5610", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,602"}]}}, {"nodeid": "tests/test_notifications_router.py::test_update_notification_not_found", "lineno": 318, "outcome": "passed", "keywords": ["test_update_notification_not_found", "test_notifications_router.py", "tests", "backend", ""], "setup": {"duration": 0.0836291110000218, "outcome": "passed", "stderr": "2026-01-19 09:34:11,612 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:11,653 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:11,655 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:11,655 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:11,655 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:11,655 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:11,656 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n2026-01-19 09:34:11,658 - backend.request_id_middleware - INFO - [4af2376d-229a-4481-b4f3-a2d688f6a35a] - Request started: POST /api/v1/auth/register\n2026-01-19 09:34:11,673 - backend.request_id_middleware - INFO - [4af2376d-229a-4481-b4f3-a2d688f6a35a] - Request completed: POST /api/v1/auth/register - Status: 200\n2026-01-19 09:34:11,676 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:11,677 - backend.request_id_middleware - INFO - [4fd94f95-ae9b-4fde-8d18-ab1a255f815e] - Request started: POST /api/v1/auth/login\n2026-01-19 09:34:11,680 - backend.routers.routers_auth - INFO - [4fd94f95-ae9b-4fde-8d18-ab1a255f815e] - Login attempt\n2026-01-19 09:34:11,691 - backend.routers.routers_auth - INFO - [4fd94f95-ae9b-4fde-8d18-ab1a255f815e] - Login successful\n2026-01-19 09:34:11,692 - backend.request_id_middleware - INFO - [4fd94f95-ae9b-4fde-8d18-ab1a255f815e] - Request completed: POST /api/v1/auth/login - Status: 200\n2026-01-19 09:34:11,695 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815251.6128025, "msecs": 612.0, "relativeCreated": 57490.7705783844, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,612"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815251.6538053, "msecs": 653.0, "relativeCreated": 57531.77332878113, "thread": 140512215779008, "threadName": "Thread-260 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,653"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815251.6550522, "msecs": 655.0, "relativeCreated": 57533.02025794983, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a56b3d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,655"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815251.6554089, "msecs": 655.0, "relativeCreated": 57533.376932144165, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a56b3d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,655"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815251.65565, "msecs": 655.0, "relativeCreated": 57533.61797332764, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a56b3d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,655"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815251.6559083, "msecs": 655.0, "relativeCreated": 57533.87641906738, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a56b3d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,655"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815251.6561353, "msecs": 656.0, "relativeCreated": 57534.10339355469, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a56b3d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,656"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/register", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815251.658655, "msecs": 658.0, "relativeCreated": 57536.62300109863, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a56b3d0", "processName": "MainProcess", "process": 2241, "request_id": "4af2376d-229a-4481-b4f3-a2d688f6a35a", "asctime": "2026-01-19 09:34:11,658"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/register - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815251.6736662, "msecs": 673.0, "relativeCreated": 57551.634311676025, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a56b3d0", "processName": "MainProcess", "process": 2241, "request_id": "4af2376d-229a-4481-b4f3-a2d688f6a35a", "asctime": "2026-01-19 09:34:11,673"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815251.6760118, "msecs": 676.0, "relativeCreated": 57553.97987365723, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,676"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/login", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815251.6777527, "msecs": 677.0, "relativeCreated": 57555.720806121826, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a56b3d0", "processName": "MainProcess", "process": 2241, "request_id": "4fd94f95-ae9b-4fde-8d18-ab1a255f815e", "asctime": "2026-01-19 09:34:11,677"}, {"name": "backend.routers.routers_auth", "msg": "Login attempt", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 459, "funcName": "login", "created": 1768815251.6803234, "msecs": 680.0, "relativeCreated": 57558.2914352417, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a56b3d0", "processName": "MainProcess", "process": 2241, "request_id": "4fd94f95-ae9b-4fde-8d18-ab1a255f815e", "asctime": "2026-01-19 09:34:11,680"}, {"name": "backend.routers.routers_auth", "msg": "Login successful", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 496, "funcName": "login", "created": 1768815251.6913517, "msecs": 691.0, "relativeCreated": 57569.31972503662, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a56b3d0", "processName": "MainProcess", "process": 2241, "user_id": 1, "request_id": "4fd94f95-ae9b-4fde-8d18-ab1a255f815e", "asctime": "2026-01-19 09:34:11,691"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/login - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815251.6929529, "msecs": 692.0, "relativeCreated": 57570.92094421387, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a56b3d0", "processName": "MainProcess", "process": 2241, "request_id": "4fd94f95-ae9b-4fde-8d18-ab1a255f815e", "asctime": "2026-01-19 09:34:11,692"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815251.6953542, "msecs": 695.0, "relativeCreated": 57573.32229614258, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,695"}]}, "call": {"duration": 0.012311945999982754, "outcome": "passed", "stderr": "2026-01-19 09:34:11,698 - backend.request_id_middleware - INFO - [0f0dc4ae-efe8-4183-a6a0-63987afc2f6b] - Request started: PUT /api/v1/notifications/9999\n2026-01-19 09:34:11,705 - backend.request_id_middleware - INFO - [0f0dc4ae-efe8-4183-a6a0-63987afc2f6b] - Request completed: PUT /api/v1/notifications/9999 - Status: 404\n2026-01-19 09:34:11,707 - httpx - INFO - [-] - HTTP Request: PUT http://testserver/api/v1/notifications/9999 \"HTTP/1.1 404 Not Found\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: PUT /api/v1/notifications/9999", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815251.6981814, "msecs": 698.0, "relativeCreated": 57576.149463653564, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a56b3d0", "processName": "MainProcess", "process": 2241, "request_id": "0f0dc4ae-efe8-4183-a6a0-63987afc2f6b", "asctime": "2026-01-19 09:34:11,698"}, {"name": "backend.request_id_middleware", "msg": "Request completed: PUT /api/v1/notifications/9999 - Status: 404", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815251.7058907, "msecs": 705.0, "relativeCreated": 57583.85872840881, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a56b3d0", "processName": "MainProcess", "process": 2241, "request_id": "0f0dc4ae-efe8-4183-a6a0-63987afc2f6b", "asctime": "2026-01-19 09:34:11,705"}, {"name": "httpx", "msg": "HTTP Request: PUT http://testserver/api/v1/notifications/9999 \"HTTP/1.1 404 Not Found\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815251.7078712, "msecs": 707.0, "relativeCreated": 57585.83927154541, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,707"}]}, "teardown": {"duration": 0.011522154000005003, "outcome": "passed", "stderr": "2026-01-19 09:34:11,709 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:11,709 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:11,710 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:11,710 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:11,710 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:11,710 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:11,711 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815251.7094388, "msecs": 709.0, "relativeCreated": 57587.406873703, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a56b3d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,709"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815251.709845, "msecs": 709.0, "relativeCreated": 57587.81313896179, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a56b3d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,709"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815251.7101204, "msecs": 710.0, "relativeCreated": 57588.088512420654, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a56b3d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,710"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815251.7103765, "msecs": 710.0, "relativeCreated": 57588.34457397461, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a56b3d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,710"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815251.7106235, "msecs": 710.0, "relativeCreated": 57588.59157562256, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a56b3d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,710"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815251.710873, "msecs": 710.0, "relativeCreated": 57588.8409614563, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a56b3d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,710"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815251.7111003, "msecs": 711.0, "relativeCreated": 57589.06841278076, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a56b3d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,711"}]}}, {"nodeid": "tests/test_notifications_router.py::test_update_notification_wrong_user", "lineno": 330, "outcome": "passed", "keywords": ["test_update_notification_wrong_user", "test_notifications_router.py", "tests", "backend", ""], "setup": {"duration": 0.0853779010000153, "outcome": "passed", "stderr": "2026-01-19 09:34:11,721 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:11,762 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:11,763 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:11,764 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:11,764 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:11,764 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:11,764 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n2026-01-19 09:34:11,767 - backend.request_id_middleware - INFO - [96ada14b-b901-448a-b366-4186ec9e9791] - Request started: POST /api/v1/auth/register\n2026-01-19 09:34:11,782 - backend.request_id_middleware - INFO - [96ada14b-b901-448a-b366-4186ec9e9791] - Request completed: POST /api/v1/auth/register - Status: 200\n2026-01-19 09:34:11,785 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:11,786 - backend.request_id_middleware - INFO - [680e05d1-1995-4d5b-a5f9-4e3f09f26da3] - Request started: POST /api/v1/auth/login\n2026-01-19 09:34:11,790 - backend.routers.routers_auth - INFO - [680e05d1-1995-4d5b-a5f9-4e3f09f26da3] - Login attempt\n2026-01-19 09:34:11,801 - backend.routers.routers_auth - INFO - [680e05d1-1995-4d5b-a5f9-4e3f09f26da3] - Login successful\n2026-01-19 09:34:11,803 - backend.request_id_middleware - INFO - [680e05d1-1995-4d5b-a5f9-4e3f09f26da3] - Request completed: POST /api/v1/auth/login - Status: 200\n2026-01-19 09:34:11,805 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815251.7215865, "msecs": 721.0, "relativeCreated": 57599.55453872681, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,721"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815251.7622786, "msecs": 762.0, "relativeCreated": 57640.246629714966, "thread": 140512198997696, "threadName": "Thread-261 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,762"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815251.763903, "msecs": 763.0, "relativeCreated": 57641.870975494385, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a305e50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,763"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815251.764253, "msecs": 764.0, "relativeCreated": 57642.220973968506, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a305e50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,764"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815251.764499, "msecs": 764.0, "relativeCreated": 57642.46702194214, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a305e50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,764"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815251.7647502, "msecs": 764.0, "relativeCreated": 57642.71831512451, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a305e50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,764"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815251.764986, "msecs": 764.0, "relativeCreated": 57642.95411109924, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a305e50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,764"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/register", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815251.7674456, "msecs": 767.0, "relativeCreated": 57645.413637161255, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a305e50", "processName": "MainProcess", "process": 2241, "request_id": "96ada14b-b901-448a-b366-4186ec9e9791", "asctime": "2026-01-19 09:34:11,767"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/register - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815251.7828789, "msecs": 782.0, "relativeCreated": 57660.84694862366, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a305e50", "processName": "MainProcess", "process": 2241, "request_id": "96ada14b-b901-448a-b366-4186ec9e9791", "asctime": "2026-01-19 09:34:11,782"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815251.785227, "msecs": 785.0, "relativeCreated": 57663.19513320923, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,785"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/login", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815251.7869914, "msecs": 786.0, "relativeCreated": 57664.95943069458, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a305e50", "processName": "MainProcess", "process": 2241, "request_id": "680e05d1-1995-4d5b-a5f9-4e3f09f26da3", "asctime": "2026-01-19 09:34:11,786"}, {"name": "backend.routers.routers_auth", "msg": "Login attempt", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 459, "funcName": "login", "created": 1768815251.790245, "msecs": 790.0, "relativeCreated": 57668.21312904358, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a305e50", "processName": "MainProcess", "process": 2241, "request_id": "680e05d1-1995-4d5b-a5f9-4e3f09f26da3", "asctime": "2026-01-19 09:34:11,790"}, {"name": "backend.routers.routers_auth", "msg": "Login successful", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 496, "funcName": "login", "created": 1768815251.8015196, "msecs": 801.0, "relativeCreated": 57679.48770523071, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a305e50", "processName": "MainProcess", "process": 2241, "user_id": 1, "request_id": "680e05d1-1995-4d5b-a5f9-4e3f09f26da3", "asctime": "2026-01-19 09:34:11,801"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/login - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815251.8033457, "msecs": 803.0, "relativeCreated": 57681.31375312805, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a305e50", "processName": "MainProcess", "process": 2241, "request_id": "680e05d1-1995-4d5b-a5f9-4e3f09f26da3", "asctime": "2026-01-19 09:34:11,803"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815251.805893, "msecs": 805.0, "relativeCreated": 57683.86101722717, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,805"}]}, "call": {"duration": 0.01568104700001527, "outcome": "passed", "stderr": "2026-01-19 09:34:11,810 - backend.request_id_middleware - INFO - [49f16467-d48a-4ac6-847a-dcbc4509bc9e] - Request started: PUT /api/v1/notifications/1\n2026-01-19 09:34:11,819 - backend.services.notification_service - INFO - [49f16467-d48a-4ac6-847a-dcbc4509bc9e] - Marked notification 1 as read\n2026-01-19 09:34:11,819 - backend.request_id_middleware - INFO - [49f16467-d48a-4ac6-847a-dcbc4509bc9e] - Request completed: PUT /api/v1/notifications/1 - Status: 200\n2026-01-19 09:34:11,821 - httpx - INFO - [-] - HTTP Request: PUT http://testserver/api/v1/notifications/1 \"HTTP/1.1 200 OK\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: PUT /api/v1/notifications/1", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815251.81036, "msecs": 810.0, "relativeCreated": 57688.32802772522, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a305e50", "processName": "MainProcess", "process": 2241, "request_id": "49f16467-d48a-4ac6-847a-dcbc4509bc9e", "asctime": "2026-01-19 09:34:11,810"}, {"name": "backend.services.notification_service", "msg": "Marked notification 1 as read", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/services/notification_service.py", "filename": "notification_service.py", "module": "notification_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 124, "funcName": "mark_as_read", "created": 1768815251.8191545, "msecs": 819.0, "relativeCreated": 57697.12257385254, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a305e50", "processName": "MainProcess", "process": 2241, "request_id": "49f16467-d48a-4ac6-847a-dcbc4509bc9e", "asctime": "2026-01-19 09:34:11,819"}, {"name": "backend.request_id_middleware", "msg": "Request completed: PUT /api/v1/notifications/1 - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815251.8196652, "msecs": 819.0, "relativeCreated": 57697.633266448975, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a305e50", "processName": "MainProcess", "process": 2241, "request_id": "49f16467-d48a-4ac6-847a-dcbc4509bc9e", "asctime": "2026-01-19 09:34:11,819"}, {"name": "httpx", "msg": "HTTP Request: PUT http://testserver/api/v1/notifications/1 \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815251.8219514, "msecs": 821.0, "relativeCreated": 57699.91946220398, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,821"}]}, "teardown": {"duration": 0.011796928000023854, "outcome": "passed", "stderr": "2026-01-19 09:34:11,823 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:11,823 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:11,824 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:11,824 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:11,824 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:11,825 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:11,825 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815251.8235373, "msecs": 823.0, "relativeCreated": 57701.50542259216, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a305e50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,823"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815251.8239462, "msecs": 823.0, "relativeCreated": 57701.91431045532, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a305e50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,823"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815251.824252, "msecs": 824.0, "relativeCreated": 57702.21996307373, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a305e50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,824"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815251.8245268, "msecs": 824.0, "relativeCreated": 57702.494859695435, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a305e50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,824"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815251.8247995, "msecs": 824.0, "relativeCreated": 57702.76761054993, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a305e50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,824"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815251.8250282, "msecs": 825.0, "relativeCreated": 57702.996253967285, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a305e50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,825"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815251.8252525, "msecs": 825.0, "relativeCreated": 57703.22060585022, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a305e50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,825"}]}}, {"nodeid": "tests/test_notifications_router.py::test_delete_notification_success", "lineno": 354, "outcome": "passed", "keywords": ["test_delete_notification_success", "test_notifications_router.py", "tests", "backend", ""], "setup": {"duration": 0.08471213000001399, "outcome": "passed", "stderr": "2026-01-19 09:34:11,835 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:11,875 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:11,877 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:11,877 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:11,878 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:11,878 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:11,878 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n2026-01-19 09:34:11,881 - backend.request_id_middleware - INFO - [21865a21-9c11-4fcf-8022-27c97ba97e9c] - Request started: POST /api/v1/auth/register\n2026-01-19 09:34:11,896 - backend.request_id_middleware - INFO - [21865a21-9c11-4fcf-8022-27c97ba97e9c] - Request completed: POST /api/v1/auth/register - Status: 200\n2026-01-19 09:34:11,899 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:11,901 - backend.request_id_middleware - INFO - [ca1e9a49-74d0-4d58-98cd-6fcc98ea8e52] - Request started: POST /api/v1/auth/login\n2026-01-19 09:34:11,903 - backend.routers.routers_auth - INFO - [ca1e9a49-74d0-4d58-98cd-6fcc98ea8e52] - Login attempt\n2026-01-19 09:34:11,915 - backend.routers.routers_auth - INFO - [ca1e9a49-74d0-4d58-98cd-6fcc98ea8e52] - Login successful\n2026-01-19 09:34:11,916 - backend.request_id_middleware - INFO - [ca1e9a49-74d0-4d58-98cd-6fcc98ea8e52] - Request completed: POST /api/v1/auth/login - Status: 200\n2026-01-19 09:34:11,919 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815251.835962, "msecs": 835.0, "relativeCreated": 57713.93013000488, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,835"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815251.8759568, "msecs": 875.0, "relativeCreated": 57753.92484664917, "thread": 140512198997696, "threadName": "Thread-262 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,875"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815251.8775988, "msecs": 877.0, "relativeCreated": 57755.56683540344, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3040d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,877"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815251.8779633, "msecs": 877.0, "relativeCreated": 57755.93137741089, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3040d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,877"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815251.8782163, "msecs": 878.0, "relativeCreated": 57756.184339523315, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3040d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,878"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815251.878453, "msecs": 878.0, "relativeCreated": 57756.42108917236, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3040d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,878"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815251.8786855, "msecs": 878.0, "relativeCreated": 57756.65354728699, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3040d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,878"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/register", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815251.881179, "msecs": 881.0, "relativeCreated": 57759.14716720581, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3040d0", "processName": "MainProcess", "process": 2241, "request_id": "21865a21-9c11-4fcf-8022-27c97ba97e9c", "asctime": "2026-01-19 09:34:11,881"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/register - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815251.8968863, "msecs": 896.0, "relativeCreated": 57774.8544216156, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3040d0", "processName": "MainProcess", "process": 2241, "request_id": "21865a21-9c11-4fcf-8022-27c97ba97e9c", "asctime": "2026-01-19 09:34:11,896"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815251.899285, "msecs": 899.0, "relativeCreated": 57777.25315093994, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,899"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/login", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815251.9010603, "msecs": 901.0, "relativeCreated": 57779.02841567993, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3040d0", "processName": "MainProcess", "process": 2241, "request_id": "ca1e9a49-74d0-4d58-98cd-6fcc98ea8e52", "asctime": "2026-01-19 09:34:11,901"}, {"name": "backend.routers.routers_auth", "msg": "Login attempt", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 459, "funcName": "login", "created": 1768815251.9038339, "msecs": 903.0, "relativeCreated": 57781.80193901062, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3040d0", "processName": "MainProcess", "process": 2241, "request_id": "ca1e9a49-74d0-4d58-98cd-6fcc98ea8e52", "asctime": "2026-01-19 09:34:11,903"}, {"name": "backend.routers.routers_auth", "msg": "Login successful", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 496, "funcName": "login", "created": 1768815251.9151564, "msecs": 915.0, "relativeCreated": 57793.12443733215, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3040d0", "processName": "MainProcess", "process": 2241, "user_id": 1, "request_id": "ca1e9a49-74d0-4d58-98cd-6fcc98ea8e52", "asctime": "2026-01-19 09:34:11,915"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/login - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815251.9168043, "msecs": 916.0, "relativeCreated": 57794.7723865509, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3040d0", "processName": "MainProcess", "process": 2241, "request_id": "ca1e9a49-74d0-4d58-98cd-6fcc98ea8e52", "asctime": "2026-01-19 09:34:11,916"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815251.9193723, "msecs": 919.0, "relativeCreated": 57797.340393066406, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,919"}]}, "call": {"duration": 0.014170100999990609, "outcome": "passed", "stderr": "2026-01-19 09:34:11,923 - backend.request_id_middleware - INFO - [e01b17f5-42f8-4b86-85d9-c1a5e52c9ad5] - Request started: DELETE /api/v1/notifications/1\n2026-01-19 09:34:11,930 - backend.services.notification_service - INFO - [e01b17f5-42f8-4b86-85d9-c1a5e52c9ad5] - Deleted notification 1\n2026-01-19 09:34:11,931 - backend.request_id_middleware - INFO - [e01b17f5-42f8-4b86-85d9-c1a5e52c9ad5] - Request completed: DELETE /api/v1/notifications/1 - Status: 200\n2026-01-19 09:34:11,933 - httpx - INFO - [-] - HTTP Request: DELETE http://testserver/api/v1/notifications/1 \"HTTP/1.1 200 OK\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: DELETE /api/v1/notifications/1", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815251.923661, "msecs": 923.0, "relativeCreated": 57801.629066467285, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3040d0", "processName": "MainProcess", "process": 2241, "request_id": "e01b17f5-42f8-4b86-85d9-c1a5e52c9ad5", "asctime": "2026-01-19 09:34:11,923"}, {"name": "backend.services.notification_service", "msg": "Deleted notification 1", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/services/notification_service.py", "filename": "notification_service.py", "module": "notification_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 182, "funcName": "delete_notification", "created": 1768815251.930786, "msecs": 930.0, "relativeCreated": 57808.753967285156, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3040d0", "processName": "MainProcess", "process": 2241, "request_id": "e01b17f5-42f8-4b86-85d9-c1a5e52c9ad5", "asctime": "2026-01-19 09:34:11,930"}, {"name": "backend.request_id_middleware", "msg": "Request completed: DELETE /api/v1/notifications/1 - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815251.9312527, "msecs": 931.0, "relativeCreated": 57809.22079086304, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3040d0", "processName": "MainProcess", "process": 2241, "request_id": "e01b17f5-42f8-4b86-85d9-c1a5e52c9ad5", "asctime": "2026-01-19 09:34:11,931"}, {"name": "httpx", "msg": "HTTP Request: DELETE http://testserver/api/v1/notifications/1 \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815251.9334452, "msecs": 933.0, "relativeCreated": 57811.413288116455, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,933"}]}, "teardown": {"duration": 0.011576173999998218, "outcome": "passed", "stderr": "2026-01-19 09:34:11,935 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:11,936 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:11,936 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:11,936 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:11,936 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:11,937 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:11,937 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815251.9356031, "msecs": 935.0, "relativeCreated": 57813.5712146759, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3040d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,935"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815251.936015, "msecs": 936.0, "relativeCreated": 57813.98296356201, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3040d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,936"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815251.9362886, "msecs": 936.0, "relativeCreated": 57814.25666809082, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3040d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,936"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815251.9365451, "msecs": 936.0, "relativeCreated": 57814.51320648193, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3040d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,936"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815251.93682, "msecs": 936.0, "relativeCreated": 57814.78810310364, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3040d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,936"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815251.9370427, "msecs": 937.0, "relativeCreated": 57815.01078605652, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3040d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,937"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815251.9372616, "msecs": 937.0, "relativeCreated": 57815.229654312134, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3040d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,937"}]}}, {"nodeid": "tests/test_notifications_router.py::test_delete_notification_not_found", "lineno": 376, "outcome": "passed", "keywords": ["test_delete_notification_not_found", "test_notifications_router.py", "tests", "backend", ""], "setup": {"duration": 0.08460277500000757, "outcome": "passed", "stderr": "2026-01-19 09:34:11,947 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:11,987 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:11,989 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:11,990 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:11,990 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:11,990 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:11,990 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n2026-01-19 09:34:11,993 - backend.request_id_middleware - INFO - [e5c02538-da70-4b1a-8374-63b51edb8d40] - Request started: POST /api/v1/auth/register\n2026-01-19 09:34:12,008 - backend.request_id_middleware - INFO - [e5c02538-da70-4b1a-8374-63b51edb8d40] - Request completed: POST /api/v1/auth/register - Status: 200\n2026-01-19 09:34:12,011 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:12,013 - backend.request_id_middleware - INFO - [61ddb3b9-7391-4e6a-b4df-09b6d23f6d54] - Request started: POST /api/v1/auth/login\n2026-01-19 09:34:12,015 - backend.routers.routers_auth - INFO - [61ddb3b9-7391-4e6a-b4df-09b6d23f6d54] - Login attempt\n2026-01-19 09:34:12,027 - backend.routers.routers_auth - INFO - [61ddb3b9-7391-4e6a-b4df-09b6d23f6d54] - Login successful\n2026-01-19 09:34:12,028 - backend.request_id_middleware - INFO - [61ddb3b9-7391-4e6a-b4df-09b6d23f6d54] - Request completed: POST /api/v1/auth/login - Status: 200\n2026-01-19 09:34:12,031 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815251.947748, "msecs": 947.0, "relativeCreated": 57825.71601867676, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,947"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815251.987901, "msecs": 987.0, "relativeCreated": 57865.86904525757, "thread": 140512215779008, "threadName": "Thread-263 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,987"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815251.9897492, "msecs": 989.0, "relativeCreated": 57867.717266082764, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89e0b6d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,989"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815251.9900553, "msecs": 990.0, "relativeCreated": 57868.02339553833, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89e0b6d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,990"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815251.990296, "msecs": 990.0, "relativeCreated": 57868.26395988464, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89e0b6d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,990"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815251.9905293, "msecs": 990.0, "relativeCreated": 57868.497371673584, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89e0b6d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,990"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815251.9907835, "msecs": 990.0, "relativeCreated": 57868.751525878906, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89e0b6d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:11,990"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/register", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815251.9931629, "msecs": 993.0, "relativeCreated": 57871.13094329834, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89e0b6d0", "processName": "MainProcess", "process": 2241, "request_id": "e5c02538-da70-4b1a-8374-63b51edb8d40", "asctime": "2026-01-19 09:34:11,993"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/register - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815252.0089176, "msecs": 8.0, "relativeCreated": 57886.88564300537, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89e0b6d0", "processName": "MainProcess", "process": 2241, "request_id": "e5c02538-da70-4b1a-8374-63b51edb8d40", "asctime": "2026-01-19 09:34:12,008"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815252.0112972, "msecs": 11.0, "relativeCreated": 57889.265298843384, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,011"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/login", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815252.0131297, "msecs": 13.0, "relativeCreated": 57891.09778404236, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89e0b6d0", "processName": "MainProcess", "process": 2241, "request_id": "61ddb3b9-7391-4e6a-b4df-09b6d23f6d54", "asctime": "2026-01-19 09:34:12,013"}, {"name": "backend.routers.routers_auth", "msg": "Login attempt", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 459, "funcName": "login", "created": 1768815252.0158718, "msecs": 15.0, "relativeCreated": 57893.839836120605, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89e0b6d0", "processName": "MainProcess", "process": 2241, "request_id": "61ddb3b9-7391-4e6a-b4df-09b6d23f6d54", "asctime": "2026-01-19 09:34:12,015"}, {"name": "backend.routers.routers_auth", "msg": "Login successful", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 496, "funcName": "login", "created": 1768815252.0270913, "msecs": 27.0, "relativeCreated": 57905.05933761597, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89e0b6d0", "processName": "MainProcess", "process": 2241, "user_id": 1, "request_id": "61ddb3b9-7391-4e6a-b4df-09b6d23f6d54", "asctime": "2026-01-19 09:34:12,027"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/login - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815252.0287874, "msecs": 28.0, "relativeCreated": 57906.755447387695, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89e0b6d0", "processName": "MainProcess", "process": 2241, "request_id": "61ddb3b9-7391-4e6a-b4df-09b6d23f6d54", "asctime": "2026-01-19 09:34:12,028"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815252.031264, "msecs": 31.0, "relativeCreated": 57909.2321395874, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,031"}]}, "call": {"duration": 0.011184724999992568, "outcome": "passed", "stderr": "2026-01-19 09:34:12,033 - backend.request_id_middleware - INFO - [586d3f00-3191-42dc-81c5-f442428415bd] - Request started: DELETE /api/v1/notifications/9999\n2026-01-19 09:34:12,040 - backend.request_id_middleware - INFO - [586d3f00-3191-42dc-81c5-f442428415bd] - Request completed: DELETE /api/v1/notifications/9999 - Status: 404\n2026-01-19 09:34:12,042 - httpx - INFO - [-] - HTTP Request: DELETE http://testserver/api/v1/notifications/9999 \"HTTP/1.1 404 Not Found\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: DELETE /api/v1/notifications/9999", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815252.0339515, "msecs": 33.0, "relativeCreated": 57911.919593811035, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89e0b6d0", "processName": "MainProcess", "process": 2241, "request_id": "586d3f00-3191-42dc-81c5-f442428415bd", "asctime": "2026-01-19 09:34:12,033"}, {"name": "backend.request_id_middleware", "msg": "Request completed: DELETE /api/v1/notifications/9999 - Status: 404", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815252.040769, "msecs": 40.0, "relativeCreated": 57918.737173080444, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89e0b6d0", "processName": "MainProcess", "process": 2241, "request_id": "586d3f00-3191-42dc-81c5-f442428415bd", "asctime": "2026-01-19 09:34:12,040"}, {"name": "httpx", "msg": "HTTP Request: DELETE http://testserver/api/v1/notifications/9999 \"HTTP/1.1 404 Not Found\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815252.0427814, "msecs": 42.0, "relativeCreated": 57920.74942588806, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,042"}]}, "teardown": {"duration": 0.011622170000009646, "outcome": "passed", "stderr": "2026-01-19 09:34:12,044 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:12,044 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:12,045 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:12,045 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:12,045 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:12,045 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:12,046 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815252.044332, "msecs": 44.0, "relativeCreated": 57922.30010032654, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89e0b6d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,044"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815252.044759, "msecs": 44.0, "relativeCreated": 57922.72710800171, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89e0b6d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,044"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815252.045048, "msecs": 45.0, "relativeCreated": 57923.01607131958, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89e0b6d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,045"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815252.0453124, "msecs": 45.0, "relativeCreated": 57923.280477523804, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89e0b6d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,045"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815252.0455668, "msecs": 45.0, "relativeCreated": 57923.534870147705, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89e0b6d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,045"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815252.045813, "msecs": 45.0, "relativeCreated": 57923.78115653992, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89e0b6d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,045"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815252.04604, "msecs": 46.0, "relativeCreated": 57924.00813102722, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89e0b6d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,046"}]}}, {"nodeid": "tests/test_notifications_router.py::test_delete_notification_wrong_user", "lineno": 389, "outcome": "passed", "keywords": ["test_delete_notification_wrong_user", "test_notifications_router.py", "tests", "backend", ""], "setup": {"duration": 0.09033837100000142, "outcome": "passed", "stderr": "2026-01-19 09:34:12,056 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:12,096 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:12,097 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:12,098 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:12,098 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:12,098 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:12,098 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n2026-01-19 09:34:12,101 - backend.request_id_middleware - INFO - [d0a7ad52-b2cd-480d-8889-84c274b7a3cf] - Request started: POST /api/v1/auth/register\n2026-01-19 09:34:12,119 - backend.request_id_middleware - INFO - [d0a7ad52-b2cd-480d-8889-84c274b7a3cf] - Request completed: POST /api/v1/auth/register - Status: 200\n2026-01-19 09:34:12,121 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:12,123 - backend.request_id_middleware - INFO - [af411514-918b-42f3-8a62-2b04255e9e66] - Request started: POST /api/v1/auth/login\n2026-01-19 09:34:12,127 - backend.routers.routers_auth - INFO - [af411514-918b-42f3-8a62-2b04255e9e66] - Login attempt\n2026-01-19 09:34:12,141 - backend.routers.routers_auth - INFO - [af411514-918b-42f3-8a62-2b04255e9e66] - Login successful\n2026-01-19 09:34:12,143 - backend.request_id_middleware - INFO - [af411514-918b-42f3-8a62-2b04255e9e66] - Request completed: POST /api/v1/auth/login - Status: 200\n2026-01-19 09:34:12,145 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815252.0564785, "msecs": 56.0, "relativeCreated": 57934.446573257446, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,056"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815252.0963035, "msecs": 96.0, "relativeCreated": 57974.27153587341, "thread": 140512215779008, "threadName": "Thread-264 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,096"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815252.097905, "msecs": 97.0, "relativeCreated": 57975.87299346924, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a406ed0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,097"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815252.0982585, "msecs": 98.0, "relativeCreated": 57976.226568222046, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a406ed0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,098"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815252.0984986, "msecs": 98.0, "relativeCreated": 57976.4666557312, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a406ed0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,098"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815252.098751, "msecs": 98.0, "relativeCreated": 57976.71914100647, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a406ed0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,098"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815252.0989964, "msecs": 98.0, "relativeCreated": 57976.964473724365, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a406ed0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,098"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/register", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815252.101332, "msecs": 101.0, "relativeCreated": 57979.300022125244, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a406ed0", "processName": "MainProcess", "process": 2241, "request_id": "d0a7ad52-b2cd-480d-8889-84c274b7a3cf", "asctime": "2026-01-19 09:34:12,101"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/register - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815252.1193802, "msecs": 119.0, "relativeCreated": 57997.34830856323, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a406ed0", "processName": "MainProcess", "process": 2241, "request_id": "d0a7ad52-b2cd-480d-8889-84c274b7a3cf", "asctime": "2026-01-19 09:34:12,119"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815252.1218822, "msecs": 121.0, "relativeCreated": 57999.850273132324, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,121"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/login", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815252.1237578, "msecs": 123.0, "relativeCreated": 58001.725912094116, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a406ed0", "processName": "MainProcess", "process": 2241, "request_id": "af411514-918b-42f3-8a62-2b04255e9e66", "asctime": "2026-01-19 09:34:12,123"}, {"name": "backend.routers.routers_auth", "msg": "Login attempt", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 459, "funcName": "login", "created": 1768815252.1272721, "msecs": 127.0, "relativeCreated": 58005.24020195007, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a406ed0", "processName": "MainProcess", "process": 2241, "request_id": "af411514-918b-42f3-8a62-2b04255e9e66", "asctime": "2026-01-19 09:34:12,127"}, {"name": "backend.routers.routers_auth", "msg": "Login successful", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 496, "funcName": "login", "created": 1768815252.141409, "msecs": 141.0, "relativeCreated": 58019.37699317932, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a406ed0", "processName": "MainProcess", "process": 2241, "user_id": 1, "request_id": "af411514-918b-42f3-8a62-2b04255e9e66", "asctime": "2026-01-19 09:34:12,141"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/login - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815252.1431742, "msecs": 143.0, "relativeCreated": 58021.14224433899, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a406ed0", "processName": "MainProcess", "process": 2241, "request_id": "af411514-918b-42f3-8a62-2b04255e9e66", "asctime": "2026-01-19 09:34:12,143"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815252.145744, "msecs": 145.0, "relativeCreated": 58023.712158203125, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,145"}]}, "call": {"duration": 0.013523555000006127, "outcome": "passed", "stderr": "2026-01-19 09:34:12,150 - backend.request_id_middleware - INFO - [de5f8d57-aaf2-429d-a667-f2d30079c2b6] - Request started: DELETE /api/v1/notifications/1\n2026-01-19 09:34:12,156 - backend.services.notification_service - INFO - [de5f8d57-aaf2-429d-a667-f2d30079c2b6] - Deleted notification 1\n2026-01-19 09:34:12,157 - backend.request_id_middleware - INFO - [de5f8d57-aaf2-429d-a667-f2d30079c2b6] - Request completed: DELETE /api/v1/notifications/1 - Status: 200\n2026-01-19 09:34:12,159 - httpx - INFO - [-] - HTTP Request: DELETE http://testserver/api/v1/notifications/1 \"HTTP/1.1 200 OK\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: DELETE /api/v1/notifications/1", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815252.1501112, "msecs": 150.0, "relativeCreated": 58028.07927131653, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a406ed0", "processName": "MainProcess", "process": 2241, "request_id": "de5f8d57-aaf2-429d-a667-f2d30079c2b6", "asctime": "2026-01-19 09:34:12,150"}, {"name": "backend.services.notification_service", "msg": "Deleted notification 1", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/services/notification_service.py", "filename": "notification_service.py", "module": "notification_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 182, "funcName": "delete_notification", "created": 1768815252.1569765, "msecs": 156.0, "relativeCreated": 58034.94453430176, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a406ed0", "processName": "MainProcess", "process": 2241, "request_id": "de5f8d57-aaf2-429d-a667-f2d30079c2b6", "asctime": "2026-01-19 09:34:12,156"}, {"name": "backend.request_id_middleware", "msg": "Request completed: DELETE /api/v1/notifications/1 - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815252.1574504, "msecs": 157.0, "relativeCreated": 58035.41851043701, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a406ed0", "processName": "MainProcess", "process": 2241, "request_id": "de5f8d57-aaf2-429d-a667-f2d30079c2b6", "asctime": "2026-01-19 09:34:12,157"}, {"name": "httpx", "msg": "HTTP Request: DELETE http://testserver/api/v1/notifications/1 \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815252.1596642, "msecs": 159.0, "relativeCreated": 58037.63222694397, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,159"}]}, "teardown": {"duration": 0.011535088000016458, "outcome": "passed", "stderr": "2026-01-19 09:34:12,161 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:12,161 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:12,161 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:12,162 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:12,162 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:12,162 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:12,162 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815252.161111, "msecs": 161.0, "relativeCreated": 58039.07918930054, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a406ed0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,161"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815252.161509, "msecs": 161.0, "relativeCreated": 58039.47710990906, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a406ed0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,161"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815252.1618173, "msecs": 161.0, "relativeCreated": 58039.785385131836, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a406ed0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,161"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815252.1620882, "msecs": 162.0, "relativeCreated": 58040.056228637695, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a406ed0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,162"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815252.1623392, "msecs": 162.0, "relativeCreated": 58040.30728340149, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a406ed0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,162"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815252.1625576, "msecs": 162.0, "relativeCreated": 58040.525674819946, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a406ed0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,162"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815252.1628048, "msecs": 162.0, "relativeCreated": 58040.772914886475, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a406ed0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,162"}]}}, {"nodeid": "tests/test_notifications_router.py::test_get_preferences_success", "lineno": 410, "outcome": "passed", "keywords": ["test_get_preferences_success", "test_notifications_router.py", "tests", "backend", ""], "setup": {"duration": 0.08387095200001227, "outcome": "passed", "stderr": "2026-01-19 09:34:12,173 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:12,212 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:12,214 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:12,214 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:12,214 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:12,215 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:12,215 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n2026-01-19 09:34:12,217 - backend.request_id_middleware - INFO - [15bb0368-f0c6-4f33-b191-3d25646f864b] - Request started: POST /api/v1/auth/register\n2026-01-19 09:34:12,233 - backend.request_id_middleware - INFO - [15bb0368-f0c6-4f33-b191-3d25646f864b] - Request completed: POST /api/v1/auth/register - Status: 200\n2026-01-19 09:34:12,235 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:12,237 - backend.request_id_middleware - INFO - [7fee2d91-04b7-49ce-9a1f-0c94e50c734f] - Request started: POST /api/v1/auth/login\n2026-01-19 09:34:12,240 - backend.routers.routers_auth - INFO - [7fee2d91-04b7-49ce-9a1f-0c94e50c734f] - Login attempt\n2026-01-19 09:34:12,251 - backend.routers.routers_auth - INFO - [7fee2d91-04b7-49ce-9a1f-0c94e50c734f] - Login successful\n2026-01-19 09:34:12,253 - backend.request_id_middleware - INFO - [7fee2d91-04b7-49ce-9a1f-0c94e50c734f] - Request completed: POST /api/v1/auth/login - Status: 200\n2026-01-19 09:34:12,255 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815252.1732264, "msecs": 173.0, "relativeCreated": 58051.19442939758, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,173"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815252.2126732, "msecs": 212.0, "relativeCreated": 58090.641260147095, "thread": 140512198997696, "threadName": "Thread-265 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,212"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815252.2142346, "msecs": 214.0, "relativeCreated": 58092.20266342163, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a42ee10", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,214"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815252.2145991, "msecs": 214.0, "relativeCreated": 58092.56720542908, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a42ee10", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,214"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815252.2148738, "msecs": 214.0, "relativeCreated": 58092.8418636322, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a42ee10", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,214"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815252.2151136, "msecs": 215.0, "relativeCreated": 58093.08171272278, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a42ee10", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,215"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815252.2153387, "msecs": 215.0, "relativeCreated": 58093.30677986145, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a42ee10", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,215"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/register", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815252.2177405, "msecs": 217.0, "relativeCreated": 58095.70860862732, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a42ee10", "processName": "MainProcess", "process": 2241, "request_id": "15bb0368-f0c6-4f33-b191-3d25646f864b", "asctime": "2026-01-19 09:34:12,217"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/register - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815252.2332516, "msecs": 233.0, "relativeCreated": 58111.21964454651, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a42ee10", "processName": "MainProcess", "process": 2241, "request_id": "15bb0368-f0c6-4f33-b191-3d25646f864b", "asctime": "2026-01-19 09:34:12,233"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815252.2356904, "msecs": 235.0, "relativeCreated": 58113.65842819214, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,235"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/login", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815252.2374952, "msecs": 237.0, "relativeCreated": 58115.46325683594, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a42ee10", "processName": "MainProcess", "process": 2241, "request_id": "7fee2d91-04b7-49ce-9a1f-0c94e50c734f", "asctime": "2026-01-19 09:34:12,237"}, {"name": "backend.routers.routers_auth", "msg": "Login attempt", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 459, "funcName": "login", "created": 1768815252.2402549, "msecs": 240.0, "relativeCreated": 58118.22295188904, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a42ee10", "processName": "MainProcess", "process": 2241, "request_id": "7fee2d91-04b7-49ce-9a1f-0c94e50c734f", "asctime": "2026-01-19 09:34:12,240"}, {"name": "backend.routers.routers_auth", "msg": "Login successful", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 496, "funcName": "login", "created": 1768815252.2516105, "msecs": 251.0, "relativeCreated": 58129.57859039307, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a42ee10", "processName": "MainProcess", "process": 2241, "user_id": 1, "request_id": "7fee2d91-04b7-49ce-9a1f-0c94e50c734f", "asctime": "2026-01-19 09:34:12,251"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/login - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815252.2533011, "msecs": 253.0, "relativeCreated": 58131.269216537476, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a42ee10", "processName": "MainProcess", "process": 2241, "request_id": "7fee2d91-04b7-49ce-9a1f-0c94e50c734f", "asctime": "2026-01-19 09:34:12,253"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815252.2559, "msecs": 255.0, "relativeCreated": 58133.86797904968, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,255"}]}, "call": {"duration": 0.017957392999988997, "outcome": "passed", "stderr": "2026-01-19 09:34:12,258 - backend.request_id_middleware - INFO - [93cbce6b-fc39-400b-b872-055ddbfe2cc5] - Request started: GET /api/v1/notifications/preferences\n2026-01-19 09:34:12,271 - backend.services.notification_service - INFO - [93cbce6b-fc39-400b-b872-055ddbfe2cc5] - Created default notification preferences for user 1\n2026-01-19 09:34:12,271 - backend.request_id_middleware - INFO - [93cbce6b-fc39-400b-b872-055ddbfe2cc5] - Request completed: GET /api/v1/notifications/preferences - Status: 200\n2026-01-19 09:34:12,274 - httpx - INFO - [-] - HTTP Request: GET http://testserver/api/v1/notifications/preferences \"HTTP/1.1 200 OK\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: GET /api/v1/notifications/preferences", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815252.2588518, "msecs": 258.0, "relativeCreated": 58136.81983947754, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a42ee10", "processName": "MainProcess", "process": 2241, "request_id": "93cbce6b-fc39-400b-b872-055ddbfe2cc5", "asctime": "2026-01-19 09:34:12,258"}, {"name": "backend.services.notification_service", "msg": "Created default notification preferences for user 1", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/services/notification_service.py", "filename": "notification_service.py", "module": "notification_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 230, "funcName": "get_or_create_preferences", "created": 1768815252.2711275, "msecs": 271.0, "relativeCreated": 58149.09553527832, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a42ee10", "processName": "MainProcess", "process": 2241, "request_id": "93cbce6b-fc39-400b-b872-055ddbfe2cc5", "asctime": "2026-01-19 09:34:12,271"}, {"name": "backend.request_id_middleware", "msg": "Request completed: GET /api/v1/notifications/preferences - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815252.2718909, "msecs": 271.0, "relativeCreated": 58149.8589515686, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a42ee10", "processName": "MainProcess", "process": 2241, "request_id": "93cbce6b-fc39-400b-b872-055ddbfe2cc5", "asctime": "2026-01-19 09:34:12,271"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/api/v1/notifications/preferences \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815252.274285, "msecs": 274.0, "relativeCreated": 58152.25315093994, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,274"}]}, "teardown": {"duration": 0.01192442300001062, "outcome": "passed", "stderr": "2026-01-19 09:34:12,275 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:12,276 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:12,276 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:12,276 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:12,277 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:12,277 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:12,277 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815252.2759688, "msecs": 275.0, "relativeCreated": 58153.93686294556, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a42ee10", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,275"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815252.2763374, "msecs": 276.0, "relativeCreated": 58154.30545806885, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a42ee10", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,276"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815252.2766068, "msecs": 276.0, "relativeCreated": 58154.57487106323, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a42ee10", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,276"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815252.2768936, "msecs": 276.0, "relativeCreated": 58154.86168861389, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a42ee10", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,276"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815252.2771509, "msecs": 277.0, "relativeCreated": 58155.11894226074, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a42ee10", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,277"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815252.2773695, "msecs": 277.0, "relativeCreated": 58155.33757209778, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a42ee10", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,277"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815252.2776117, "msecs": 277.0, "relativeCreated": 58155.579805374146, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a42ee10", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,277"}]}}, {"nodeid": "tests/test_notifications_router.py::test_update_preferences_success", "lineno": 427, "outcome": "passed", "keywords": ["test_update_preferences_success", "test_notifications_router.py", "tests", "backend", ""], "setup": {"duration": 0.08541569100000856, "outcome": "passed", "stderr": "2026-01-19 09:34:12,288 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:12,329 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:12,331 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:12,331 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:12,331 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:12,332 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:12,332 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n2026-01-19 09:34:12,334 - backend.request_id_middleware - INFO - [10470e19-cda4-41b8-8cc2-c3769478e47f] - Request started: POST /api/v1/auth/register\n2026-01-19 09:34:12,350 - backend.request_id_middleware - INFO - [10470e19-cda4-41b8-8cc2-c3769478e47f] - Request completed: POST /api/v1/auth/register - Status: 200\n2026-01-19 09:34:12,352 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:12,354 - backend.request_id_middleware - INFO - [28955853-7d62-4f0d-86b0-08e42562a362] - Request started: POST /api/v1/auth/login\n2026-01-19 09:34:12,357 - backend.routers.routers_auth - INFO - [28955853-7d62-4f0d-86b0-08e42562a362] - Login attempt\n2026-01-19 09:34:12,368 - backend.routers.routers_auth - INFO - [28955853-7d62-4f0d-86b0-08e42562a362] - Login successful\n2026-01-19 09:34:12,370 - backend.request_id_middleware - INFO - [28955853-7d62-4f0d-86b0-08e42562a362] - Request completed: POST /api/v1/auth/login - Status: 200\n2026-01-19 09:34:12,372 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815252.288451, "msecs": 288.0, "relativeCreated": 58166.41902923584, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,288"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815252.329545, "msecs": 329.0, "relativeCreated": 58207.513093948364, "thread": 140512198997696, "threadName": "Thread-266 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,329"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815252.3313546, "msecs": 331.0, "relativeCreated": 58209.322690963745, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3b3510", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,331"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815252.3317037, "msecs": 331.0, "relativeCreated": 58209.67173576355, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3b3510", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,331"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815252.3319764, "msecs": 331.0, "relativeCreated": 58209.94448661804, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3b3510", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,331"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815252.3322146, "msecs": 332.0, "relativeCreated": 58210.182666778564, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3b3510", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,332"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815252.3324416, "msecs": 332.0, "relativeCreated": 58210.40964126587, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3b3510", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,332"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/register", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815252.3348057, "msecs": 334.0, "relativeCreated": 58212.77379989624, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3b3510", "processName": "MainProcess", "process": 2241, "request_id": "10470e19-cda4-41b8-8cc2-c3769478e47f", "asctime": "2026-01-19 09:34:12,334"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/register - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815252.3503442, "msecs": 350.0, "relativeCreated": 58228.31225395203, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3b3510", "processName": "MainProcess", "process": 2241, "request_id": "10470e19-cda4-41b8-8cc2-c3769478e47f", "asctime": "2026-01-19 09:34:12,350"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815252.352774, "msecs": 352.0, "relativeCreated": 58230.74197769165, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,352"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/login", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815252.3545308, "msecs": 354.0, "relativeCreated": 58232.49888420105, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3b3510", "processName": "MainProcess", "process": 2241, "request_id": "28955853-7d62-4f0d-86b0-08e42562a362", "asctime": "2026-01-19 09:34:12,354"}, {"name": "backend.routers.routers_auth", "msg": "Login attempt", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 459, "funcName": "login", "created": 1768815252.3572552, "msecs": 357.0, "relativeCreated": 58235.22329330444, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3b3510", "processName": "MainProcess", "process": 2241, "request_id": "28955853-7d62-4f0d-86b0-08e42562a362", "asctime": "2026-01-19 09:34:12,357"}, {"name": "backend.routers.routers_auth", "msg": "Login successful", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 496, "funcName": "login", "created": 1768815252.36842, "msecs": 368.0, "relativeCreated": 58246.38795852661, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3b3510", "processName": "MainProcess", "process": 2241, "user_id": 1, "request_id": "28955853-7d62-4f0d-86b0-08e42562a362", "asctime": "2026-01-19 09:34:12,368"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/login - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815252.3700762, "msecs": 370.0, "relativeCreated": 58248.04425239563, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3b3510", "processName": "MainProcess", "process": 2241, "request_id": "28955853-7d62-4f0d-86b0-08e42562a362", "asctime": "2026-01-19 09:34:12,370"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815252.3725681, "msecs": 372.0, "relativeCreated": 58250.5362033844, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,372"}]}, "call": {"duration": 0.014774037000023554, "outcome": "passed", "stderr": "2026-01-19 09:34:12,375 - backend.request_id_middleware - INFO - [ffbf7cbc-9b13-4b89-8e97-a7eec41505cc] - Request started: PUT /api/v1/notifications/preferences\n2026-01-19 09:34:12,383 - backend.services.notification_service - INFO - [ffbf7cbc-9b13-4b89-8e97-a7eec41505cc] - Created default notification preferences for user 1\n2026-01-19 09:34:12,385 - backend.services.notification_service - INFO - [ffbf7cbc-9b13-4b89-8e97-a7eec41505cc] - Updated notification preferences for user 1\n2026-01-19 09:34:12,385 - backend.request_id_middleware - INFO - [ffbf7cbc-9b13-4b89-8e97-a7eec41505cc] - Request completed: PUT /api/v1/notifications/preferences - Status: 200\n2026-01-19 09:34:12,387 - httpx - INFO - [-] - HTTP Request: PUT http://testserver/api/v1/notifications/preferences \"HTTP/1.1 200 OK\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: PUT /api/v1/notifications/preferences", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815252.3756306, "msecs": 375.0, "relativeCreated": 58253.59869003296, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3b3510", "processName": "MainProcess", "process": 2241, "request_id": "ffbf7cbc-9b13-4b89-8e97-a7eec41505cc", "asctime": "2026-01-19 09:34:12,375"}, {"name": "backend.services.notification_service", "msg": "Created default notification preferences for user 1", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/services/notification_service.py", "filename": "notification_service.py", "module": "notification_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 230, "funcName": "get_or_create_preferences", "created": 1768815252.3831055, "msecs": 383.0, "relativeCreated": 58261.07358932495, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3b3510", "processName": "MainProcess", "process": 2241, "request_id": "ffbf7cbc-9b13-4b89-8e97-a7eec41505cc", "asctime": "2026-01-19 09:34:12,383"}, {"name": "backend.services.notification_service", "msg": "Updated notification preferences for user 1", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/services/notification_service.py", "filename": "notification_service.py", "module": "notification_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 256, "funcName": "update_preferences", "created": 1768815252.3851166, "msecs": 385.0, "relativeCreated": 58263.08465003967, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3b3510", "processName": "MainProcess", "process": 2241, "request_id": "ffbf7cbc-9b13-4b89-8e97-a7eec41505cc", "asctime": "2026-01-19 09:34:12,385"}, {"name": "backend.request_id_middleware", "msg": "Request completed: PUT /api/v1/notifications/preferences - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815252.3856246, "msecs": 385.0, "relativeCreated": 58263.59272003174, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3b3510", "processName": "MainProcess", "process": 2241, "request_id": "ffbf7cbc-9b13-4b89-8e97-a7eec41505cc", "asctime": "2026-01-19 09:34:12,385"}, {"name": "httpx", "msg": "HTTP Request: PUT http://testserver/api/v1/notifications/preferences \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815252.3879254, "msecs": 387.0, "relativeCreated": 58265.89345932007, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,387"}]}, "teardown": {"duration": 0.011473863000020401, "outcome": "passed", "stderr": "2026-01-19 09:34:12,389 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:12,389 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:12,390 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:12,390 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:12,390 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:12,390 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:12,391 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815252.3893952, "msecs": 389.0, "relativeCreated": 58267.36330986023, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3b3510", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,389"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815252.3898234, "msecs": 389.0, "relativeCreated": 58267.791509628296, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3b3510", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,389"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815252.390105, "msecs": 390.0, "relativeCreated": 58268.073081970215, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3b3510", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,390"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815252.3903587, "msecs": 390.0, "relativeCreated": 58268.32675933838, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3b3510", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,390"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815252.3906078, "msecs": 390.0, "relativeCreated": 58268.57590675354, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3b3510", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,390"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815252.3908525, "msecs": 390.0, "relativeCreated": 58268.8205242157, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3b3510", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,390"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815252.3910782, "msecs": 391.0, "relativeCreated": 58269.04630661011, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3b3510", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,391"}]}}, {"nodeid": "tests/test_notifications_router.py::test_update_preferences_partial", "lineno": 455, "outcome": "passed", "keywords": ["test_update_preferences_partial", "test_notifications_router.py", "tests", "backend", ""], "setup": {"duration": 0.08396570799999381, "outcome": "passed", "stderr": "2026-01-19 09:34:12,401 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:12,441 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:12,442 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:12,443 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:12,443 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:12,443 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:12,443 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n2026-01-19 09:34:12,446 - backend.request_id_middleware - INFO - [bdf510e4-4bd9-406f-b0c2-75deb04ac387] - Request started: POST /api/v1/auth/register\n2026-01-19 09:34:12,462 - backend.request_id_middleware - INFO - [bdf510e4-4bd9-406f-b0c2-75deb04ac387] - Request completed: POST /api/v1/auth/register - Status: 200\n2026-01-19 09:34:12,464 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:12,466 - backend.request_id_middleware - INFO - [6942b0e2-2d39-4bf6-8faf-a8d395488dfb] - Request started: POST /api/v1/auth/login\n2026-01-19 09:34:12,468 - backend.routers.routers_auth - INFO - [6942b0e2-2d39-4bf6-8faf-a8d395488dfb] - Login attempt\n2026-01-19 09:34:12,480 - backend.routers.routers_auth - INFO - [6942b0e2-2d39-4bf6-8faf-a8d395488dfb] - Login successful\n2026-01-19 09:34:12,481 - backend.request_id_middleware - INFO - [6942b0e2-2d39-4bf6-8faf-a8d395488dfb] - Request completed: POST /api/v1/auth/login - Status: 200\n2026-01-19 09:34:12,484 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815252.4014282, "msecs": 401.0, "relativeCreated": 58279.396295547485, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,401"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815252.4414842, "msecs": 441.0, "relativeCreated": 58319.4522857666, "thread": 140512215779008, "threadName": "Thread-267 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,441"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815252.4427774, "msecs": 442.0, "relativeCreated": 58320.74546813965, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a21e0d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,442"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815252.443121, "msecs": 443.0, "relativeCreated": 58321.089029312134, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a21e0d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,443"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815252.4433575, "msecs": 443.0, "relativeCreated": 58321.3255405426, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a21e0d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,443"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815252.4435856, "msecs": 443.0, "relativeCreated": 58321.5537071228, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a21e0d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,443"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815252.4438343, "msecs": 443.0, "relativeCreated": 58321.802377700806, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a21e0d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,443"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/register", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815252.4463532, "msecs": 446.0, "relativeCreated": 58324.321269989014, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a21e0d0", "processName": "MainProcess", "process": 2241, "request_id": "bdf510e4-4bd9-406f-b0c2-75deb04ac387", "asctime": "2026-01-19 09:34:12,446"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/register - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815252.4621346, "msecs": 462.0, "relativeCreated": 58340.102672576904, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a21e0d0", "processName": "MainProcess", "process": 2241, "request_id": "bdf510e4-4bd9-406f-b0c2-75deb04ac387", "asctime": "2026-01-19 09:34:12,462"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815252.4645092, "msecs": 464.0, "relativeCreated": 58342.477321624756, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,464"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/login", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815252.4663794, "msecs": 466.0, "relativeCreated": 58344.34747695923, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a21e0d0", "processName": "MainProcess", "process": 2241, "request_id": "6942b0e2-2d39-4bf6-8faf-a8d395488dfb", "asctime": "2026-01-19 09:34:12,466"}, {"name": "backend.routers.routers_auth", "msg": "Login attempt", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 459, "funcName": "login", "created": 1768815252.4689772, "msecs": 468.0, "relativeCreated": 58346.94528579712, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a21e0d0", "processName": "MainProcess", "process": 2241, "request_id": "6942b0e2-2d39-4bf6-8faf-a8d395488dfb", "asctime": "2026-01-19 09:34:12,468"}, {"name": "backend.routers.routers_auth", "msg": "Login successful", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 496, "funcName": "login", "created": 1768815252.4801605, "msecs": 480.0, "relativeCreated": 58358.12854766846, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a21e0d0", "processName": "MainProcess", "process": 2241, "user_id": 1, "request_id": "6942b0e2-2d39-4bf6-8faf-a8d395488dfb", "asctime": "2026-01-19 09:34:12,480"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/login - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815252.4818366, "msecs": 481.0, "relativeCreated": 58359.80463027954, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a21e0d0", "processName": "MainProcess", "process": 2241, "request_id": "6942b0e2-2d39-4bf6-8faf-a8d395488dfb", "asctime": "2026-01-19 09:34:12,481"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815252.4843202, "msecs": 484.0, "relativeCreated": 58362.28823661804, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,484"}]}, "call": {"duration": 0.014881407000018498, "outcome": "passed", "stderr": "2026-01-19 09:34:12,487 - backend.request_id_middleware - INFO - [06ec4047-73b8-45b7-a0f2-c7553c5160d7] - Request started: PUT /api/v1/notifications/preferences\n2026-01-19 09:34:12,494 - backend.services.notification_service - INFO - [06ec4047-73b8-45b7-a0f2-c7553c5160d7] - Created default notification preferences for user 1\n2026-01-19 09:34:12,496 - backend.services.notification_service - INFO - [06ec4047-73b8-45b7-a0f2-c7553c5160d7] - Updated notification preferences for user 1\n2026-01-19 09:34:12,497 - backend.request_id_middleware - INFO - [06ec4047-73b8-45b7-a0f2-c7553c5160d7] - Request completed: PUT /api/v1/notifications/preferences - Status: 200\n2026-01-19 09:34:12,499 - httpx - INFO - [-] - HTTP Request: PUT http://testserver/api/v1/notifications/preferences \"HTTP/1.1 200 OK\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: PUT /api/v1/notifications/preferences", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815252.4871721, "msecs": 487.0, "relativeCreated": 58365.140199661255, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a21e0d0", "processName": "MainProcess", "process": 2241, "request_id": "06ec4047-73b8-45b7-a0f2-c7553c5160d7", "asctime": "2026-01-19 09:34:12,487"}, {"name": "backend.services.notification_service", "msg": "Created default notification preferences for user 1", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/services/notification_service.py", "filename": "notification_service.py", "module": "notification_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 230, "funcName": "get_or_create_preferences", "created": 1768815252.4949265, "msecs": 494.0, "relativeCreated": 58372.894525527954, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a21e0d0", "processName": "MainProcess", "process": 2241, "request_id": "06ec4047-73b8-45b7-a0f2-c7553c5160d7", "asctime": "2026-01-19 09:34:12,494"}, {"name": "backend.services.notification_service", "msg": "Updated notification preferences for user 1", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/services/notification_service.py", "filename": "notification_service.py", "module": "notification_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 256, "funcName": "update_preferences", "created": 1768815252.4967089, "msecs": 496.0, "relativeCreated": 58374.67694282532, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a21e0d0", "processName": "MainProcess", "process": 2241, "request_id": "06ec4047-73b8-45b7-a0f2-c7553c5160d7", "asctime": "2026-01-19 09:34:12,496"}, {"name": "backend.request_id_middleware", "msg": "Request completed: PUT /api/v1/notifications/preferences - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815252.4972496, "msecs": 497.0, "relativeCreated": 58375.21767616272, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a21e0d0", "processName": "MainProcess", "process": 2241, "request_id": "06ec4047-73b8-45b7-a0f2-c7553c5160d7", "asctime": "2026-01-19 09:34:12,497"}, {"name": "httpx", "msg": "HTTP Request: PUT http://testserver/api/v1/notifications/preferences \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815252.4995294, "msecs": 499.0, "relativeCreated": 58377.49743461609, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,499"}]}, "teardown": {"duration": 0.011472410999999738, "outcome": "passed", "stderr": "2026-01-19 09:34:12,501 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:12,501 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:12,501 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:12,502 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:12,502 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:12,502 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:12,502 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815252.501097, "msecs": 501.0, "relativeCreated": 58379.06503677368, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a21e0d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,501"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815252.5014577, "msecs": 501.0, "relativeCreated": 58379.42576408386, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a21e0d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,501"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815252.5017443, "msecs": 501.0, "relativeCreated": 58379.71234321594, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a21e0d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,501"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815252.502011, "msecs": 502.0, "relativeCreated": 58379.97913360596, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a21e0d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,502"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815252.502259, "msecs": 502.0, "relativeCreated": 58380.22708892822, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a21e0d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,502"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815252.5024767, "msecs": 502.0, "relativeCreated": 58380.44476509094, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a21e0d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,502"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815252.5026948, "msecs": 502.0, "relativeCreated": 58380.66291809082, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a21e0d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,502"}]}}, {"nodeid": "tests/test_notifications_router.py::test_update_preferences_quiet_hours", "lineno": 474, "outcome": "passed", "keywords": ["test_update_preferences_quiet_hours", "test_notifications_router.py", "tests", "backend", ""], "setup": {"duration": 0.0849187459999996, "outcome": "passed", "stderr": "2026-01-19 09:34:12,513 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:12,553 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:12,555 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:12,555 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:12,556 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:12,556 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:12,556 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n2026-01-19 09:34:12,559 - backend.request_id_middleware - INFO - [33633fd6-72de-471d-932e-a4d8bce9c2e7] - Request started: POST /api/v1/auth/register\n2026-01-19 09:34:12,574 - backend.request_id_middleware - INFO - [33633fd6-72de-471d-932e-a4d8bce9c2e7] - Request completed: POST /api/v1/auth/register - Status: 200\n2026-01-19 09:34:12,577 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:12,578 - backend.request_id_middleware - INFO - [d685423b-7e97-4699-a1b8-3fe936f34413] - Request started: POST /api/v1/auth/login\n2026-01-19 09:34:12,581 - backend.routers.routers_auth - INFO - [d685423b-7e97-4699-a1b8-3fe936f34413] - Login attempt\n2026-01-19 09:34:12,592 - backend.routers.routers_auth - INFO - [d685423b-7e97-4699-a1b8-3fe936f34413] - Login successful\n2026-01-19 09:34:12,594 - backend.request_id_middleware - INFO - [d685423b-7e97-4699-a1b8-3fe936f34413] - Request completed: POST /api/v1/auth/login - Status: 200\n2026-01-19 09:34:12,596 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815252.5131106, "msecs": 513.0, "relativeCreated": 58391.07871055603, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,513"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815252.5538495, "msecs": 553.0, "relativeCreated": 58431.81753158569, "thread": 140512215779008, "threadName": "Thread-268 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,553"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815252.5554314, "msecs": 555.0, "relativeCreated": 58433.39943885803, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89e4bdd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,555"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815252.5557964, "msecs": 555.0, "relativeCreated": 58433.76445770264, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89e4bdd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,555"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815252.5560517, "msecs": 556.0, "relativeCreated": 58434.019804000854, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89e4bdd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,556"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815252.5562873, "msecs": 556.0, "relativeCreated": 58434.25536155701, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89e4bdd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,556"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815252.55651, "msecs": 556.0, "relativeCreated": 58434.47804450989, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89e4bdd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,556"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/register", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815252.5590134, "msecs": 559.0, "relativeCreated": 58436.981439590454, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89e4bdd0", "processName": "MainProcess", "process": 2241, "request_id": "33633fd6-72de-471d-932e-a4d8bce9c2e7", "asctime": "2026-01-19 09:34:12,559"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/register - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815252.5746005, "msecs": 574.0, "relativeCreated": 58452.56853103638, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89e4bdd0", "processName": "MainProcess", "process": 2241, "request_id": "33633fd6-72de-471d-932e-a4d8bce9c2e7", "asctime": "2026-01-19 09:34:12,574"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815252.5770826, "msecs": 577.0, "relativeCreated": 58455.0507068634, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,577"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/login", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815252.5789185, "msecs": 578.0, "relativeCreated": 58456.886529922485, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89e4bdd0", "processName": "MainProcess", "process": 2241, "request_id": "d685423b-7e97-4699-a1b8-3fe936f34413", "asctime": "2026-01-19 09:34:12,578"}, {"name": "backend.routers.routers_auth", "msg": "Login attempt", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 459, "funcName": "login", "created": 1768815252.5815463, "msecs": 581.0, "relativeCreated": 58459.51437950134, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89e4bdd0", "processName": "MainProcess", "process": 2241, "request_id": "d685423b-7e97-4699-a1b8-3fe936f34413", "asctime": "2026-01-19 09:34:12,581"}, {"name": "backend.routers.routers_auth", "msg": "Login successful", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 496, "funcName": "login", "created": 1768815252.592686, "msecs": 592.0, "relativeCreated": 58470.654010772705, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89e4bdd0", "processName": "MainProcess", "process": 2241, "user_id": 1, "request_id": "d685423b-7e97-4699-a1b8-3fe936f34413", "asctime": "2026-01-19 09:34:12,592"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/login - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815252.5943713, "msecs": 594.0, "relativeCreated": 58472.339391708374, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89e4bdd0", "processName": "MainProcess", "process": 2241, "request_id": "d685423b-7e97-4699-a1b8-3fe936f34413", "asctime": "2026-01-19 09:34:12,594"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815252.596906, "msecs": 596.0, "relativeCreated": 58474.8740196228, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,596"}]}, "call": {"duration": 0.015240215999995144, "outcome": "passed", "stderr": "2026-01-19 09:34:12,599 - backend.request_id_middleware - INFO - [6535118a-3cba-48b3-a92e-cee53194bdd1] - Request started: PUT /api/v1/notifications/preferences\n2026-01-19 09:34:12,607 - backend.services.notification_service - INFO - [6535118a-3cba-48b3-a92e-cee53194bdd1] - Created default notification preferences for user 1\n2026-01-19 09:34:12,609 - backend.services.notification_service - INFO - [6535118a-3cba-48b3-a92e-cee53194bdd1] - Updated notification preferences for user 1\n2026-01-19 09:34:12,610 - backend.request_id_middleware - INFO - [6535118a-3cba-48b3-a92e-cee53194bdd1] - Request completed: PUT /api/v1/notifications/preferences - Status: 200\n2026-01-19 09:34:12,612 - httpx - INFO - [-] - HTTP Request: PUT http://testserver/api/v1/notifications/preferences \"HTTP/1.1 200 OK\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: PUT /api/v1/notifications/preferences", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815252.599817, "msecs": 599.0, "relativeCreated": 58477.78511047363, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89e4bdd0", "processName": "MainProcess", "process": 2241, "request_id": "6535118a-3cba-48b3-a92e-cee53194bdd1", "asctime": "2026-01-19 09:34:12,599"}, {"name": "backend.services.notification_service", "msg": "Created default notification preferences for user 1", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/services/notification_service.py", "filename": "notification_service.py", "module": "notification_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 230, "funcName": "get_or_create_preferences", "created": 1768815252.6076763, "msecs": 607.0, "relativeCreated": 58485.64434051514, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89e4bdd0", "processName": "MainProcess", "process": 2241, "request_id": "6535118a-3cba-48b3-a92e-cee53194bdd1", "asctime": "2026-01-19 09:34:12,607"}, {"name": "backend.services.notification_service", "msg": "Updated notification preferences for user 1", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/services/notification_service.py", "filename": "notification_service.py", "module": "notification_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 256, "funcName": "update_preferences", "created": 1768815252.6096015, "msecs": 609.0, "relativeCreated": 58487.56957054138, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89e4bdd0", "processName": "MainProcess", "process": 2241, "request_id": "6535118a-3cba-48b3-a92e-cee53194bdd1", "asctime": "2026-01-19 09:34:12,609"}, {"name": "backend.request_id_middleware", "msg": "Request completed: PUT /api/v1/notifications/preferences - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815252.6101727, "msecs": 610.0, "relativeCreated": 58488.14082145691, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89e4bdd0", "processName": "MainProcess", "process": 2241, "request_id": "6535118a-3cba-48b3-a92e-cee53194bdd1", "asctime": "2026-01-19 09:34:12,610"}, {"name": "httpx", "msg": "HTTP Request: PUT http://testserver/api/v1/notifications/preferences \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815252.612489, "msecs": 612.0, "relativeCreated": 58490.45705795288, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,612"}]}, "teardown": {"duration": 0.011671712999998363, "outcome": "passed", "stderr": "2026-01-19 09:34:12,614 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:12,614 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:12,614 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:12,615 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:12,615 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:12,615 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:12,615 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815252.6141126, "msecs": 614.0, "relativeCreated": 58492.08068847656, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89e4bdd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,614"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815252.6145098, "msecs": 614.0, "relativeCreated": 58492.477893829346, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89e4bdd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,614"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815252.6148164, "msecs": 614.0, "relativeCreated": 58492.78450012207, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89e4bdd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,614"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815252.6150951, "msecs": 615.0, "relativeCreated": 58493.06321144104, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89e4bdd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,615"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815252.6153524, "msecs": 615.0, "relativeCreated": 58493.32046508789, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89e4bdd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,615"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815252.615582, "msecs": 615.0, "relativeCreated": 58493.550062179565, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89e4bdd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,615"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815252.6158283, "msecs": 615.0, "relativeCreated": 58493.79634857178, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89e4bdd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,615"}]}}, {"nodeid": "tests/test_notifications_router.py::test_update_preferences_invalid_phone", "lineno": 498, "outcome": "passed", "keywords": ["test_update_preferences_invalid_phone", "test_notifications_router.py", "tests", "backend", ""], "setup": {"duration": 0.08539106500001026, "outcome": "passed", "stderr": "2026-01-19 09:34:12,626 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:12,667 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:12,668 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:12,669 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:12,669 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:12,669 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:12,670 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n2026-01-19 09:34:12,672 - backend.request_id_middleware - INFO - [b03cc952-a10c-4aae-9278-83fd4306bee2] - Request started: POST /api/v1/auth/register\n2026-01-19 09:34:12,688 - backend.request_id_middleware - INFO - [b03cc952-a10c-4aae-9278-83fd4306bee2] - Request completed: POST /api/v1/auth/register - Status: 200\n2026-01-19 09:34:12,690 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:12,692 - backend.request_id_middleware - INFO - [830ff7ea-45b7-47f0-884f-46b22a95da3f] - Request started: POST /api/v1/auth/login\n2026-01-19 09:34:12,695 - backend.routers.routers_auth - INFO - [830ff7ea-45b7-47f0-884f-46b22a95da3f] - Login attempt\n2026-01-19 09:34:12,706 - backend.routers.routers_auth - INFO - [830ff7ea-45b7-47f0-884f-46b22a95da3f] - Login successful\n2026-01-19 09:34:12,708 - backend.request_id_middleware - INFO - [830ff7ea-45b7-47f0-884f-46b22a95da3f] - Request completed: POST /api/v1/auth/login - Status: 200\n2026-01-19 09:34:12,710 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815252.6263819, "msecs": 626.0, "relativeCreated": 58504.34994697571, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,626"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815252.667397, "msecs": 667.0, "relativeCreated": 58545.36509513855, "thread": 140512198997696, "threadName": "Thread-269 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,667"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815252.6689332, "msecs": 668.0, "relativeCreated": 58546.9012260437, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a19bdd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,668"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815252.6693232, "msecs": 669.0, "relativeCreated": 58547.29127883911, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a19bdd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,669"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815252.6696322, "msecs": 669.0, "relativeCreated": 58547.60026931763, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a19bdd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,669"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815252.6699026, "msecs": 669.0, "relativeCreated": 58547.87063598633, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a19bdd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,669"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815252.6701355, "msecs": 670.0, "relativeCreated": 58548.10357093811, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a19bdd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,670"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/register", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815252.6729808, "msecs": 672.0, "relativeCreated": 58550.94885826111, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a19bdd0", "processName": "MainProcess", "process": 2241, "request_id": "b03cc952-a10c-4aae-9278-83fd4306bee2", "asctime": "2026-01-19 09:34:12,672"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/register - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815252.6885946, "msecs": 688.0, "relativeCreated": 58566.56265258789, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a19bdd0", "processName": "MainProcess", "process": 2241, "request_id": "b03cc952-a10c-4aae-9278-83fd4306bee2", "asctime": "2026-01-19 09:34:12,688"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815252.6909854, "msecs": 690.0, "relativeCreated": 58568.95351409912, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,690"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/login", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815252.6927354, "msecs": 692.0, "relativeCreated": 58570.70350646973, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a19bdd0", "processName": "MainProcess", "process": 2241, "request_id": "830ff7ea-45b7-47f0-884f-46b22a95da3f", "asctime": "2026-01-19 09:34:12,692"}, {"name": "backend.routers.routers_auth", "msg": "Login attempt", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 459, "funcName": "login", "created": 1768815252.6954632, "msecs": 695.0, "relativeCreated": 58573.43125343323, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a19bdd0", "processName": "MainProcess", "process": 2241, "request_id": "830ff7ea-45b7-47f0-884f-46b22a95da3f", "asctime": "2026-01-19 09:34:12,695"}, {"name": "backend.routers.routers_auth", "msg": "Login successful", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 496, "funcName": "login", "created": 1768815252.7065926, "msecs": 706.0, "relativeCreated": 58584.56063270569, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a19bdd0", "processName": "MainProcess", "process": 2241, "user_id": 1, "request_id": "830ff7ea-45b7-47f0-884f-46b22a95da3f", "asctime": "2026-01-19 09:34:12,706"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/login - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815252.7082515, "msecs": 708.0, "relativeCreated": 58586.21954917908, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a19bdd0", "processName": "MainProcess", "process": 2241, "request_id": "830ff7ea-45b7-47f0-884f-46b22a95da3f", "asctime": "2026-01-19 09:34:12,708"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815252.7106953, "msecs": 710.0, "relativeCreated": 58588.66333961487, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,710"}]}, "call": {"duration": 0.010718255000000454, "outcome": "passed", "stderr": "2026-01-19 09:34:12,713 - backend.request_id_middleware - INFO - [3ce4362b-f033-4225-a3d5-10f96e5f5a4d] - Request started: PUT /api/v1/notifications/preferences\n2026-01-19 09:34:12,719 - backend.request_id_middleware - INFO - [3ce4362b-f033-4225-a3d5-10f96e5f5a4d] - Request completed: PUT /api/v1/notifications/preferences - Status: 422\n2026-01-19 09:34:12,721 - httpx - INFO - [-] - HTTP Request: PUT http://testserver/api/v1/notifications/preferences \"HTTP/1.1 422 Unprocessable Entity\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: PUT /api/v1/notifications/preferences", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815252.713482, "msecs": 713.0, "relativeCreated": 58591.44997596741, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a19bdd0", "processName": "MainProcess", "process": 2241, "request_id": "3ce4362b-f033-4225-a3d5-10f96e5f5a4d", "asctime": "2026-01-19 09:34:12,713"}, {"name": "backend.request_id_middleware", "msg": "Request completed: PUT /api/v1/notifications/preferences - Status: 422", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815252.719686, "msecs": 719.0, "relativeCreated": 58597.65410423279, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a19bdd0", "processName": "MainProcess", "process": 2241, "request_id": "3ce4362b-f033-4225-a3d5-10f96e5f5a4d", "asctime": "2026-01-19 09:34:12,719"}, {"name": "httpx", "msg": "HTTP Request: PUT http://testserver/api/v1/notifications/preferences \"HTTP/1.1 422 Unprocessable Entity\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815252.7216806, "msecs": 721.0, "relativeCreated": 58599.64871406555, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,721"}]}, "teardown": {"duration": 0.011486747999981617, "outcome": "passed", "stderr": "2026-01-19 09:34:12,723 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:12,723 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:12,723 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:12,724 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:12,724 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:12,724 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:12,724 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815252.7232316, "msecs": 723.0, "relativeCreated": 58601.19962692261, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a19bdd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,723"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815252.7236228, "msecs": 723.0, "relativeCreated": 58601.59087181091, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a19bdd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,723"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815252.7239382, "msecs": 723.0, "relativeCreated": 58601.906299591064, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a19bdd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,723"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815252.724198, "msecs": 724.0, "relativeCreated": 58602.166175842285, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a19bdd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,724"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815252.7244568, "msecs": 724.0, "relativeCreated": 58602.42486000061, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a19bdd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,724"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815252.724671, "msecs": 724.0, "relativeCreated": 58602.63895988464, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a19bdd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,724"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815252.724913, "msecs": 724.0, "relativeCreated": 58602.88095474243, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a19bdd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,724"}]}}, {"nodeid": "tests/test_notifications_router.py::test_update_preferences_invalid_quiet_hours", "lineno": 512, "outcome": "passed", "keywords": ["test_update_preferences_invalid_quiet_hours", "test_notifications_router.py", "tests", "backend", ""], "setup": {"duration": 0.08545468500000197, "outcome": "passed", "stderr": "2026-01-19 09:34:12,735 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:12,775 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:12,777 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:12,777 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:12,778 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:12,778 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:12,778 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n2026-01-19 09:34:12,781 - backend.request_id_middleware - INFO - [c276617d-1045-4d5a-8e14-7e093ac7bd2e] - Request started: POST /api/v1/auth/register\n2026-01-19 09:34:12,797 - backend.request_id_middleware - INFO - [c276617d-1045-4d5a-8e14-7e093ac7bd2e] - Request completed: POST /api/v1/auth/register - Status: 200\n2026-01-19 09:34:12,799 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:12,801 - backend.request_id_middleware - INFO - [38e6915e-5f6d-45e5-8b6b-c6a6f5298f38] - Request started: POST /api/v1/auth/login\n2026-01-19 09:34:12,804 - backend.routers.routers_auth - INFO - [38e6915e-5f6d-45e5-8b6b-c6a6f5298f38] - Login attempt\n2026-01-19 09:34:12,815 - backend.routers.routers_auth - INFO - [38e6915e-5f6d-45e5-8b6b-c6a6f5298f38] - Login successful\n2026-01-19 09:34:12,817 - backend.request_id_middleware - INFO - [38e6915e-5f6d-45e5-8b6b-c6a6f5298f38] - Request completed: POST /api/v1/auth/login - Status: 200\n2026-01-19 09:34:12,819 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815252.7352617, "msecs": 735.0, "relativeCreated": 58613.229751586914, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,735"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815252.7758582, "msecs": 775.0, "relativeCreated": 58653.82623672485, "thread": 140512215779008, "threadName": "Thread-270 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,775"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815252.7775388, "msecs": 777.0, "relativeCreated": 58655.50684928894, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a3b8350", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,777"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815252.777931, "msecs": 777.0, "relativeCreated": 58655.89904785156, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a3b8350", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,777"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815252.7781813, "msecs": 778.0, "relativeCreated": 58656.14938735962, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a3b8350", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,778"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815252.7784176, "msecs": 778.0, "relativeCreated": 58656.38566017151, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a3b8350", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,778"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815252.7786446, "msecs": 778.0, "relativeCreated": 58656.61263465881, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a3b8350", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,778"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/register", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815252.7812617, "msecs": 781.0, "relativeCreated": 58659.22975540161, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a3b8350", "processName": "MainProcess", "process": 2241, "request_id": "c276617d-1045-4d5a-8e14-7e093ac7bd2e", "asctime": "2026-01-19 09:34:12,781"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/register - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815252.7973597, "msecs": 797.0, "relativeCreated": 58675.32777786255, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a3b8350", "processName": "MainProcess", "process": 2241, "request_id": "c276617d-1045-4d5a-8e14-7e093ac7bd2e", "asctime": "2026-01-19 09:34:12,797"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815252.7997856, "msecs": 799.0, "relativeCreated": 58677.75368690491, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,799"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/login", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815252.8016663, "msecs": 801.0, "relativeCreated": 58679.63433265686, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a3b8350", "processName": "MainProcess", "process": 2241, "request_id": "38e6915e-5f6d-45e5-8b6b-c6a6f5298f38", "asctime": "2026-01-19 09:34:12,801"}, {"name": "backend.routers.routers_auth", "msg": "Login attempt", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 459, "funcName": "login", "created": 1768815252.804327, "msecs": 804.0, "relativeCreated": 58682.295083999634, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a3b8350", "processName": "MainProcess", "process": 2241, "request_id": "38e6915e-5f6d-45e5-8b6b-c6a6f5298f38", "asctime": "2026-01-19 09:34:12,804"}, {"name": "backend.routers.routers_auth", "msg": "Login successful", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 496, "funcName": "login", "created": 1768815252.8155196, "msecs": 815.0, "relativeCreated": 58693.48764419556, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a3b8350", "processName": "MainProcess", "process": 2241, "user_id": 1, "request_id": "38e6915e-5f6d-45e5-8b6b-c6a6f5298f38", "asctime": "2026-01-19 09:34:12,815"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/login - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815252.8171995, "msecs": 817.0, "relativeCreated": 58695.167541503906, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a3b8350", "processName": "MainProcess", "process": 2241, "request_id": "38e6915e-5f6d-45e5-8b6b-c6a6f5298f38", "asctime": "2026-01-19 09:34:12,817"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815252.8196683, "msecs": 819.0, "relativeCreated": 58697.6363658905, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,819"}]}, "call": {"duration": 0.014905801999987034, "outcome": "passed", "stderr": "2026-01-19 09:34:12,822 - backend.request_id_middleware - INFO - [1c554a7b-35c6-4875-bef8-c8304a923837] - Request started: PUT /api/v1/notifications/preferences\n2026-01-19 09:34:12,830 - backend.services.notification_service - INFO - [1c554a7b-35c6-4875-bef8-c8304a923837] - Created default notification preferences for user 1\n2026-01-19 09:34:12,832 - backend.services.notification_service - INFO - [1c554a7b-35c6-4875-bef8-c8304a923837] - Updated notification preferences for user 1\n2026-01-19 09:34:12,832 - backend.request_id_middleware - INFO - [1c554a7b-35c6-4875-bef8-c8304a923837] - Request completed: PUT /api/v1/notifications/preferences - Status: 200\n2026-01-19 09:34:12,834 - httpx - INFO - [-] - HTTP Request: PUT http://testserver/api/v1/notifications/preferences \"HTTP/1.1 200 OK\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: PUT /api/v1/notifications/preferences", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815252.8224847, "msecs": 822.0, "relativeCreated": 58700.45280456543, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a3b8350", "processName": "MainProcess", "process": 2241, "request_id": "1c554a7b-35c6-4875-bef8-c8304a923837", "asctime": "2026-01-19 09:34:12,822"}, {"name": "backend.services.notification_service", "msg": "Created default notification preferences for user 1", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/services/notification_service.py", "filename": "notification_service.py", "module": "notification_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 230, "funcName": "get_or_create_preferences", "created": 1768815252.8301883, "msecs": 830.0, "relativeCreated": 58708.15634727478, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a3b8350", "processName": "MainProcess", "process": 2241, "request_id": "1c554a7b-35c6-4875-bef8-c8304a923837", "asctime": "2026-01-19 09:34:12,830"}, {"name": "backend.services.notification_service", "msg": "Updated notification preferences for user 1", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/services/notification_service.py", "filename": "notification_service.py", "module": "notification_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 256, "funcName": "update_preferences", "created": 1768815252.832073, "msecs": 832.0, "relativeCreated": 58710.04104614258, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a3b8350", "processName": "MainProcess", "process": 2241, "request_id": "1c554a7b-35c6-4875-bef8-c8304a923837", "asctime": "2026-01-19 09:34:12,832"}, {"name": "backend.request_id_middleware", "msg": "Request completed: PUT /api/v1/notifications/preferences - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815252.8326156, "msecs": 832.0, "relativeCreated": 58710.58368682861, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a3b8350", "processName": "MainProcess", "process": 2241, "request_id": "1c554a7b-35c6-4875-bef8-c8304a923837", "asctime": "2026-01-19 09:34:12,832"}, {"name": "httpx", "msg": "HTTP Request: PUT http://testserver/api/v1/notifications/preferences \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815252.8349292, "msecs": 834.0, "relativeCreated": 58712.897300720215, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,834"}]}, "teardown": {"duration": 0.011567257999985259, "outcome": "passed", "stderr": "2026-01-19 09:34:12,836 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:12,836 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:12,837 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:12,837 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:12,837 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:12,837 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:12,838 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815252.8364294, "msecs": 836.0, "relativeCreated": 58714.39743041992, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a3b8350", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,836"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815252.8368666, "msecs": 836.0, "relativeCreated": 58714.834690093994, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a3b8350", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,836"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815252.8371475, "msecs": 837.0, "relativeCreated": 58715.115547180176, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a3b8350", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,837"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815252.8374069, "msecs": 837.0, "relativeCreated": 58715.37494659424, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a3b8350", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,837"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815252.8376594, "msecs": 837.0, "relativeCreated": 58715.62743186951, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a3b8350", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,837"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815252.8379042, "msecs": 837.0, "relativeCreated": 58715.872287750244, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a3b8350", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,837"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815252.8381317, "msecs": 838.0, "relativeCreated": 58716.09973907471, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8a3b8350", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,838"}]}}, {"nodeid": "tests/test_notifications_router.py::test_broadcast_notification_to_all_users", "lineno": 537, "outcome": "passed", "keywords": ["test_broadcast_notification_to_all_users", "test_notifications_router.py", "tests", "backend", ""], "setup": {"duration": 0.08705882500001394, "outcome": "passed", "stderr": "2026-01-19 09:34:12,848 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:12,888 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:12,890 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:12,891 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:12,891 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:12,891 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:12,891 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n2026-01-19 09:34:12,894 - backend.request_id_middleware - INFO - [53fc6eaf-b522-4ea1-8b27-635499eb2b01] - Request started: POST /api/v1/auth/register\n2026-01-19 09:34:12,910 - backend.request_id_middleware - INFO - [53fc6eaf-b522-4ea1-8b27-635499eb2b01] - Request completed: POST /api/v1/auth/register - Status: 200\n2026-01-19 09:34:12,912 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:12,914 - backend.request_id_middleware - INFO - [70e3cd61-acf3-49c5-acf9-00df159c6392] - Request started: POST /api/v1/auth/login\n2026-01-19 09:34:12,917 - backend.routers.routers_auth - INFO - [70e3cd61-acf3-49c5-acf9-00df159c6392] - Login attempt\n2026-01-19 09:34:12,929 - backend.routers.routers_auth - INFO - [70e3cd61-acf3-49c5-acf9-00df159c6392] - Login successful\n2026-01-19 09:34:12,931 - backend.request_id_middleware - INFO - [70e3cd61-acf3-49c5-acf9-00df159c6392] - Request completed: POST /api/v1/auth/login - Status: 200\n2026-01-19 09:34:12,934 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815252.8485985, "msecs": 848.0, "relativeCreated": 58726.566553115845, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,848"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815252.8887973, "msecs": 888.0, "relativeCreated": 58766.76535606384, "thread": 140512198997696, "threadName": "Thread-271 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,888"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815252.8906143, "msecs": 890.0, "relativeCreated": 58768.582344055176, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a4d1d90", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,890"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815252.8910062, "msecs": 891.0, "relativeCreated": 58768.97430419922, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a4d1d90", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,891"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815252.8912594, "msecs": 891.0, "relativeCreated": 58769.227504730225, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a4d1d90", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,891"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815252.8914957, "msecs": 891.0, "relativeCreated": 58769.463777542114, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a4d1d90", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,891"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815252.8917503, "msecs": 891.0, "relativeCreated": 58769.718408584595, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a4d1d90", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,891"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/register", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815252.8942034, "msecs": 894.0, "relativeCreated": 58772.17149734497, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a4d1d90", "processName": "MainProcess", "process": 2241, "request_id": "53fc6eaf-b522-4ea1-8b27-635499eb2b01", "asctime": "2026-01-19 09:34:12,894"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/register - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815252.910344, "msecs": 910.0, "relativeCreated": 58788.31195831299, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a4d1d90", "processName": "MainProcess", "process": 2241, "request_id": "53fc6eaf-b522-4ea1-8b27-635499eb2b01", "asctime": "2026-01-19 09:34:12,910"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815252.9129167, "msecs": 912.0, "relativeCreated": 58790.88473320007, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,912"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/login", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815252.9147756, "msecs": 914.0, "relativeCreated": 58792.74368286133, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a4d1d90", "processName": "MainProcess", "process": 2241, "request_id": "70e3cd61-acf3-49c5-acf9-00df159c6392", "asctime": "2026-01-19 09:34:12,914"}, {"name": "backend.routers.routers_auth", "msg": "Login attempt", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 459, "funcName": "login", "created": 1768815252.9175375, "msecs": 917.0, "relativeCreated": 58795.50552368164, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a4d1d90", "processName": "MainProcess", "process": 2241, "request_id": "70e3cd61-acf3-49c5-acf9-00df159c6392", "asctime": "2026-01-19 09:34:12,917"}, {"name": "backend.routers.routers_auth", "msg": "Login successful", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 496, "funcName": "login", "created": 1768815252.9299016, "msecs": 929.0, "relativeCreated": 58807.86967277527, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a4d1d90", "processName": "MainProcess", "process": 2241, "user_id": 1, "request_id": "70e3cd61-acf3-49c5-acf9-00df159c6392", "asctime": "2026-01-19 09:34:12,929"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/login - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815252.931798, "msecs": 931.0, "relativeCreated": 58809.76605415344, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a4d1d90", "processName": "MainProcess", "process": 2241, "request_id": "70e3cd61-acf3-49c5-acf9-00df159c6392", "asctime": "2026-01-19 09:34:12,931"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815252.9345167, "msecs": 934.0, "relativeCreated": 58812.48474121094, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,934"}]}, "call": {"duration": 0.022731933999978082, "outcome": "passed", "stderr": "2026-01-19 09:34:12,939 - backend.request_id_middleware - INFO - [a907d80d-cf84-4a57-8844-cf5e84771ac1] - Request started: POST /api/v1/notifications/broadcast\n2026-01-19 09:34:12,948 - backend.services.notification_service - INFO - [a907d80d-cf84-4a57-8844-cf5e84771ac1] - Created notification 1 for user 1\n2026-01-19 09:34:12,950 - backend.services.notification_service - INFO - [a907d80d-cf84-4a57-8844-cf5e84771ac1] - Created notification 2 for user 2\n2026-01-19 09:34:12,952 - backend.services.notification_service - INFO - [a907d80d-cf84-4a57-8844-cf5e84771ac1] - Created notification 3 for user 3\n2026-01-19 09:34:12,954 - backend.services.notification_service - INFO - [a907d80d-cf84-4a57-8844-cf5e84771ac1] - Created notification 4 for user 4\n2026-01-19 09:34:12,955 - backend.request_id_middleware - INFO - [a907d80d-cf84-4a57-8844-cf5e84771ac1] - Request completed: POST /api/v1/notifications/broadcast - Status: 200\n2026-01-19 09:34:12,957 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/notifications/broadcast \"HTTP/1.1 200 OK\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/notifications/broadcast", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815252.9399552, "msecs": 939.0, "relativeCreated": 58817.92330741882, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a4d1d90", "processName": "MainProcess", "process": 2241, "request_id": "a907d80d-cf84-4a57-8844-cf5e84771ac1", "asctime": "2026-01-19 09:34:12,939"}, {"name": "backend.services.notification_service", "msg": "Created notification 1 for user 1", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/services/notification_service.py", "filename": "notification_service.py", "module": "notification_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 63, "funcName": "create_notification", "created": 1768815252.948765, "msecs": 948.0, "relativeCreated": 58826.733112335205, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a4d1d90", "processName": "MainProcess", "process": 2241, "request_id": "a907d80d-cf84-4a57-8844-cf5e84771ac1", "asctime": "2026-01-19 09:34:12,948"}, {"name": "backend.services.notification_service", "msg": "Created notification 2 for user 2", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/services/notification_service.py", "filename": "notification_service.py", "module": "notification_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 63, "funcName": "create_notification", "created": 1768815252.9507997, "msecs": 950.0, "relativeCreated": 58828.76777648926, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a4d1d90", "processName": "MainProcess", "process": 2241, "request_id": "a907d80d-cf84-4a57-8844-cf5e84771ac1", "asctime": "2026-01-19 09:34:12,950"}, {"name": "backend.services.notification_service", "msg": "Created notification 3 for user 3", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/services/notification_service.py", "filename": "notification_service.py", "module": "notification_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 63, "funcName": "create_notification", "created": 1768815252.9528003, "msecs": 952.0, "relativeCreated": 58830.7683467865, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a4d1d90", "processName": "MainProcess", "process": 2241, "request_id": "a907d80d-cf84-4a57-8844-cf5e84771ac1", "asctime": "2026-01-19 09:34:12,952"}, {"name": "backend.services.notification_service", "msg": "Created notification 4 for user 4", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/services/notification_service.py", "filename": "notification_service.py", "module": "notification_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 63, "funcName": "create_notification", "created": 1768815252.9548764, "msecs": 954.0, "relativeCreated": 58832.844495773315, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a4d1d90", "processName": "MainProcess", "process": 2241, "request_id": "a907d80d-cf84-4a57-8844-cf5e84771ac1", "asctime": "2026-01-19 09:34:12,954"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/notifications/broadcast - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815252.9553764, "msecs": 955.0, "relativeCreated": 58833.34445953369, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a4d1d90", "processName": "MainProcess", "process": 2241, "request_id": "a907d80d-cf84-4a57-8844-cf5e84771ac1", "asctime": "2026-01-19 09:34:12,955"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/notifications/broadcast \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815252.9576757, "msecs": 957.0, "relativeCreated": 58835.64376831055, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,957"}]}, "teardown": {"duration": 0.0124150069999871, "outcome": "passed", "stderr": "2026-01-19 09:34:12,959 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:12,959 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:12,960 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:12,960 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:12,960 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:12,960 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:12,961 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815252.959289, "msecs": 959.0, "relativeCreated": 58837.25714683533, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a4d1d90", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,959"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815252.959712, "msecs": 959.0, "relativeCreated": 58837.68010139465, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a4d1d90", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,959"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815252.9600537, "msecs": 960.0, "relativeCreated": 58838.021755218506, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a4d1d90", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,960"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815252.9603195, "msecs": 960.0, "relativeCreated": 58838.287591934204, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a4d1d90", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,960"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815252.9605742, "msecs": 960.0, "relativeCreated": 58838.542222976685, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a4d1d90", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,960"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815252.9608364, "msecs": 960.0, "relativeCreated": 58838.804483413696, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a4d1d90", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,960"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815252.961069, "msecs": 961.0, "relativeCreated": 58839.0371799469, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a4d1d90", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,961"}]}}, {"nodeid": "tests/test_notifications_router.py::test_broadcast_notification_to_specific_users", "lineno": 571, "outcome": "passed", "keywords": ["test_broadcast_notification_to_specific_users", "test_notifications_router.py", "tests", "backend", ""], "setup": {"duration": 0.0854667769999935, "outcome": "passed", "stderr": "2026-01-19 09:34:12,972 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:13,013 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:13,015 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:13,015 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:13,016 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:13,016 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:13,016 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n2026-01-19 09:34:13,018 - backend.request_id_middleware - INFO - [a97dee08-0c9b-4f7c-ab4f-4a41ba88811f] - Request started: POST /api/v1/auth/register\n2026-01-19 09:34:13,034 - backend.request_id_middleware - INFO - [a97dee08-0c9b-4f7c-ab4f-4a41ba88811f] - Request completed: POST /api/v1/auth/register - Status: 200\n2026-01-19 09:34:13,036 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:13,038 - backend.request_id_middleware - INFO - [d28b5caf-d1bb-494f-a376-efd6b3dbdeb4] - Request started: POST /api/v1/auth/login\n2026-01-19 09:34:13,041 - backend.routers.routers_auth - INFO - [d28b5caf-d1bb-494f-a376-efd6b3dbdeb4] - Login attempt\n2026-01-19 09:34:13,052 - backend.routers.routers_auth - INFO - [d28b5caf-d1bb-494f-a376-efd6b3dbdeb4] - Login successful\n2026-01-19 09:34:13,054 - backend.request_id_middleware - INFO - [d28b5caf-d1bb-494f-a376-efd6b3dbdeb4] - Request completed: POST /api/v1/auth/login - Status: 200\n2026-01-19 09:34:13,056 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815252.9723594, "msecs": 972.0, "relativeCreated": 58850.327491760254, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:12,972"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815253.0137794, "msecs": 13.0, "relativeCreated": 58891.74747467041, "thread": 140512198997696, "threadName": "Thread-272 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,013"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815253.0154648, "msecs": 15.0, "relativeCreated": 58893.43285560608, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a49d5d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,015"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815253.0158525, "msecs": 15.0, "relativeCreated": 58893.8205242157, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a49d5d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,015"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815253.0161004, "msecs": 16.0, "relativeCreated": 58894.068479537964, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a49d5d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,016"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815253.016342, "msecs": 16.0, "relativeCreated": 58894.309997558594, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a49d5d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,016"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815253.016569, "msecs": 16.0, "relativeCreated": 58894.5369720459, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a49d5d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,016"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/register", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815253.0189342, "msecs": 18.0, "relativeCreated": 58896.902322769165, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a49d5d0", "processName": "MainProcess", "process": 2241, "request_id": "a97dee08-0c9b-4f7c-ab4f-4a41ba88811f", "asctime": "2026-01-19 09:34:13,018"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/register - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815253.0344045, "msecs": 34.0, "relativeCreated": 58912.37258911133, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a49d5d0", "processName": "MainProcess", "process": 2241, "request_id": "a97dee08-0c9b-4f7c-ab4f-4a41ba88811f", "asctime": "2026-01-19 09:34:13,034"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815253.0367773, "msecs": 36.0, "relativeCreated": 58914.74533081055, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,036"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/login", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815253.03851, "msecs": 38.0, "relativeCreated": 58916.47815704346, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a49d5d0", "processName": "MainProcess", "process": 2241, "request_id": "d28b5caf-d1bb-494f-a376-efd6b3dbdeb4", "asctime": "2026-01-19 09:34:13,038"}, {"name": "backend.routers.routers_auth", "msg": "Login attempt", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 459, "funcName": "login", "created": 1768815253.0411508, "msecs": 41.0, "relativeCreated": 58919.118881225586, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a49d5d0", "processName": "MainProcess", "process": 2241, "request_id": "d28b5caf-d1bb-494f-a376-efd6b3dbdeb4", "asctime": "2026-01-19 09:34:13,041"}, {"name": "backend.routers.routers_auth", "msg": "Login successful", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 496, "funcName": "login", "created": 1768815253.0523486, "msecs": 52.0, "relativeCreated": 58930.31668663025, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a49d5d0", "processName": "MainProcess", "process": 2241, "user_id": 1, "request_id": "d28b5caf-d1bb-494f-a376-efd6b3dbdeb4", "asctime": "2026-01-19 09:34:13,052"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/login - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815253.0540876, "msecs": 54.0, "relativeCreated": 58932.055711746216, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a49d5d0", "processName": "MainProcess", "process": 2241, "request_id": "d28b5caf-d1bb-494f-a376-efd6b3dbdeb4", "asctime": "2026-01-19 09:34:13,054"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815253.0566666, "msecs": 56.0, "relativeCreated": 58934.63468551636, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,056"}]}, "call": {"duration": 0.016263533000000052, "outcome": "passed", "stderr": "2026-01-19 09:34:13,061 - backend.request_id_middleware - INFO - [2d206d03-4f4d-4367-8c59-c3568005046a] - Request started: POST /api/v1/notifications/broadcast\n2026-01-19 09:34:13,068 - backend.services.notification_service - INFO - [2d206d03-4f4d-4367-8c59-c3568005046a] - Created notification 1 for user 2\n2026-01-19 09:34:13,070 - backend.services.notification_service - INFO - [2d206d03-4f4d-4367-8c59-c3568005046a] - Created notification 2 for user 3\n2026-01-19 09:34:13,071 - backend.request_id_middleware - INFO - [2d206d03-4f4d-4367-8c59-c3568005046a] - Request completed: POST /api/v1/notifications/broadcast - Status: 200\n2026-01-19 09:34:13,073 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/notifications/broadcast \"HTTP/1.1 200 OK\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/notifications/broadcast", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815253.061799, "msecs": 61.0, "relativeCreated": 58939.76712226868, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a49d5d0", "processName": "MainProcess", "process": 2241, "request_id": "2d206d03-4f4d-4367-8c59-c3568005046a", "asctime": "2026-01-19 09:34:13,061"}, {"name": "backend.services.notification_service", "msg": "Created notification 1 for user 2", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/services/notification_service.py", "filename": "notification_service.py", "module": "notification_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 63, "funcName": "create_notification", "created": 1768815253.068428, "msecs": 68.0, "relativeCreated": 58946.39611244202, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a49d5d0", "processName": "MainProcess", "process": 2241, "request_id": "2d206d03-4f4d-4367-8c59-c3568005046a", "asctime": "2026-01-19 09:34:13,068"}, {"name": "backend.services.notification_service", "msg": "Created notification 2 for user 3", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/services/notification_service.py", "filename": "notification_service.py", "module": "notification_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 63, "funcName": "create_notification", "created": 1768815253.0705123, "msecs": 70.0, "relativeCreated": 58948.48036766052, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a49d5d0", "processName": "MainProcess", "process": 2241, "request_id": "2d206d03-4f4d-4367-8c59-c3568005046a", "asctime": "2026-01-19 09:34:13,070"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/notifications/broadcast - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815253.0710309, "msecs": 71.0, "relativeCreated": 58948.99892807007, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a49d5d0", "processName": "MainProcess", "process": 2241, "request_id": "2d206d03-4f4d-4367-8c59-c3568005046a", "asctime": "2026-01-19 09:34:13,071"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/notifications/broadcast \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815253.0733025, "msecs": 73.0, "relativeCreated": 58951.27058029175, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,073"}]}, "teardown": {"duration": 0.011684768000009171, "outcome": "passed", "stderr": "2026-01-19 09:34:13,074 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:13,075 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:13,075 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:13,075 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:13,076 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:13,076 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:13,076 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815253.0748863, "msecs": 74.0, "relativeCreated": 58952.85439491272, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a49d5d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,074"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815253.075263, "msecs": 75.0, "relativeCreated": 58953.2310962677, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a49d5d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,075"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815253.0755305, "msecs": 75.0, "relativeCreated": 58953.49860191345, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a49d5d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,075"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815253.075803, "msecs": 75.0, "relativeCreated": 58953.771114349365, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a49d5d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,075"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815253.0760605, "msecs": 76.0, "relativeCreated": 58954.028606414795, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a49d5d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,076"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815253.076278, "msecs": 76.0, "relativeCreated": 58954.246044158936, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a49d5d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,076"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815253.0765302, "msecs": 76.0, "relativeCreated": 58954.498291015625, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a49d5d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,076"}]}}, {"nodeid": "tests/test_notifications_router.py::test_broadcast_notification_by_role_filter", "lineno": 608, "outcome": "passed", "keywords": ["test_broadcast_notification_by_role_filter", "test_notifications_router.py", "tests", "backend", ""], "setup": {"duration": 0.08413979200000199, "outcome": "passed", "stderr": "2026-01-19 09:34:13,087 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:13,127 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:13,129 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:13,130 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:13,130 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:13,130 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:13,130 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n2026-01-19 09:34:13,133 - backend.request_id_middleware - INFO - [f822c3c8-f13d-4a1e-a811-e1ef1687642e] - Request started: POST /api/v1/auth/register\n2026-01-19 09:34:13,148 - backend.request_id_middleware - INFO - [f822c3c8-f13d-4a1e-a811-e1ef1687642e] - Request completed: POST /api/v1/auth/register - Status: 200\n2026-01-19 09:34:13,150 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:13,152 - backend.request_id_middleware - INFO - [ede32555-b9e0-4950-8ef7-59ba7d4e8e8a] - Request started: POST /api/v1/auth/login\n2026-01-19 09:34:13,155 - backend.routers.routers_auth - INFO - [ede32555-b9e0-4950-8ef7-59ba7d4e8e8a] - Login attempt\n2026-01-19 09:34:13,165 - backend.routers.routers_auth - INFO - [ede32555-b9e0-4950-8ef7-59ba7d4e8e8a] - Login successful\n2026-01-19 09:34:13,167 - backend.request_id_middleware - INFO - [ede32555-b9e0-4950-8ef7-59ba7d4e8e8a] - Request completed: POST /api/v1/auth/login - Status: 200\n2026-01-19 09:34:13,170 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815253.08711, "msecs": 87.0, "relativeCreated": 58965.07811546326, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,087"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815253.1275194, "msecs": 127.0, "relativeCreated": 59005.4874420166, "thread": 140512198997696, "threadName": "Thread-273 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,127"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815253.129683, "msecs": 129.0, "relativeCreated": 59007.65109062195, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3b3dd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,129"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815253.1300461, "msecs": 130.0, "relativeCreated": 59008.01420211792, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3b3dd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,130"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815253.130289, "msecs": 130.0, "relativeCreated": 59008.257150650024, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3b3dd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,130"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815253.1305249, "msecs": 130.0, "relativeCreated": 59008.492946624756, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3b3dd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,130"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815253.1307633, "msecs": 130.0, "relativeCreated": 59008.73136520386, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3b3dd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,130"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/register", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815253.1330795, "msecs": 133.0, "relativeCreated": 59011.04760169983, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3b3dd0", "processName": "MainProcess", "process": 2241, "request_id": "f822c3c8-f13d-4a1e-a811-e1ef1687642e", "asctime": "2026-01-19 09:34:13,133"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/register - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815253.148315, "msecs": 148.0, "relativeCreated": 59026.28302574158, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3b3dd0", "processName": "MainProcess", "process": 2241, "request_id": "f822c3c8-f13d-4a1e-a811-e1ef1687642e", "asctime": "2026-01-19 09:34:13,148"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815253.1506648, "msecs": 150.0, "relativeCreated": 59028.6328792572, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,150"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/login", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815253.1524193, "msecs": 152.0, "relativeCreated": 59030.38740158081, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3b3dd0", "processName": "MainProcess", "process": 2241, "request_id": "ede32555-b9e0-4950-8ef7-59ba7d4e8e8a", "asctime": "2026-01-19 09:34:13,152"}, {"name": "backend.routers.routers_auth", "msg": "Login attempt", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 459, "funcName": "login", "created": 1768815253.155051, "msecs": 155.0, "relativeCreated": 59033.01906585693, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3b3dd0", "processName": "MainProcess", "process": 2241, "request_id": "ede32555-b9e0-4950-8ef7-59ba7d4e8e8a", "asctime": "2026-01-19 09:34:13,155"}, {"name": "backend.routers.routers_auth", "msg": "Login successful", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 496, "funcName": "login", "created": 1768815253.1659756, "msecs": 165.0, "relativeCreated": 59043.943643569946, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3b3dd0", "processName": "MainProcess", "process": 2241, "user_id": 1, "request_id": "ede32555-b9e0-4950-8ef7-59ba7d4e8e8a", "asctime": "2026-01-19 09:34:13,165"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/login - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815253.1675792, "msecs": 167.0, "relativeCreated": 59045.54724693298, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3b3dd0", "processName": "MainProcess", "process": 2241, "request_id": "ede32555-b9e0-4950-8ef7-59ba7d4e8e8a", "asctime": "2026-01-19 09:34:13,167"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815253.170158, "msecs": 170.0, "relativeCreated": 59048.125982284546, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,170"}]}, "call": {"duration": 0.01645024200001899, "outcome": "passed", "stderr": "2026-01-19 09:34:13,174 - backend.request_id_middleware - INFO - [e5d848a3-7820-472a-842e-d89e9a7f51ee] - Request started: POST /api/v1/notifications/broadcast\n2026-01-19 09:34:13,182 - backend.services.notification_service - INFO - [e5d848a3-7820-472a-842e-d89e9a7f51ee] - Created notification 1 for user 1\n2026-01-19 09:34:13,184 - backend.services.notification_service - INFO - [e5d848a3-7820-472a-842e-d89e9a7f51ee] - Created notification 2 for user 4\n2026-01-19 09:34:13,184 - backend.request_id_middleware - INFO - [e5d848a3-7820-472a-842e-d89e9a7f51ee] - Request completed: POST /api/v1/notifications/broadcast - Status: 200\n2026-01-19 09:34:13,186 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/notifications/broadcast \"HTTP/1.1 200 OK\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/notifications/broadcast", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815253.1744866, "msecs": 174.0, "relativeCreated": 59052.454710006714, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3b3dd0", "processName": "MainProcess", "process": 2241, "request_id": "e5d848a3-7820-472a-842e-d89e9a7f51ee", "asctime": "2026-01-19 09:34:13,174"}, {"name": "backend.services.notification_service", "msg": "Created notification 1 for user 1", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/services/notification_service.py", "filename": "notification_service.py", "module": "notification_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 63, "funcName": "create_notification", "created": 1768815253.1822853, "msecs": 182.0, "relativeCreated": 59060.253381729126, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3b3dd0", "processName": "MainProcess", "process": 2241, "request_id": "e5d848a3-7820-472a-842e-d89e9a7f51ee", "asctime": "2026-01-19 09:34:13,182"}, {"name": "backend.services.notification_service", "msg": "Created notification 2 for user 4", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/services/notification_service.py", "filename": "notification_service.py", "module": "notification_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 63, "funcName": "create_notification", "created": 1768815253.1842408, "msecs": 184.0, "relativeCreated": 59062.20889091492, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3b3dd0", "processName": "MainProcess", "process": 2241, "request_id": "e5d848a3-7820-472a-842e-d89e9a7f51ee", "asctime": "2026-01-19 09:34:13,184"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/notifications/broadcast - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815253.184736, "msecs": 184.0, "relativeCreated": 59062.70408630371, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3b3dd0", "processName": "MainProcess", "process": 2241, "request_id": "e5d848a3-7820-472a-842e-d89e9a7f51ee", "asctime": "2026-01-19 09:34:13,184"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/notifications/broadcast \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815253.1869757, "msecs": 186.0, "relativeCreated": 59064.94379043579, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,186"}]}, "teardown": {"duration": 0.011412639000013769, "outcome": "passed", "stderr": "2026-01-19 09:34:13,188 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:13,188 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:13,189 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:13,189 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:13,189 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:13,189 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:13,190 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815253.1884441, "msecs": 188.0, "relativeCreated": 59066.41221046448, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3b3dd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,188"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815253.1888785, "msecs": 188.0, "relativeCreated": 59066.8466091156, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3b3dd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,188"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815253.189158, "msecs": 189.0, "relativeCreated": 59067.12603569031, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3b3dd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,189"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815253.1894164, "msecs": 189.0, "relativeCreated": 59067.384481430054, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3b3dd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,189"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815253.1896782, "msecs": 189.0, "relativeCreated": 59067.64626502991, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3b3dd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,189"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815253.1899295, "msecs": 189.0, "relativeCreated": 59067.89755821228, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3b3dd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,189"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815253.1901538, "msecs": 190.0, "relativeCreated": 59068.121910095215, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a3b3dd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,190"}]}}, {"nodeid": "tests/test_notifications_router.py::test_broadcast_notification_requires_admin", "lineno": 642, "outcome": "passed", "keywords": ["test_broadcast_notification_requires_admin", "test_notifications_router.py", "tests", "backend", ""], "setup": {"duration": 0.04510242500001027, "outcome": "passed", "stderr": "2026-01-19 09:34:13,200 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:13,241 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:13,243 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:13,243 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:13,243 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:13,244 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:13,244 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815253.2005155, "msecs": 200.0, "relativeCreated": 59078.48358154297, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,200"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815253.2416828, "msecs": 241.0, "relativeCreated": 59119.65084075928, "thread": 140512198997696, "threadName": "Thread-274 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,241"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815253.2431734, "msecs": 243.0, "relativeCreated": 59121.14143371582, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a0359d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,243"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815253.2435231, "msecs": 243.0, "relativeCreated": 59121.49119377136, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a0359d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,243"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815253.2438018, "msecs": 243.0, "relativeCreated": 59121.76990509033, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a0359d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,243"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815253.2440557, "msecs": 244.0, "relativeCreated": 59122.023820877075, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a0359d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,244"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815253.2442853, "msecs": 244.0, "relativeCreated": 59122.25341796875, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a0359d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,244"}]}, "call": {"duration": 0.010922284999992371, "outcome": "passed", "stderr": "2026-01-19 09:34:13,247 - backend.request_id_middleware - INFO - [c20f2609-9ada-4863-8ae7-ca587b3e23b1] - Request started: POST /api/v1/notifications/broadcast\n2026-01-19 09:34:13,253 - backend.request_id_middleware - INFO - [c20f2609-9ada-4863-8ae7-ca587b3e23b1] - Request completed: POST /api/v1/notifications/broadcast - Status: 200\n2026-01-19 09:34:13,255 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/notifications/broadcast \"HTTP/1.1 200 OK\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/notifications/broadcast", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815253.247537, "msecs": 247.0, "relativeCreated": 59125.50497055054, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a0359d0", "processName": "MainProcess", "process": 2241, "request_id": "c20f2609-9ada-4863-8ae7-ca587b3e23b1", "asctime": "2026-01-19 09:34:13,247"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/notifications/broadcast - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815253.2534852, "msecs": 253.0, "relativeCreated": 59131.45327568054, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a0359d0", "processName": "MainProcess", "process": 2241, "request_id": "c20f2609-9ada-4863-8ae7-ca587b3e23b1", "asctime": "2026-01-19 09:34:13,253"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/notifications/broadcast \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815253.2558365, "msecs": 255.0, "relativeCreated": 59133.80455970764, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,255"}]}, "teardown": {"duration": 0.01119537599998921, "outcome": "passed", "stderr": "2026-01-19 09:34:13,257 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:13,257 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:13,257 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:13,258 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:13,258 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:13,258 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:13,258 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815253.2572634, "msecs": 257.0, "relativeCreated": 59135.231494903564, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a0359d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,257"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815253.2576234, "msecs": 257.0, "relativeCreated": 59135.59150695801, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a0359d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,257"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815253.2579203, "msecs": 257.0, "relativeCreated": 59135.88833808899, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a0359d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,257"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815253.2581754, "msecs": 258.0, "relativeCreated": 59136.14344596863, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a0359d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,258"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815253.2584217, "msecs": 258.0, "relativeCreated": 59136.38973236084, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a0359d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,258"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815253.2586362, "msecs": 258.0, "relativeCreated": 59136.60430908203, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a0359d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,258"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815253.2588882, "msecs": 258.0, "relativeCreated": 59136.85631752014, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a0359d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,258"}]}}, {"nodeid": "tests/test_notifications_router.py::test_broadcast_notification_validation", "lineno": 663, "outcome": "passed", "keywords": ["test_broadcast_notification_validation", "test_notifications_router.py", "tests", "backend", ""], "setup": {"duration": 0.0848227159999908, "outcome": "passed", "stderr": "2026-01-19 09:34:13,269 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:13,309 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:13,310 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:13,310 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:13,311 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:13,311 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:13,311 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n2026-01-19 09:34:13,314 - backend.request_id_middleware - INFO - [a5a9f3ea-cd33-4a56-8967-9ef40fd2f2e3] - Request started: POST /api/v1/auth/register\n2026-01-19 09:34:13,330 - backend.request_id_middleware - INFO - [a5a9f3ea-cd33-4a56-8967-9ef40fd2f2e3] - Request completed: POST /api/v1/auth/register - Status: 200\n2026-01-19 09:34:13,332 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:13,334 - backend.request_id_middleware - INFO - [2bed6eb5-7b23-4899-9d5c-4f9b155a1fda] - Request started: POST /api/v1/auth/login\n2026-01-19 09:34:13,337 - backend.routers.routers_auth - INFO - [2bed6eb5-7b23-4899-9d5c-4f9b155a1fda] - Login attempt\n2026-01-19 09:34:13,348 - backend.routers.routers_auth - INFO - [2bed6eb5-7b23-4899-9d5c-4f9b155a1fda] - Login successful\n2026-01-19 09:34:13,350 - backend.request_id_middleware - INFO - [2bed6eb5-7b23-4899-9d5c-4f9b155a1fda] - Request completed: POST /api/v1/auth/login - Status: 200\n2026-01-19 09:34:13,352 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815253.2691176, "msecs": 269.0, "relativeCreated": 59147.085666656494, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,269"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815253.3091063, "msecs": 309.0, "relativeCreated": 59187.074422836304, "thread": 140512198997696, "threadName": "Thread-275 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,309"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815253.3106332, "msecs": 310.0, "relativeCreated": 59188.60125541687, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a34bdd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,310"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815253.3109968, "msecs": 310.0, "relativeCreated": 59188.96484375, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a34bdd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,310"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815253.311258, "msecs": 311.0, "relativeCreated": 59189.226150512695, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a34bdd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,311"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815253.3115218, "msecs": 311.0, "relativeCreated": 59189.48984146118, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a34bdd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,311"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815253.3117867, "msecs": 311.0, "relativeCreated": 59189.75472450256, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a34bdd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,311"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/register", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815253.3144207, "msecs": 314.0, "relativeCreated": 59192.38877296448, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a34bdd0", "processName": "MainProcess", "process": 2241, "request_id": "a5a9f3ea-cd33-4a56-8967-9ef40fd2f2e3", "asctime": "2026-01-19 09:34:13,314"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/register - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815253.3303416, "msecs": 330.0, "relativeCreated": 59208.30965042114, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a34bdd0", "processName": "MainProcess", "process": 2241, "request_id": "a5a9f3ea-cd33-4a56-8967-9ef40fd2f2e3", "asctime": "2026-01-19 09:34:13,330"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815253.3328335, "msecs": 332.0, "relativeCreated": 59210.80160140991, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,332"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/login", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815253.3346624, "msecs": 334.0, "relativeCreated": 59212.6305103302, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a34bdd0", "processName": "MainProcess", "process": 2241, "request_id": "2bed6eb5-7b23-4899-9d5c-4f9b155a1fda", "asctime": "2026-01-19 09:34:13,334"}, {"name": "backend.routers.routers_auth", "msg": "Login attempt", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 459, "funcName": "login", "created": 1768815253.3373404, "msecs": 337.0, "relativeCreated": 59215.30842781067, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a34bdd0", "processName": "MainProcess", "process": 2241, "request_id": "2bed6eb5-7b23-4899-9d5c-4f9b155a1fda", "asctime": "2026-01-19 09:34:13,337"}, {"name": "backend.routers.routers_auth", "msg": "Login successful", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 496, "funcName": "login", "created": 1768815253.3485918, "msecs": 348.0, "relativeCreated": 59226.55987739563, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a34bdd0", "processName": "MainProcess", "process": 2241, "user_id": 1, "request_id": "2bed6eb5-7b23-4899-9d5c-4f9b155a1fda", "asctime": "2026-01-19 09:34:13,348"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/login - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815253.3503003, "msecs": 350.0, "relativeCreated": 59228.26838493347, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a34bdd0", "processName": "MainProcess", "process": 2241, "request_id": "2bed6eb5-7b23-4899-9d5c-4f9b155a1fda", "asctime": "2026-01-19 09:34:13,350"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815253.3528373, "msecs": 352.0, "relativeCreated": 59230.80539703369, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,352"}]}, "call": {"duration": 0.009552710999997771, "outcome": "passed", "stderr": "2026-01-19 09:34:13,355 - backend.request_id_middleware - INFO - [513329f9-2224-4b34-9260-c8acc797871d] - Request started: POST /api/v1/notifications/broadcast\n2026-01-19 09:34:13,360 - backend.request_id_middleware - INFO - [513329f9-2224-4b34-9260-c8acc797871d] - Request completed: POST /api/v1/notifications/broadcast - Status: 422\n2026-01-19 09:34:13,362 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/notifications/broadcast \"HTTP/1.1 422 Unprocessable Entity\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/notifications/broadcast", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815253.3556857, "msecs": 355.0, "relativeCreated": 59233.65378379822, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a34bdd0", "processName": "MainProcess", "process": 2241, "request_id": "513329f9-2224-4b34-9260-c8acc797871d", "asctime": "2026-01-19 09:34:13,355"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/notifications/broadcast - Status: 422", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815253.3606489, "msecs": 360.0, "relativeCreated": 59238.616943359375, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a34bdd0", "processName": "MainProcess", "process": 2241, "request_id": "513329f9-2224-4b34-9260-c8acc797871d", "asctime": "2026-01-19 09:34:13,360"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/notifications/broadcast \"HTTP/1.1 422 Unprocessable Entity\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815253.3626714, "msecs": 362.0, "relativeCreated": 59240.63944816589, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,362"}]}, "teardown": {"duration": 0.011778291000013041, "outcome": "passed", "stderr": "2026-01-19 09:34:13,364 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:13,364 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:13,365 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:13,365 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:13,365 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:13,365 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:13,366 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815253.364293, "msecs": 364.0, "relativeCreated": 59242.26117134094, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a34bdd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,364"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815253.364689, "msecs": 364.0, "relativeCreated": 59242.65718460083, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a34bdd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,364"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815253.3650103, "msecs": 365.0, "relativeCreated": 59242.97833442688, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a34bdd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,365"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815253.36527, "msecs": 365.0, "relativeCreated": 59243.23797225952, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a34bdd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,365"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815253.365534, "msecs": 365.0, "relativeCreated": 59243.502140045166, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a34bdd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,365"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815253.3657737, "msecs": 365.0, "relativeCreated": 59243.74175071716, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a34bdd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,365"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815253.3660085, "msecs": 366.0, "relativeCreated": 59243.97659301758, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a34bdd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,366"}]}}, {"nodeid": "tests/test_notifications_router.py::test_list_notifications_rate_limiting", "lineno": 685, "outcome": "passed", "keywords": ["test_list_notifications_rate_limiting", "test_notifications_router.py", "tests", "backend", ""], "setup": {"duration": 0.085337184999986, "outcome": "passed", "stderr": "2026-01-19 09:34:13,376 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:13,416 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:13,418 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:13,418 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:13,418 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:13,418 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:13,419 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n2026-01-19 09:34:13,421 - backend.request_id_middleware - INFO - [e62bfbc7-7476-45e4-9f23-81e04cf96ed2] - Request started: POST /api/v1/auth/register\n2026-01-19 09:34:13,436 - backend.request_id_middleware - INFO - [e62bfbc7-7476-45e4-9f23-81e04cf96ed2] - Request completed: POST /api/v1/auth/register - Status: 200\n2026-01-19 09:34:13,439 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:13,441 - backend.request_id_middleware - INFO - [e56d66f3-b0b3-4eaf-b3de-f3e34bda0376] - Request started: POST /api/v1/auth/login\n2026-01-19 09:34:13,444 - backend.routers.routers_auth - INFO - [e56d66f3-b0b3-4eaf-b3de-f3e34bda0376] - Login attempt\n2026-01-19 09:34:13,456 - backend.routers.routers_auth - INFO - [e56d66f3-b0b3-4eaf-b3de-f3e34bda0376] - Login successful\n2026-01-19 09:34:13,458 - backend.request_id_middleware - INFO - [e56d66f3-b0b3-4eaf-b3de-f3e34bda0376] - Request completed: POST /api/v1/auth/login - Status: 200\n2026-01-19 09:34:13,460 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815253.3766465, "msecs": 376.0, "relativeCreated": 59254.61459159851, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,376"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815253.416683, "msecs": 416.0, "relativeCreated": 59294.65103149414, "thread": 140512215779008, "threadName": "Thread-276 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,416"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815253.4180815, "msecs": 418.0, "relativeCreated": 59296.04959487915, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89ac8f90", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,418"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815253.4184365, "msecs": 418.0, "relativeCreated": 59296.40460014343, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89ac8f90", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,418"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815253.4186919, "msecs": 418.0, "relativeCreated": 59296.65994644165, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89ac8f90", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,418"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815253.418953, "msecs": 418.0, "relativeCreated": 59296.92101478577, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89ac8f90", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,418"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815253.4191751, "msecs": 419.0, "relativeCreated": 59297.14322090149, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89ac8f90", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,419"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/register", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815253.421694, "msecs": 421.0, "relativeCreated": 59299.6621131897, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89ac8f90", "processName": "MainProcess", "process": 2241, "request_id": "e62bfbc7-7476-45e4-9f23-81e04cf96ed2", "asctime": "2026-01-19 09:34:13,421"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/register - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815253.4369624, "msecs": 436.0, "relativeCreated": 59314.93043899536, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89ac8f90", "processName": "MainProcess", "process": 2241, "request_id": "e62bfbc7-7476-45e4-9f23-81e04cf96ed2", "asctime": "2026-01-19 09:34:13,436"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815253.4393146, "msecs": 439.0, "relativeCreated": 59317.28267669678, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,439"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/login", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815253.441127, "msecs": 441.0, "relativeCreated": 59319.09513473511, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89ac8f90", "processName": "MainProcess", "process": 2241, "request_id": "e56d66f3-b0b3-4eaf-b3de-f3e34bda0376", "asctime": "2026-01-19 09:34:13,441"}, {"name": "backend.routers.routers_auth", "msg": "Login attempt", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 459, "funcName": "login", "created": 1768815253.4443984, "msecs": 444.0, "relativeCreated": 59322.36647605896, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89ac8f90", "processName": "MainProcess", "process": 2241, "request_id": "e56d66f3-b0b3-4eaf-b3de-f3e34bda0376", "asctime": "2026-01-19 09:34:13,444"}, {"name": "backend.routers.routers_auth", "msg": "Login successful", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 496, "funcName": "login", "created": 1768815253.4564066, "msecs": 456.0, "relativeCreated": 59334.37466621399, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89ac8f90", "processName": "MainProcess", "process": 2241, "user_id": 1, "request_id": "e56d66f3-b0b3-4eaf-b3de-f3e34bda0376", "asctime": "2026-01-19 09:34:13,456"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/login - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815253.4581618, "msecs": 458.0, "relativeCreated": 59336.129903793335, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89ac8f90", "processName": "MainProcess", "process": 2241, "request_id": "e56d66f3-b0b3-4eaf-b3de-f3e34bda0376", "asctime": "2026-01-19 09:34:13,458"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815253.460755, "msecs": 460.0, "relativeCreated": 59338.72318267822, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,460"}]}, "call": {"duration": 0.06078042800001526, "outcome": "passed", "stderr": "2026-01-19 09:34:13,463 - backend.request_id_middleware - INFO - [35d30d49-2b0f-4982-857c-b6273c21eeb5] - Request started: GET /api/v1/notifications/\n2026-01-19 09:34:13,472 - backend.request_id_middleware - INFO - [35d30d49-2b0f-4982-857c-b6273c21eeb5] - Request completed: GET /api/v1/notifications/ - Status: 200\n2026-01-19 09:34:13,474 - httpx - INFO - [-] - HTTP Request: GET http://testserver/api/v1/notifications/ \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:13,476 - backend.request_id_middleware - INFO - [266d315f-fd6f-4ea2-b154-a6db6234a369] - Request started: GET /api/v1/notifications/\n2026-01-19 09:34:13,483 - backend.request_id_middleware - INFO - [266d315f-fd6f-4ea2-b154-a6db6234a369] - Request completed: GET /api/v1/notifications/ - Status: 200\n2026-01-19 09:34:13,485 - httpx - INFO - [-] - HTTP Request: GET http://testserver/api/v1/notifications/ \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:13,487 - backend.request_id_middleware - INFO - [d51df263-cc71-4576-a8e7-32abe2d064aa] - Request started: GET /api/v1/notifications/\n2026-01-19 09:34:13,496 - backend.request_id_middleware - INFO - [d51df263-cc71-4576-a8e7-32abe2d064aa] - Request completed: GET /api/v1/notifications/ - Status: 200\n2026-01-19 09:34:13,499 - httpx - INFO - [-] - HTTP Request: GET http://testserver/api/v1/notifications/ \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:13,501 - backend.request_id_middleware - INFO - [6022bf1e-7259-4905-8d72-6e2dd7c93402] - Request started: GET /api/v1/notifications/\n2026-01-19 09:34:13,508 - backend.request_id_middleware - INFO - [6022bf1e-7259-4905-8d72-6e2dd7c93402] - Request completed: GET /api/v1/notifications/ - Status: 200\n2026-01-19 09:34:13,510 - httpx - INFO - [-] - HTTP Request: GET http://testserver/api/v1/notifications/ \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:13,512 - backend.request_id_middleware - INFO - [91e94117-a6f5-4dc8-912d-bc8b51ab34a6] - Request started: GET /api/v1/notifications/\n2026-01-19 09:34:13,519 - backend.request_id_middleware - INFO - [91e94117-a6f5-4dc8-912d-bc8b51ab34a6] - Request completed: GET /api/v1/notifications/ - Status: 200\n2026-01-19 09:34:13,522 - httpx - INFO - [-] - HTTP Request: GET http://testserver/api/v1/notifications/ \"HTTP/1.1 200 OK\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: GET /api/v1/notifications/", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815253.4637663, "msecs": 463.0, "relativeCreated": 59341.734409332275, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89ac8f90", "processName": "MainProcess", "process": 2241, "request_id": "35d30d49-2b0f-4982-857c-b6273c21eeb5", "asctime": "2026-01-19 09:34:13,463"}, {"name": "backend.request_id_middleware", "msg": "Request completed: GET /api/v1/notifications/ - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815253.4720273, "msecs": 472.0, "relativeCreated": 59349.995374679565, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89ac8f90", "processName": "MainProcess", "process": 2241, "request_id": "35d30d49-2b0f-4982-857c-b6273c21eeb5", "asctime": "2026-01-19 09:34:13,472"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/api/v1/notifications/ \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815253.4743102, "msecs": 474.0, "relativeCreated": 59352.27823257446, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,474"}, {"name": "backend.request_id_middleware", "msg": "Request started: GET /api/v1/notifications/", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815253.476248, "msecs": 476.0, "relativeCreated": 59354.2160987854, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89ac8f90", "processName": "MainProcess", "process": 2241, "request_id": "266d315f-fd6f-4ea2-b154-a6db6234a369", "asctime": "2026-01-19 09:34:13,476"}, {"name": "backend.request_id_middleware", "msg": "Request completed: GET /api/v1/notifications/ - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815253.4835248, "msecs": 483.0, "relativeCreated": 59361.49287223816, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89ac8f90", "processName": "MainProcess", "process": 2241, "request_id": "266d315f-fd6f-4ea2-b154-a6db6234a369", "asctime": "2026-01-19 09:34:13,483"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/api/v1/notifications/ \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815253.4858408, "msecs": 485.0, "relativeCreated": 59363.80887031555, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,485"}, {"name": "backend.request_id_middleware", "msg": "Request started: GET /api/v1/notifications/", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815253.4876375, "msecs": 487.0, "relativeCreated": 59365.60559272766, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89ac8f90", "processName": "MainProcess", "process": 2241, "request_id": "d51df263-cc71-4576-a8e7-32abe2d064aa", "asctime": "2026-01-19 09:34:13,487"}, {"name": "backend.request_id_middleware", "msg": "Request completed: GET /api/v1/notifications/ - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815253.4968164, "msecs": 496.0, "relativeCreated": 59374.78446960449, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89ac8f90", "processName": "MainProcess", "process": 2241, "request_id": "d51df263-cc71-4576-a8e7-32abe2d064aa", "asctime": "2026-01-19 09:34:13,496"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/api/v1/notifications/ \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815253.4993298, "msecs": 499.0, "relativeCreated": 59377.29787826538, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,499"}, {"name": "backend.request_id_middleware", "msg": "Request started: GET /api/v1/notifications/", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815253.5014253, "msecs": 501.0, "relativeCreated": 59379.393339157104, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89ac8f90", "processName": "MainProcess", "process": 2241, "request_id": "6022bf1e-7259-4905-8d72-6e2dd7c93402", "asctime": "2026-01-19 09:34:13,501"}, {"name": "backend.request_id_middleware", "msg": "Request completed: GET /api/v1/notifications/ - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815253.5085318, "msecs": 508.0, "relativeCreated": 59386.499881744385, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89ac8f90", "processName": "MainProcess", "process": 2241, "request_id": "6022bf1e-7259-4905-8d72-6e2dd7c93402", "asctime": "2026-01-19 09:34:13,508"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/api/v1/notifications/ \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815253.5107756, "msecs": 510.0, "relativeCreated": 59388.74363899231, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,510"}, {"name": "backend.request_id_middleware", "msg": "Request started: GET /api/v1/notifications/", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815253.5125914, "msecs": 512.0, "relativeCreated": 59390.55943489075, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89ac8f90", "processName": "MainProcess", "process": 2241, "request_id": "91e94117-a6f5-4dc8-912d-bc8b51ab34a6", "asctime": "2026-01-19 09:34:13,512"}, {"name": "backend.request_id_middleware", "msg": "Request completed: GET /api/v1/notifications/ - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815253.5197055, "msecs": 519.0, "relativeCreated": 59397.67360687256, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89ac8f90", "processName": "MainProcess", "process": 2241, "request_id": "91e94117-a6f5-4dc8-912d-bc8b51ab34a6", "asctime": "2026-01-19 09:34:13,519"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/api/v1/notifications/ \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815253.5220542, "msecs": 522.0, "relativeCreated": 59400.02226829529, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,522"}]}, "teardown": {"duration": 0.011594158000008292, "outcome": "passed", "stderr": "2026-01-19 09:34:13,523 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:13,524 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:13,524 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:13,524 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:13,524 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:13,525 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:13,525 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815253.523635, "msecs": 523.0, "relativeCreated": 59401.60298347473, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89ac8f90", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,523"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815253.5240676, "msecs": 524.0, "relativeCreated": 59402.0357131958, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89ac8f90", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,524"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815253.5243554, "msecs": 524.0, "relativeCreated": 59402.32348442078, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89ac8f90", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,524"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815253.5246105, "msecs": 524.0, "relativeCreated": 59402.578592300415, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89ac8f90", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,524"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815253.5248885, "msecs": 524.0, "relativeCreated": 59402.85658836365, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89ac8f90", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,524"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815253.52511, "msecs": 525.0, "relativeCreated": 59403.07807922363, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89ac8f90", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,525"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815253.525332, "msecs": 525.0, "relativeCreated": 59403.30004692078, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89ac8f90", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,525"}]}}, {"nodeid": "tests/test_notifications_router.py::test_update_preferences_rate_limiting", "lineno": 697, "outcome": "passed", "keywords": ["test_update_preferences_rate_limiting", "test_notifications_router.py", "tests", "backend", ""], "setup": {"duration": 0.08336754300000848, "outcome": "passed", "stderr": "2026-01-19 09:34:13,535 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:13,575 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:13,577 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:13,577 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:13,577 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:13,577 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:13,578 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n2026-01-19 09:34:13,580 - backend.request_id_middleware - INFO - [7fc30a2a-460a-421a-9bbf-b8bf3fbaf82c] - Request started: POST /api/v1/auth/register\n2026-01-19 09:34:13,595 - backend.request_id_middleware - INFO - [7fc30a2a-460a-421a-9bbf-b8bf3fbaf82c] - Request completed: POST /api/v1/auth/register - Status: 200\n2026-01-19 09:34:13,598 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:13,600 - backend.request_id_middleware - INFO - [2dbe570d-5a87-4a96-805d-4771aab56935] - Request started: POST /api/v1/auth/login\n2026-01-19 09:34:13,602 - backend.routers.routers_auth - INFO - [2dbe570d-5a87-4a96-805d-4771aab56935] - Login attempt\n2026-01-19 09:34:13,614 - backend.routers.routers_auth - INFO - [2dbe570d-5a87-4a96-805d-4771aab56935] - Login successful\n2026-01-19 09:34:13,615 - backend.request_id_middleware - INFO - [2dbe570d-5a87-4a96-805d-4771aab56935] - Request completed: POST /api/v1/auth/login - Status: 200\n2026-01-19 09:34:13,618 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815253.5358784, "msecs": 535.0, "relativeCreated": 59413.846492767334, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,535"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815253.575663, "msecs": 575.0, "relativeCreated": 59453.63116264343, "thread": 140512198997696, "threadName": "Thread-277 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,575"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815253.577101, "msecs": 577.0, "relativeCreated": 59455.069065093994, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb89f67690", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,577"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815253.5774515, "msecs": 577.0, "relativeCreated": 59455.41954040527, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb89f67690", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,577"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815253.5777113, "msecs": 577.0, "relativeCreated": 59455.679416656494, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb89f67690", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,577"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815253.577971, "msecs": 577.0, "relativeCreated": 59455.939054489136, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb89f67690", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,577"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815253.5781949, "msecs": 578.0, "relativeCreated": 59456.16292953491, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb89f67690", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,578"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/register", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815253.5805807, "msecs": 580.0, "relativeCreated": 59458.54878425598, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb89f67690", "processName": "MainProcess", "process": 2241, "request_id": "7fc30a2a-460a-421a-9bbf-b8bf3fbaf82c", "asctime": "2026-01-19 09:34:13,580"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/register - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815253.5959156, "msecs": 595.0, "relativeCreated": 59473.883628845215, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb89f67690", "processName": "MainProcess", "process": 2241, "request_id": "7fc30a2a-460a-421a-9bbf-b8bf3fbaf82c", "asctime": "2026-01-19 09:34:13,595"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815253.5982945, "msecs": 598.0, "relativeCreated": 59476.26256942749, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,598"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/login", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815253.6000478, "msecs": 600.0, "relativeCreated": 59478.0158996582, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb89f67690", "processName": "MainProcess", "process": 2241, "request_id": "2dbe570d-5a87-4a96-805d-4771aab56935", "asctime": "2026-01-19 09:34:13,600"}, {"name": "backend.routers.routers_auth", "msg": "Login attempt", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 459, "funcName": "login", "created": 1768815253.602602, "msecs": 602.0, "relativeCreated": 59480.57007789612, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb89f67690", "processName": "MainProcess", "process": 2241, "request_id": "2dbe570d-5a87-4a96-805d-4771aab56935", "asctime": "2026-01-19 09:34:13,602"}, {"name": "backend.routers.routers_auth", "msg": "Login successful", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 496, "funcName": "login", "created": 1768815253.6140954, "msecs": 614.0, "relativeCreated": 59492.06352233887, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb89f67690", "processName": "MainProcess", "process": 2241, "user_id": 1, "request_id": "2dbe570d-5a87-4a96-805d-4771aab56935", "asctime": "2026-01-19 09:34:13,614"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/login - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815253.6157331, "msecs": 615.0, "relativeCreated": 59493.701219558716, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb89f67690", "processName": "MainProcess", "process": 2241, "request_id": "2dbe570d-5a87-4a96-805d-4771aab56935", "asctime": "2026-01-19 09:34:13,615"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815253.6181493, "msecs": 618.0, "relativeCreated": 59496.11735343933, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,618"}]}, "call": {"duration": 0.061174664000020584, "outcome": "passed", "stderr": "2026-01-19 09:34:13,620 - backend.request_id_middleware - INFO - [393c9d34-a079-4adf-bc71-d092c5494dad] - Request started: PUT /api/v1/notifications/preferences\n2026-01-19 09:34:13,628 - backend.services.notification_service - INFO - [393c9d34-a079-4adf-bc71-d092c5494dad] - Created default notification preferences for user 1\n2026-01-19 09:34:13,630 - backend.services.notification_service - INFO - [393c9d34-a079-4adf-bc71-d092c5494dad] - Updated notification preferences for user 1\n2026-01-19 09:34:13,630 - backend.request_id_middleware - INFO - [393c9d34-a079-4adf-bc71-d092c5494dad] - Request completed: PUT /api/v1/notifications/preferences - Status: 200\n2026-01-19 09:34:13,633 - httpx - INFO - [-] - HTTP Request: PUT http://testserver/api/v1/notifications/preferences \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:13,635 - backend.request_id_middleware - INFO - [9791518e-44eb-4791-bf7b-e000a7dd0df2] - Request started: PUT /api/v1/notifications/preferences\n2026-01-19 09:34:13,641 - backend.services.notification_service - INFO - [9791518e-44eb-4791-bf7b-e000a7dd0df2] - Updated notification preferences for user 1\n2026-01-19 09:34:13,642 - backend.request_id_middleware - INFO - [9791518e-44eb-4791-bf7b-e000a7dd0df2] - Request completed: PUT /api/v1/notifications/preferences - Status: 200\n2026-01-19 09:34:13,644 - httpx - INFO - [-] - HTTP Request: PUT http://testserver/api/v1/notifications/preferences \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:13,646 - backend.request_id_middleware - INFO - [2776e98f-3cf6-4803-b1b3-d8752c03a6ec] - Request started: PUT /api/v1/notifications/preferences\n2026-01-19 09:34:13,653 - backend.services.notification_service - INFO - [2776e98f-3cf6-4803-b1b3-d8752c03a6ec] - Updated notification preferences for user 1\n2026-01-19 09:34:13,653 - backend.request_id_middleware - INFO - [2776e98f-3cf6-4803-b1b3-d8752c03a6ec] - Request completed: PUT /api/v1/notifications/preferences - Status: 200\n2026-01-19 09:34:13,656 - httpx - INFO - [-] - HTTP Request: PUT http://testserver/api/v1/notifications/preferences \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:13,658 - backend.request_id_middleware - INFO - [d2ad013a-e7da-4b80-8c6a-2b7eafffae4e] - Request started: PUT /api/v1/notifications/preferences\n2026-01-19 09:34:13,665 - backend.services.notification_service - INFO - [d2ad013a-e7da-4b80-8c6a-2b7eafffae4e] - Updated notification preferences for user 1\n2026-01-19 09:34:13,665 - backend.request_id_middleware - INFO - [d2ad013a-e7da-4b80-8c6a-2b7eafffae4e] - Request completed: PUT /api/v1/notifications/preferences - Status: 200\n2026-01-19 09:34:13,668 - httpx - INFO - [-] - HTTP Request: PUT http://testserver/api/v1/notifications/preferences \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:13,670 - backend.request_id_middleware - INFO - [aeaf3b08-1bdc-4138-9011-7fba8b265ce8] - Request started: PUT /api/v1/notifications/preferences\n2026-01-19 09:34:13,676 - backend.services.notification_service - INFO - [aeaf3b08-1bdc-4138-9011-7fba8b265ce8] - Updated notification preferences for user 1\n2026-01-19 09:34:13,677 - backend.request_id_middleware - INFO - [aeaf3b08-1bdc-4138-9011-7fba8b265ce8] - Request completed: PUT /api/v1/notifications/preferences - Status: 200\n2026-01-19 09:34:13,679 - httpx - INFO - [-] - HTTP Request: PUT http://testserver/api/v1/notifications/preferences \"HTTP/1.1 200 OK\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: PUT /api/v1/notifications/preferences", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815253.6209526, "msecs": 620.0, "relativeCreated": 59498.92067909241, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb89f67690", "processName": "MainProcess", "process": 2241, "request_id": "393c9d34-a079-4adf-bc71-d092c5494dad", "asctime": "2026-01-19 09:34:13,620"}, {"name": "backend.services.notification_service", "msg": "Created default notification preferences for user 1", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/services/notification_service.py", "filename": "notification_service.py", "module": "notification_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 230, "funcName": "get_or_create_preferences", "created": 1768815253.6284225, "msecs": 628.0, "relativeCreated": 59506.39057159424, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb89f67690", "processName": "MainProcess", "process": 2241, "request_id": "393c9d34-a079-4adf-bc71-d092c5494dad", "asctime": "2026-01-19 09:34:13,628"}, {"name": "backend.services.notification_service", "msg": "Updated notification preferences for user 1", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/services/notification_service.py", "filename": "notification_service.py", "module": "notification_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 256, "funcName": "update_preferences", "created": 1768815253.6302114, "msecs": 630.0, "relativeCreated": 59508.17942619324, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb89f67690", "processName": "MainProcess", "process": 2241, "request_id": "393c9d34-a079-4adf-bc71-d092c5494dad", "asctime": "2026-01-19 09:34:13,630"}, {"name": "backend.request_id_middleware", "msg": "Request completed: PUT /api/v1/notifications/preferences - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815253.6307445, "msecs": 630.0, "relativeCreated": 59508.71253013611, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb89f67690", "processName": "MainProcess", "process": 2241, "request_id": "393c9d34-a079-4adf-bc71-d092c5494dad", "asctime": "2026-01-19 09:34:13,630"}, {"name": "httpx", "msg": "HTTP Request: PUT http://testserver/api/v1/notifications/preferences \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815253.6330183, "msecs": 633.0, "relativeCreated": 59510.986328125, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,633"}, {"name": "backend.request_id_middleware", "msg": "Request started: PUT /api/v1/notifications/preferences", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815253.6350417, "msecs": 635.0, "relativeCreated": 59513.009786605835, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb89f67690", "processName": "MainProcess", "process": 2241, "request_id": "9791518e-44eb-4791-bf7b-e000a7dd0df2", "asctime": "2026-01-19 09:34:13,635"}, {"name": "backend.services.notification_service", "msg": "Updated notification preferences for user 1", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/services/notification_service.py", "filename": "notification_service.py", "module": "notification_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 256, "funcName": "update_preferences", "created": 1768815253.6419187, "msecs": 641.0, "relativeCreated": 59519.88673210144, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb89f67690", "processName": "MainProcess", "process": 2241, "request_id": "9791518e-44eb-4791-bf7b-e000a7dd0df2", "asctime": "2026-01-19 09:34:13,641"}, {"name": "backend.request_id_middleware", "msg": "Request completed: PUT /api/v1/notifications/preferences - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815253.6424313, "msecs": 642.0, "relativeCreated": 59520.39933204651, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb89f67690", "processName": "MainProcess", "process": 2241, "request_id": "9791518e-44eb-4791-bf7b-e000a7dd0df2", "asctime": "2026-01-19 09:34:13,642"}, {"name": "httpx", "msg": "HTTP Request: PUT http://testserver/api/v1/notifications/preferences \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815253.6446834, "msecs": 644.0, "relativeCreated": 59522.6514339447, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,644"}, {"name": "backend.request_id_middleware", "msg": "Request started: PUT /api/v1/notifications/preferences", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815253.6466274, "msecs": 646.0, "relativeCreated": 59524.595499038696, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb89f67690", "processName": "MainProcess", "process": 2241, "request_id": "2776e98f-3cf6-4803-b1b3-d8752c03a6ec", "asctime": "2026-01-19 09:34:13,646"}, {"name": "backend.services.notification_service", "msg": "Updated notification preferences for user 1", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/services/notification_service.py", "filename": "notification_service.py", "module": "notification_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 256, "funcName": "update_preferences", "created": 1768815253.653325, "msecs": 653.0, "relativeCreated": 59531.29315376282, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb89f67690", "processName": "MainProcess", "process": 2241, "request_id": "2776e98f-3cf6-4803-b1b3-d8752c03a6ec", "asctime": "2026-01-19 09:34:13,653"}, {"name": "backend.request_id_middleware", "msg": "Request completed: PUT /api/v1/notifications/preferences - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815253.6539235, "msecs": 653.0, "relativeCreated": 59531.89158439636, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb89f67690", "processName": "MainProcess", "process": 2241, "request_id": "2776e98f-3cf6-4803-b1b3-d8752c03a6ec", "asctime": "2026-01-19 09:34:13,653"}, {"name": "httpx", "msg": "HTTP Request: PUT http://testserver/api/v1/notifications/preferences \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815253.6561608, "msecs": 656.0, "relativeCreated": 59534.12890434265, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,656"}, {"name": "backend.request_id_middleware", "msg": "Request started: PUT /api/v1/notifications/preferences", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815253.6580627, "msecs": 658.0, "relativeCreated": 59536.030769348145, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb89f67690", "processName": "MainProcess", "process": 2241, "request_id": "d2ad013a-e7da-4b80-8c6a-2b7eafffae4e", "asctime": "2026-01-19 09:34:13,658"}, {"name": "backend.services.notification_service", "msg": "Updated notification preferences for user 1", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/services/notification_service.py", "filename": "notification_service.py", "module": "notification_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 256, "funcName": "update_preferences", "created": 1768815253.6653109, "msecs": 665.0, "relativeCreated": 59543.27893257141, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb89f67690", "processName": "MainProcess", "process": 2241, "request_id": "d2ad013a-e7da-4b80-8c6a-2b7eafffae4e", "asctime": "2026-01-19 09:34:13,665"}, {"name": "backend.request_id_middleware", "msg": "Request completed: PUT /api/v1/notifications/preferences - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815253.6658404, "msecs": 665.0, "relativeCreated": 59543.808460235596, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb89f67690", "processName": "MainProcess", "process": 2241, "request_id": "d2ad013a-e7da-4b80-8c6a-2b7eafffae4e", "asctime": "2026-01-19 09:34:13,665"}, {"name": "httpx", "msg": "HTTP Request: PUT http://testserver/api/v1/notifications/preferences \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815253.6681137, "msecs": 668.0, "relativeCreated": 59546.08178138733, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,668"}, {"name": "backend.request_id_middleware", "msg": "Request started: PUT /api/v1/notifications/preferences", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815253.6700797, "msecs": 670.0, "relativeCreated": 59548.0477809906, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb89f67690", "processName": "MainProcess", "process": 2241, "request_id": "aeaf3b08-1bdc-4138-9011-7fba8b265ce8", "asctime": "2026-01-19 09:34:13,670"}, {"name": "backend.services.notification_service", "msg": "Updated notification preferences for user 1", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/services/notification_service.py", "filename": "notification_service.py", "module": "notification_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 256, "funcName": "update_preferences", "created": 1768815253.676804, "msecs": 676.0, "relativeCreated": 59554.77213859558, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb89f67690", "processName": "MainProcess", "process": 2241, "request_id": "aeaf3b08-1bdc-4138-9011-7fba8b265ce8", "asctime": "2026-01-19 09:34:13,676"}, {"name": "backend.request_id_middleware", "msg": "Request completed: PUT /api/v1/notifications/preferences - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815253.677328, "msecs": 677.0, "relativeCreated": 59555.296182632446, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb89f67690", "processName": "MainProcess", "process": 2241, "request_id": "aeaf3b08-1bdc-4138-9011-7fba8b265ce8", "asctime": "2026-01-19 09:34:13,677"}, {"name": "httpx", "msg": "HTTP Request: PUT http://testserver/api/v1/notifications/preferences \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815253.6795926, "msecs": 679.0, "relativeCreated": 59557.56068229675, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,679"}]}, "teardown": {"duration": 0.011747151999998096, "outcome": "passed", "stderr": "2026-01-19 09:34:13,681 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:13,681 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:13,681 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:13,682 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:13,682 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:13,682 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:13,682 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815253.6812427, "msecs": 681.0, "relativeCreated": 59559.210777282715, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb89f67690", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,681"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815253.681638, "msecs": 681.0, "relativeCreated": 59559.606075286865, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb89f67690", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,681"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815253.6819506, "msecs": 681.0, "relativeCreated": 59559.91864204407, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb89f67690", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,681"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815253.6822174, "msecs": 682.0, "relativeCreated": 59560.18543243408, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb89f67690", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,682"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815253.6824677, "msecs": 682.0, "relativeCreated": 59560.43577194214, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb89f67690", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,682"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815253.682684, "msecs": 682.0, "relativeCreated": 59560.652017593384, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb89f67690", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,682"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815253.6829329, "msecs": 682.0, "relativeCreated": 59560.900926589966, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb89f67690", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,682"}]}}, {"nodeid": "tests/test_notifications_router.py::test_notification_response_format", "lineno": 715, "outcome": "passed", "keywords": ["test_notification_response_format", "test_notifications_router.py", "tests", "backend", ""], "setup": {"duration": 0.08541120300000671, "outcome": "passed", "stderr": "2026-01-19 09:34:13,693 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:13,734 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:13,736 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:13,736 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:13,737 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:13,737 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:13,737 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n2026-01-19 09:34:13,740 - backend.request_id_middleware - INFO - [02795099-ee90-424b-8fe3-212bd6f40b6b] - Request started: POST /api/v1/auth/register\n2026-01-19 09:34:13,755 - backend.request_id_middleware - INFO - [02795099-ee90-424b-8fe3-212bd6f40b6b] - Request completed: POST /api/v1/auth/register - Status: 200\n2026-01-19 09:34:13,758 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:13,759 - backend.request_id_middleware - INFO - [059bd3ed-d8bf-4d98-9e1d-f4b2ece3e133] - Request started: POST /api/v1/auth/login\n2026-01-19 09:34:13,762 - backend.routers.routers_auth - INFO - [059bd3ed-d8bf-4d98-9e1d-f4b2ece3e133] - Login attempt\n2026-01-19 09:34:13,773 - backend.routers.routers_auth - INFO - [059bd3ed-d8bf-4d98-9e1d-f4b2ece3e133] - Login successful\n2026-01-19 09:34:13,775 - backend.request_id_middleware - INFO - [059bd3ed-d8bf-4d98-9e1d-f4b2ece3e133] - Request completed: POST /api/v1/auth/login - Status: 200\n2026-01-19 09:34:13,777 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815253.6936128, "msecs": 693.0, "relativeCreated": 59571.58088684082, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,693"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815253.7348826, "msecs": 734.0, "relativeCreated": 59612.85066604614, "thread": 140512198997696, "threadName": "Thread-278 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,734"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815253.7364988, "msecs": 736.0, "relativeCreated": 59614.46690559387, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a49e650", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,736"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815253.736889, "msecs": 736.0, "relativeCreated": 59614.85695838928, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a49e650", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,736"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815253.7371542, "msecs": 737.0, "relativeCreated": 59615.12231826782, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a49e650", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,737"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815253.7373927, "msecs": 737.0, "relativeCreated": 59615.360736846924, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a49e650", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,737"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815253.737619, "msecs": 737.0, "relativeCreated": 59615.58699607849, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a49e650", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,737"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/register", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815253.740176, "msecs": 740.0, "relativeCreated": 59618.144035339355, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a49e650", "processName": "MainProcess", "process": 2241, "request_id": "02795099-ee90-424b-8fe3-212bd6f40b6b", "asctime": "2026-01-19 09:34:13,740"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/register - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815253.755776, "msecs": 755.0, "relativeCreated": 59633.74400138855, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a49e650", "processName": "MainProcess", "process": 2241, "request_id": "02795099-ee90-424b-8fe3-212bd6f40b6b", "asctime": "2026-01-19 09:34:13,755"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815253.7580972, "msecs": 758.0, "relativeCreated": 59636.06524467468, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,758"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/login", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815253.7598507, "msecs": 759.0, "relativeCreated": 59637.818813323975, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a49e650", "processName": "MainProcess", "process": 2241, "request_id": "059bd3ed-d8bf-4d98-9e1d-f4b2ece3e133", "asctime": "2026-01-19 09:34:13,759"}, {"name": "backend.routers.routers_auth", "msg": "Login attempt", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 459, "funcName": "login", "created": 1768815253.762514, "msecs": 762.0, "relativeCreated": 59640.48218727112, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a49e650", "processName": "MainProcess", "process": 2241, "request_id": "059bd3ed-d8bf-4d98-9e1d-f4b2ece3e133", "asctime": "2026-01-19 09:34:13,762"}, {"name": "backend.routers.routers_auth", "msg": "Login successful", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 496, "funcName": "login", "created": 1768815253.7736735, "msecs": 773.0, "relativeCreated": 59651.641607284546, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a49e650", "processName": "MainProcess", "process": 2241, "user_id": 1, "request_id": "059bd3ed-d8bf-4d98-9e1d-f4b2ece3e133", "asctime": "2026-01-19 09:34:13,773"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/login - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815253.775333, "msecs": 775.0, "relativeCreated": 59653.30100059509, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a49e650", "processName": "MainProcess", "process": 2241, "request_id": "059bd3ed-d8bf-4d98-9e1d-f4b2ece3e133", "asctime": "2026-01-19 09:34:13,775"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815253.777806, "msecs": 777.0, "relativeCreated": 59655.77411651611, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,777"}]}, "call": {"duration": 0.014359162999994624, "outcome": "passed", "stderr": "2026-01-19 09:34:13,782 - backend.request_id_middleware - INFO - [5044c816-178c-4dc1-89a6-8814b2e8f0a1] - Request started: GET /api/v1/notifications/\n2026-01-19 09:34:13,790 - backend.request_id_middleware - INFO - [5044c816-178c-4dc1-89a6-8814b2e8f0a1] - Request completed: GET /api/v1/notifications/ - Status: 200\n2026-01-19 09:34:13,792 - httpx - INFO - [-] - HTTP Request: GET http://testserver/api/v1/notifications/ \"HTTP/1.1 200 OK\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: GET /api/v1/notifications/", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815253.7821648, "msecs": 782.0, "relativeCreated": 59660.13288497925, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a49e650", "processName": "MainProcess", "process": 2241, "request_id": "5044c816-178c-4dc1-89a6-8814b2e8f0a1", "asctime": "2026-01-19 09:34:13,782"}, {"name": "backend.request_id_middleware", "msg": "Request completed: GET /api/v1/notifications/ - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815253.790121, "msecs": 790.0, "relativeCreated": 59668.089151382446, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a49e650", "processName": "MainProcess", "process": 2241, "request_id": "5044c816-178c-4dc1-89a6-8814b2e8f0a1", "asctime": "2026-01-19 09:34:13,790"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/api/v1/notifications/ \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815253.7926013, "msecs": 792.0, "relativeCreated": 59670.56941986084, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,792"}]}, "teardown": {"duration": 0.011519258999982185, "outcome": "passed", "stderr": "2026-01-19 09:34:13,794 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:13,794 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:13,794 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:13,795 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:13,795 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:13,795 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:13,795 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815253.7942295, "msecs": 794.0, "relativeCreated": 59672.197580337524, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a49e650", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,794"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815253.7945893, "msecs": 794.0, "relativeCreated": 59672.55735397339, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a49e650", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,794"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815253.7948906, "msecs": 794.0, "relativeCreated": 59672.85871505737, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a49e650", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,794"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815253.7951515, "msecs": 795.0, "relativeCreated": 59673.11954498291, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a49e650", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,795"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815253.795398, "msecs": 795.0, "relativeCreated": 59673.3660697937, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a49e650", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,795"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815253.7956147, "msecs": 795.0, "relativeCreated": 59673.582792282104, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a49e650", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,795"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815253.7958605, "msecs": 795.0, "relativeCreated": 59673.82860183716, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8a49e650", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,795"}]}}, {"nodeid": "tests/test_notifications_router.py::test_preference_response_format", "lineno": 736, "outcome": "passed", "keywords": ["test_preference_response_format", "test_notifications_router.py", "tests", "backend", ""], "setup": {"duration": 0.08581186000000685, "outcome": "passed", "stderr": "2026-01-19 09:34:13,806 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:13,847 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:13,848 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:13,849 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:13,849 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:13,849 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:13,849 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n2026-01-19 09:34:13,852 - backend.request_id_middleware - INFO - [3fb69dd2-9e34-4641-8dd9-7c00f24a431f] - Request started: POST /api/v1/auth/register\n2026-01-19 09:34:13,868 - backend.request_id_middleware - INFO - [3fb69dd2-9e34-4641-8dd9-7c00f24a431f] - Request completed: POST /api/v1/auth/register - Status: 200\n2026-01-19 09:34:13,870 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:13,872 - backend.request_id_middleware - INFO - [064c638a-15e1-47a9-9431-e2020d031aa2] - Request started: POST /api/v1/auth/login\n2026-01-19 09:34:13,875 - backend.routers.routers_auth - INFO - [064c638a-15e1-47a9-9431-e2020d031aa2] - Login attempt\n2026-01-19 09:34:13,886 - backend.routers.routers_auth - INFO - [064c638a-15e1-47a9-9431-e2020d031aa2] - Login successful\n2026-01-19 09:34:13,888 - backend.request_id_middleware - INFO - [064c638a-15e1-47a9-9431-e2020d031aa2] - Request completed: POST /api/v1/auth/login - Status: 200\n2026-01-19 09:34:13,890 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815253.8062918, "msecs": 806.0, "relativeCreated": 59684.25989151001, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,806"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815253.847068, "msecs": 847.0, "relativeCreated": 59725.03614425659, "thread": 140512198997696, "threadName": "Thread-279 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,847"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815253.8486836, "msecs": 848.0, "relativeCreated": 59726.651668548584, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb883c29d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,848"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815253.8490977, "msecs": 849.0, "relativeCreated": 59727.06580162048, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb883c29d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,849"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815253.8493478, "msecs": 849.0, "relativeCreated": 59727.31590270996, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb883c29d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,849"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815253.849589, "msecs": 849.0, "relativeCreated": 59727.55718231201, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb883c29d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,849"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815253.8498514, "msecs": 849.0, "relativeCreated": 59727.81944274902, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb883c29d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,849"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/register", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815253.8524413, "msecs": 852.0, "relativeCreated": 59730.409383773804, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb883c29d0", "processName": "MainProcess", "process": 2241, "request_id": "3fb69dd2-9e34-4641-8dd9-7c00f24a431f", "asctime": "2026-01-19 09:34:13,852"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/register - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815253.868167, "msecs": 868.0, "relativeCreated": 59746.134996414185, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb883c29d0", "processName": "MainProcess", "process": 2241, "request_id": "3fb69dd2-9e34-4641-8dd9-7c00f24a431f", "asctime": "2026-01-19 09:34:13,868"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815253.870582, "msecs": 870.0, "relativeCreated": 59748.55017662048, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,870"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/login", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815253.8724902, "msecs": 872.0, "relativeCreated": 59750.45824050903, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb883c29d0", "processName": "MainProcess", "process": 2241, "request_id": "064c638a-15e1-47a9-9431-e2020d031aa2", "asctime": "2026-01-19 09:34:13,872"}, {"name": "backend.routers.routers_auth", "msg": "Login attempt", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 459, "funcName": "login", "created": 1768815253.875343, "msecs": 875.0, "relativeCreated": 59753.31115722656, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb883c29d0", "processName": "MainProcess", "process": 2241, "request_id": "064c638a-15e1-47a9-9431-e2020d031aa2", "asctime": "2026-01-19 09:34:13,875"}, {"name": "backend.routers.routers_auth", "msg": "Login successful", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 496, "funcName": "login", "created": 1768815253.88658, "msecs": 886.0, "relativeCreated": 59764.5480632782, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb883c29d0", "processName": "MainProcess", "process": 2241, "user_id": 1, "request_id": "064c638a-15e1-47a9-9431-e2020d031aa2", "asctime": "2026-01-19 09:34:13,886"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/login - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815253.8882897, "msecs": 888.0, "relativeCreated": 59766.257762908936, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb883c29d0", "processName": "MainProcess", "process": 2241, "request_id": "064c638a-15e1-47a9-9431-e2020d031aa2", "asctime": "2026-01-19 09:34:13,888"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815253.8908756, "msecs": 890.0, "relativeCreated": 59768.84365081787, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,890"}]}, "call": {"duration": 0.011769384999979593, "outcome": "passed", "stderr": "2026-01-19 09:34:13,893 - backend.request_id_middleware - INFO - [b8d1095a-ce84-4857-9e2f-fb6c011ed2d7] - Request started: GET /api/v1/notifications/preferences\n2026-01-19 09:34:13,900 - backend.services.notification_service - INFO - [b8d1095a-ce84-4857-9e2f-fb6c011ed2d7] - Created default notification preferences for user 1\n2026-01-19 09:34:13,900 - backend.request_id_middleware - INFO - [b8d1095a-ce84-4857-9e2f-fb6c011ed2d7] - Request completed: GET /api/v1/notifications/preferences - Status: 200\n2026-01-19 09:34:13,903 - httpx - INFO - [-] - HTTP Request: GET http://testserver/api/v1/notifications/preferences \"HTTP/1.1 200 OK\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: GET /api/v1/notifications/preferences", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815253.8937738, "msecs": 893.0, "relativeCreated": 59771.74186706543, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb883c29d0", "processName": "MainProcess", "process": 2241, "request_id": "b8d1095a-ce84-4857-9e2f-fb6c011ed2d7", "asctime": "2026-01-19 09:34:13,893"}, {"name": "backend.services.notification_service", "msg": "Created default notification preferences for user 1", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/services/notification_service.py", "filename": "notification_service.py", "module": "notification_service", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 230, "funcName": "get_or_create_preferences", "created": 1768815253.9002829, "msecs": 900.0, "relativeCreated": 59778.25093269348, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb883c29d0", "processName": "MainProcess", "process": 2241, "request_id": "b8d1095a-ce84-4857-9e2f-fb6c011ed2d7", "asctime": "2026-01-19 09:34:13,900"}, {"name": "backend.request_id_middleware", "msg": "Request completed: GET /api/v1/notifications/preferences - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815253.9008296, "msecs": 900.0, "relativeCreated": 59778.79762649536, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb883c29d0", "processName": "MainProcess", "process": 2241, "request_id": "b8d1095a-ce84-4857-9e2f-fb6c011ed2d7", "asctime": "2026-01-19 09:34:13,900"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/api/v1/notifications/preferences \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815253.9031327, "msecs": 903.0, "relativeCreated": 59781.10074996948, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,903"}]}, "teardown": {"duration": 0.012565569000003052, "outcome": "passed", "stderr": "2026-01-19 09:34:13,904 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:13,905 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:13,905 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:13,905 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:13,906 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:13,906 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:13,906 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815253.9047892, "msecs": 904.0, "relativeCreated": 59782.75728225708, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb883c29d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,904"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815253.905205, "msecs": 905.0, "relativeCreated": 59783.17308425903, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb883c29d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,905"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815253.9054747, "msecs": 905.0, "relativeCreated": 59783.442735672, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb883c29d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,905"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815253.905749, "msecs": 905.0, "relativeCreated": 59783.71715545654, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb883c29d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,905"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815253.9060254, "msecs": 906.0, "relativeCreated": 59783.99348258972, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb883c29d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,906"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815253.9062846, "msecs": 906.0, "relativeCreated": 59784.252643585205, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb883c29d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,906"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815253.9065397, "msecs": 906.0, "relativeCreated": 59784.507751464844, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb883c29d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,906"}]}}, {"nodeid": "tests/test_password_rehash.py::test_pwd_context_supports_both_schemes", "lineno": 14, "outcome": "passed", "keywords": ["test_pwd_context_supports_both_schemes", "test_password_rehash.py", "tests", "backend", ""], "setup": {"duration": 0.03805220999998937, "outcome": "passed", "stderr": "2026-01-19 09:34:13,918 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815253.9182942, "msecs": 918.0, "relativeCreated": 59796.26226425171, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,918"}]}, "call": {"duration": 0.0003267700000151308, "outcome": "passed"}, "teardown": {"duration": 0.00031064899999933004, "outcome": "passed"}}, {"nodeid": "tests/test_password_rehash.py::test_pbkdf2_is_default_scheme", "lineno": 21, "outcome": "passed", "keywords": ["test_pbkdf2_is_default_scheme", "test_password_rehash.py", "tests", "backend", ""], "setup": {"duration": 0.04029176599999573, "outcome": "passed", "stderr": "2026-01-19 09:34:13,958 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815253.958007, "msecs": 958.0, "relativeCreated": 59835.9751701355, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:13,958"}]}, "call": {"duration": 0.009352417999991758, "outcome": "passed"}, "teardown": {"duration": 0.0002933570000038799, "outcome": "passed"}}, {"nodeid": "tests/test_password_rehash.py::test_pbkdf2_hash_is_not_deprecated", "lineno": 28, "outcome": "passed", "keywords": ["test_pbkdf2_hash_is_not_deprecated", "test_password_rehash.py", "tests", "backend", ""], "setup": {"duration": 0.040170570000015005, "outcome": "passed", "stderr": "2026-01-19 09:34:14,008 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815254.008963, "msecs": 8.0, "relativeCreated": 59886.93118095398, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,008"}]}, "call": {"duration": 0.009356795999991618, "outcome": "passed"}, "teardown": {"duration": 0.000317522000017334, "outcome": "passed"}}, {"nodeid": "tests/test_password_rehash.py::test_verify_password_with_pbkdf2", "lineno": 34, "outcome": "passed", "keywords": ["test_verify_password_with_pbkdf2", "test_password_rehash.py", "tests", "backend", ""], "setup": {"duration": 0.040877687999994805, "outcome": "passed", "stderr": "2026-01-19 09:34:14,059 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815254.0599217, "msecs": 59.0, "relativeCreated": 59937.88981437683, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,059"}]}, "call": {"duration": 0.027269654999997783, "outcome": "passed"}, "teardown": {"duration": 0.0003219209999940631, "outcome": "passed"}}, {"nodeid": "tests/test_password_rehash.py::test_bcrypt_deprecation_check", "lineno": 43, "outcome": "passed", "keywords": ["test_bcrypt_deprecation_check", "test_password_rehash.py", "tests", "backend", ""], "setup": {"duration": 0.04112988900001824, "outcome": "passed", "stderr": "2026-01-19 09:34:14,129 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815254.129663, "msecs": 129.0, "relativeCreated": 60007.631063461304, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,129"}]}, "call": {"duration": 0.009314236999983905, "outcome": "passed"}, "teardown": {"duration": 0.0002857729999732328, "outcome": "passed"}}, {"nodeid": "tests/test_performance_monitor.py::test_monitor_collects_slow_queries", "lineno": 25, "outcome": "passed", "keywords": ["test_monitor_collects_slow_queries", "test_performance_monitor.py", "tests", "backend", ""], "setup": {"duration": 0.04026990500000238, "outcome": "passed", "stderr": "2026-01-19 09:34:14,181 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815254.1817405, "msecs": 181.0, "relativeCreated": 60059.70859527588, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,181"}]}, "call": {"duration": 0.0022927950000166675, "outcome": "passed", "stderr": "2026-01-19 09:34:14,223 - backend.performance_monitor - WARNING - [-] - Slow query detected (0.031 ms): SELECT 42\n", "log": [{"name": "backend.performance_monitor", "msg": "Slow query detected (0.031 ms): SELECT 42", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/performance_monitor.py", "filename": "performance_monitor.py", "module": "performance_monitor", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 133, "funcName": "record", "created": 1768815254.223344, "msecs": 223.0, "relativeCreated": 60101.31216049194, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,223"}]}, "teardown": {"duration": 0.00043190599998865764, "outcome": "passed"}}, {"nodeid": "tests/test_performance_monitor.py::test_monitor_exports_snapshot", "lineno": 43, "outcome": "passed", "keywords": ["test_monitor_exports_snapshot", "test_performance_monitor.py", "tests", "backend", ""], "setup": {"duration": 0.04127440800002091, "outcome": "passed", "stderr": "2026-01-19 09:34:14,225 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815254.2258146, "msecs": 225.0, "relativeCreated": 60103.782653808594, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,225"}]}, "call": {"duration": 0.002511162999979888, "outcome": "passed", "stderr": "2026-01-19 09:34:14,267 - backend.performance_monitor - DEBUG - [-] - Slow query monitoring threshold set to 0ms; all queries will be captured (subject to max entries).\n2026-01-19 09:34:14,267 - backend.performance_monitor - DEBUG - [-] - SQLAlchemy engine lacks info dict; skipping monitor attachment\n2026-01-19 09:34:14,268 - backend.performance_monitor - WARNING - [-] - Slow query detected (0.027 ms): SELECT 1\n", "log": [{"name": "backend.performance_monitor", "msg": "Slow query monitoring threshold set to 0ms; all queries will be captured (subject to max entries).", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/performance_monitor.py", "filename": "performance_monitor.py", "module": "performance_monitor", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 82, "funcName": "register", "created": 1768815254.267633, "msecs": 267.0, "relativeCreated": 60145.60103416443, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,267"}, {"name": "backend.performance_monitor", "msg": "SQLAlchemy engine lacks info dict; skipping monitor attachment", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/performance_monitor.py", "filename": "performance_monitor.py", "module": "performance_monitor", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 192, "funcName": "setup_sqlalchemy_query_monitoring", "created": 1768815254.2679672, "msecs": 267.0, "relativeCreated": 60145.93529701233, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,267"}, {"name": "backend.performance_monitor", "msg": "Slow query detected (0.027 ms): SELECT 1", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/performance_monitor.py", "filename": "performance_monitor.py", "module": "performance_monitor", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 133, "funcName": "record", "created": 1768815254.2685134, "msecs": 268.0, "relativeCreated": 60146.48151397705, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,268"}]}, "teardown": {"duration": 0.0003211490000012418, "outcome": "passed"}}, {"nodeid": "tests/test_performance_monitor.py::test_monitor_respects_disable_flag", "lineno": 60, "outcome": "passed", "keywords": ["test_monitor_respects_disable_flag", "test_performance_monitor.py", "tests", "backend", ""], "setup": {"duration": 0.040815130999988014, "outcome": "passed", "stderr": "2026-01-19 09:34:14,271 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815254.271086, "msecs": 271.0, "relativeCreated": 60149.05405044556, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,271"}]}, "call": {"duration": 0.001426118999972914, "outcome": "passed", "stderr": "2026-01-19 09:34:14,312 - backend.performance_monitor - DEBUG - [-] - Slow query monitoring disabled via settings\n", "log": [{"name": "backend.performance_monitor", "msg": "Slow query monitoring disabled via settings", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/performance_monitor.py", "filename": "performance_monitor.py", "module": "performance_monitor", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 173, "funcName": "setup_sqlalchemy_query_monitoring", "created": 1768815254.3123941, "msecs": 312.0, "relativeCreated": 60190.362215042114, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,312"}]}, "teardown": {"duration": 0.00033210000000849504, "outcome": "passed"}}, {"nodeid": "tests/test_permissions_api.py::test_list_permissions_requires_auth", "lineno": 47, "outcome": "passed", "keywords": ["test_list_permissions_requires_auth", "test_permissions_api.py", "tests", "backend", ""], "setup": {"duration": 0.0468516169999873, "outcome": "passed", "stderr": "2026-01-19 09:34:14,315 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:14,358 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:14,359 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:14,359 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:14,360 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:14,360 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:14,360 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815254.315181, "msecs": 315.0, "relativeCreated": 60193.14908981323, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,315"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815254.3581362, "msecs": 358.0, "relativeCreated": 60236.10424995422, "thread": 140512198997696, "threadName": "Thread-280 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,358"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815254.3594985, "msecs": 359.0, "relativeCreated": 60237.46657371521, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb883b8690", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,359"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815254.359892, "msecs": 359.0, "relativeCreated": 60237.85996437073, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb883b8690", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,359"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815254.3601468, "msecs": 360.0, "relativeCreated": 60238.11483383179, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb883b8690", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,360"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815254.3604047, "msecs": 360.0, "relativeCreated": 60238.372802734375, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb883b8690", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,360"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815254.3606327, "msecs": 360.0, "relativeCreated": 60238.600730895996, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb883b8690", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,360"}]}, "call": {"duration": 0.012105331000014985, "outcome": "passed", "stderr": "2026-01-19 09:34:14,364 - backend.request_id_middleware - INFO - [22249f9b-dbbc-43a0-be00-0bc91b54dca8] - Request started: GET /api/v1/permissions/\n2026-01-19 09:34:14,370 - backend.request_id_middleware - INFO - [22249f9b-dbbc-43a0-be00-0bc91b54dca8] - Request completed: GET /api/v1/permissions/ - Status: 200\n2026-01-19 09:34:14,373 - httpx - INFO - [-] - HTTP Request: GET http://testserver/api/v1/permissions/ \"HTTP/1.1 200 OK\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: GET /api/v1/permissions/", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815254.3640707, "msecs": 364.0, "relativeCreated": 60242.03872680664, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb883b8690", "processName": "MainProcess", "process": 2241, "request_id": "22249f9b-dbbc-43a0-be00-0bc91b54dca8", "asctime": "2026-01-19 09:34:14,364"}, {"name": "backend.request_id_middleware", "msg": "Request completed: GET /api/v1/permissions/ - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815254.3709936, "msecs": 370.0, "relativeCreated": 60248.96168708801, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb883b8690", "processName": "MainProcess", "process": 2241, "request_id": "22249f9b-dbbc-43a0-be00-0bc91b54dca8", "asctime": "2026-01-19 09:34:14,370"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/api/v1/permissions/ \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815254.373363, "msecs": 373.0, "relativeCreated": 60251.331090927124, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,373"}]}, "teardown": {"duration": 0.011092211999994106, "outcome": "passed", "stderr": "2026-01-19 09:34:14,374 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:14,375 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:14,375 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:14,375 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:14,375 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:14,376 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:14,376 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815254.3747666, "msecs": 374.0, "relativeCreated": 60252.734661102295, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb883b8690", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,374"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815254.3751295, "msecs": 375.0, "relativeCreated": 60253.09753417969, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb883b8690", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,375"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815254.3753939, "msecs": 375.0, "relativeCreated": 60253.36194038391, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb883b8690", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,375"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815254.3756487, "msecs": 375.0, "relativeCreated": 60253.61680984497, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb883b8690", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,375"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815254.375986, "msecs": 375.0, "relativeCreated": 60253.9541721344, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb883b8690", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,375"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815254.3762457, "msecs": 376.0, "relativeCreated": 60254.21380996704, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb883b8690", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,376"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815254.3764699, "msecs": 376.0, "relativeCreated": 60254.4379234314, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb883b8690", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,376"}]}}, {"nodeid": "tests/test_permissions_api.py::test_list_permissions_with_auth", "lineno": 56, "outcome": "passed", "keywords": ["test_list_permissions_with_auth", "test_permissions_api.py", "tests", "backend", ""], "setup": {"duration": 0.048537187000022186, "outcome": "passed", "stderr": "2026-01-19 09:34:14,386 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:14,426 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:14,427 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:14,427 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:14,428 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:14,428 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:14,428 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815254.3864455, "msecs": 386.0, "relativeCreated": 60264.413595199585, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,386"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815254.4261765, "msecs": 426.0, "relativeCreated": 60304.144620895386, "thread": 140512215779008, "threadName": "Thread-281 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,426"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815254.427657, "msecs": 427.0, "relativeCreated": 60305.62496185303, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb883ef710", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,427"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815254.42797, "msecs": 427.0, "relativeCreated": 60305.93800544739, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb883ef710", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,427"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815254.4282134, "msecs": 428.0, "relativeCreated": 60306.18143081665, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb883ef710", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,428"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815254.428447, "msecs": 428.0, "relativeCreated": 60306.41508102417, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb883ef710", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,428"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815254.4286697, "msecs": 428.0, "relativeCreated": 60306.63776397705, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb883ef710", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,428"}]}, "call": {"duration": 0.0100329249999902, "outcome": "passed", "stderr": "2026-01-19 09:34:14,436 - backend.request_id_middleware - INFO - [15a9cc4d-e1bc-46f0-8781-b0df69cda473] - Request started: GET /api/v1/permissions/\n2026-01-19 09:34:14,441 - backend.request_id_middleware - INFO - [15a9cc4d-e1bc-46f0-8781-b0df69cda473] - Request completed: GET /api/v1/permissions/ - Status: 200\n2026-01-19 09:34:14,444 - httpx - INFO - [-] - HTTP Request: GET http://testserver/api/v1/permissions/ \"HTTP/1.1 200 OK\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: GET /api/v1/permissions/", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815254.4366946, "msecs": 436.0, "relativeCreated": 60314.66269493103, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb883ef710", "processName": "MainProcess", "process": 2241, "request_id": "15a9cc4d-e1bc-46f0-8781-b0df69cda473", "asctime": "2026-01-19 09:34:14,436"}, {"name": "backend.request_id_middleware", "msg": "Request completed: GET /api/v1/permissions/ - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815254.4419208, "msecs": 441.0, "relativeCreated": 60319.88883018494, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb883ef710", "processName": "MainProcess", "process": 2241, "request_id": "15a9cc4d-e1bc-46f0-8781-b0df69cda473", "asctime": "2026-01-19 09:34:14,441"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/api/v1/permissions/ \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815254.444236, "msecs": 444.0, "relativeCreated": 60322.20411300659, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,444"}]}, "teardown": {"duration": 0.011273227000003772, "outcome": "passed", "stderr": "2026-01-19 09:34:14,445 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:14,446 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:14,446 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:14,446 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:14,446 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:14,447 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:14,447 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815254.445648, "msecs": 445.0, "relativeCreated": 60323.61602783203, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb883ef710", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,445"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815254.4460404, "msecs": 446.0, "relativeCreated": 60324.00846481323, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb883ef710", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,446"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815254.4463177, "msecs": 446.0, "relativeCreated": 60324.28574562073, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb883ef710", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,446"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815254.4465702, "msecs": 446.0, "relativeCreated": 60324.538230895996, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb883ef710", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,446"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815254.44685, "msecs": 446.0, "relativeCreated": 60324.81813430786, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb883ef710", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,446"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815254.4470747, "msecs": 447.0, "relativeCreated": 60325.042724609375, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb883ef710", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,447"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815254.447289, "msecs": 447.0, "relativeCreated": 60325.25706291199, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb883ef710", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,447"}]}}, {"nodeid": "tests/test_permissions_api.py::test_list_permissions_filter_by_resource", "lineno": 76, "outcome": "passed", "keywords": ["test_list_permissions_filter_by_resource", "test_permissions_api.py", "tests", "backend", ""], "setup": {"duration": 0.049114669999994476, "outcome": "passed", "stderr": "2026-01-19 09:34:14,457 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:14,498 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:14,500 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:14,500 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:14,500 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:14,501 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:14,501 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815254.457612, "msecs": 457.0, "relativeCreated": 60335.58011054993, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,457"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815254.4986732, "msecs": 498.0, "relativeCreated": 60376.641273498535, "thread": 140512215779008, "threadName": "Thread-282 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,498"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815254.5001569, "msecs": 500.0, "relativeCreated": 60378.124952316284, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb883ce8d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,500"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815254.5005162, "msecs": 500.0, "relativeCreated": 60378.48424911499, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb883ce8d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,500"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815254.5007846, "msecs": 500.0, "relativeCreated": 60378.75270843506, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb883ce8d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,500"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815254.5010345, "msecs": 501.0, "relativeCreated": 60379.00257110596, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb883ce8d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,501"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815254.5012639, "msecs": 501.0, "relativeCreated": 60379.23192977905, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb883ce8d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,501"}]}, "call": {"duration": 0.01088863100000026, "outcome": "passed", "stderr": "2026-01-19 09:34:14,508 - backend.request_id_middleware - INFO - [3ff018eb-9983-450a-ac5d-316bd7864fa0] - Request started: GET /api/v1/permissions/\n2026-01-19 09:34:14,514 - backend.request_id_middleware - INFO - [3ff018eb-9983-450a-ac5d-316bd7864fa0] - Request completed: GET /api/v1/permissions/ - Status: 200\n2026-01-19 09:34:14,516 - httpx - INFO - [-] - HTTP Request: GET http://testserver/api/v1/permissions/?resource=students \"HTTP/1.1 200 OK\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: GET /api/v1/permissions/", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815254.5082123, "msecs": 508.0, "relativeCreated": 60386.18040084839, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb883ce8d0", "processName": "MainProcess", "process": 2241, "request_id": "3ff018eb-9983-450a-ac5d-316bd7864fa0", "asctime": "2026-01-19 09:34:14,508"}, {"name": "backend.request_id_middleware", "msg": "Request completed: GET /api/v1/permissions/ - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815254.5144193, "msecs": 514.0, "relativeCreated": 60392.38739013672, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb883ce8d0", "processName": "MainProcess", "process": 2241, "request_id": "3ff018eb-9983-450a-ac5d-316bd7864fa0", "asctime": "2026-01-19 09:34:14,514"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/api/v1/permissions/?resource=students \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815254.5167966, "msecs": 516.0, "relativeCreated": 60394.76466178894, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,516"}]}, "teardown": {"duration": 0.011154728000008163, "outcome": "passed", "stderr": "2026-01-19 09:34:14,518 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:14,518 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:14,518 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:14,519 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:14,519 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:14,519 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:14,519 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815254.5182598, "msecs": 518.0, "relativeCreated": 60396.22783660889, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb883ce8d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,518"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815254.5186431, "msecs": 518.0, "relativeCreated": 60396.61121368408, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb883ce8d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,518"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815254.518939, "msecs": 518.0, "relativeCreated": 60396.90709114075, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb883ce8d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,518"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815254.5191956, "msecs": 519.0, "relativeCreated": 60397.16362953186, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb883ce8d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,519"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815254.5194402, "msecs": 519.0, "relativeCreated": 60397.40824699402, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb883ce8d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,519"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815254.5196533, "msecs": 519.0, "relativeCreated": 60397.621393203735, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb883ce8d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,519"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815254.5199199, "msecs": 519.0, "relativeCreated": 60397.88794517517, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb883ce8d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,519"}]}}, {"nodeid": "tests/test_permissions_api.py::test_list_permissions_filter_by_action", "lineno": 89, "outcome": "passed", "keywords": ["test_list_permissions_filter_by_action", "test_permissions_api.py", "tests", "backend", ""], "setup": {"duration": 0.0470735639999873, "outcome": "passed", "stderr": "2026-01-19 09:34:14,530 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:14,569 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:14,570 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:14,571 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:14,571 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:14,571 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:14,571 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815254.5300107, "msecs": 530.0, "relativeCreated": 60407.978773117065, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,530"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815254.5694566, "msecs": 569.0, "relativeCreated": 60447.42465019226, "thread": 140512215779008, "threadName": "Thread-283 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,569"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815254.5709555, "msecs": 570.0, "relativeCreated": 60448.92358779907, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb883f1310", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,570"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815254.571239, "msecs": 571.0, "relativeCreated": 60449.207067489624, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb883f1310", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,571"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815254.5714793, "msecs": 571.0, "relativeCreated": 60449.44739341736, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb883f1310", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,571"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815254.5717363, "msecs": 571.0, "relativeCreated": 60449.70440864563, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb883f1310", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,571"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815254.5719697, "msecs": 571.0, "relativeCreated": 60449.93782043457, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb883f1310", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,571"}]}, "call": {"duration": 0.010808521999990717, "outcome": "passed", "stderr": "2026-01-19 09:34:14,578 - backend.request_id_middleware - INFO - [87eade5e-8989-4920-8166-f4f17e7f3be8] - Request started: GET /api/v1/permissions/\n2026-01-19 09:34:14,584 - backend.request_id_middleware - INFO - [87eade5e-8989-4920-8166-f4f17e7f3be8] - Request completed: GET /api/v1/permissions/ - Status: 200\n2026-01-19 09:34:14,587 - httpx - INFO - [-] - HTTP Request: GET http://testserver/api/v1/permissions/?action=view \"HTTP/1.1 200 OK\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: GET /api/v1/permissions/", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815254.578511, "msecs": 578.0, "relativeCreated": 60456.4790725708, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb883f1310", "processName": "MainProcess", "process": 2241, "request_id": "87eade5e-8989-4920-8166-f4f17e7f3be8", "asctime": "2026-01-19 09:34:14,578"}, {"name": "backend.request_id_middleware", "msg": "Request completed: GET /api/v1/permissions/ - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815254.5847409, "msecs": 584.0, "relativeCreated": 60462.708950042725, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb883f1310", "processName": "MainProcess", "process": 2241, "request_id": "87eade5e-8989-4920-8166-f4f17e7f3be8", "asctime": "2026-01-19 09:34:14,584"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/api/v1/permissions/?action=view \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815254.5871365, "msecs": 587.0, "relativeCreated": 60465.10457992554, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,587"}]}, "teardown": {"duration": 0.011459524999992254, "outcome": "passed", "stderr": "2026-01-19 09:34:14,588 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:14,588 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:14,589 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:14,589 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:14,589 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:14,590 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:14,590 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815254.5885782, "msecs": 588.0, "relativeCreated": 60466.546297073364, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb883f1310", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,588"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815254.5889883, "msecs": 588.0, "relativeCreated": 60466.95637702942, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb883f1310", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,588"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815254.5892572, "msecs": 589.0, "relativeCreated": 60467.225313186646, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb883f1310", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,589"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815254.5895119, "msecs": 589.0, "relativeCreated": 60467.479944229126, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb883f1310", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,589"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815254.5897784, "msecs": 589.0, "relativeCreated": 60467.74649620056, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb883f1310", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,589"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815254.5900059, "msecs": 590.0, "relativeCreated": 60467.973947525024, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb883f1310", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,590"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815254.5902257, "msecs": 590.0, "relativeCreated": 60468.193769454956, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb883f1310", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,590"}]}}, {"nodeid": "tests/test_permissions_api.py::test_list_permissions_search", "lineno": 102, "outcome": "passed", "keywords": ["test_list_permissions_search", "test_permissions_api.py", "tests", "backend", ""], "setup": {"duration": 0.049249841999994715, "outcome": "passed", "stderr": "2026-01-19 09:34:14,600 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:14,641 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:14,642 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:14,643 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:14,643 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:14,643 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:14,643 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815254.600695, "msecs": 600.0, "relativeCreated": 60478.662967681885, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,600"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815254.6412, "msecs": 641.0, "relativeCreated": 60519.16813850403, "thread": 140512215779008, "threadName": "Thread-284 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,641"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815254.6426485, "msecs": 642.0, "relativeCreated": 60520.61653137207, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb883ee390", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,642"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815254.6430428, "msecs": 643.0, "relativeCreated": 60521.010875701904, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb883ee390", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,643"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815254.6432898, "msecs": 643.0, "relativeCreated": 60521.25787734985, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb883ee390", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,643"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815254.643526, "msecs": 643.0, "relativeCreated": 60521.49415016174, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb883ee390", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,643"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815254.643868, "msecs": 643.0, "relativeCreated": 60521.836042404175, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb883ee390", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,643"}]}, "call": {"duration": 0.011167450000016288, "outcome": "passed", "stderr": "2026-01-19 09:34:14,651 - backend.request_id_middleware - INFO - [7880c5d9-7e16-4594-be1c-afcfd556d2a0] - Request started: GET /api/v1/permissions/\n2026-01-19 09:34:14,658 - backend.request_id_middleware - INFO - [7880c5d9-7e16-4594-be1c-afcfd556d2a0] - Request completed: GET /api/v1/permissions/ - Status: 200\n2026-01-19 09:34:14,660 - httpx - INFO - [-] - HTTP Request: GET http://testserver/api/v1/permissions/?search=students \"HTTP/1.1 200 OK\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: GET /api/v1/permissions/", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815254.651433, "msecs": 651.0, "relativeCreated": 60529.40106391907, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb883ee390", "processName": "MainProcess", "process": 2241, "request_id": "7880c5d9-7e16-4594-be1c-afcfd556d2a0", "asctime": "2026-01-19 09:34:14,651"}, {"name": "backend.request_id_middleware", "msg": "Request completed: GET /api/v1/permissions/ - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815254.6580086, "msecs": 658.0, "relativeCreated": 60535.97664833069, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb883ee390", "processName": "MainProcess", "process": 2241, "request_id": "7880c5d9-7e16-4594-be1c-afcfd556d2a0", "asctime": "2026-01-19 09:34:14,658"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/api/v1/permissions/?search=students \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815254.660327, "msecs": 660.0, "relativeCreated": 60538.29503059387, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,660"}]}, "teardown": {"duration": 0.011310286999986374, "outcome": "passed", "stderr": "2026-01-19 09:34:14,661 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:14,662 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:14,662 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:14,662 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:14,662 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:14,663 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:14,663 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815254.6618264, "msecs": 661.0, "relativeCreated": 60539.79444503784, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb883ee390", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,661"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815254.6621857, "msecs": 662.0, "relativeCreated": 60540.15374183655, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb883ee390", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,662"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815254.6624477, "msecs": 662.0, "relativeCreated": 60540.41576385498, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb883ee390", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,662"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815254.6626956, "msecs": 662.0, "relativeCreated": 60540.663719177246, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb883ee390", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,662"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815254.662981, "msecs": 662.0, "relativeCreated": 60540.94910621643, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb883ee390", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,662"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815254.6631992, "msecs": 663.0, "relativeCreated": 60541.16725921631, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb883ee390", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,663"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815254.6634138, "msecs": 663.0, "relativeCreated": 60541.3818359375, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb883ee390", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,663"}]}}, {"nodeid": "tests/test_permissions_api.py::test_get_permission_by_id", "lineno": 115, "outcome": "passed", "keywords": ["test_get_permission_by_id", "test_permissions_api.py", "tests", "backend", ""], "setup": {"duration": 0.04806277800000203, "outcome": "passed", "stderr": "2026-01-19 09:34:14,673 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:14,714 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:14,715 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:14,715 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:14,716 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:14,716 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:14,716 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815254.673772, "msecs": 673.0, "relativeCreated": 60551.74016952515, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,673"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815254.7140794, "msecs": 714.0, "relativeCreated": 60592.047452926636, "thread": 140512198997696, "threadName": "Thread-285 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,714"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815254.7156775, "msecs": 715.0, "relativeCreated": 60593.64557266235, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb88413dd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,715"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815254.7159884, "msecs": 715.0, "relativeCreated": 60593.9564704895, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb88413dd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,715"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815254.716224, "msecs": 716.0, "relativeCreated": 60594.192028045654, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb88413dd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,716"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815254.7164538, "msecs": 716.0, "relativeCreated": 60594.42186355591, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb88413dd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,716"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815254.7166731, "msecs": 716.0, "relativeCreated": 60594.64120864868, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb88413dd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,716"}]}, "call": {"duration": 0.011438676000011583, "outcome": "passed", "stderr": "2026-01-19 09:34:14,724 - backend.request_id_middleware - INFO - [cc0e4b3b-f892-4ac3-8590-876726865e40] - Request started: GET /api/v1/permissions/1\n2026-01-19 09:34:14,730 - backend.request_id_middleware - INFO - [cc0e4b3b-f892-4ac3-8590-876726865e40] - Request completed: GET /api/v1/permissions/1 - Status: 200\n2026-01-19 09:34:14,732 - httpx - INFO - [-] - HTTP Request: GET http://testserver/api/v1/permissions/1 \"HTTP/1.1 200 OK\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: GET /api/v1/permissions/1", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815254.7247818, "msecs": 724.0, "relativeCreated": 60602.749824523926, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb88413dd0", "processName": "MainProcess", "process": 2241, "request_id": "cc0e4b3b-f892-4ac3-8590-876726865e40", "asctime": "2026-01-19 09:34:14,724"}, {"name": "backend.request_id_middleware", "msg": "Request completed: GET /api/v1/permissions/1 - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815254.730149, "msecs": 730.0, "relativeCreated": 60608.11710357666, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb88413dd0", "processName": "MainProcess", "process": 2241, "request_id": "cc0e4b3b-f892-4ac3-8590-876726865e40", "asctime": "2026-01-19 09:34:14,730"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/api/v1/permissions/1 \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815254.7324383, "msecs": 732.0, "relativeCreated": 60610.40639877319, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,732"}]}, "teardown": {"duration": 0.011064849999996795, "outcome": "passed", "stderr": "2026-01-19 09:34:14,733 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:14,734 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:14,734 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:14,734 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:14,735 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:14,735 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:14,735 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815254.7338665, "msecs": 733.0, "relativeCreated": 60611.83452606201, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb88413dd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,733"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815254.7342694, "msecs": 734.0, "relativeCreated": 60612.23745346069, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb88413dd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,734"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815254.7345335, "msecs": 734.0, "relativeCreated": 60612.50162124634, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb88413dd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,734"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815254.7348087, "msecs": 734.0, "relativeCreated": 60612.77675628662, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb88413dd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,734"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815254.735067, "msecs": 735.0, "relativeCreated": 60613.03496360779, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb88413dd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,735"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815254.7352827, "msecs": 735.0, "relativeCreated": 60613.250732421875, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb88413dd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,735"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815254.7354968, "msecs": 735.0, "relativeCreated": 60613.46483230591, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb88413dd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,735"}]}}, {"nodeid": "tests/test_permissions_api.py::test_get_permission_not_found", "lineno": 129, "outcome": "passed", "keywords": ["test_get_permission_not_found", "test_permissions_api.py", "tests", "backend", ""], "setup": {"duration": 0.044010894000024336, "outcome": "passed", "stderr": "2026-01-19 09:34:14,745 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:14,785 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:14,786 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:14,787 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:14,787 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:14,787 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:14,788 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815254.745534, "msecs": 745.0, "relativeCreated": 60623.502016067505, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,745"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815254.7856262, "msecs": 785.0, "relativeCreated": 60663.594245910645, "thread": 140512198997696, "threadName": "Thread-286 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,785"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815254.7869925, "msecs": 786.0, "relativeCreated": 60664.960622787476, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb884259d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,786"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815254.787345, "msecs": 787.0, "relativeCreated": 60665.31300544739, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb884259d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,787"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815254.787585, "msecs": 787.0, "relativeCreated": 60665.55309295654, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb884259d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,787"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815254.7878492, "msecs": 787.0, "relativeCreated": 60665.81726074219, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb884259d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,787"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815254.7880757, "msecs": 788.0, "relativeCreated": 60666.043758392334, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb884259d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,788"}]}, "call": {"duration": 0.010471892999987631, "outcome": "passed", "stderr": "2026-01-19 09:34:14,791 - backend.request_id_middleware - INFO - [bfd1ea47-1b5b-426d-ab98-a2ebd0e4449b] - Request started: GET /api/v1/permissions/99999\n2026-01-19 09:34:14,797 - backend.request_id_middleware - INFO - [bfd1ea47-1b5b-426d-ab98-a2ebd0e4449b] - Request completed: GET /api/v1/permissions/99999 - Status: 404\n2026-01-19 09:34:14,799 - httpx - INFO - [-] - HTTP Request: GET http://testserver/api/v1/permissions/99999 \"HTTP/1.1 404 Not Found\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: GET /api/v1/permissions/99999", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815254.7911205, "msecs": 791.0, "relativeCreated": 60669.08860206604, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb884259d0", "processName": "MainProcess", "process": 2241, "request_id": "bfd1ea47-1b5b-426d-ab98-a2ebd0e4449b", "asctime": "2026-01-19 09:34:14,791"}, {"name": "backend.request_id_middleware", "msg": "Request completed: GET /api/v1/permissions/99999 - Status: 404", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815254.7972338, "msecs": 797.0, "relativeCreated": 60675.20189285278, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb884259d0", "processName": "MainProcess", "process": 2241, "request_id": "bfd1ea47-1b5b-426d-ab98-a2ebd0e4449b", "asctime": "2026-01-19 09:34:14,797"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/api/v1/permissions/99999 \"HTTP/1.1 404 Not Found\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815254.7993083, "msecs": 799.0, "relativeCreated": 60677.276372909546, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,799"}]}, "teardown": {"duration": 0.01093882399999302, "outcome": "passed", "stderr": "2026-01-19 09:34:14,800 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:14,801 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:14,801 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:14,801 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:14,801 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:14,802 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:14,802 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815254.8006706, "msecs": 800.0, "relativeCreated": 60678.63869667053, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb884259d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,800"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815254.8010616, "msecs": 801.0, "relativeCreated": 60679.02970314026, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb884259d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,801"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815254.8013287, "msecs": 801.0, "relativeCreated": 60679.29673194885, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb884259d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,801"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815254.8015792, "msecs": 801.0, "relativeCreated": 60679.54730987549, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb884259d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,801"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815254.8018744, "msecs": 801.0, "relativeCreated": 60679.842472076416, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb884259d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,801"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815254.8020964, "msecs": 802.0, "relativeCreated": 60680.06443977356, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb884259d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,802"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815254.8023133, "msecs": 802.0, "relativeCreated": 60680.28140068054, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb884259d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,802"}]}}, {"nodeid": "tests/test_permissions_api.py::test_list_permissions_by_resource_grouped", "lineno": 136, "outcome": "passed", "keywords": ["test_list_permissions_by_resource_grouped", "test_permissions_api.py", "tests", "backend", ""], "setup": {"duration": 0.047938367000000426, "outcome": "passed", "stderr": "2026-01-19 09:34:14,812 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:14,852 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:14,853 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:14,854 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:14,854 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:14,854 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:14,855 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815254.8122096, "msecs": 812.0, "relativeCreated": 60690.17767906189, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,812"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815254.8522546, "msecs": 852.0, "relativeCreated": 60730.22270202637, "thread": 140512215779008, "threadName": "Thread-287 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,852"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815254.8539138, "msecs": 853.0, "relativeCreated": 60731.881856918335, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8842ea50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,853"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815254.8542774, "msecs": 854.0, "relativeCreated": 60732.245445251465, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8842ea50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,854"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815254.854534, "msecs": 854.0, "relativeCreated": 60732.50198364258, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8842ea50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,854"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815254.854792, "msecs": 854.0, "relativeCreated": 60732.760190963745, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8842ea50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,854"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815254.8550243, "msecs": 855.0, "relativeCreated": 60732.99241065979, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8842ea50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,855"}]}, "call": {"duration": 0.01040175299999646, "outcome": "passed", "stderr": "2026-01-19 09:34:14,861 - backend.request_id_middleware - INFO - [93d224f9-775c-435c-b67e-d7578e5f5fca] - Request started: GET /api/v1/permissions/by-resource\n2026-01-19 09:34:14,867 - backend.request_id_middleware - INFO - [93d224f9-775c-435c-b67e-d7578e5f5fca] - Request completed: GET /api/v1/permissions/by-resource - Status: 200\n2026-01-19 09:34:14,869 - httpx - INFO - [-] - HTTP Request: GET http://testserver/api/v1/permissions/by-resource \"HTTP/1.1 200 OK\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: GET /api/v1/permissions/by-resource", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815254.8616765, "msecs": 861.0, "relativeCreated": 60739.6445274353, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8842ea50", "processName": "MainProcess", "process": 2241, "request_id": "93d224f9-775c-435c-b67e-d7578e5f5fca", "asctime": "2026-01-19 09:34:14,861"}, {"name": "backend.request_id_middleware", "msg": "Request completed: GET /api/v1/permissions/by-resource - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815254.8674636, "msecs": 867.0, "relativeCreated": 60745.431661605835, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8842ea50", "processName": "MainProcess", "process": 2241, "request_id": "93d224f9-775c-435c-b67e-d7578e5f5fca", "asctime": "2026-01-19 09:34:14,867"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/api/v1/permissions/by-resource \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815254.8698134, "msecs": 869.0, "relativeCreated": 60747.78151512146, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,869"}]}, "teardown": {"duration": 0.011613592000003337, "outcome": "passed", "stderr": "2026-01-19 09:34:14,871 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:14,871 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:14,872 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:14,872 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:14,872 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:14,872 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:14,873 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815254.8713129, "msecs": 871.0, "relativeCreated": 60749.28092956543, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8842ea50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,871"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815254.8717852, "msecs": 871.0, "relativeCreated": 60749.75323677063, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8842ea50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,871"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815254.8721256, "msecs": 872.0, "relativeCreated": 60750.09369850159, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8842ea50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,872"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815254.8724089, "msecs": 872.0, "relativeCreated": 60750.37693977356, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8842ea50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,872"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815254.8726573, "msecs": 872.0, "relativeCreated": 60750.62537193298, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8842ea50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,872"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815254.8729012, "msecs": 872.0, "relativeCreated": 60750.869274139404, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8842ea50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,872"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815254.8731341, "msecs": 873.0, "relativeCreated": 60751.10220909119, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8842ea50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,873"}]}}, {"nodeid": "tests/test_permissions_api.py::test_get_permission_stats", "lineno": 155, "outcome": "passed", "keywords": ["test_get_permission_stats", "test_permissions_api.py", "tests", "backend", ""], "setup": {"duration": 0.04892747799999597, "outcome": "passed", "stderr": "2026-01-19 09:34:14,883 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:14,924 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:14,926 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:14,926 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:14,926 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:14,927 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:14,927 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815254.883568, "msecs": 883.0, "relativeCreated": 60761.53612136841, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,883"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815254.9245813, "msecs": 924.0, "relativeCreated": 60802.54936218262, "thread": 140512215779008, "threadName": "Thread-288 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,924"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815254.9262538, "msecs": 926.0, "relativeCreated": 60804.221868515015, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88421510", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,926"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815254.926593, "msecs": 926.0, "relativeCreated": 60804.561138153076, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88421510", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,926"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815254.926864, "msecs": 926.0, "relativeCreated": 60804.831981658936, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88421510", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,926"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815254.9271052, "msecs": 927.0, "relativeCreated": 60805.073261260986, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88421510", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,927"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815254.9273288, "msecs": 927.0, "relativeCreated": 60805.29689788818, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88421510", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,927"}]}, "call": {"duration": 0.015676487000007455, "outcome": "passed", "stderr": "2026-01-19 09:34:14,933 - backend.request_id_middleware - INFO - [8392f138-89d8-4d07-b5ea-66f30be55163] - Request started: GET /api/v1/permissions/stats\n2026-01-19 09:34:14,945 - backend.request_id_middleware - INFO - [8392f138-89d8-4d07-b5ea-66f30be55163] - Request completed: GET /api/v1/permissions/stats - Status: 200\n2026-01-19 09:34:14,947 - httpx - INFO - [-] - HTTP Request: GET http://testserver/api/v1/permissions/stats \"HTTP/1.1 200 OK\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: GET /api/v1/permissions/stats", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815254.9339418, "msecs": 933.0, "relativeCreated": 60811.90991401672, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88421510", "processName": "MainProcess", "process": 2241, "request_id": "8392f138-89d8-4d07-b5ea-66f30be55163", "asctime": "2026-01-19 09:34:14,933"}, {"name": "backend.request_id_middleware", "msg": "Request completed: GET /api/v1/permissions/stats - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815254.9450002, "msecs": 945.0, "relativeCreated": 60822.96824455261, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88421510", "processName": "MainProcess", "process": 2241, "request_id": "8392f138-89d8-4d07-b5ea-66f30be55163", "asctime": "2026-01-19 09:34:14,945"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/api/v1/permissions/stats \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815254.9473479, "msecs": 947.0, "relativeCreated": 60825.315952301025, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,947"}]}, "teardown": {"duration": 0.011076782000003504, "outcome": "passed", "stderr": "2026-01-19 09:34:14,948 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:14,949 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:14,949 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:14,949 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:14,950 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:14,950 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:14,950 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815254.9488232, "msecs": 948.0, "relativeCreated": 60826.791286468506, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88421510", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,948"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815254.9492285, "msecs": 949.0, "relativeCreated": 60827.19659805298, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88421510", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,949"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815254.949511, "msecs": 949.0, "relativeCreated": 60827.479124069214, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88421510", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,949"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815254.9497898, "msecs": 949.0, "relativeCreated": 60827.75783538818, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88421510", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,949"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815254.9500525, "msecs": 950.0, "relativeCreated": 60828.02057266235, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88421510", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,950"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815254.9502687, "msecs": 950.0, "relativeCreated": 60828.2368183136, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88421510", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,950"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815254.9504852, "msecs": 950.0, "relativeCreated": 60828.45330238342, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88421510", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,950"}]}}, {"nodeid": "tests/test_permissions_api.py::test_create_permission_requires_permission", "lineno": 173, "outcome": "passed", "keywords": ["test_create_permission_requires_permission", "test_permissions_api.py", "tests", "backend", ""], "setup": {"duration": 0.04437228699998741, "outcome": "passed", "stderr": "2026-01-19 09:34:14,960 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:15,001 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:15,002 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:15,002 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:15,003 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:15,003 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:15,003 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815254.9605744, "msecs": 960.0, "relativeCreated": 60838.542461395264, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:14,960"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815255.001136, "msecs": 1.0, "relativeCreated": 60879.104137420654, "thread": 140512198997696, "threadName": "Thread-289 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,001"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815255.0025883, "msecs": 2.0, "relativeCreated": 60880.55634498596, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb883fcb50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,002"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815255.0029488, "msecs": 2.0, "relativeCreated": 60880.91683387756, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb883fcb50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,002"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815255.0031903, "msecs": 3.0, "relativeCreated": 60881.15835189819, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb883fcb50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,003"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815255.003424, "msecs": 3.0, "relativeCreated": 60881.39200210571, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb883fcb50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,003"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815255.003648, "msecs": 3.0, "relativeCreated": 60881.61611557007, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb883fcb50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,003"}]}, "call": {"duration": 0.014313956999984612, "outcome": "passed", "stderr": "2026-01-19 09:34:15,006 - backend.request_id_middleware - INFO - [3dda4ee0-324f-416f-ba04-cd182d3ce606] - Request started: POST /api/v1/permissions/\n2026-01-19 09:34:15,016 - backend.request_id_middleware - INFO - [3dda4ee0-324f-416f-ba04-cd182d3ce606] - Request completed: POST /api/v1/permissions/ - Status: 201\n2026-01-19 09:34:15,018 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/permissions/ \"HTTP/1.1 201 Created\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/permissions/", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815255.0062587, "msecs": 6.0, "relativeCreated": 60884.22679901123, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb883fcb50", "processName": "MainProcess", "process": 2241, "request_id": "3dda4ee0-324f-416f-ba04-cd182d3ce606", "asctime": "2026-01-19 09:34:15,006"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/permissions/ - Status: 201", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815255.0161262, "msecs": 16.0, "relativeCreated": 60894.09422874451, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb883fcb50", "processName": "MainProcess", "process": 2241, "request_id": "3dda4ee0-324f-416f-ba04-cd182d3ce606", "asctime": "2026-01-19 09:34:15,016"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/permissions/ \"HTTP/1.1 201 Created\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815255.01845, "msecs": 18.0, "relativeCreated": 60896.41809463501, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,018"}]}, "teardown": {"duration": 0.01110059600000568, "outcome": "passed", "stderr": "2026-01-19 09:34:15,019 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:15,020 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:15,020 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:15,020 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:15,021 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:15,021 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:15,021 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815255.019923, "msecs": 19.0, "relativeCreated": 60897.8910446167, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb883fcb50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,019"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815255.0203583, "msecs": 20.0, "relativeCreated": 60898.32639694214, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb883fcb50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,020"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815255.0206578, "msecs": 20.0, "relativeCreated": 60898.62585067749, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb883fcb50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,020"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815255.020938, "msecs": 20.0, "relativeCreated": 60898.905992507935, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb883fcb50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,020"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815255.0211928, "msecs": 21.0, "relativeCreated": 60899.160861968994, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb883fcb50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,021"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815255.0214114, "msecs": 21.0, "relativeCreated": 60899.37949180603, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb883fcb50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,021"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815255.0216281, "msecs": 21.0, "relativeCreated": 60899.59621429443, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb883fcb50", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,021"}]}}, {"nodeid": "tests/test_permissions_api.py::test_update_permission", "lineno": 184, "outcome": "passed", "keywords": ["test_update_permission", "test_permissions_api.py", "tests", "backend", ""], "setup": {"duration": 0.04834397199999785, "outcome": "passed", "stderr": "2026-01-19 09:34:15,031 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:15,071 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:15,073 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:15,073 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:15,074 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:15,074 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:15,074 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815255.031497, "msecs": 31.0, "relativeCreated": 60909.465074539185, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,031"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815255.0719507, "msecs": 71.0, "relativeCreated": 60949.91874694824, "thread": 140512215779008, "threadName": "Thread-290 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,071"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815255.073521, "msecs": 73.0, "relativeCreated": 60951.488971710205, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8842d9d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,073"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815255.0739064, "msecs": 73.0, "relativeCreated": 60951.87449455261, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8842d9d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,073"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815255.0741634, "msecs": 74.0, "relativeCreated": 60952.131509780884, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8842d9d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,074"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815255.0744038, "msecs": 74.0, "relativeCreated": 60952.37183570862, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8842d9d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,074"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815255.0746446, "msecs": 74.0, "relativeCreated": 60952.61263847351, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8842d9d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,074"}]}, "call": {"duration": 0.014117429999998876, "outcome": "passed", "stderr": "2026-01-19 09:34:15,082 - backend.request_id_middleware - INFO - [cd0c2d23-9179-4a0f-b66f-949a0131e857] - Request started: PATCH /api/v1/permissions/1\n2026-01-19 09:34:15,090 - backend.request_id_middleware - INFO - [cd0c2d23-9179-4a0f-b66f-949a0131e857] - Request completed: PATCH /api/v1/permissions/1 - Status: 200\n2026-01-19 09:34:15,093 - httpx - INFO - [-] - HTTP Request: PATCH http://testserver/api/v1/permissions/1 \"HTTP/1.1 200 OK\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: PATCH /api/v1/permissions/1", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815255.0821385, "msecs": 82.0, "relativeCreated": 60960.10661125183, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8842d9d0", "processName": "MainProcess", "process": 2241, "request_id": "cd0c2d23-9179-4a0f-b66f-949a0131e857", "asctime": "2026-01-19 09:34:15,082"}, {"name": "backend.request_id_middleware", "msg": "Request completed: PATCH /api/v1/permissions/1 - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815255.0905712, "msecs": 90.0, "relativeCreated": 60968.539237976074, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8842d9d0", "processName": "MainProcess", "process": 2241, "request_id": "cd0c2d23-9179-4a0f-b66f-949a0131e857", "asctime": "2026-01-19 09:34:15,090"}, {"name": "httpx", "msg": "HTTP Request: PATCH http://testserver/api/v1/permissions/1 \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815255.0932193, "msecs": 93.0, "relativeCreated": 60971.187353134155, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,093"}]}, "teardown": {"duration": 0.011504860000002282, "outcome": "passed", "stderr": "2026-01-19 09:34:15,094 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:15,095 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:15,095 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:15,095 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:15,095 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:15,096 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:15,096 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815255.0947616, "msecs": 94.0, "relativeCreated": 60972.72968292236, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8842d9d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,094"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815255.09512, "msecs": 95.0, "relativeCreated": 60973.08802604675, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8842d9d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,095"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815255.0953813, "msecs": 95.0, "relativeCreated": 60973.34933280945, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8842d9d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,095"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815255.0956385, "msecs": 95.0, "relativeCreated": 60973.6065864563, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8842d9d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,095"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815255.0959337, "msecs": 95.0, "relativeCreated": 60973.90174865723, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8842d9d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,095"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815255.096164, "msecs": 96.0, "relativeCreated": 60974.13206100464, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8842d9d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,096"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815255.0964105, "msecs": 96.0, "relativeCreated": 60974.37858581543, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8842d9d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,096"}]}}, {"nodeid": "tests/test_permissions_api.py::test_get_user_permissions", "lineno": 194, "outcome": "passed", "keywords": ["test_get_user_permissions", "test_permissions_api.py", "tests", "backend", ""], "setup": {"duration": 0.049494698000017934, "outcome": "passed", "stderr": "2026-01-19 09:34:15,106 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:15,147 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:15,149 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:15,150 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:15,150 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:15,150 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:15,151 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815255.1069138, "msecs": 106.0, "relativeCreated": 60984.88187789917, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,106"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815255.1475687, "msecs": 147.0, "relativeCreated": 61025.53677558899, "thread": 140512215779008, "threadName": "Thread-291 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,147"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815255.149989, "msecs": 149.0, "relativeCreated": 61027.95696258545, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88413dd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,149"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815255.1503468, "msecs": 150.0, "relativeCreated": 61028.31482887268, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88413dd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,150"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815255.1505904, "msecs": 150.0, "relativeCreated": 61028.55849266052, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88413dd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,150"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815255.1508515, "msecs": 150.0, "relativeCreated": 61028.81956100464, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88413dd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,150"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815255.1510766, "msecs": 151.0, "relativeCreated": 61029.04462814331, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88413dd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,151"}]}, "call": {"duration": 0.016921388000014304, "outcome": "passed", "stderr": "2026-01-19 09:34:15,160 - backend.request_id_middleware - INFO - [47c58604-df95-4653-94fa-047f9b810354] - Request started: GET /api/v1/permissions/users/1\n2026-01-19 09:34:15,170 - backend.request_id_middleware - INFO - [47c58604-df95-4653-94fa-047f9b810354] - Request completed: GET /api/v1/permissions/users/1 - Status: 200\n2026-01-19 09:34:15,172 - httpx - INFO - [-] - HTTP Request: GET http://testserver/api/v1/permissions/users/1 \"HTTP/1.1 200 OK\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: GET /api/v1/permissions/users/1", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815255.1602607, "msecs": 160.0, "relativeCreated": 61038.22875022888, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88413dd0", "processName": "MainProcess", "process": 2241, "request_id": "47c58604-df95-4653-94fa-047f9b810354", "asctime": "2026-01-19 09:34:15,160"}, {"name": "backend.request_id_middleware", "msg": "Request completed: GET /api/v1/permissions/users/1 - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815255.1700978, "msecs": 170.0, "relativeCreated": 61048.06590080261, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88413dd0", "processName": "MainProcess", "process": 2241, "request_id": "47c58604-df95-4653-94fa-047f9b810354", "asctime": "2026-01-19 09:34:15,170"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/api/v1/permissions/users/1 \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815255.172441, "msecs": 172.0, "relativeCreated": 61050.40907859802, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,172"}]}, "teardown": {"duration": 0.011148969000004172, "outcome": "passed", "stderr": "2026-01-19 09:34:15,173 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:15,174 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:15,174 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:15,174 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:15,175 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:15,175 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:15,175 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815255.173971, "msecs": 173.0, "relativeCreated": 61051.93901062012, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88413dd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,173"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815255.1743624, "msecs": 174.0, "relativeCreated": 61052.330493927, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88413dd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,174"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815255.1746428, "msecs": 174.0, "relativeCreated": 61052.610874176025, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88413dd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,174"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815255.174938, "msecs": 174.0, "relativeCreated": 61052.90603637695, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88413dd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,174"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815255.175228, "msecs": 175.0, "relativeCreated": 61053.19619178772, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88413dd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,175"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815255.1754472, "msecs": 175.0, "relativeCreated": 61053.415298461914, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88413dd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,175"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815255.1756651, "msecs": 175.0, "relativeCreated": 61053.63321304321, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88413dd0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,175"}]}}, {"nodeid": "tests/test_permissions_api.py::test_user_can_view_own_permissions", "lineno": 219, "outcome": "passed", "keywords": ["test_user_can_view_own_permissions", "test_permissions_api.py", "tests", "backend", ""], "setup": {"duration": 0.04461745500000802, "outcome": "passed", "stderr": "2026-01-19 09:34:15,185 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:15,225 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:15,227 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:15,228 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:15,228 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:15,228 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:15,228 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815255.1856847, "msecs": 185.0, "relativeCreated": 61063.652753829956, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,185"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815255.2259822, "msecs": 225.0, "relativeCreated": 61103.9502620697, "thread": 140512215779008, "threadName": "Thread-292 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,225"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815255.2278898, "msecs": 227.0, "relativeCreated": 61105.857849121094, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88448c90", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,227"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815255.2282007, "msecs": 228.0, "relativeCreated": 61106.16874694824, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88448c90", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,228"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815255.2284472, "msecs": 228.0, "relativeCreated": 61106.41527175903, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88448c90", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,228"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815255.2286859, "msecs": 228.0, "relativeCreated": 61106.653928756714, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88448c90", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,228"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815255.2289443, "msecs": 228.0, "relativeCreated": 61106.91237449646, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88448c90", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,228"}]}, "call": {"duration": 0.013766867000015282, "outcome": "passed", "stderr": "2026-01-19 09:34:15,233 - backend.request_id_middleware - INFO - [d91868da-0c2e-4708-b68e-f6140bd29682] - Request started: GET /api/v1/permissions/users/1\n2026-01-19 09:34:15,240 - backend.request_id_middleware - INFO - [d91868da-0c2e-4708-b68e-f6140bd29682] - Request completed: GET /api/v1/permissions/users/1 - Status: 200\n2026-01-19 09:34:15,243 - httpx - INFO - [-] - HTTP Request: GET http://testserver/api/v1/permissions/users/1 \"HTTP/1.1 200 OK\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: GET /api/v1/permissions/users/1", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815255.2336755, "msecs": 233.0, "relativeCreated": 61111.64355278015, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88448c90", "processName": "MainProcess", "process": 2241, "request_id": "d91868da-0c2e-4708-b68e-f6140bd29682", "asctime": "2026-01-19 09:34:15,233"}, {"name": "backend.request_id_middleware", "msg": "Request completed: GET /api/v1/permissions/users/1 - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815255.2409143, "msecs": 240.0, "relativeCreated": 61118.88241767883, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88448c90", "processName": "MainProcess", "process": 2241, "request_id": "d91868da-0c2e-4708-b68e-f6140bd29682", "asctime": "2026-01-19 09:34:15,240"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/api/v1/permissions/users/1 \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815255.2432706, "msecs": 243.0, "relativeCreated": 61121.238708496094, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,243"}]}, "teardown": {"duration": 0.011405972000005704, "outcome": "passed", "stderr": "2026-01-19 09:34:15,244 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:15,245 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:15,245 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:15,245 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:15,245 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:15,246 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:15,246 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815255.2448199, "msecs": 244.0, "relativeCreated": 61122.787952423096, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88448c90", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,244"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815255.2451873, "msecs": 245.0, "relativeCreated": 61123.15535545349, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88448c90", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,245"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815255.2454548, "msecs": 245.0, "relativeCreated": 61123.42286109924, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88448c90", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,245"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815255.2457087, "msecs": 245.0, "relativeCreated": 61123.676776885986, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88448c90", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,245"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815255.245985, "msecs": 245.0, "relativeCreated": 61123.953104019165, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88448c90", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,245"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815255.2462022, "msecs": 246.0, "relativeCreated": 61124.17030334473, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88448c90", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,246"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815255.2464182, "msecs": 246.0, "relativeCreated": 61124.38631057739, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88448c90", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,246"}]}}, {"nodeid": "tests/test_permissions_api.py::test_pagination_works", "lineno": 239, "outcome": "passed", "keywords": ["test_pagination_works", "test_permissions_api.py", "tests", "backend", ""], "setup": {"duration": 0.044397434000018166, "outcome": "passed", "stderr": "2026-01-19 09:34:15,256 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:15,297 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:15,298 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:15,299 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:15,299 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:15,299 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:15,299 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815255.256855, "msecs": 256.0, "relativeCreated": 61134.82308387756, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,256"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815255.2972677, "msecs": 297.0, "relativeCreated": 61175.235748291016, "thread": 140512215779008, "threadName": "Thread-293 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,297"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815255.298815, "msecs": 298.0, "relativeCreated": 61176.783084869385, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88449190", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,298"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815255.2991197, "msecs": 299.0, "relativeCreated": 61177.08778381348, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88449190", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,299"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815255.2993546, "msecs": 299.0, "relativeCreated": 61177.32262611389, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88449190", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,299"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815255.2995977, "msecs": 299.0, "relativeCreated": 61177.565813064575, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88449190", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,299"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815255.2998567, "msecs": 299.0, "relativeCreated": 61177.82473564148, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88449190", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,299"}]}, "call": {"duration": 0.02227722400002108, "outcome": "passed", "stderr": "2026-01-19 09:34:15,306 - backend.request_id_middleware - INFO - [40510a6a-229f-4641-9a4c-ac570f81cba7] - Request started: GET /api/v1/permissions/\n2026-01-19 09:34:15,311 - backend.request_id_middleware - INFO - [40510a6a-229f-4641-9a4c-ac570f81cba7] - Request completed: GET /api/v1/permissions/ - Status: 200\n2026-01-19 09:34:15,313 - httpx - INFO - [-] - HTTP Request: GET http://testserver/api/v1/permissions/?skip=0&limit=5 \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:15,315 - backend.request_id_middleware - INFO - [3eb0485b-6cc5-4a31-832c-6b16caaf53f3] - Request started: GET /api/v1/permissions/\n2026-01-19 09:34:15,320 - backend.request_id_middleware - INFO - [3eb0485b-6cc5-4a31-832c-6b16caaf53f3] - Request completed: GET /api/v1/permissions/ - Status: 200\n2026-01-19 09:34:15,322 - httpx - INFO - [-] - HTTP Request: GET http://testserver/api/v1/permissions/?skip=5&limit=5 \"HTTP/1.1 200 OK\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: GET /api/v1/permissions/", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815255.3061454, "msecs": 306.0, "relativeCreated": 61184.11350250244, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88449190", "processName": "MainProcess", "process": 2241, "request_id": "40510a6a-229f-4641-9a4c-ac570f81cba7", "asctime": "2026-01-19 09:34:15,306"}, {"name": "backend.request_id_middleware", "msg": "Request completed: GET /api/v1/permissions/ - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815255.3116117, "msecs": 311.0, "relativeCreated": 61189.5797252655, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88449190", "processName": "MainProcess", "process": 2241, "request_id": "40510a6a-229f-4641-9a4c-ac570f81cba7", "asctime": "2026-01-19 09:34:15,311"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/api/v1/permissions/?skip=0&limit=5 \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815255.3139598, "msecs": 313.0, "relativeCreated": 61191.927909851074, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,313"}, {"name": "backend.request_id_middleware", "msg": "Request started: GET /api/v1/permissions/", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815255.3159206, "msecs": 315.0, "relativeCreated": 61193.888664245605, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88449190", "processName": "MainProcess", "process": 2241, "request_id": "3eb0485b-6cc5-4a31-832c-6b16caaf53f3", "asctime": "2026-01-19 09:34:15,315"}, {"name": "backend.request_id_middleware", "msg": "Request completed: GET /api/v1/permissions/ - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815255.32045, "msecs": 320.0, "relativeCreated": 61198.41814041138, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88449190", "processName": "MainProcess", "process": 2241, "request_id": "3eb0485b-6cc5-4a31-832c-6b16caaf53f3", "asctime": "2026-01-19 09:34:15,320"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/api/v1/permissions/?skip=5&limit=5 \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815255.3227594, "msecs": 322.0, "relativeCreated": 61200.727462768555, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,322"}]}, "teardown": {"duration": 0.011899486000004345, "outcome": "passed", "stderr": "2026-01-19 09:34:15,324 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:15,324 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:15,324 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:15,325 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:15,325 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:15,325 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:15,325 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815255.3242419, "msecs": 324.0, "relativeCreated": 61202.20994949341, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88449190", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,324"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815255.3246043, "msecs": 324.0, "relativeCreated": 61202.57234573364, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88449190", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,324"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815255.3249052, "msecs": 324.0, "relativeCreated": 61202.87322998047, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88449190", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,324"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815255.3251617, "msecs": 325.0, "relativeCreated": 61203.12976837158, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88449190", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,325"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815255.3254108, "msecs": 325.0, "relativeCreated": 61203.37891578674, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88449190", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,325"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815255.3256323, "msecs": 325.0, "relativeCreated": 61203.60040664673, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88449190", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,325"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815255.325879, "msecs": 325.0, "relativeCreated": 61203.8471698761, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88449190", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,325"}]}}, {"nodeid": "tests/test_rate_limit_enforcement.py::test_write_endpoints_rate_limited", "lineno": 49, "outcome": "passed", "keywords": ["test_write_endpoints_rate_limited", "test_rate_limit_enforcement.py", "tests", "backend", ""], "setup": {"duration": 0.03831695799999579, "outcome": "passed", "stderr": "2026-01-19 09:34:15,337 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815255.3370743, "msecs": 337.0, "relativeCreated": 61215.04235267639, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,337"}]}, "call": {"duration": 0.4130024419999927, "outcome": "passed"}, "teardown": {"duration": 0.0003943960000185598, "outcome": "passed"}}, {"nodeid": "tests/test_rate_limiting.py::test_rate_limit_constants", "lineno": 50, "outcome": "passed", "keywords": ["test_rate_limit_constants", "test_rate_limiting.py", "tests", "backend", ""], "setup": {"duration": 0.04282111499998109, "outcome": "passed", "stderr": "2026-01-19 09:34:15,790 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815255.7904294, "msecs": 790.0, "relativeCreated": 61668.397426605225, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,790"}]}, "call": {"duration": 0.00032798099999808983, "outcome": "passed"}, "teardown": {"duration": 0.0003136649999930796, "outcome": "passed"}}, {"nodeid": "tests/test_rate_limiting.py::test_read_endpoint_under_limit", "lineno": 74, "outcome": "passed", "keywords": ["test_read_endpoint_under_limit", "test_rate_limiting.py", "tests", "backend", ""], "setup": {"duration": 0.0428998420000255, "outcome": "passed", "stderr": "2026-01-19 09:34:15,834 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815255.8347652, "msecs": 834.0, "relativeCreated": 61712.73326873779, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,834"}]}, "call": {"duration": 0.009665359999985412, "outcome": "passed", "stderr": "2026-01-19 09:34:15,878 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:15,881 - httpx - INFO - [-] - HTTP Request: GET http://testserver/read \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:15,882 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:15,883 - httpx - INFO - [-] - HTTP Request: GET http://testserver/read \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:15,884 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:15,886 - httpx - INFO - [-] - HTTP Request: GET http://testserver/read \"HTTP/1.1 200 OK\"\n", "log": [{"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815255.878502, "msecs": 878.0, "relativeCreated": 61756.46996498108, "thread": 140512198997696, "threadName": "Thread-294 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,878"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/read \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815255.8810685, "msecs": 881.0, "relativeCreated": 61759.03654098511, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,881"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815255.882019, "msecs": 882.0, "relativeCreated": 61759.987115859985, "thread": 140512198997696, "threadName": "Thread-295 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,882"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/read \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815255.8839276, "msecs": 883.0, "relativeCreated": 61761.89565658569, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,883"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815255.8847082, "msecs": 884.0, "relativeCreated": 61762.67623901367, "thread": 140512198997696, "threadName": "Thread-296 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,884"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/read \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815255.8865697, "msecs": 886.0, "relativeCreated": 61764.5378112793, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,886"}]}, "teardown": {"duration": 0.0003867009999964921, "outcome": "passed"}}, {"nodeid": "tests/test_rate_limiting.py::test_write_endpoint_under_limit", "lineno": 83, "outcome": "passed", "keywords": ["test_write_endpoint_under_limit", "test_rate_limiting.py", "tests", "backend", ""], "setup": {"duration": 0.04502488399998583, "outcome": "passed", "stderr": "2026-01-19 09:34:15,888 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815255.8889003, "msecs": 888.0, "relativeCreated": 61766.868352890015, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,888"}]}, "call": {"duration": 0.00978792899999803, "outcome": "passed", "stderr": "2026-01-19 09:34:15,934 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:15,937 - httpx - INFO - [-] - HTTP Request: POST http://testserver/write \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:15,938 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:15,940 - httpx - INFO - [-] - HTTP Request: POST http://testserver/write \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:15,940 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:15,943 - httpx - INFO - [-] - HTTP Request: POST http://testserver/write \"HTTP/1.1 200 OK\"\n", "log": [{"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815255.9346492, "msecs": 934.0, "relativeCreated": 61812.61730194092, "thread": 140512198997696, "threadName": "Thread-297 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,934"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/write \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815255.937206, "msecs": 937.0, "relativeCreated": 61815.1741027832, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,937"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815255.938213, "msecs": 938.0, "relativeCreated": 61816.18118286133, "thread": 140512198997696, "threadName": "Thread-298 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,938"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/write \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815255.940158, "msecs": 940.0, "relativeCreated": 61818.12596321106, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,940"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815255.940989, "msecs": 940.0, "relativeCreated": 61818.95709037781, "thread": 140512198997696, "threadName": "Thread-299 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,940"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/write \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815255.9430034, "msecs": 943.0, "relativeCreated": 61820.97148895264, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,943"}]}, "teardown": {"duration": 0.0003656419999913396, "outcome": "passed"}}, {"nodeid": "tests/test_rate_limiting.py::test_heavy_endpoint_under_limit", "lineno": 92, "outcome": "passed", "keywords": ["test_heavy_endpoint_under_limit", "test_rate_limiting.py", "tests", "backend", ""], "setup": {"duration": 0.0442572640000094, "outcome": "passed", "stderr": "2026-01-19 09:34:15,945 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815255.9453795, "msecs": 945.0, "relativeCreated": 61823.34756851196, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,945"}]}, "call": {"duration": 0.004041515000011486, "outcome": "passed", "stderr": "2026-01-19 09:34:15,990 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:15,992 - httpx - INFO - [-] - HTTP Request: POST http://testserver/heavy \"HTTP/1.1 200 OK\"\n", "log": [{"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815255.9903896, "msecs": 990.0, "relativeCreated": 61868.35765838623, "thread": 140512198997696, "threadName": "Thread-300 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,990"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/heavy \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815255.9929378, "msecs": 992.0, "relativeCreated": 61870.90587615967, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,992"}]}, "teardown": {"duration": 0.0003512149999949088, "outcome": "passed"}}, {"nodeid": "tests/test_rate_limiting.py::test_rate_limit_headers_present", "lineno": 101, "outcome": "passed", "keywords": ["test_rate_limit_headers_present", "test_rate_limiting.py", "tests", "backend", ""], "setup": {"duration": 0.04292359700002635, "outcome": "passed", "stderr": "2026-01-19 09:34:15,995 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815255.9952464, "msecs": 995.0, "relativeCreated": 61873.21448326111, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:15,995"}]}, "call": {"duration": 0.004144257000007201, "outcome": "passed", "stderr": "2026-01-19 09:34:16,039 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:16,041 - httpx - INFO - [-] - HTTP Request: GET http://testserver/read \"HTTP/1.1 200 OK\"\n", "log": [{"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815256.0390058, "msecs": 39.0, "relativeCreated": 61916.97382926941, "thread": 140512198997696, "threadName": "Thread-301 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:16,039"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/read \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815256.0415878, "msecs": 41.0, "relativeCreated": 61919.55590248108, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:16,041"}]}, "teardown": {"duration": 0.00035162500000751606, "outcome": "passed"}}, {"nodeid": "tests/test_rate_limiting.py::test_limiter_instance", "lineno": 110, "outcome": "passed", "keywords": ["test_limiter_instance", "test_rate_limiting.py", "tests", "backend", ""], "setup": {"duration": 0.04204089099999919, "outcome": "passed", "stderr": "2026-01-19 09:34:16,043 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815256.0438733, "msecs": 43.0, "relativeCreated": 61921.84138298035, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:16,043"}]}, "call": {"duration": 0.00031360399998447974, "outcome": "passed"}, "teardown": {"duration": 0.0003502630000014051, "outcome": "passed"}}, {"nodeid": "tests/test_rate_limiting.py::test_different_endpoints_have_different_limits", "lineno": 116, "outcome": "passed", "keywords": ["test_different_endpoints_have_different_limits", "test_rate_limiting.py", "tests", "backend", ""], "setup": {"duration": 0.0412498770000127, "outcome": "passed", "stderr": "2026-01-19 09:34:16,087 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815256.0877821, "msecs": 87.0, "relativeCreated": 61965.750217437744, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:16,087"}]}, "call": {"duration": 0.0003366280000136612, "outcome": "passed"}, "teardown": {"duration": 0.00032704000000194355, "outcome": "passed"}}, {"nodeid": "tests/test_rbac.py::test_has_permission_via_role", "lineno": 82, "outcome": "passed", "keywords": ["test_has_permission_via_role", "test_rbac.py", "tests", "backend", ""], "setup": {"duration": 0.0466384220000009, "outcome": "passed", "stderr": "2026-01-19 09:34:16,131 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815256.131206, "msecs": 131.0, "relativeCreated": 62009.17410850525, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:16,131"}]}, "call": {"duration": 0.006774500000005901, "outcome": "passed"}, "teardown": {"duration": 0.0005851310000082321, "outcome": "passed"}}, {"nodeid": "tests/test_rbac.py::test_has_permission_via_direct_assignment", "lineno": 101, "outcome": "passed", "keywords": ["test_has_permission_via_direct_assignment", "test_rbac.py", "tests", "backend", ""], "setup": {"duration": 0.04624843600001327, "outcome": "passed", "stderr": "2026-01-19 09:34:16,186 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815256.1862617, "msecs": 186.0, "relativeCreated": 62064.22972679138, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:16,186"}]}, "call": {"duration": 0.004476555999985976, "outcome": "passed"}, "teardown": {"duration": 0.0005258200000071156, "outcome": "passed"}}, {"nodeid": "tests/test_rbac.py::test_has_permission_expired", "lineno": 117, "outcome": "passed", "keywords": ["test_has_permission_expired", "test_rbac.py", "tests", "backend", ""], "setup": {"duration": 0.044984768999995595, "outcome": "passed", "stderr": "2026-01-19 09:34:16,238 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815256.2386615, "msecs": 238.0, "relativeCreated": 62116.6296005249, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:16,238"}]}, "call": {"duration": 0.0038466220000259455, "outcome": "passed"}, "teardown": {"duration": 0.0005923550000090927, "outcome": "passed"}}, {"nodeid": "tests/test_rbac.py::test_has_permission_not_granted", "lineno": 134, "outcome": "passed", "keywords": ["test_has_permission_not_granted", "test_rbac.py", "tests", "backend", ""], "setup": {"duration": 0.04592259799997578, "outcome": "passed", "stderr": "2026-01-19 09:34:16,289 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815256.2892227, "msecs": 289.0, "relativeCreated": 62167.19079017639, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:16,289"}]}, "call": {"duration": 0.0026009990000090966, "outcome": "passed"}, "teardown": {"duration": 0.0005309299999964878, "outcome": "passed"}}, {"nodeid": "tests/test_rbac.py::test_has_permission_inactive_permission", "lineno": 140, "outcome": "passed", "keywords": ["test_has_permission_inactive_permission", "test_rbac.py", "tests", "backend", ""], "setup": {"duration": 0.04491677299998287, "outcome": "passed", "stderr": "2026-01-19 09:34:16,339 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815256.3394647, "msecs": 339.0, "relativeCreated": 62217.432737350464, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:16,339"}]}, "call": {"duration": 0.004689632999998139, "outcome": "passed"}, "teardown": {"duration": 0.0005345269999850188, "outcome": "passed"}}, {"nodeid": "tests/test_rbac.py::test_get_user_permissions", "lineno": 159, "outcome": "passed", "keywords": ["test_get_user_permissions", "test_rbac.py", "tests", "backend", ""], "setup": {"duration": 0.04675469999997972, "outcome": "passed", "stderr": "2026-01-19 09:34:16,390 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815256.3907292, "msecs": 390.0, "relativeCreated": 62268.6972618103, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:16,390"}]}, "call": {"duration": 0.004321267000022999, "outcome": "passed"}, "teardown": {"duration": 0.0006287619999909566, "outcome": "passed"}}, {"nodeid": "tests/test_rbac.py::test_get_user_permissions_empty", "lineno": 207, "outcome": "passed", "keywords": ["test_get_user_permissions_empty", "test_rbac.py", "tests", "backend", ""], "setup": {"duration": 0.04402379800001199, "outcome": "passed", "stderr": "2026-01-19 09:34:16,443 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815256.4436615, "msecs": 443.0, "relativeCreated": 62321.62952423096, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:16,443"}]}, "call": {"duration": 0.002194099999996979, "outcome": "passed"}, "teardown": {"duration": 0.00048655700001631885, "outcome": "passed"}}, {"nodeid": "tests/test_rbac.py::test_is_self_access_student", "lineno": 213, "outcome": "passed", "keywords": ["test_is_self_access_student", "test_rbac.py", "tests", "backend", ""], "setup": {"duration": 0.04205237200000056, "outcome": "passed", "stderr": "2026-01-19 09:34:16,491 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815256.491508, "msecs": 491.0, "relativeCreated": 62369.476079940796, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:16,491"}]}, "call": {"duration": 0.0007378859999960241, "outcome": "passed"}, "teardown": {"duration": 0.0003296650000095269, "outcome": "passed"}}, {"nodeid": "tests/test_rbac.py::test_is_self_access_non_student", "lineno": 234, "outcome": "passed", "keywords": ["test_is_self_access_non_student", "test_rbac.py", "tests", "backend", ""], "setup": {"duration": 0.041307292999988476, "outcome": "passed", "stderr": "2026-01-19 09:34:16,535 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815256.5356953, "msecs": 535.0, "relativeCreated": 62413.663387298584, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:16,535"}]}, "call": {"duration": 0.0006874709999920015, "outcome": "passed"}, "teardown": {"duration": 0.0003205870000044797, "outcome": "passed"}}, {"nodeid": "tests/test_rbac.py::test_is_self_access_non_self_permission", "lineno": 249, "outcome": "passed", "keywords": ["test_is_self_access_non_self_permission", "test_rbac.py", "tests", "backend", ""], "setup": {"duration": 0.04146233299999835, "outcome": "passed", "stderr": "2026-01-19 09:34:16,579 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815256.5791636, "msecs": 579.0, "relativeCreated": 62457.1316242218, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:16,579"}]}, "call": {"duration": 0.0007248009999898386, "outcome": "passed"}, "teardown": {"duration": 0.000345033000002104, "outcome": "passed"}}, {"nodeid": "tests/test_rbac_enforcement.py::test_rbac_blocks_anonymous_on_write", "lineno": 134, "outcome": "passed", "keywords": ["test_rbac_blocks_anonymous_on_write", "test_rbac_enforcement.py", "tests", "backend", ""], "setup": {"duration": 0.6434969459999991, "outcome": "passed", "stderr": "2026-01-19 09:34:16,623 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:16,726 - backend.logging_config - INFO - [-] - Logging initialized\n2026-01-19 09:34:16,732 - backend.router_registry - INFO - [-] - Admin router registered successfully\n2026-01-19 09:34:16,751 - backend.router_registry - INFO - [-] - Auth router registered successfully\n2026-01-19 09:34:17,137 - backend.router_registry - INFO - [-] - Registered routers: Students, Admin, Courses, Grades, Attendance, Analytics, DailyPerformance, Export, Enrollments, Imports, Highlights, AdminOps, Sessions, Diagnostics, Reports, Jobs, Audit, RBAC, Permissions Management, Metrics, Feedback, Notifications, Import/Export, Search, Control\n2026-01-19 09:34:17,141 - backend.middleware.prometheus_metrics - INFO - [-] - Prometheus metrics instrumentation completed\n2026-01-19 09:34:17,141 - backend.middleware.prometheus_metrics - INFO - [-] - Metrics endpoint will be manually added in main.py (instrumentator.expose has issues)\n2026-01-19 09:34:17,143 - backend.app_factory - INFO - [-] - \u2705 /metrics endpoint registered\n2026-01-19 09:34:17,144 - backend.app_factory - WARNING - [-] - \u26a0\ufe0f  Failed to mount WebSocket server: 'AsyncServer' object has no attribute 'asgi_app'\n2026-01-19 09:34:17,144 - backend.app_factory - INFO - [-] - FastAPI application created successfully (version=1.17.2)\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815256.6231735, "msecs": 623.0, "relativeCreated": 62501.14154815674, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:16,623"}, {"name": "backend.logging_config", "msg": "Logging initialized", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/logging_config.py", "filename": "logging_config.py", "module": "logging_config", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 114, "funcName": "initialize_logging", "created": 1768815256.7262502, "msecs": 726.0, "relativeCreated": 62604.21824455261, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:16,726"}, {"name": "backend.router_registry", "msg": "Admin router registered successfully", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/router_registry.py", "filename": "router_registry.py", "module": "router_registry", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 36, "funcName": "register_routers", "created": 1768815256.732377, "msecs": 732.0, "relativeCreated": 62610.345125198364, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:16,732"}, {"name": "backend.router_registry", "msg": "Auth router registered successfully", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/router_registry.py", "filename": "router_registry.py", "module": "router_registry", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 51, "funcName": "register_routers", "created": 1768815256.7513268, "msecs": 751.0, "relativeCreated": 62629.294872283936, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:16,751"}, {"name": "backend.router_registry", "msg": "Registered routers: Students, Admin, Courses, Grades, Attendance, Analytics, DailyPerformance, Export, Enrollments, Imports, Highlights, AdminOps, Sessions, Diagnostics, Reports, Jobs, Audit, RBAC, Permissions Management, Metrics, Feedback, Notifications, Import/Export, Search, Control", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/router_registry.py", "filename": "router_registry.py", "module": "router_registry", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 121, "funcName": "register_routers", "created": 1768815257.1379356, "msecs": 137.0, "relativeCreated": 63015.90371131897, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:17,137"}, {"name": "backend.middleware.prometheus_metrics", "msg": "Prometheus metrics instrumentation completed", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/middleware/prometheus_metrics.py", "filename": "prometheus_metrics.py", "module": "prometheus_metrics", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 337, "funcName": "setup_metrics", "created": 1768815257.141251, "msecs": 141.0, "relativeCreated": 63019.219160079956, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:17,141"}, {"name": "backend.middleware.prometheus_metrics", "msg": "Metrics endpoint will be manually added in main.py (instrumentator.expose has issues)", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/middleware/prometheus_metrics.py", "filename": "prometheus_metrics.py", "module": "prometheus_metrics", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 338, "funcName": "setup_metrics", "created": 1768815257.1415985, "msecs": 141.0, "relativeCreated": 63019.56653594971, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:17,141"}, {"name": "backend.app_factory", "msg": "\u2705 /metrics endpoint registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/app_factory.py", "filename": "app_factory.py", "module": "app_factory", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 429, "funcName": "_register_metrics_endpoint", "created": 1768815257.14393, "msecs": 143.0, "relativeCreated": 63021.89803123474, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:17,143"}, {"name": "backend.app_factory", "msg": "\u26a0\ufe0f  Failed to mount WebSocket server: 'AsyncServer' object has no attribute 'asgi_app'", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/app_factory.py", "filename": "app_factory.py", "module": "app_factory", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 126, "funcName": "create_app", "created": 1768815257.1442673, "msecs": 144.0, "relativeCreated": 63022.23539352417, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:17,144"}, {"name": "backend.app_factory", "msg": "FastAPI application created successfully (version=1.17.2)", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/app_factory.py", "filename": "app_factory.py", "module": "app_factory", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 128, "funcName": "create_app", "created": 1768815257.1445625, "msecs": 144.0, "relativeCreated": 63022.5305557251, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:17,144"}]}, "call": {"duration": 0.011320725999979686, "outcome": "passed", "stderr": "2026-01-19 09:34:17,267 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:17,269 - backend.request_id_middleware - INFO - [a540bd83-f11c-46c3-8516-79383d9e7141] - Request started: POST /api/v1/attendance/\n2026-01-19 09:34:17,274 - backend.request_id_middleware - INFO - [a540bd83-f11c-46c3-8516-79383d9e7141] - Request completed: POST /api/v1/attendance/ - Status: 422\n2026-01-19 09:34:17,277 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/attendance/ \"HTTP/1.1 422 Unprocessable Entity\"\n", "log": [{"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815257.267548, "msecs": 267.0, "relativeCreated": 63145.51615715027, "thread": 140512198997696, "threadName": "Thread-302 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:17,267"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/attendance/", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815257.269427, "msecs": 269.0, "relativeCreated": 63147.39513397217, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb898d5790", "processName": "MainProcess", "process": 2241, "request_id": "a540bd83-f11c-46c3-8516-79383d9e7141", "asctime": "2026-01-19 09:34:17,269"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/attendance/ - Status: 422", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815257.2741957, "msecs": 274.0, "relativeCreated": 63152.16374397278, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb898d5790", "processName": "MainProcess", "process": 2241, "request_id": "a540bd83-f11c-46c3-8516-79383d9e7141", "asctime": "2026-01-19 09:34:17,274"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/attendance/ \"HTTP/1.1 422 Unprocessable Entity\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815257.27708, "msecs": 277.0, "relativeCreated": 63155.04813194275, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:17,277"}]}, "teardown": {"duration": 0.00036965900000041074, "outcome": "passed"}}, {"nodeid": "tests/test_rbac_enforcement.py::test_rbac_teacher_can_write_but_not_admin_ops", "lineno": 150, "outcome": "passed", "keywords": ["test_rbac_teacher_can_write_but_not_admin_ops", "test_rbac_enforcement.py", "tests", "backend", ""], "setup": {"duration": 0.8146494130000121, "outcome": "passed", "stderr": "2026-01-19 09:34:17,279 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:17,382 - backend.logging_config - INFO - [-] - Logging initialized\n2026-01-19 09:34:17,389 - backend.router_registry - INFO - [-] - Admin router registered successfully\n2026-01-19 09:34:17,408 - backend.router_registry - INFO - [-] - Auth router registered successfully\n2026-01-19 09:34:17,967 - backend.router_registry - INFO - [-] - Registered routers: Students, Admin, Courses, Grades, Attendance, Analytics, DailyPerformance, Export, Enrollments, Imports, Highlights, AdminOps, Sessions, Diagnostics, Reports, Jobs, Audit, RBAC, Permissions Management, Metrics, Feedback, Notifications, Import/Export, Search, Control\n2026-01-19 09:34:17,970 - backend.middleware.prometheus_metrics - INFO - [-] - Prometheus metrics instrumentation completed\n2026-01-19 09:34:17,970 - backend.middleware.prometheus_metrics - INFO - [-] - Metrics endpoint will be manually added in main.py (instrumentator.expose has issues)\n2026-01-19 09:34:17,972 - backend.app_factory - INFO - [-] - \u2705 /metrics endpoint registered\n2026-01-19 09:34:17,972 - backend.app_factory - WARNING - [-] - \u26a0\ufe0f  Failed to mount WebSocket server: 'AsyncServer' object has no attribute 'asgi_app'\n2026-01-19 09:34:17,972 - backend.app_factory - INFO - [-] - FastAPI application created successfully (version=1.17.2)\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815257.2796316, "msecs": 279.0, "relativeCreated": 63157.599687576294, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:17,279"}, {"name": "backend.logging_config", "msg": "Logging initialized", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/logging_config.py", "filename": "logging_config.py", "module": "logging_config", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 114, "funcName": "initialize_logging", "created": 1768815257.3829033, "msecs": 382.0, "relativeCreated": 63260.87141036987, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:17,382"}, {"name": "backend.router_registry", "msg": "Admin router registered successfully", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/router_registry.py", "filename": "router_registry.py", "module": "router_registry", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 36, "funcName": "register_routers", "created": 1768815257.3891408, "msecs": 389.0, "relativeCreated": 63267.10891723633, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:17,389"}, {"name": "backend.router_registry", "msg": "Auth router registered successfully", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/router_registry.py", "filename": "router_registry.py", "module": "router_registry", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 51, "funcName": "register_routers", "created": 1768815257.4080968, "msecs": 408.0, "relativeCreated": 63286.064863204956, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:17,408"}, {"name": "backend.router_registry", "msg": "Registered routers: Students, Admin, Courses, Grades, Attendance, Analytics, DailyPerformance, Export, Enrollments, Imports, Highlights, AdminOps, Sessions, Diagnostics, Reports, Jobs, Audit, RBAC, Permissions Management, Metrics, Feedback, Notifications, Import/Export, Search, Control", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/router_registry.py", "filename": "router_registry.py", "module": "router_registry", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 121, "funcName": "register_routers", "created": 1768815257.9674857, "msecs": 967.0, "relativeCreated": 63845.45373916626, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:17,967"}, {"name": "backend.middleware.prometheus_metrics", "msg": "Prometheus metrics instrumentation completed", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/middleware/prometheus_metrics.py", "filename": "prometheus_metrics.py", "module": "prometheus_metrics", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 337, "funcName": "setup_metrics", "created": 1768815257.9704242, "msecs": 970.0, "relativeCreated": 63848.39224815369, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:17,970"}, {"name": "backend.middleware.prometheus_metrics", "msg": "Metrics endpoint will be manually added in main.py (instrumentator.expose has issues)", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/middleware/prometheus_metrics.py", "filename": "prometheus_metrics.py", "module": "prometheus_metrics", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 338, "funcName": "setup_metrics", "created": 1768815257.9708192, "msecs": 970.0, "relativeCreated": 63848.78730773926, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:17,970"}, {"name": "backend.app_factory", "msg": "\u2705 /metrics endpoint registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/app_factory.py", "filename": "app_factory.py", "module": "app_factory", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 429, "funcName": "_register_metrics_endpoint", "created": 1768815257.9720354, "msecs": 972.0, "relativeCreated": 63850.003480911255, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:17,972"}, {"name": "backend.app_factory", "msg": "\u26a0\ufe0f  Failed to mount WebSocket server: 'AsyncServer' object has no attribute 'asgi_app'", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/app_factory.py", "filename": "app_factory.py", "module": "app_factory", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 126, "funcName": "create_app", "created": 1768815257.9724047, "msecs": 972.0, "relativeCreated": 63850.37279129028, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:17,972"}, {"name": "backend.app_factory", "msg": "FastAPI application created successfully (version=1.17.2)", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/app_factory.py", "filename": "app_factory.py", "module": "app_factory", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 128, "funcName": "create_app", "created": 1768815257.9727883, "msecs": 972.0, "relativeCreated": 63850.75640678406, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:17,972"}]}, "call": {"duration": 0.12180044499999099, "outcome": "passed", "stderr": "2026-01-19 09:34:18,095 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:18,096 - backend.request_id_middleware - INFO - [9cbdfc23-a901-4ed1-bc77-337eee6dfc66] - Request started: POST /api/v1/auth/register\n2026-01-19 09:34:18,115 - backend.request_id_middleware - INFO - [9cbdfc23-a901-4ed1-bc77-337eee6dfc66] - Request completed: POST /api/v1/auth/register - Status: 200\n2026-01-19 09:34:18,119 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:18,130 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:18,131 - backend.request_id_middleware - INFO - [c1f0451b-1609-43e7-b3fd-8d674b798224] - Request started: POST /api/v1/auth/login\n2026-01-19 09:34:18,135 - backend.routers.routers_auth - INFO - [c1f0451b-1609-43e7-b3fd-8d674b798224] - Login attempt\n2026-01-19 09:34:18,147 - backend.routers.routers_auth - INFO - [c1f0451b-1609-43e7-b3fd-8d674b798224] - Login successful\n2026-01-19 09:34:18,150 - backend.request_id_middleware - INFO - [c1f0451b-1609-43e7-b3fd-8d674b798224] - Request completed: POST /api/v1/auth/login - Status: 200\n2026-01-19 09:34:18,153 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:18,155 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:18,156 - backend.request_id_middleware - INFO - [46575f2b-d641-42cf-8739-51ac35b4df56] - Request started: POST /api/v1/auth/login\n2026-01-19 09:34:18,160 - backend.routers.routers_auth - INFO - [46575f2b-d641-42cf-8739-51ac35b4df56] - Login attempt\n2026-01-19 09:34:18,171 - backend.routers.routers_auth - INFO - [46575f2b-d641-42cf-8739-51ac35b4df56] - Login successful\n2026-01-19 09:34:18,173 - backend.request_id_middleware - INFO - [46575f2b-d641-42cf-8739-51ac35b4df56] - Request completed: POST /api/v1/auth/login - Status: 200\n2026-01-19 09:34:18,176 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:18,178 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:18,179 - backend.request_id_middleware - INFO - [b2b18b89-4d9e-4b08-8aff-4c2e3f07a0e2] - Request started: POST /api/v1/attendance/\n2026-01-19 09:34:18,183 - backend.request_id_middleware - INFO - [b2b18b89-4d9e-4b08-8aff-4c2e3f07a0e2] - Request completed: POST /api/v1/attendance/ - Status: 422\n2026-01-19 09:34:18,186 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/attendance/ \"HTTP/1.1 422 Unprocessable Entity\"\n2026-01-19 09:34:18,188 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:18,189 - backend.request_id_middleware - INFO - [baa8b665-d84c-439f-bd63-74c3a65f9d97] - Request started: POST /api/v1/adminops/backup\n2026-01-19 09:34:18,198 - backend.request_id_middleware - INFO - [baa8b665-d84c-439f-bd63-74c3a65f9d97] - Request completed: POST /api/v1/adminops/backup - Status: 404\n2026-01-19 09:34:18,201 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/adminops/backup \"HTTP/1.1 404 Not Found\"\n2026-01-19 09:34:18,202 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:18,203 - backend.request_id_middleware - INFO - [b811e142-313b-4c5e-aebc-24cfd5ab17be] - Request started: POST /api/v1/adminops/backup\n2026-01-19 09:34:18,212 - backend.request_id_middleware - INFO - [b811e142-313b-4c5e-aebc-24cfd5ab17be] - Request completed: POST /api/v1/adminops/backup - Status: 404\n2026-01-19 09:34:18,215 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/adminops/backup \"HTTP/1.1 404 Not Found\"\n", "log": [{"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815258.0951514, "msecs": 95.0, "relativeCreated": 63973.119497299194, "thread": 140512198997696, "threadName": "Thread-303 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:18,095"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/register", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815258.0969114, "msecs": 96.0, "relativeCreated": 63974.87950325012, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb89a43dd0", "processName": "MainProcess", "process": 2241, "request_id": "9cbdfc23-a901-4ed1-bc77-337eee6dfc66", "asctime": "2026-01-19 09:34:18,096"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/register - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815258.1156769, "msecs": 115.0, "relativeCreated": 63993.64495277405, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb89a43dd0", "processName": "MainProcess", "process": 2241, "request_id": "9cbdfc23-a901-4ed1-bc77-337eee6dfc66", "asctime": "2026-01-19 09:34:18,115"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815258.1190298, "msecs": 119.0, "relativeCreated": 63996.99783325195, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:18,119"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815258.1303556, "msecs": 130.0, "relativeCreated": 64008.323669433594, "thread": 140512215779008, "threadName": "Thread-304 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:18,130"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/login", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815258.1318808, "msecs": 131.0, "relativeCreated": 64009.84883308411, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb809cbc90", "processName": "MainProcess", "process": 2241, "request_id": "c1f0451b-1609-43e7-b3fd-8d674b798224", "asctime": "2026-01-19 09:34:18,131"}, {"name": "backend.routers.routers_auth", "msg": "Login attempt", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 459, "funcName": "login", "created": 1768815258.1357017, "msecs": 135.0, "relativeCreated": 64013.66972923279, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb809cbc90", "processName": "MainProcess", "process": 2241, "request_id": "c1f0451b-1609-43e7-b3fd-8d674b798224", "asctime": "2026-01-19 09:34:18,135"}, {"name": "backend.routers.routers_auth", "msg": "Login successful", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 496, "funcName": "login", "created": 1768815258.1477835, "msecs": 147.0, "relativeCreated": 64025.75159072876, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb809cbc90", "processName": "MainProcess", "process": 2241, "user_id": 1, "request_id": "c1f0451b-1609-43e7-b3fd-8d674b798224", "asctime": "2026-01-19 09:34:18,147"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/login - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815258.1502259, "msecs": 150.0, "relativeCreated": 64028.193950653076, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb809cbc90", "processName": "MainProcess", "process": 2241, "request_id": "c1f0451b-1609-43e7-b3fd-8d674b798224", "asctime": "2026-01-19 09:34:18,150"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815258.153603, "msecs": 153.0, "relativeCreated": 64031.57114982605, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:18,153"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815258.1550813, "msecs": 155.0, "relativeCreated": 64033.04934501648, "thread": 140512198997696, "threadName": "Thread-305 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:18,155"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/login", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815258.1564565, "msecs": 156.0, "relativeCreated": 64034.42454338074, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8982b610", "processName": "MainProcess", "process": 2241, "request_id": "46575f2b-d641-42cf-8739-51ac35b4df56", "asctime": "2026-01-19 09:34:18,156"}, {"name": "backend.routers.routers_auth", "msg": "Login attempt", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 459, "funcName": "login", "created": 1768815258.160405, "msecs": 160.0, "relativeCreated": 64038.37299346924, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8982b610", "processName": "MainProcess", "process": 2241, "request_id": "46575f2b-d641-42cf-8739-51ac35b4df56", "asctime": "2026-01-19 09:34:18,160"}, {"name": "backend.routers.routers_auth", "msg": "Login successful", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 496, "funcName": "login", "created": 1768815258.1716077, "msecs": 171.0, "relativeCreated": 64049.57580566406, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8982b610", "processName": "MainProcess", "process": 2241, "user_id": 2, "request_id": "46575f2b-d641-42cf-8739-51ac35b4df56", "asctime": "2026-01-19 09:34:18,171"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/login - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815258.1732252, "msecs": 173.0, "relativeCreated": 64051.19323730469, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8982b610", "processName": "MainProcess", "process": 2241, "request_id": "46575f2b-d641-42cf-8739-51ac35b4df56", "asctime": "2026-01-19 09:34:18,173"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815258.1768787, "msecs": 176.0, "relativeCreated": 64054.84676361084, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:18,176"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815258.1781707, "msecs": 178.0, "relativeCreated": 64056.13875389099, "thread": 140512215779008, "threadName": "Thread-306 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:18,178"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/attendance/", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815258.179523, "msecs": 179.0, "relativeCreated": 64057.491064071655, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89f5f750", "processName": "MainProcess", "process": 2241, "request_id": "b2b18b89-4d9e-4b08-8aff-4c2e3f07a0e2", "asctime": "2026-01-19 09:34:18,179"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/attendance/ - Status: 422", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815258.18392, "msecs": 183.0, "relativeCreated": 64061.887979507446, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89f5f750", "processName": "MainProcess", "process": 2241, "request_id": "b2b18b89-4d9e-4b08-8aff-4c2e3f07a0e2", "asctime": "2026-01-19 09:34:18,183"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/attendance/ \"HTTP/1.1 422 Unprocessable Entity\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815258.1866832, "msecs": 186.0, "relativeCreated": 64064.65125083923, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:18,186"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815258.1880612, "msecs": 188.0, "relativeCreated": 64066.02931022644, "thread": 140512198997696, "threadName": "Thread-307 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:18,188"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/adminops/backup", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815258.189372, "msecs": 189.0, "relativeCreated": 64067.34013557434, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb89a3d590", "processName": "MainProcess", "process": 2241, "request_id": "baa8b665-d84c-439f-bd63-74c3a65f9d97", "asctime": "2026-01-19 09:34:18,189"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/adminops/backup - Status: 404", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815258.198145, "msecs": 198.0, "relativeCreated": 64076.11298561096, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb89a3d590", "processName": "MainProcess", "process": 2241, "request_id": "baa8b665-d84c-439f-bd63-74c3a65f9d97", "asctime": "2026-01-19 09:34:18,198"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/adminops/backup \"HTTP/1.1 404 Not Found\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815258.2010186, "msecs": 201.0, "relativeCreated": 64078.98664474487, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:18,201"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815258.2022727, "msecs": 202.0, "relativeCreated": 64080.24072647095, "thread": 140512198997696, "threadName": "Thread-308 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:18,202"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/adminops/backup", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815258.2036119, "msecs": 203.0, "relativeCreated": 64081.57992362976, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb897c9cd0", "processName": "MainProcess", "process": 2241, "request_id": "b811e142-313b-4c5e-aebc-24cfd5ab17be", "asctime": "2026-01-19 09:34:18,203"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/adminops/backup - Status: 404", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815258.2123046, "msecs": 212.0, "relativeCreated": 64090.272665023804, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb897c9cd0", "processName": "MainProcess", "process": 2241, "request_id": "b811e142-313b-4c5e-aebc-24cfd5ab17be", "asctime": "2026-01-19 09:34:18,212"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/adminops/backup \"HTTP/1.1 404 Not Found\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815258.2151818, "msecs": 215.0, "relativeCreated": 64093.1499004364, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:18,215"}]}, "teardown": {"duration": 0.00038509799998109884, "outcome": "passed"}}, {"nodeid": "tests/test_rbac_router.py::test_ensure_defaults_and_summary", "lineno": 112, "outcome": "passed", "keywords": ["test_ensure_defaults_and_summary", "test_rbac_router.py", "tests", "backend", ""], "setup": {"duration": 0.528498213000006, "outcome": "passed", "stderr": "2026-01-19 09:34:18,218 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:18,259 - backend.logging_config - INFO - [-] - Logging initialized\n2026-01-19 09:34:18,266 - backend.router_registry - INFO - [-] - Admin router registered successfully\n2026-01-19 09:34:18,286 - backend.router_registry - INFO - [-] - Auth router registered successfully\n2026-01-19 09:34:18,669 - backend.router_registry - INFO - [-] - Registered routers: Students, Admin, Courses, Grades, Attendance, Analytics, DailyPerformance, Export, Enrollments, Imports, Highlights, AdminOps, Sessions, Diagnostics, Reports, Jobs, Audit, RBAC, Permissions Management, Metrics, Feedback, Notifications, Import/Export, Search, Control\n2026-01-19 09:34:18,672 - backend.middleware.prometheus_metrics - INFO - [-] - Prometheus metrics instrumentation completed\n2026-01-19 09:34:18,673 - backend.middleware.prometheus_metrics - INFO - [-] - Metrics endpoint will be manually added in main.py (instrumentator.expose has issues)\n2026-01-19 09:34:18,674 - backend.app_factory - INFO - [-] - \u2705 /metrics endpoint registered\n2026-01-19 09:34:18,674 - backend.app_factory - WARNING - [-] - \u26a0\ufe0f  Failed to mount WebSocket server: 'AsyncServer' object has no attribute 'asgi_app'\n2026-01-19 09:34:18,675 - backend.app_factory - INFO - [-] - FastAPI application created successfully (version=1.17.2)\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815258.218135, "msecs": 218.0, "relativeCreated": 64096.10319137573, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:18,218"}, {"name": "backend.logging_config", "msg": "Logging initialized", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/logging_config.py", "filename": "logging_config.py", "module": "logging_config", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 114, "funcName": "initialize_logging", "created": 1768815258.2597425, "msecs": 259.0, "relativeCreated": 64137.71057128906, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:18,259"}, {"name": "backend.router_registry", "msg": "Admin router registered successfully", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/router_registry.py", "filename": "router_registry.py", "module": "router_registry", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 36, "funcName": "register_routers", "created": 1768815258.266447, "msecs": 266.0, "relativeCreated": 64144.41514015198, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:18,266"}, {"name": "backend.router_registry", "msg": "Auth router registered successfully", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/router_registry.py", "filename": "router_registry.py", "module": "router_registry", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 51, "funcName": "register_routers", "created": 1768815258.2867348, "msecs": 286.0, "relativeCreated": 64164.70289230347, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:18,286"}, {"name": "backend.router_registry", "msg": "Registered routers: Students, Admin, Courses, Grades, Attendance, Analytics, DailyPerformance, Export, Enrollments, Imports, Highlights, AdminOps, Sessions, Diagnostics, Reports, Jobs, Audit, RBAC, Permissions Management, Metrics, Feedback, Notifications, Import/Export, Search, Control", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/router_registry.py", "filename": "router_registry.py", "module": "router_registry", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 121, "funcName": "register_routers", "created": 1768815258.6695218, "msecs": 669.0, "relativeCreated": 64547.4898815155, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:18,669"}, {"name": "backend.middleware.prometheus_metrics", "msg": "Prometheus metrics instrumentation completed", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/middleware/prometheus_metrics.py", "filename": "prometheus_metrics.py", "module": "prometheus_metrics", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 337, "funcName": "setup_metrics", "created": 1768815258.6727667, "msecs": 672.0, "relativeCreated": 64550.734758377075, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:18,672"}, {"name": "backend.middleware.prometheus_metrics", "msg": "Metrics endpoint will be manually added in main.py (instrumentator.expose has issues)", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/middleware/prometheus_metrics.py", "filename": "prometheus_metrics.py", "module": "prometheus_metrics", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 338, "funcName": "setup_metrics", "created": 1768815258.67319, "msecs": 673.0, "relativeCreated": 64551.15818977356, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:18,673"}, {"name": "backend.app_factory", "msg": "\u2705 /metrics endpoint registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/app_factory.py", "filename": "app_factory.py", "module": "app_factory", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 429, "funcName": "_register_metrics_endpoint", "created": 1768815258.6744397, "msecs": 674.0, "relativeCreated": 64552.40774154663, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:18,674"}, {"name": "backend.app_factory", "msg": "\u26a0\ufe0f  Failed to mount WebSocket server: 'AsyncServer' object has no attribute 'asgi_app'", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/app_factory.py", "filename": "app_factory.py", "module": "app_factory", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 126, "funcName": "create_app", "created": 1768815258.674925, "msecs": 674.0, "relativeCreated": 64552.89316177368, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:18,674"}, {"name": "backend.app_factory", "msg": "FastAPI application created successfully (version=1.17.2)", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/app_factory.py", "filename": "app_factory.py", "module": "app_factory", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 128, "funcName": "create_app", "created": 1768815258.6753364, "msecs": 675.0, "relativeCreated": 64553.30443382263, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:18,675"}]}, "call": {"duration": 0.3033762549999892, "outcome": "passed", "stderr": "2026-01-19 09:34:18,760 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:18,762 - backend.request_id_middleware - INFO - [3b524502-3bee-4fc2-939f-73609dc126ef] - Request started: POST /api/v1/auth/login\n2026-01-19 09:34:18,766 - backend.routers.routers_auth - INFO - [3b524502-3bee-4fc2-939f-73609dc126ef] - Login attempt\n2026-01-19 09:34:18,779 - backend.routers.routers_auth - INFO - [3b524502-3bee-4fc2-939f-73609dc126ef] - Login successful\n2026-01-19 09:34:18,782 - backend.request_id_middleware - INFO - [3b524502-3bee-4fc2-939f-73609dc126ef] - Request completed: POST /api/v1/auth/login - Status: 200\n2026-01-19 09:34:18,786 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:18,787 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:18,788 - backend.request_id_middleware - INFO - [729ffd8b-b3ca-4191-a734-4cd2e0a989c5] - Request started: POST /api/v1/admin/rbac/ensure-defaults\n2026-01-19 09:34:19,027 - backend.request_id_middleware - INFO - [729ffd8b-b3ca-4191-a734-4cd2e0a989c5] - Request completed: POST /api/v1/admin/rbac/ensure-defaults - Status: 200\n2026-01-19 09:34:19,031 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/admin/rbac/ensure-defaults \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:19,033 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:19,034 - backend.request_id_middleware - INFO - [2b21725a-1967-4cac-a57a-031fe2b37281] - Request started: GET /api/v1/admin/rbac/summary\n2026-01-19 09:34:19,045 - backend.request_id_middleware - INFO - [2b21725a-1967-4cac-a57a-031fe2b37281] - Request completed: GET /api/v1/admin/rbac/summary - Status: 200\n2026-01-19 09:34:19,048 - httpx - INFO - [-] - HTTP Request: GET http://testserver/api/v1/admin/rbac/summary \"HTTP/1.1 200 OK\"\n", "log": [{"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815258.760332, "msecs": 760.0, "relativeCreated": 64638.30018043518, "thread": 140512198997696, "threadName": "Thread-309 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:18,760"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/login", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815258.762246, "msecs": 762.0, "relativeCreated": 64640.21396636963, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb89383dd0", "processName": "MainProcess", "process": 2241, "request_id": "3b524502-3bee-4fc2-939f-73609dc126ef", "asctime": "2026-01-19 09:34:18,762"}, {"name": "backend.routers.routers_auth", "msg": "Login attempt", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 459, "funcName": "login", "created": 1768815258.7663743, "msecs": 766.0, "relativeCreated": 64644.34242248535, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb89383dd0", "processName": "MainProcess", "process": 2241, "request_id": "3b524502-3bee-4fc2-939f-73609dc126ef", "asctime": "2026-01-19 09:34:18,766"}, {"name": "backend.routers.routers_auth", "msg": "Login successful", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 496, "funcName": "login", "created": 1768815258.7798648, "msecs": 779.0, "relativeCreated": 64657.832860946655, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb89383dd0", "processName": "MainProcess", "process": 2241, "user_id": 1, "request_id": "3b524502-3bee-4fc2-939f-73609dc126ef", "asctime": "2026-01-19 09:34:18,779"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/login - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815258.7822974, "msecs": 782.0, "relativeCreated": 64660.26544570923, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb89383dd0", "processName": "MainProcess", "process": 2241, "request_id": "3b524502-3bee-4fc2-939f-73609dc126ef", "asctime": "2026-01-19 09:34:18,782"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815258.7860682, "msecs": 786.0, "relativeCreated": 64664.0362739563, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:18,786"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815258.7874303, "msecs": 787.0, "relativeCreated": 64665.398359298706, "thread": 140512198997696, "threadName": "Thread-310 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:18,787"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/admin/rbac/ensure-defaults", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815258.788824, "msecs": 788.0, "relativeCreated": 64666.792154312134, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb89393890", "processName": "MainProcess", "process": 2241, "request_id": "729ffd8b-b3ca-4191-a734-4cd2e0a989c5", "asctime": "2026-01-19 09:34:18,788"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/admin/rbac/ensure-defaults - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815259.0278313, "msecs": 27.0, "relativeCreated": 64905.7993888855, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb89393890", "processName": "MainProcess", "process": 2241, "request_id": "729ffd8b-b3ca-4191-a734-4cd2e0a989c5", "asctime": "2026-01-19 09:34:19,027"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/admin/rbac/ensure-defaults \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815259.0318663, "msecs": 31.0, "relativeCreated": 64909.83438491821, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:19,031"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815259.0334542, "msecs": 33.0, "relativeCreated": 64911.42225265503, "thread": 140512198997696, "threadName": "Thread-311 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:19,033"}, {"name": "backend.request_id_middleware", "msg": "Request started: GET /api/v1/admin/rbac/summary", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815259.034922, "msecs": 34.0, "relativeCreated": 64912.88995742798, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb89398910", "processName": "MainProcess", "process": 2241, "request_id": "2b21725a-1967-4cac-a57a-031fe2b37281", "asctime": "2026-01-19 09:34:19,034"}, {"name": "backend.request_id_middleware", "msg": "Request completed: GET /api/v1/admin/rbac/summary - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815259.04531, "msecs": 45.0, "relativeCreated": 64923.27809333801, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb89398910", "processName": "MainProcess", "process": 2241, "request_id": "2b21725a-1967-4cac-a57a-031fe2b37281", "asctime": "2026-01-19 09:34:19,045"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/api/v1/admin/rbac/summary \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815259.048875, "msecs": 48.0, "relativeCreated": 64926.84316635132, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:19,048"}]}, "teardown": {"duration": 0.0003791769999850203, "outcome": "passed"}}, {"nodeid": "tests/test_rbac_router.py::test_assign_and_revoke_role_with_last_admin_protection", "lineno": 134, "outcome": "passed", "keywords": ["test_assign_and_revoke_role_with_last_admin_protection", "test_rbac_router.py", "tests", "backend", ""], "setup": {"duration": 0.5330138509999927, "outcome": "passed", "stderr": "2026-01-19 09:34:19,051 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:19,094 - backend.logging_config - INFO - [-] - Logging initialized\n2026-01-19 09:34:19,100 - backend.router_registry - INFO - [-] - Admin router registered successfully\n2026-01-19 09:34:19,120 - backend.router_registry - INFO - [-] - Auth router registered successfully\n2026-01-19 09:34:19,506 - backend.router_registry - INFO - [-] - Registered routers: Students, Admin, Courses, Grades, Attendance, Analytics, DailyPerformance, Export, Enrollments, Imports, Highlights, AdminOps, Sessions, Diagnostics, Reports, Jobs, Audit, RBAC, Permissions Management, Metrics, Feedback, Notifications, Import/Export, Search, Control\n2026-01-19 09:34:19,509 - backend.middleware.prometheus_metrics - INFO - [-] - Prometheus metrics instrumentation completed\n2026-01-19 09:34:19,510 - backend.middleware.prometheus_metrics - INFO - [-] - Metrics endpoint will be manually added in main.py (instrumentator.expose has issues)\n2026-01-19 09:34:19,511 - backend.app_factory - INFO - [-] - \u2705 /metrics endpoint registered\n2026-01-19 09:34:19,512 - backend.app_factory - WARNING - [-] - \u26a0\ufe0f  Failed to mount WebSocket server: 'AsyncServer' object has no attribute 'asgi_app'\n2026-01-19 09:34:19,512 - backend.app_factory - INFO - [-] - FastAPI application created successfully (version=1.17.2)\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815259.0516663, "msecs": 51.0, "relativeCreated": 64929.63433265686, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:19,051"}, {"name": "backend.logging_config", "msg": "Logging initialized", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/logging_config.py", "filename": "logging_config.py", "module": "logging_config", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 114, "funcName": "initialize_logging", "created": 1768815259.0940402, "msecs": 94.0, "relativeCreated": 64972.008228302, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:19,094"}, {"name": "backend.router_registry", "msg": "Admin router registered successfully", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/router_registry.py", "filename": "router_registry.py", "module": "router_registry", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 36, "funcName": "register_routers", "created": 1768815259.1009715, "msecs": 100.0, "relativeCreated": 64978.93953323364, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:19,100"}, {"name": "backend.router_registry", "msg": "Auth router registered successfully", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/router_registry.py", "filename": "router_registry.py", "module": "router_registry", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 51, "funcName": "register_routers", "created": 1768815259.1207352, "msecs": 120.0, "relativeCreated": 64998.70324134827, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:19,120"}, {"name": "backend.router_registry", "msg": "Registered routers: Students, Admin, Courses, Grades, Attendance, Analytics, DailyPerformance, Export, Enrollments, Imports, Highlights, AdminOps, Sessions, Diagnostics, Reports, Jobs, Audit, RBAC, Permissions Management, Metrics, Feedback, Notifications, Import/Export, Search, Control", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/router_registry.py", "filename": "router_registry.py", "module": "router_registry", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 121, "funcName": "register_routers", "created": 1768815259.5068462, "msecs": 506.0, "relativeCreated": 65384.81426239014, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:19,506"}, {"name": "backend.middleware.prometheus_metrics", "msg": "Prometheus metrics instrumentation completed", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/middleware/prometheus_metrics.py", "filename": "prometheus_metrics.py", "module": "prometheus_metrics", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 337, "funcName": "setup_metrics", "created": 1768815259.5099237, "msecs": 509.0, "relativeCreated": 65387.89176940918, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:19,509"}, {"name": "backend.middleware.prometheus_metrics", "msg": "Metrics endpoint will be manually added in main.py (instrumentator.expose has issues)", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/middleware/prometheus_metrics.py", "filename": "prometheus_metrics.py", "module": "prometheus_metrics", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 338, "funcName": "setup_metrics", "created": 1768815259.5104034, "msecs": 510.0, "relativeCreated": 65388.37146759033, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:19,510"}, {"name": "backend.app_factory", "msg": "\u2705 /metrics endpoint registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/app_factory.py", "filename": "app_factory.py", "module": "app_factory", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 429, "funcName": "_register_metrics_endpoint", "created": 1768815259.5117307, "msecs": 511.0, "relativeCreated": 65389.69874382019, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:19,511"}, {"name": "backend.app_factory", "msg": "\u26a0\ufe0f  Failed to mount WebSocket server: 'AsyncServer' object has no attribute 'asgi_app'", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/app_factory.py", "filename": "app_factory.py", "module": "app_factory", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 126, "funcName": "create_app", "created": 1768815259.5122025, "msecs": 512.0, "relativeCreated": 65390.17057418823, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:19,512"}, {"name": "backend.app_factory", "msg": "FastAPI application created successfully (version=1.17.2)", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/app_factory.py", "filename": "app_factory.py", "module": "app_factory", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 128, "funcName": "create_app", "created": 1768815259.512651, "msecs": 512.0, "relativeCreated": 65390.61903953552, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:19,512"}]}, "call": {"duration": 0.37742384099999526, "outcome": "passed", "stderr": "2026-01-19 09:34:19,600 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:19,602 - backend.request_id_middleware - INFO - [11013b1c-983b-4684-aa04-8ff262c1ca79] - Request started: POST /api/v1/auth/login\n2026-01-19 09:34:19,606 - backend.routers.routers_auth - INFO - [11013b1c-983b-4684-aa04-8ff262c1ca79] - Login attempt\n2026-01-19 09:34:19,619 - backend.routers.routers_auth - INFO - [11013b1c-983b-4684-aa04-8ff262c1ca79] - Login successful\n2026-01-19 09:34:19,622 - backend.request_id_middleware - INFO - [11013b1c-983b-4684-aa04-8ff262c1ca79] - Request completed: POST /api/v1/auth/login - Status: 200\n2026-01-19 09:34:19,625 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:19,627 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:19,629 - backend.request_id_middleware - INFO - [deae505b-310f-4fa2-8703-96f24453dff0] - Request started: POST /api/v1/admin/rbac/ensure-defaults\n2026-01-19 09:34:19,866 - backend.request_id_middleware - INFO - [deae505b-310f-4fa2-8703-96f24453dff0] - Request completed: POST /api/v1/admin/rbac/ensure-defaults - Status: 200\n2026-01-19 09:34:19,871 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/admin/rbac/ensure-defaults \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:19,872 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:19,873 - backend.request_id_middleware - INFO - [e82db11d-01ba-4a95-ba24-4d8cefc6ad58] - Request started: POST /api/v1/auth/register\n2026-01-19 09:34:19,889 - backend.request_id_middleware - INFO - [e82db11d-01ba-4a95-ba24-4d8cefc6ad58] - Request completed: POST /api/v1/auth/register - Status: 200\n2026-01-19 09:34:19,893 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:19,894 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:19,896 - backend.request_id_middleware - INFO - [1ef25f93-bfdd-4a1d-b459-afa34743102b] - Request started: GET /api/v1/admin/rbac/summary\n2026-01-19 09:34:19,905 - backend.request_id_middleware - INFO - [1ef25f93-bfdd-4a1d-b459-afa34743102b] - Request completed: GET /api/v1/admin/rbac/summary - Status: 200\n2026-01-19 09:34:19,909 - httpx - INFO - [-] - HTTP Request: GET http://testserver/api/v1/admin/rbac/summary \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:19,910 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:19,912 - backend.request_id_middleware - INFO - [733650a0-6f83-4f83-8a79-ceb82263831f] - Request started: POST /api/v1/admin/rbac/assign-role\n2026-01-19 09:34:19,924 - backend.request_id_middleware - INFO - [733650a0-6f83-4f83-8a79-ceb82263831f] - Request completed: POST /api/v1/admin/rbac/assign-role - Status: 200\n2026-01-19 09:34:19,928 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/admin/rbac/assign-role \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:19,929 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:19,930 - backend.request_id_middleware - INFO - [0a484d56-4c98-4f3a-a0bc-48e9f85e1f7c] - Request started: POST /api/v1/admin/rbac/revoke-role\n2026-01-19 09:34:19,943 - backend.request_id_middleware - INFO - [0a484d56-4c98-4f3a-a0bc-48e9f85e1f7c] - Request completed: POST /api/v1/admin/rbac/revoke-role - Status: 200\n2026-01-19 09:34:19,946 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/admin/rbac/revoke-role \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:19,948 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:19,949 - backend.request_id_middleware - INFO - [a2db4e61-982c-40ce-8f69-316fb425956a] - Request started: POST /api/v1/admin/rbac/revoke-role\n2026-01-19 09:34:19,957 - backend.request_id_middleware - INFO - [a2db4e61-982c-40ce-8f69-316fb425956a] - Request completed: POST /api/v1/admin/rbac/revoke-role - Status: 400\n2026-01-19 09:34:19,961 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/admin/rbac/revoke-role \"HTTP/1.1 400 Bad Request\"\n", "log": [{"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815259.6001432, "msecs": 600.0, "relativeCreated": 65478.111267089844, "thread": 140512198997696, "threadName": "Thread-312 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:19,600"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/login", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815259.6021626, "msecs": 602.0, "relativeCreated": 65480.130672454834, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb890c26d0", "processName": "MainProcess", "process": 2241, "request_id": "11013b1c-983b-4684-aa04-8ff262c1ca79", "asctime": "2026-01-19 09:34:19,602"}, {"name": "backend.routers.routers_auth", "msg": "Login attempt", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 459, "funcName": "login", "created": 1768815259.6062663, "msecs": 606.0, "relativeCreated": 65484.23433303833, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb890c26d0", "processName": "MainProcess", "process": 2241, "request_id": "11013b1c-983b-4684-aa04-8ff262c1ca79", "asctime": "2026-01-19 09:34:19,606"}, {"name": "backend.routers.routers_auth", "msg": "Login successful", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 496, "funcName": "login", "created": 1768815259.6196206, "msecs": 619.0, "relativeCreated": 65497.58863449097, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb890c26d0", "processName": "MainProcess", "process": 2241, "user_id": 1, "request_id": "11013b1c-983b-4684-aa04-8ff262c1ca79", "asctime": "2026-01-19 09:34:19,619"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/login - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815259.6222093, "msecs": 622.0, "relativeCreated": 65500.17738342285, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb890c26d0", "processName": "MainProcess", "process": 2241, "request_id": "11013b1c-983b-4684-aa04-8ff262c1ca79", "asctime": "2026-01-19 09:34:19,622"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815259.625932, "msecs": 625.0, "relativeCreated": 65503.90005111694, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:19,625"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815259.627659, "msecs": 627.0, "relativeCreated": 65505.627155303955, "thread": 140512215779008, "threadName": "Thread-313 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:19,627"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/admin/rbac/ensure-defaults", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815259.62909, "msecs": 629.0, "relativeCreated": 65507.05814361572, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88f6d810", "processName": "MainProcess", "process": 2241, "request_id": "deae505b-310f-4fa2-8703-96f24453dff0", "asctime": "2026-01-19 09:34:19,629"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/admin/rbac/ensure-defaults - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815259.8668764, "msecs": 866.0, "relativeCreated": 65744.84443664551, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88f6d810", "processName": "MainProcess", "process": 2241, "request_id": "deae505b-310f-4fa2-8703-96f24453dff0", "asctime": "2026-01-19 09:34:19,866"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/admin/rbac/ensure-defaults \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815259.8710046, "msecs": 871.0, "relativeCreated": 65748.97265434265, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:19,871"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815259.8725493, "msecs": 872.0, "relativeCreated": 65750.51736831665, "thread": 140512215779008, "threadName": "Thread-314 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:19,872"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/register", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815259.8739994, "msecs": 873.0, "relativeCreated": 65751.96743011475, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88f6e350", "processName": "MainProcess", "process": 2241, "request_id": "e82db11d-01ba-4a95-ba24-4d8cefc6ad58", "asctime": "2026-01-19 09:34:19,873"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/register - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815259.889956, "msecs": 889.0, "relativeCreated": 65767.92407035828, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88f6e350", "processName": "MainProcess", "process": 2241, "request_id": "e82db11d-01ba-4a95-ba24-4d8cefc6ad58", "asctime": "2026-01-19 09:34:19,889"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815259.893259, "msecs": 893.0, "relativeCreated": 65771.22712135315, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:19,893"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815259.8949256, "msecs": 894.0, "relativeCreated": 65772.89366722107, "thread": 140512198997696, "threadName": "Thread-315 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:19,894"}, {"name": "backend.request_id_middleware", "msg": "Request started: GET /api/v1/admin/rbac/summary", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815259.896288, "msecs": 896.0, "relativeCreated": 65774.25599098206, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb88f82a90", "processName": "MainProcess", "process": 2241, "request_id": "1ef25f93-bfdd-4a1d-b459-afa34743102b", "asctime": "2026-01-19 09:34:19,896"}, {"name": "backend.request_id_middleware", "msg": "Request completed: GET /api/v1/admin/rbac/summary - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815259.9059732, "msecs": 905.0, "relativeCreated": 65783.9412689209, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb88f82a90", "processName": "MainProcess", "process": 2241, "request_id": "1ef25f93-bfdd-4a1d-b459-afa34743102b", "asctime": "2026-01-19 09:34:19,905"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/api/v1/admin/rbac/summary \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815259.9093256, "msecs": 909.0, "relativeCreated": 65787.29367256165, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:19,909"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815259.910941, "msecs": 910.0, "relativeCreated": 65788.90895843506, "thread": 140512215779008, "threadName": "Thread-316 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:19,910"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/admin/rbac/assign-role", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815259.912293, "msecs": 912.0, "relativeCreated": 65790.26103019714, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88f8b450", "processName": "MainProcess", "process": 2241, "request_id": "733650a0-6f83-4f83-8a79-ceb82263831f", "asctime": "2026-01-19 09:34:19,912"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/admin/rbac/assign-role - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815259.924777, "msecs": 924.0, "relativeCreated": 65802.74510383606, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88f8b450", "processName": "MainProcess", "process": 2241, "request_id": "733650a0-6f83-4f83-8a79-ceb82263831f", "asctime": "2026-01-19 09:34:19,924"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/admin/rbac/assign-role \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815259.9281502, "msecs": 928.0, "relativeCreated": 65806.11824989319, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:19,928"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815259.929512, "msecs": 929.0, "relativeCreated": 65807.48009681702, "thread": 140512215779008, "threadName": "Thread-317 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:19,929"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/admin/rbac/revoke-role", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815259.9308705, "msecs": 930.0, "relativeCreated": 65808.83860588074, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88fb9c10", "processName": "MainProcess", "process": 2241, "request_id": "0a484d56-4c98-4f3a-a0bc-48e9f85e1f7c", "asctime": "2026-01-19 09:34:19,930"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/admin/rbac/revoke-role - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815259.9430027, "msecs": 943.0, "relativeCreated": 65820.9707736969, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88fb9c10", "processName": "MainProcess", "process": 2241, "request_id": "0a484d56-4c98-4f3a-a0bc-48e9f85e1f7c", "asctime": "2026-01-19 09:34:19,943"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/admin/rbac/revoke-role \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815259.9463751, "msecs": 946.0, "relativeCreated": 65824.34320449829, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:19,946"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815259.9480212, "msecs": 948.0, "relativeCreated": 65825.98924636841, "thread": 140512198997696, "threadName": "Thread-318 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:19,948"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/admin/rbac/revoke-role", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815259.949456, "msecs": 949.0, "relativeCreated": 65827.42404937744, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb88fbb350", "processName": "MainProcess", "process": 2241, "request_id": "a2db4e61-982c-40ce-8f69-316fb425956a", "asctime": "2026-01-19 09:34:19,949"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/admin/rbac/revoke-role - Status: 400", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815259.9579704, "msecs": 957.0, "relativeCreated": 65835.93845367432, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb88fbb350", "processName": "MainProcess", "process": 2241, "request_id": "a2db4e61-982c-40ce-8f69-316fb425956a", "asctime": "2026-01-19 09:34:19,957"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/admin/rbac/revoke-role \"HTTP/1.1 400 Bad Request\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815259.961042, "msecs": 961.0, "relativeCreated": 65839.01000022888, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:19,961"}]}, "teardown": {"duration": 0.0003904270000134602, "outcome": "passed"}}, {"nodeid": "tests/test_rbac_router.py::test_bulk_grant_permission_and_permission_crud", "lineno": 177, "outcome": "passed", "keywords": ["test_bulk_grant_permission_and_permission_crud", "test_rbac_router.py", "tests", "backend", ""], "setup": {"duration": 0.531920671999984, "outcome": "passed", "stderr": "2026-01-19 09:34:19,963 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:20,006 - backend.logging_config - INFO - [-] - Logging initialized\n2026-01-19 09:34:20,012 - backend.router_registry - INFO - [-] - Admin router registered successfully\n2026-01-19 09:34:20,032 - backend.router_registry - INFO - [-] - Auth router registered successfully\n2026-01-19 09:34:20,418 - backend.router_registry - INFO - [-] - Registered routers: Students, Admin, Courses, Grades, Attendance, Analytics, DailyPerformance, Export, Enrollments, Imports, Highlights, AdminOps, Sessions, Diagnostics, Reports, Jobs, Audit, RBAC, Permissions Management, Metrics, Feedback, Notifications, Import/Export, Search, Control\n2026-01-19 09:34:20,421 - backend.middleware.prometheus_metrics - INFO - [-] - Prometheus metrics instrumentation completed\n2026-01-19 09:34:20,422 - backend.middleware.prometheus_metrics - INFO - [-] - Metrics endpoint will be manually added in main.py (instrumentator.expose has issues)\n2026-01-19 09:34:20,423 - backend.app_factory - INFO - [-] - \u2705 /metrics endpoint registered\n2026-01-19 09:34:20,424 - backend.app_factory - WARNING - [-] - \u26a0\ufe0f  Failed to mount WebSocket server: 'AsyncServer' object has no attribute 'asgi_app'\n2026-01-19 09:34:20,425 - backend.app_factory - INFO - [-] - FastAPI application created successfully (version=1.17.2)\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815259.963931, "msecs": 963.0, "relativeCreated": 65841.89915657043, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:19,963"}, {"name": "backend.logging_config", "msg": "Logging initialized", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/logging_config.py", "filename": "logging_config.py", "module": "logging_config", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 114, "funcName": "initialize_logging", "created": 1768815260.00616, "msecs": 6.0, "relativeCreated": 65884.12809371948, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:20,006"}, {"name": "backend.router_registry", "msg": "Admin router registered successfully", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/router_registry.py", "filename": "router_registry.py", "module": "router_registry", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 36, "funcName": "register_routers", "created": 1768815260.0128906, "msecs": 12.0, "relativeCreated": 65890.85865020752, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:20,012"}, {"name": "backend.router_registry", "msg": "Auth router registered successfully", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/router_registry.py", "filename": "router_registry.py", "module": "router_registry", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 51, "funcName": "register_routers", "created": 1768815260.032639, "msecs": 32.0, "relativeCreated": 65910.60709953308, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:20,032"}, {"name": "backend.router_registry", "msg": "Registered routers: Students, Admin, Courses, Grades, Attendance, Analytics, DailyPerformance, Export, Enrollments, Imports, Highlights, AdminOps, Sessions, Diagnostics, Reports, Jobs, Audit, RBAC, Permissions Management, Metrics, Feedback, Notifications, Import/Export, Search, Control", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/router_registry.py", "filename": "router_registry.py", "module": "router_registry", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 121, "funcName": "register_routers", "created": 1768815260.4187884, "msecs": 418.0, "relativeCreated": 66296.75650596619, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:20,418"}, {"name": "backend.middleware.prometheus_metrics", "msg": "Prometheus metrics instrumentation completed", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/middleware/prometheus_metrics.py", "filename": "prometheus_metrics.py", "module": "prometheus_metrics", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 337, "funcName": "setup_metrics", "created": 1768815260.4219701, "msecs": 421.0, "relativeCreated": 66299.9382019043, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:20,421"}, {"name": "backend.middleware.prometheus_metrics", "msg": "Metrics endpoint will be manually added in main.py (instrumentator.expose has issues)", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/middleware/prometheus_metrics.py", "filename": "prometheus_metrics.py", "module": "prometheus_metrics", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 338, "funcName": "setup_metrics", "created": 1768815260.4225779, "msecs": 422.0, "relativeCreated": 66300.54593086243, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:20,422"}, {"name": "backend.app_factory", "msg": "\u2705 /metrics endpoint registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/app_factory.py", "filename": "app_factory.py", "module": "app_factory", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 429, "funcName": "_register_metrics_endpoint", "created": 1768815260.4239619, "msecs": 423.0, "relativeCreated": 66301.92995071411, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:20,423"}, {"name": "backend.app_factory", "msg": "\u26a0\ufe0f  Failed to mount WebSocket server: 'AsyncServer' object has no attribute 'asgi_app'", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/app_factory.py", "filename": "app_factory.py", "module": "app_factory", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 126, "funcName": "create_app", "created": 1768815260.4244866, "msecs": 424.0, "relativeCreated": 66302.45471000671, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:20,424"}, {"name": "backend.app_factory", "msg": "FastAPI application created successfully (version=1.17.2)", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/app_factory.py", "filename": "app_factory.py", "module": "app_factory", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 128, "funcName": "create_app", "created": 1768815260.4250023, "msecs": 425.0, "relativeCreated": 66302.97040939331, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:20,425"}]}, "call": {"duration": 0.609345755000021, "outcome": "passed", "stderr": "2026-01-19 09:34:20,509 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:20,511 - backend.request_id_middleware - INFO - [36fd1125-e025-4b0b-a03f-9a0e48fdb815] - Request started: POST /api/v1/auth/login\n2026-01-19 09:34:20,516 - backend.routers.routers_auth - INFO - [36fd1125-e025-4b0b-a03f-9a0e48fdb815] - Login attempt\n2026-01-19 09:34:20,529 - backend.routers.routers_auth - INFO - [36fd1125-e025-4b0b-a03f-9a0e48fdb815] - Login successful\n2026-01-19 09:34:20,532 - backend.request_id_middleware - INFO - [36fd1125-e025-4b0b-a03f-9a0e48fdb815] - Request completed: POST /api/v1/auth/login - Status: 200\n2026-01-19 09:34:20,535 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:20,537 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:20,538 - backend.request_id_middleware - INFO - [7b703fd1-71c6-4d07-a7e8-ae45f6534214] - Request started: POST /api/v1/admin/rbac/ensure-defaults\n2026-01-19 09:34:21,007 - backend.request_id_middleware - INFO - [7b703fd1-71c6-4d07-a7e8-ae45f6534214] - Request completed: POST /api/v1/admin/rbac/ensure-defaults - Status: 200\n2026-01-19 09:34:21,011 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/admin/rbac/ensure-defaults \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:21,013 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:21,014 - backend.request_id_middleware - INFO - [513e7fb7-d9c0-4ab7-84e4-43c405018a94] - Request started: POST /api/v1/admin/rbac/roles\n2026-01-19 09:34:21,023 - backend.request_id_middleware - INFO - [513e7fb7-d9c0-4ab7-84e4-43c405018a94] - Request completed: POST /api/v1/admin/rbac/roles - Status: 200\n2026-01-19 09:34:21,026 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/admin/rbac/roles \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:21,028 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:21,029 - backend.request_id_middleware - INFO - [96e1c908-47ef-462c-a6bf-29fb1e822c8c] - Request started: POST /api/v1/admin/rbac/permissions\n2026-01-19 09:34:21,037 - backend.request_id_middleware - INFO - [96e1c908-47ef-462c-a6bf-29fb1e822c8c] - Request completed: POST /api/v1/admin/rbac/permissions - Status: 200\n2026-01-19 09:34:21,041 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/admin/rbac/permissions \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:21,042 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:21,043 - backend.request_id_middleware - INFO - [29588255-922f-4c97-bbc9-3b4e62d7205b] - Request started: POST /api/v1/admin/rbac/bulk-grant-permission\n2026-01-19 09:34:21,055 - backend.request_id_middleware - INFO - [29588255-922f-4c97-bbc9-3b4e62d7205b] - Request completed: POST /api/v1/admin/rbac/bulk-grant-permission - Status: 200\n2026-01-19 09:34:21,058 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/admin/rbac/bulk-grant-permission \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:21,060 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:21,061 - backend.request_id_middleware - INFO - [faf5a512-822e-4f91-a086-ed7b29b1a4f9] - Request started: GET /api/v1/admin/rbac/permissions\n2026-01-19 09:34:21,068 - backend.request_id_middleware - INFO - [faf5a512-822e-4f91-a086-ed7b29b1a4f9] - Request completed: GET /api/v1/admin/rbac/permissions - Status: 200\n2026-01-19 09:34:21,072 - httpx - INFO - [-] - HTTP Request: GET http://testserver/api/v1/admin/rbac/permissions \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:21,073 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:21,075 - backend.request_id_middleware - INFO - [3bede273-b399-4e03-817f-5be553adc9dd] - Request started: PUT /api/v1/admin/rbac/permissions/38\n2026-01-19 09:34:21,084 - backend.request_id_middleware - INFO - [3bede273-b399-4e03-817f-5be553adc9dd] - Request completed: PUT /api/v1/admin/rbac/permissions/38 - Status: 200\n2026-01-19 09:34:21,087 - httpx - INFO - [-] - HTTP Request: PUT http://testserver/api/v1/admin/rbac/permissions/38 \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:21,089 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:21,090 - backend.request_id_middleware - INFO - [f4e97c67-a50a-4eb4-a0dc-9b81e8b7a258] - Request started: DELETE /api/v1/admin/rbac/permissions/38\n2026-01-19 09:34:21,100 - backend.request_id_middleware - INFO - [f4e97c67-a50a-4eb4-a0dc-9b81e8b7a258] - Request completed: DELETE /api/v1/admin/rbac/permissions/38 - Status: 200\n2026-01-19 09:34:21,104 - httpx - INFO - [-] - HTTP Request: DELETE http://testserver/api/v1/admin/rbac/permissions/38 \"HTTP/1.1 200 OK\"\n", "log": [{"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815260.5097687, "msecs": 509.0, "relativeCreated": 66387.73679733276, "thread": 140512215779008, "threadName": "Thread-319 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:20,509"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/login", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815260.5118213, "msecs": 511.0, "relativeCreated": 66389.78934288025, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88d2b050", "processName": "MainProcess", "process": 2241, "request_id": "36fd1125-e025-4b0b-a03f-9a0e48fdb815", "asctime": "2026-01-19 09:34:20,511"}, {"name": "backend.routers.routers_auth", "msg": "Login attempt", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 459, "funcName": "login", "created": 1768815260.5161223, "msecs": 516.0, "relativeCreated": 66394.09041404724, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88d2b050", "processName": "MainProcess", "process": 2241, "request_id": "36fd1125-e025-4b0b-a03f-9a0e48fdb815", "asctime": "2026-01-19 09:34:20,516"}, {"name": "backend.routers.routers_auth", "msg": "Login successful", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 496, "funcName": "login", "created": 1768815260.5295653, "msecs": 529.0, "relativeCreated": 66407.5334072113, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88d2b050", "processName": "MainProcess", "process": 2241, "user_id": 1, "request_id": "36fd1125-e025-4b0b-a03f-9a0e48fdb815", "asctime": "2026-01-19 09:34:20,529"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/login - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815260.532096, "msecs": 532.0, "relativeCreated": 66410.06398200989, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88d2b050", "processName": "MainProcess", "process": 2241, "request_id": "36fd1125-e025-4b0b-a03f-9a0e48fdb815", "asctime": "2026-01-19 09:34:20,532"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815260.5357723, "msecs": 535.0, "relativeCreated": 66413.74039649963, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:20,535"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815260.5372488, "msecs": 537.0, "relativeCreated": 66415.21692276001, "thread": 140512215779008, "threadName": "Thread-320 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:20,537"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/admin/rbac/ensure-defaults", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815260.5387099, "msecs": 538.0, "relativeCreated": 66416.67795181274, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88d37010", "processName": "MainProcess", "process": 2241, "request_id": "7b703fd1-71c6-4d07-a7e8-ae45f6534214", "asctime": "2026-01-19 09:34:20,538"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/admin/rbac/ensure-defaults - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815261.0074606, "msecs": 7.0, "relativeCreated": 66885.42866706848, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88d37010", "processName": "MainProcess", "process": 2241, "request_id": "7b703fd1-71c6-4d07-a7e8-ae45f6534214", "asctime": "2026-01-19 09:34:21,007"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/admin/rbac/ensure-defaults \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815261.0116138, "msecs": 11.0, "relativeCreated": 66889.58191871643, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,011"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815261.0132442, "msecs": 13.0, "relativeCreated": 66891.21222496033, "thread": 140512215779008, "threadName": "Thread-321 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,013"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/admin/rbac/roles", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815261.014778, "msecs": 14.0, "relativeCreated": 66892.74597167969, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88d37290", "processName": "MainProcess", "process": 2241, "request_id": "513e7fb7-d9c0-4ab7-84e4-43c405018a94", "asctime": "2026-01-19 09:34:21,014"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/admin/rbac/roles - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815261.0230753, "msecs": 23.0, "relativeCreated": 66901.04341506958, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88d37290", "processName": "MainProcess", "process": 2241, "request_id": "513e7fb7-d9c0-4ab7-84e4-43c405018a94", "asctime": "2026-01-19 09:34:21,023"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/admin/rbac/roles \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815261.0263908, "msecs": 26.0, "relativeCreated": 66904.35886383057, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,026"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815261.028437, "msecs": 28.0, "relativeCreated": 66906.40497207642, "thread": 140512215779008, "threadName": "Thread-322 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,028"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/admin/rbac/permissions", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815261.0299115, "msecs": 29.0, "relativeCreated": 66907.87959098816, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88d35210", "processName": "MainProcess", "process": 2241, "request_id": "96e1c908-47ef-462c-a6bf-29fb1e822c8c", "asctime": "2026-01-19 09:34:21,029"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/admin/rbac/permissions - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815261.0378215, "msecs": 37.0, "relativeCreated": 66915.78960418701, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88d35210", "processName": "MainProcess", "process": 2241, "request_id": "96e1c908-47ef-462c-a6bf-29fb1e822c8c", "asctime": "2026-01-19 09:34:21,037"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/admin/rbac/permissions \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815261.0411396, "msecs": 41.0, "relativeCreated": 66919.10767555237, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,041"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815261.0425694, "msecs": 42.0, "relativeCreated": 66920.53747177124, "thread": 140512215779008, "threadName": "Thread-323 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,042"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/admin/rbac/bulk-grant-permission", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815261.0439217, "msecs": 43.0, "relativeCreated": 66921.8897819519, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88f99bd0", "processName": "MainProcess", "process": 2241, "request_id": "29588255-922f-4c97-bbc9-3b4e62d7205b", "asctime": "2026-01-19 09:34:21,043"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/admin/rbac/bulk-grant-permission - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815261.055352, "msecs": 55.0, "relativeCreated": 66933.32004547119, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88f99bd0", "processName": "MainProcess", "process": 2241, "request_id": "29588255-922f-4c97-bbc9-3b4e62d7205b", "asctime": "2026-01-19 09:34:21,055"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/admin/rbac/bulk-grant-permission \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815261.0588584, "msecs": 58.0, "relativeCreated": 66936.82646751404, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,058"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815261.060307, "msecs": 60.0, "relativeCreated": 66938.27509880066, "thread": 140512215779008, "threadName": "Thread-324 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,060"}, {"name": "backend.request_id_middleware", "msg": "Request started: GET /api/v1/admin/rbac/permissions", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815261.0617945, "msecs": 61.0, "relativeCreated": 66939.76259231567, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88f91350", "processName": "MainProcess", "process": 2241, "request_id": "faf5a512-822e-4f91-a086-ed7b29b1a4f9", "asctime": "2026-01-19 09:34:21,061"}, {"name": "backend.request_id_middleware", "msg": "Request completed: GET /api/v1/admin/rbac/permissions - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815261.0688694, "msecs": 68.0, "relativeCreated": 66946.83742523193, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88f91350", "processName": "MainProcess", "process": 2241, "request_id": "faf5a512-822e-4f91-a086-ed7b29b1a4f9", "asctime": "2026-01-19 09:34:21,068"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/api/v1/admin/rbac/permissions \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815261.0722735, "msecs": 72.0, "relativeCreated": 66950.24156570435, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,072"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815261.0738308, "msecs": 73.0, "relativeCreated": 66951.79891586304, "thread": 140512215779008, "threadName": "Thread-325 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,073"}, {"name": "backend.request_id_middleware", "msg": "Request started: PUT /api/v1/admin/rbac/permissions/38", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815261.0752418, "msecs": 75.0, "relativeCreated": 66953.20987701416, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88f99550", "processName": "MainProcess", "process": 2241, "request_id": "3bede273-b399-4e03-817f-5be553adc9dd", "asctime": "2026-01-19 09:34:21,075"}, {"name": "backend.request_id_middleware", "msg": "Request completed: PUT /api/v1/admin/rbac/permissions/38 - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815261.0844362, "msecs": 84.0, "relativeCreated": 66962.40425109863, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb88f99550", "processName": "MainProcess", "process": 2241, "request_id": "3bede273-b399-4e03-817f-5be553adc9dd", "asctime": "2026-01-19 09:34:21,084"}, {"name": "httpx", "msg": "HTTP Request: PUT http://testserver/api/v1/admin/rbac/permissions/38 \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815261.087847, "msecs": 87.0, "relativeCreated": 66965.81506729126, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,087"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815261.089295, "msecs": 89.0, "relativeCreated": 66967.26298332214, "thread": 140512215779008, "threadName": "Thread-326 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,089"}, {"name": "backend.request_id_middleware", "msg": "Request started: DELETE /api/v1/admin/rbac/permissions/38", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815261.0906465, "msecs": 90.0, "relativeCreated": 66968.61457824707, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89446210", "processName": "MainProcess", "process": 2241, "request_id": "f4e97c67-a50a-4eb4-a0dc-9b81e8b7a258", "asctime": "2026-01-19 09:34:21,090"}, {"name": "backend.request_id_middleware", "msg": "Request completed: DELETE /api/v1/admin/rbac/permissions/38 - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815261.100685, "msecs": 100.0, "relativeCreated": 66978.65295410156, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89446210", "processName": "MainProcess", "process": 2241, "request_id": "f4e97c67-a50a-4eb4-a0dc-9b81e8b7a258", "asctime": "2026-01-19 09:34:21,100"}, {"name": "httpx", "msg": "HTTP Request: DELETE http://testserver/api/v1/admin/rbac/permissions/38 \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815261.104085, "msecs": 104.0, "relativeCreated": 66982.05304145813, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,104"}]}, "teardown": {"duration": 0.0004090630000064266, "outcome": "passed"}}, {"nodeid": "tests/test_rbac_templates.py::test_001_permission_check_allows_authorized_user", "lineno": 12, "outcome": "skipped", "keywords": ["test_001_permission_check_allows_authorized_user", "skip", "pytestmark", "test_rbac_templates.py", "tests", "backend", ""], "setup": {"duration": 0.00027738699998280936, "outcome": "skipped", "longrepr": "('/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_rbac_templates.py', 13, 'Skipped: TODO: Implement in Phase 2 RBAC execution (Week 1-2)')"}, "teardown": {"duration": 0.0002050629999814646, "outcome": "passed"}}, {"nodeid": "tests/test_rbac_templates.py::test_002_permission_check_denies_unauthorized_user", "lineno": 18, "outcome": "skipped", "keywords": ["test_002_permission_check_denies_unauthorized_user", "skip", "pytestmark", "test_rbac_templates.py", "tests", "backend", ""], "setup": {"duration": 0.00018626699997525975, "outcome": "skipped", "longrepr": "('/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_rbac_templates.py', 19, 'Skipped: TODO: Implement in Phase 2 RBAC execution (Week 1-2)')"}, "teardown": {"duration": 0.00021284700000023804, "outcome": "passed"}}, {"nodeid": "tests/test_rbac_templates.py::test_003_permission_check_denies_inactive_permission", "lineno": 24, "outcome": "skipped", "keywords": ["test_003_permission_check_denies_inactive_permission", "skip", "pytestmark", "test_rbac_templates.py", "tests", "backend", ""], "setup": {"duration": 0.00017536699999709526, "outcome": "skipped", "longrepr": "('/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_rbac_templates.py', 25, 'Skipped: TODO: Implement in Phase 2 RBAC execution (Week 1-2)')"}, "teardown": {"duration": 0.00018200900001374976, "outcome": "passed"}}, {"nodeid": "tests/test_rbac_templates.py::test_004_permission_check_denies_expired_permission", "lineno": 30, "outcome": "skipped", "keywords": ["test_004_permission_check_denies_expired_permission", "skip", "pytestmark", "test_rbac_templates.py", "tests", "backend", ""], "setup": {"duration": 0.0001727819999928215, "outcome": "skipped", "longrepr": "('/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_rbac_templates.py', 31, 'Skipped: TODO: Implement in Phase 2 RBAC execution (Week 1-2)')"}, "teardown": {"duration": 0.0001809069999865187, "outcome": "passed"}}, {"nodeid": "tests/test_rbac_templates.py::test_005_permission_check_respects_future_start", "lineno": 36, "outcome": "skipped", "keywords": ["test_005_permission_check_respects_future_start", "skip", "pytestmark", "test_rbac_templates.py", "tests", "backend", ""], "setup": {"duration": 0.0001933800000131214, "outcome": "skipped", "longrepr": "('/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_rbac_templates.py', 37, 'Skipped: TODO: Implement in Phase 2 RBAC execution (Week 1-2)')"}, "teardown": {"duration": 0.00017230200000994955, "outcome": "passed"}}, {"nodeid": "tests/test_rbac_templates.py::test_006_role_permission_resolution", "lineno": 42, "outcome": "skipped", "keywords": ["test_006_role_permission_resolution", "skip", "pytestmark", "test_rbac_templates.py", "tests", "backend", ""], "setup": {"duration": 0.00017908399999555513, "outcome": "skipped", "longrepr": "('/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_rbac_templates.py', 43, 'Skipped: TODO: Implement in Phase 2 RBAC execution (Week 1-2)')"}, "teardown": {"duration": 0.0001716499999986354, "outcome": "passed"}}, {"nodeid": "tests/test_rbac_templates.py::test_007_user_permission_overrides_role_revocation", "lineno": 48, "outcome": "skipped", "keywords": ["test_007_user_permission_overrides_role_revocation", "skip", "pytestmark", "test_rbac_templates.py", "tests", "backend", ""], "setup": {"duration": 0.000176719999984698, "outcome": "skipped", "longrepr": "('/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_rbac_templates.py', 49, 'Skipped: TODO: Implement in Phase 2 RBAC execution (Week 1-2)')"}, "teardown": {"duration": 0.00044052200001942765, "outcome": "passed"}}, {"nodeid": "tests/test_rbac_templates.py::test_008_revoked_user_permission_blocks_access", "lineno": 54, "outcome": "skipped", "keywords": ["test_008_revoked_user_permission_blocks_access", "skip", "pytestmark", "test_rbac_templates.py", "tests", "backend", ""], "setup": {"duration": 0.000174005000019406, "outcome": "skipped", "longrepr": "('/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_rbac_templates.py', 55, 'Skipped: TODO: Implement in Phase 2 RBAC execution (Week 1-2)')"}, "teardown": {"duration": 0.00018769999999790343, "outcome": "passed"}}, {"nodeid": "tests/test_rbac_templates.py::test_009_permission_cache_invalidation_on_role_change", "lineno": 60, "outcome": "skipped", "keywords": ["test_009_permission_cache_invalidation_on_role_change", "skip", "pytestmark", "test_rbac_templates.py", "tests", "backend", ""], "setup": {"duration": 0.00018753999998466497, "outcome": "skipped", "longrepr": "('/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_rbac_templates.py', 61, 'Skipped: TODO: Implement in Phase 2 RBAC execution (Week 1-2)')"}, "teardown": {"duration": 0.00017870299998890005, "outcome": "passed"}}, {"nodeid": "tests/test_rbac_templates.py::test_010_permission_cache_invalidation_on_direct_grant", "lineno": 66, "outcome": "skipped", "keywords": ["test_010_permission_cache_invalidation_on_direct_grant", "skip", "pytestmark", "test_rbac_templates.py", "tests", "backend", ""], "setup": {"duration": 0.00017969499998571337, "outcome": "skipped", "longrepr": "('/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_rbac_templates.py', 67, 'Skipped: TODO: Implement in Phase 2 RBAC execution (Week 1-2)')"}, "teardown": {"duration": 0.000174885999996377, "outcome": "passed"}}, {"nodeid": "tests/test_rbac_templates.py::test_011_permission_cache_invalidation_on_direct_revoke", "lineno": 72, "outcome": "skipped", "keywords": ["test_011_permission_cache_invalidation_on_direct_revoke", "skip", "pytestmark", "test_rbac_templates.py", "tests", "backend", ""], "setup": {"duration": 0.0001773510000191436, "outcome": "skipped", "longrepr": "('/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_rbac_templates.py', 73, 'Skipped: TODO: Implement in Phase 2 RBAC execution (Week 1-2)')"}, "teardown": {"duration": 0.00017454600001087783, "outcome": "passed"}}, {"nodeid": "tests/test_rbac_templates.py::test_012_require_permission_allows_authorized_user", "lineno": 78, "outcome": "skipped", "keywords": ["test_012_require_permission_allows_authorized_user", "skip", "pytestmark", "test_rbac_templates.py", "tests", "backend", ""], "setup": {"duration": 0.00017536700002551697, "outcome": "skipped", "longrepr": "('/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_rbac_templates.py', 79, 'Skipped: TODO: Implement in Phase 2 RBAC execution (Week 1-2)')"}, "teardown": {"duration": 0.0001734429999942222, "outcome": "passed"}}, {"nodeid": "tests/test_rbac_templates.py::test_013_require_permission_denies_unauthorized_user", "lineno": 84, "outcome": "skipped", "keywords": ["test_013_require_permission_denies_unauthorized_user", "skip", "pytestmark", "test_rbac_templates.py", "tests", "backend", ""], "setup": {"duration": 0.00017469499999833715, "outcome": "skipped", "longrepr": "('/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_rbac_templates.py', 85, 'Skipped: TODO: Implement in Phase 2 RBAC execution (Week 1-2)')"}, "teardown": {"duration": 0.00019369099999266837, "outcome": "passed"}}, {"nodeid": "tests/test_rbac_templates.py::test_014_require_permission_logs_request_id", "lineno": 90, "outcome": "skipped", "keywords": ["test_014_require_permission_logs_request_id", "skip", "pytestmark", "test_rbac_templates.py", "tests", "backend", ""], "setup": {"duration": 0.00016805299998168266, "outcome": "skipped", "longrepr": "('/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_rbac_templates.py', 91, 'Skipped: TODO: Implement in Phase 2 RBAC execution (Week 1-2)')"}, "teardown": {"duration": 0.0002023170000029495, "outcome": "passed"}}, {"nodeid": "tests/test_rbac_templates.py::test_015_require_any_permission_allows_on_any_match", "lineno": 96, "outcome": "skipped", "keywords": ["test_015_require_any_permission_allows_on_any_match", "skip", "pytestmark", "test_rbac_templates.py", "tests", "backend", ""], "setup": {"duration": 0.00019189700000765697, "outcome": "skipped", "longrepr": "('/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_rbac_templates.py', 97, 'Skipped: TODO: Implement in Phase 2 RBAC execution (Week 1-2)')"}, "teardown": {"duration": 0.00017689899999595582, "outcome": "passed"}}, {"nodeid": "tests/test_rbac_templates.py::test_016_require_any_permission_denies_when_none_match", "lineno": 102, "outcome": "skipped", "keywords": ["test_016_require_any_permission_denies_when_none_match", "skip", "pytestmark", "test_rbac_templates.py", "tests", "backend", ""], "setup": {"duration": 0.00017538700001296093, "outcome": "skipped", "longrepr": "('/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_rbac_templates.py', 103, 'Skipped: TODO: Implement in Phase 2 RBAC execution (Week 1-2)')"}, "teardown": {"duration": 0.00017471600000362741, "outcome": "passed"}}, {"nodeid": "tests/test_rbac_templates.py::test_017_require_all_permissions_allows_when_all_present", "lineno": 108, "outcome": "skipped", "keywords": ["test_017_require_all_permissions_allows_when_all_present", "skip", "pytestmark", "test_rbac_templates.py", "tests", "backend", ""], "setup": {"duration": 0.00017477599999438098, "outcome": "skipped", "longrepr": "('/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_rbac_templates.py', 109, 'Skipped: TODO: Implement in Phase 2 RBAC execution (Week 1-2)')"}, "teardown": {"duration": 0.0001725310000040281, "outcome": "passed"}}, {"nodeid": "tests/test_rbac_templates.py::test_018_require_all_permissions_denies_when_one_missing", "lineno": 114, "outcome": "skipped", "keywords": ["test_018_require_all_permissions_denies_when_one_missing", "skip", "pytestmark", "test_rbac_templates.py", "tests", "backend", ""], "setup": {"duration": 0.00017098899999723471, "outcome": "skipped", "longrepr": "('/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_rbac_templates.py', 115, 'Skipped: TODO: Implement in Phase 2 RBAC execution (Week 1-2)')"}, "teardown": {"duration": 0.00017128999999727057, "outcome": "passed"}}, {"nodeid": "tests/test_rbac_templates.py::test_019_self_access_student_own_record", "lineno": 120, "outcome": "skipped", "keywords": ["test_019_self_access_student_own_record", "skip", "pytestmark", "test_rbac_templates.py", "tests", "backend", ""], "setup": {"duration": 0.0001717909999854328, "outcome": "skipped", "longrepr": "('/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_rbac_templates.py', 121, 'Skipped: TODO: Implement in Phase 2 RBAC execution (Week 1-2)')"}, "teardown": {"duration": 0.00019182799999839517, "outcome": "passed"}}, {"nodeid": "tests/test_rbac_templates.py::test_020_self_access_student_other_record", "lineno": 126, "outcome": "skipped", "keywords": ["test_020_self_access_student_other_record", "skip", "pytestmark", "test_rbac_templates.py", "tests", "backend", ""], "setup": {"duration": 0.00016751199999021082, "outcome": "skipped", "longrepr": "('/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_rbac_templates.py', 127, 'Skipped: TODO: Implement in Phase 2 RBAC execution (Week 1-2)')"}, "teardown": {"duration": 0.0001757369999779712, "outcome": "passed"}}, {"nodeid": "tests/test_rbac_templates.py::test_021_self_access_grade_view", "lineno": 132, "outcome": "skipped", "keywords": ["test_021_self_access_grade_view", "skip", "pytestmark", "test_rbac_templates.py", "tests", "backend", ""], "setup": {"duration": 0.00017191099999536164, "outcome": "skipped", "longrepr": "('/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_rbac_templates.py', 133, 'Skipped: TODO: Implement in Phase 2 RBAC execution (Week 1-2)')"}, "teardown": {"duration": 0.0001835719999974117, "outcome": "passed"}}, {"nodeid": "tests/test_rbac_templates.py::test_022_self_access_grade_edit_denied", "lineno": 138, "outcome": "skipped", "keywords": ["test_022_self_access_grade_edit_denied", "skip", "pytestmark", "test_rbac_templates.py", "tests", "backend", ""], "setup": {"duration": 0.00019525400000475202, "outcome": "skipped", "longrepr": "('/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_rbac_templates.py', 139, 'Skipped: TODO: Implement in Phase 2 RBAC execution (Week 1-2)')"}, "teardown": {"duration": 0.00017532600000436105, "outcome": "passed"}}, {"nodeid": "tests/test_rbac_templates.py::test_023_teacher_scoped_permissions_by_course", "lineno": 144, "outcome": "skipped", "keywords": ["test_023_teacher_scoped_permissions_by_course", "skip", "pytestmark", "test_rbac_templates.py", "tests", "backend", ""], "setup": {"duration": 0.00017577799999912713, "outcome": "skipped", "longrepr": "('/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_rbac_templates.py', 145, 'Skipped: TODO: Implement in Phase 2 RBAC execution (Week 1-2)')"}, "teardown": {"duration": 0.00017480599998975777, "outcome": "passed"}}, {"nodeid": "tests/test_rbac_templates.py::test_024_viewer_read_only_enforcement", "lineno": 150, "outcome": "skipped", "keywords": ["test_024_viewer_read_only_enforcement", "skip", "pytestmark", "test_rbac_templates.py", "tests", "backend", ""], "setup": {"duration": 0.00017542700001627054, "outcome": "skipped", "longrepr": "('/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_rbac_templates.py', 151, 'Skipped: TODO: Implement in Phase 2 RBAC execution (Week 1-2)')"}, "teardown": {"duration": 0.00017341400001669172, "outcome": "passed"}}, {"nodeid": "tests/test_rbac_templates.py::test_025_admin_has_all_seeded_permissions", "lineno": 156, "outcome": "skipped", "keywords": ["test_025_admin_has_all_seeded_permissions", "skip", "pytestmark", "test_rbac_templates.py", "tests", "backend", ""], "setup": {"duration": 0.00017525600000567465, "outcome": "skipped", "longrepr": "('/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_rbac_templates.py', 157, 'Skipped: TODO: Implement in Phase 2 RBAC execution (Week 1-2)')"}, "teardown": {"duration": 0.0001936309999734931, "outcome": "passed"}}, {"nodeid": "tests/test_rbac_templates.py::test_026_teacher_has_expected_subset", "lineno": 162, "outcome": "skipped", "keywords": ["test_026_teacher_has_expected_subset", "skip", "pytestmark", "test_rbac_templates.py", "tests", "backend", ""], "setup": {"duration": 0.00017100899998467867, "outcome": "skipped", "longrepr": "('/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_rbac_templates.py', 163, 'Skipped: TODO: Implement in Phase 2 RBAC execution (Week 1-2)')"}, "teardown": {"duration": 0.00020961000001307184, "outcome": "passed"}}, {"nodeid": "tests/test_rbac_templates.py::test_027_viewer_has_expected_subset", "lineno": 168, "outcome": "skipped", "keywords": ["test_027_viewer_has_expected_subset", "skip", "pytestmark", "test_rbac_templates.py", "tests", "backend", ""], "setup": {"duration": 0.00016987700001891426, "outcome": "skipped", "longrepr": "('/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_rbac_templates.py', 169, 'Skipped: TODO: Implement in Phase 2 RBAC execution (Week 1-2)')"}, "teardown": {"duration": 0.00017820300001858413, "outcome": "passed"}}, {"nodeid": "tests/test_rbac_templates.py::test_028_seed_script_idempotent", "lineno": 174, "outcome": "skipped", "keywords": ["test_028_seed_script_idempotent", "skip", "pytestmark", "test_rbac_templates.py", "tests", "backend", ""], "setup": {"duration": 0.0002241180000055465, "outcome": "skipped", "longrepr": "('/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_rbac_templates.py', 175, 'Skipped: TODO: Implement in Phase 2 RBAC execution (Week 1-2)')"}, "teardown": {"duration": 0.0001794249999989006, "outcome": "passed"}}, {"nodeid": "tests/test_rbac_templates.py::test_029_seed_script_restores_missing_permission", "lineno": 180, "outcome": "skipped", "keywords": ["test_029_seed_script_restores_missing_permission", "skip", "pytestmark", "test_rbac_templates.py", "tests", "backend", ""], "setup": {"duration": 0.00017637899998135254, "outcome": "skipped", "longrepr": "('/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_rbac_templates.py', 181, 'Skipped: TODO: Implement in Phase 2 RBAC execution (Week 1-2)')"}, "teardown": {"duration": 0.00017706099998804348, "outcome": "passed"}}, {"nodeid": "tests/test_rbac_templates.py::test_030_seed_script_restores_missing_role_permission", "lineno": 186, "outcome": "skipped", "keywords": ["test_030_seed_script_restores_missing_role_permission", "skip", "pytestmark", "test_rbac_templates.py", "tests", "backend", ""], "setup": {"duration": 0.00017948500001807588, "outcome": "skipped", "longrepr": "('/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_rbac_templates.py', 187, 'Skipped: TODO: Implement in Phase 2 RBAC execution (Week 1-2)')"}, "teardown": {"duration": 0.00019815000001699445, "outcome": "passed"}}, {"nodeid": "tests/test_rbac_templates.py::test_031_permission_denied_returns_standard_error_payload", "lineno": 192, "outcome": "skipped", "keywords": ["test_031_permission_denied_returns_standard_error_payload", "skip", "pytestmark", "test_rbac_templates.py", "tests", "backend", ""], "setup": {"duration": 0.00019524399999681918, "outcome": "skipped", "longrepr": "('/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_rbac_templates.py', 193, 'Skipped: TODO: Implement in Phase 2 RBAC execution (Week 1-2)')"}, "teardown": {"duration": 0.00018165900002031776, "outcome": "passed"}}, {"nodeid": "tests/test_rbac_templates.py::test_032_permission_denied_includes_permission_name", "lineno": 198, "outcome": "skipped", "keywords": ["test_032_permission_denied_includes_permission_name", "skip", "pytestmark", "test_rbac_templates.py", "tests", "backend", ""], "setup": {"duration": 0.00017233200000532634, "outcome": "skipped", "longrepr": "('/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_rbac_templates.py', 199, 'Skipped: TODO: Implement in Phase 2 RBAC execution (Week 1-2)')"}, "teardown": {"duration": 0.0001796650000187583, "outcome": "passed"}}, {"nodeid": "tests/test_rbac_templates.py::test_033_permission_denied_includes_request_id", "lineno": 204, "outcome": "skipped", "keywords": ["test_033_permission_denied_includes_request_id", "skip", "pytestmark", "test_rbac_templates.py", "tests", "backend", ""], "setup": {"duration": 0.00019396100000790284, "outcome": "skipped", "longrepr": "('/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_rbac_templates.py', 205, 'Skipped: TODO: Implement in Phase 2 RBAC execution (Week 1-2)')"}, "teardown": {"duration": 0.00017519600001492108, "outcome": "passed"}}, {"nodeid": "tests/test_rbac_templates.py::test_034_permission_grant_propagates_to_tokens", "lineno": 210, "outcome": "skipped", "keywords": ["test_034_permission_grant_propagates_to_tokens", "skip", "pytestmark", "test_rbac_templates.py", "tests", "backend", ""], "setup": {"duration": 0.00017462499999965075, "outcome": "skipped", "longrepr": "('/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_rbac_templates.py', 211, 'Skipped: TODO: Implement in Phase 2 RBAC execution (Week 1-2)')"}, "teardown": {"duration": 0.00017405400001280213, "outcome": "passed"}}, {"nodeid": "tests/test_rbac_templates.py::test_035_permission_revocation_blocks_old_tokens_on_refresh", "lineno": 216, "outcome": "skipped", "keywords": ["test_035_permission_revocation_blocks_old_tokens_on_refresh", "skip", "pytestmark", "test_rbac_templates.py", "tests", "backend", ""], "setup": {"duration": 0.00018136799999979303, "outcome": "skipped", "longrepr": "('/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_rbac_templates.py', 217, 'Skipped: TODO: Implement in Phase 2 RBAC execution (Week 1-2)')"}, "teardown": {"duration": 0.00019769900001165297, "outcome": "passed"}}, {"nodeid": "tests/test_rbac_templates.py::test_036_permission_revocation_does_not_affect_other_permissions", "lineno": 222, "outcome": "skipped", "keywords": ["test_036_permission_revocation_does_not_affect_other_permissions", "skip", "pytestmark", "test_rbac_templates.py", "tests", "backend", ""], "setup": {"duration": 0.00017036700000971905, "outcome": "skipped", "longrepr": "('/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_rbac_templates.py', 223, 'Skipped: TODO: Implement in Phase 2 RBAC execution (Week 1-2)')"}, "teardown": {"duration": 0.00018141900000046007, "outcome": "passed"}}, {"nodeid": "tests/test_rbac_templates.py::test_037_permission_lookup_handles_unknown_permission", "lineno": 228, "outcome": "skipped", "keywords": ["test_037_permission_lookup_handles_unknown_permission", "skip", "pytestmark", "test_rbac_templates.py", "tests", "backend", ""], "setup": {"duration": 0.00017049799998858362, "outcome": "skipped", "longrepr": "('/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_rbac_templates.py', 229, 'Skipped: TODO: Implement in Phase 2 RBAC execution (Week 1-2)')"}, "teardown": {"duration": 0.00017913400000679758, "outcome": "passed"}}, {"nodeid": "tests/test_rbac_templates.py::test_038_permission_lookup_handles_soft_deleted_role", "lineno": 234, "outcome": "skipped", "keywords": ["test_038_permission_lookup_handles_soft_deleted_role", "skip", "pytestmark", "test_rbac_templates.py", "tests", "backend", ""], "setup": {"duration": 0.00019301000000382373, "outcome": "skipped", "longrepr": "('/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_rbac_templates.py', 235, 'Skipped: TODO: Implement in Phase 2 RBAC execution (Week 1-2)')"}, "teardown": {"duration": 0.0001749570000129097, "outcome": "passed"}}, {"nodeid": "tests/test_rbac_templates.py::test_039_permission_lookup_handles_soft_deleted_user", "lineno": 240, "outcome": "skipped", "keywords": ["test_039_permission_lookup_handles_soft_deleted_user", "skip", "pytestmark", "test_rbac_templates.py", "tests", "backend", ""], "setup": {"duration": 0.00017690000001380213, "outcome": "skipped", "longrepr": "('/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_rbac_templates.py', 241, 'Skipped: TODO: Implement in Phase 2 RBAC execution (Week 1-2)')"}, "teardown": {"duration": 0.0001747459999990042, "outcome": "passed"}}, {"nodeid": "tests/test_rbac_templates.py::test_040_permission_lookup_ignores_inactive_role_permission", "lineno": 246, "outcome": "skipped", "keywords": ["test_040_permission_lookup_ignores_inactive_role_permission", "skip", "pytestmark", "test_rbac_templates.py", "tests", "backend", ""], "setup": {"duration": 0.0001754159999904914, "outcome": "skipped", "longrepr": "('/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_rbac_templates.py', 247, 'Skipped: TODO: Implement in Phase 2 RBAC execution (Week 1-2)')"}, "teardown": {"duration": 0.00017311199999880955, "outcome": "passed"}}, {"nodeid": "tests/test_rbac_templates.py::test_041_permission_lookup_considers_user_permission_expiry", "lineno": 252, "outcome": "skipped", "keywords": ["test_041_permission_lookup_considers_user_permission_expiry", "skip", "pytestmark", "test_rbac_templates.py", "tests", "backend", ""], "setup": {"duration": 0.0001740750000180924, "outcome": "skipped", "longrepr": "('/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_rbac_templates.py', 253, 'Skipped: TODO: Implement in Phase 2 RBAC execution (Week 1-2)')"}, "teardown": {"duration": 0.00022706300001118507, "outcome": "passed"}}, {"nodeid": "tests/test_rbac_templates.py::test_042_permission_lookup_considers_role_permission_expiry", "lineno": 258, "outcome": "skipped", "keywords": ["test_042_permission_lookup_considers_role_permission_expiry", "skip", "pytestmark", "test_rbac_templates.py", "tests", "backend", ""], "setup": {"duration": 0.00030260400001225207, "outcome": "skipped", "longrepr": "('/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_rbac_templates.py', 259, 'Skipped: TODO: Implement in Phase 2 RBAC execution (Week 1-2)')"}, "teardown": {"duration": 0.00018196900001044014, "outcome": "passed"}}, {"nodeid": "tests/test_rbac_templates.py::test_043_permission_lookup_handles_multiple_roles", "lineno": 264, "outcome": "skipped", "keywords": ["test_043_permission_lookup_handles_multiple_roles", "skip", "pytestmark", "test_rbac_templates.py", "tests", "backend", ""], "setup": {"duration": 0.00019618600001081177, "outcome": "skipped", "longrepr": "('/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_rbac_templates.py', 265, 'Skipped: TODO: Implement in Phase 2 RBAC execution (Week 1-2)')"}, "teardown": {"duration": 0.00020698599999491307, "outcome": "passed"}}, {"nodeid": "tests/test_rbac_templates.py::test_044_permission_lookup_handles_duplicate_permissions", "lineno": 270, "outcome": "skipped", "keywords": ["test_044_permission_lookup_handles_duplicate_permissions", "skip", "pytestmark", "test_rbac_templates.py", "tests", "backend", ""], "setup": {"duration": 0.00017867300002194497, "outcome": "skipped", "longrepr": "('/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_rbac_templates.py', 271, 'Skipped: TODO: Implement in Phase 2 RBAC execution (Week 1-2)')"}, "teardown": {"duration": 0.0001761179999846263, "outcome": "passed"}}, {"nodeid": "tests/test_rbac_templates.py::test_045_permission_lookup_handles_cross_domain_permissions", "lineno": 276, "outcome": "skipped", "keywords": ["test_045_permission_lookup_handles_cross_domain_permissions", "skip", "pytestmark", "test_rbac_templates.py", "tests", "backend", ""], "setup": {"duration": 0.00017804199998749937, "outcome": "skipped", "longrepr": "('/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_rbac_templates.py', 277, 'Skipped: TODO: Implement in Phase 2 RBAC execution (Week 1-2)')"}, "teardown": {"duration": 0.00018904200001657046, "outcome": "passed"}}, {"nodeid": "tests/test_register_role_enforcement.py::test_public_registration_cannot_set_admin", "lineno": 3, "outcome": "passed", "keywords": ["test_public_registration_cannot_set_admin", "test_register_role_enforcement.py", "tests", "backend", ""], "setup": {"duration": 0.051023689000004424, "outcome": "passed", "stderr": "2026-01-19 09:34:21,160 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:21,206 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:21,208 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:21,208 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:21,209 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:21,209 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:21,210 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815261.160853, "msecs": 160.0, "relativeCreated": 67038.82098197937, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,160"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815261.2065713, "msecs": 206.0, "relativeCreated": 67084.53941345215, "thread": 140512215779008, "threadName": "Thread-327 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,206"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815261.2081757, "msecs": 208.0, "relativeCreated": 67086.14373207092, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb891673d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,208"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815261.2088025, "msecs": 208.0, "relativeCreated": 67086.77053451538, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb891673d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,208"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815261.2092807, "msecs": 209.0, "relativeCreated": 67087.24880218506, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb891673d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,209"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815261.209755, "msecs": 209.0, "relativeCreated": 67087.72301673889, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb891673d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,209"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815261.2101994, "msecs": 210.0, "relativeCreated": 67088.16742897034, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb891673d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,210"}]}, "call": {"duration": 0.021411996000011868, "outcome": "passed", "stderr": "2026-01-19 09:34:21,213 - backend.request_id_middleware - INFO - [7e51e474-8ef5-482c-b29a-abcfa923a880] - Request started: POST /api/v1/auth/register\n2026-01-19 09:34:21,229 - backend.request_id_middleware - INFO - [7e51e474-8ef5-482c-b29a-abcfa923a880] - Request completed: POST /api/v1/auth/register - Status: 200\n2026-01-19 09:34:21,232 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/register", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815261.2132921, "msecs": 213.0, "relativeCreated": 67091.26019477844, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb891673d0", "processName": "MainProcess", "process": 2241, "request_id": "7e51e474-8ef5-482c-b29a-abcfa923a880", "asctime": "2026-01-19 09:34:21,213"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/register - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815261.2294047, "msecs": 229.0, "relativeCreated": 67107.3727607727, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb891673d0", "processName": "MainProcess", "process": 2241, "request_id": "7e51e474-8ef5-482c-b29a-abcfa923a880", "asctime": "2026-01-19 09:34:21,229"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815261.2321322, "msecs": 232.0, "relativeCreated": 67110.10026931763, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,232"}]}, "teardown": {"duration": 0.013456067999982224, "outcome": "passed", "stderr": "2026-01-19 09:34:21,233 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:21,234 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:21,235 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:21,235 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:21,236 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:21,236 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:21,236 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815261.2339647, "msecs": 233.0, "relativeCreated": 67111.9327545166, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb891673d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,233"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815261.2345443, "msecs": 234.0, "relativeCreated": 67112.5123500824, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb891673d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,234"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815261.2350526, "msecs": 235.0, "relativeCreated": 67113.02065849304, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb891673d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,235"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815261.2355263, "msecs": 235.0, "relativeCreated": 67113.49439620972, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb891673d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,235"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815261.2360287, "msecs": 236.0, "relativeCreated": 67113.99674415588, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb891673d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,236"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815261.2364938, "msecs": 236.0, "relativeCreated": 67114.46189880371, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb891673d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,236"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815261.2369616, "msecs": 236.0, "relativeCreated": 67114.92967605591, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb891673d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,236"}]}}, {"nodeid": "tests/test_register_role_enforcement.py::test_admin_token_allows_setting_role", "lineno": 16, "outcome": "passed", "keywords": ["test_admin_token_allows_setting_role", "test_register_role_enforcement.py", "tests", "backend", ""], "setup": {"duration": 0.04596322399999053, "outcome": "passed", "stderr": "2026-01-19 09:34:21,248 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:21,288 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:21,290 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:21,290 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:21,291 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:21,291 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:21,292 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815261.2480116, "msecs": 248.0, "relativeCreated": 67125.97966194153, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,248"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815261.2886224, "msecs": 288.0, "relativeCreated": 67166.59045219421, "thread": 140512215779008, "threadName": "Thread-328 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,288"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815261.2903285, "msecs": 290.0, "relativeCreated": 67168.29657554626, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8933a3d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,290"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815261.2909625, "msecs": 290.0, "relativeCreated": 67168.9305305481, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8933a3d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,290"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815261.29143, "msecs": 291.0, "relativeCreated": 67169.39806938171, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8933a3d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,291"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815261.2919059, "msecs": 291.0, "relativeCreated": 67169.8739528656, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8933a3d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,291"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815261.2923481, "msecs": 292.0, "relativeCreated": 67170.31621932983, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8933a3d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,292"}]}, "call": {"duration": 0.06414721699999859, "outcome": "passed", "stderr": "2026-01-19 09:34:21,295 - backend.request_id_middleware - INFO - [1d3a388e-a6e9-4e49-9a9a-b177ee3e72e4] - Request started: POST /api/v1/auth/register\n2026-01-19 09:34:21,311 - backend.request_id_middleware - INFO - [1d3a388e-a6e9-4e49-9a9a-b177ee3e72e4] - Request completed: POST /api/v1/auth/register - Status: 200\n2026-01-19 09:34:21,313 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:21,317 - backend.request_id_middleware - INFO - [68024cc6-a997-48ad-8c03-b6dd34a02bfa] - Request started: POST /api/v1/auth/login\n2026-01-19 09:34:21,321 - backend.routers.routers_auth - INFO - [68024cc6-a997-48ad-8c03-b6dd34a02bfa] - Login attempt\n2026-01-19 09:34:21,332 - backend.routers.routers_auth - INFO - [68024cc6-a997-48ad-8c03-b6dd34a02bfa] - Login successful\n2026-01-19 09:34:21,334 - backend.request_id_middleware - INFO - [68024cc6-a997-48ad-8c03-b6dd34a02bfa] - Request completed: POST /api/v1/auth/login - Status: 200\n2026-01-19 09:34:21,337 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:21,339 - backend.request_id_middleware - INFO - [6fb32b7d-7e15-42af-a17a-85cfe422bd1d] - Request started: POST /api/v1/auth/register\n2026-01-19 09:34:21,354 - backend.request_id_middleware - INFO - [6fb32b7d-7e15-42af-a17a-85cfe422bd1d] - Request completed: POST /api/v1/auth/register - Status: 200\n2026-01-19 09:34:21,357 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/register", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815261.2954173, "msecs": 295.0, "relativeCreated": 67173.38538169861, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8933a3d0", "processName": "MainProcess", "process": 2241, "request_id": "1d3a388e-a6e9-4e49-9a9a-b177ee3e72e4", "asctime": "2026-01-19 09:34:21,295"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/register - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815261.3112433, "msecs": 311.0, "relativeCreated": 67189.21136856079, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8933a3d0", "processName": "MainProcess", "process": 2241, "request_id": "1d3a388e-a6e9-4e49-9a9a-b177ee3e72e4", "asctime": "2026-01-19 09:34:21,311"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815261.3138547, "msecs": 313.0, "relativeCreated": 67191.82276725769, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,313"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/login", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815261.3179305, "msecs": 317.0, "relativeCreated": 67195.89853286743, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8933a3d0", "processName": "MainProcess", "process": 2241, "request_id": "68024cc6-a997-48ad-8c03-b6dd34a02bfa", "asctime": "2026-01-19 09:34:21,317"}, {"name": "backend.routers.routers_auth", "msg": "Login attempt", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 459, "funcName": "login", "created": 1768815261.3215263, "msecs": 321.0, "relativeCreated": 67199.49436187744, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8933a3d0", "processName": "MainProcess", "process": 2241, "request_id": "68024cc6-a997-48ad-8c03-b6dd34a02bfa", "asctime": "2026-01-19 09:34:21,321"}, {"name": "backend.routers.routers_auth", "msg": "Login successful", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_auth.py", "filename": "routers_auth.py", "module": "routers_auth", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 496, "funcName": "login", "created": 1768815261.3328292, "msecs": 332.0, "relativeCreated": 67210.79730987549, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8933a3d0", "processName": "MainProcess", "process": 2241, "user_id": 1, "request_id": "68024cc6-a997-48ad-8c03-b6dd34a02bfa", "asctime": "2026-01-19 09:34:21,332"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/login - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815261.33466, "msecs": 334.0, "relativeCreated": 67212.62812614441, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8933a3d0", "processName": "MainProcess", "process": 2241, "request_id": "68024cc6-a997-48ad-8c03-b6dd34a02bfa", "asctime": "2026-01-19 09:34:21,334"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/login \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815261.337392, "msecs": 337.0, "relativeCreated": 67215.36016464233, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,337"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/register", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815261.3396223, "msecs": 339.0, "relativeCreated": 67217.59033203125, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8933a3d0", "processName": "MainProcess", "process": 2241, "request_id": "6fb32b7d-7e15-42af-a17a-85cfe422bd1d", "asctime": "2026-01-19 09:34:21,339"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/register - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815261.3544135, "msecs": 354.0, "relativeCreated": 67232.38158226013, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8933a3d0", "processName": "MainProcess", "process": 2241, "request_id": "6fb32b7d-7e15-42af-a17a-85cfe422bd1d", "asctime": "2026-01-19 09:34:21,354"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815261.357005, "msecs": 357.0, "relativeCreated": 67234.97295379639, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,357"}]}, "teardown": {"duration": 0.013443354000003183, "outcome": "passed", "stderr": "2026-01-19 09:34:21,358 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:21,359 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:21,360 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:21,360 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:21,361 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:21,361 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:21,362 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815261.3589919, "msecs": 358.0, "relativeCreated": 67236.95993423462, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8933a3d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,358"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815261.3596654, "msecs": 359.0, "relativeCreated": 67237.63346672058, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8933a3d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,359"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815261.3602033, "msecs": 360.0, "relativeCreated": 67238.17133903503, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8933a3d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,360"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815261.3606818, "msecs": 360.0, "relativeCreated": 67238.64984512329, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8933a3d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,360"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815261.3611782, "msecs": 361.0, "relativeCreated": 67239.14623260498, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8933a3d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,361"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815261.3616135, "msecs": 361.0, "relativeCreated": 67239.58158493042, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8933a3d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,361"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815261.3620806, "msecs": 362.0, "relativeCreated": 67240.04864692688, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8933a3d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,362"}]}}, {"nodeid": "tests/test_register_role_enforcement.py::test_invalid_or_expired_admin_token_is_ignored", "lineno": 62, "outcome": "passed", "keywords": ["test_invalid_or_expired_admin_token_is_ignored", "test_register_role_enforcement.py", "tests", "backend", ""], "setup": {"duration": 0.04551874500000963, "outcome": "passed", "stderr": "2026-01-19 09:34:21,373 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:21,413 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:21,414 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:21,415 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:21,415 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:21,416 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:21,416 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815261.3730001, "msecs": 373.0, "relativeCreated": 67250.96821784973, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,373"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815261.4132175, "msecs": 413.0, "relativeCreated": 67291.1856174469, "thread": 140512215779008, "threadName": "Thread-329 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,413"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815261.4148455, "msecs": 414.0, "relativeCreated": 67292.813539505, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89164750", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,414"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815261.415426, "msecs": 415.0, "relativeCreated": 67293.39408874512, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89164750", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,415"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815261.415927, "msecs": 415.0, "relativeCreated": 67293.89500617981, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89164750", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,415"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815261.4163966, "msecs": 416.0, "relativeCreated": 67294.36469078064, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89164750", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,416"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815261.4168694, "msecs": 416.0, "relativeCreated": 67294.837474823, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89164750", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,416"}]}, "call": {"duration": 0.04176433499998211, "outcome": "passed", "stderr": "2026-01-19 09:34:21,420 - backend.request_id_middleware - INFO - [186b0aed-e401-4a99-88b3-3e782320d64d] - Request started: POST /api/v1/auth/register\n2026-01-19 09:34:21,436 - backend.request_id_middleware - INFO - [186b0aed-e401-4a99-88b3-3e782320d64d] - Request completed: POST /api/v1/auth/register - Status: 200\n2026-01-19 09:34:21,439 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:21,441 - backend.request_id_middleware - INFO - [5e7e8165-c676-4c66-8bd2-8123e2ad2277] - Request started: POST /api/v1/auth/register\n2026-01-19 09:34:21,456 - backend.request_id_middleware - INFO - [5e7e8165-c676-4c66-8bd2-8123e2ad2277] - Request completed: POST /api/v1/auth/register - Status: 200\n2026-01-19 09:34:21,459 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/register", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815261.420221, "msecs": 420.0, "relativeCreated": 67298.18916320801, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89164750", "processName": "MainProcess", "process": 2241, "request_id": "186b0aed-e401-4a99-88b3-3e782320d64d", "asctime": "2026-01-19 09:34:21,420"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/register - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815261.4364367, "msecs": 436.0, "relativeCreated": 67314.40472602844, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89164750", "processName": "MainProcess", "process": 2241, "request_id": "186b0aed-e401-4a99-88b3-3e782320d64d", "asctime": "2026-01-19 09:34:21,436"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815261.439253, "msecs": 439.0, "relativeCreated": 67317.22116470337, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,439"}, {"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/auth/register", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815261.441584, "msecs": 441.0, "relativeCreated": 67319.55218315125, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89164750", "processName": "MainProcess", "process": 2241, "request_id": "5e7e8165-c676-4c66-8bd2-8123e2ad2277", "asctime": "2026-01-19 09:34:21,441"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/auth/register - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815261.456507, "msecs": 456.0, "relativeCreated": 67334.47504043579, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89164750", "processName": "MainProcess", "process": 2241, "request_id": "5e7e8165-c676-4c66-8bd2-8123e2ad2277", "asctime": "2026-01-19 09:34:21,456"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/auth/register \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815261.459152, "msecs": 459.0, "relativeCreated": 67337.12005615234, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,459"}]}, "teardown": {"duration": 0.013603923000005125, "outcome": "passed", "stderr": "2026-01-19 09:34:21,461 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:21,461 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:21,462 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:21,462 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:21,463 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:21,463 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:21,464 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815261.4610727, "msecs": 461.0, "relativeCreated": 67339.04075622559, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89164750", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,461"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815261.4617026, "msecs": 461.0, "relativeCreated": 67339.67065811157, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89164750", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,461"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815261.4622428, "msecs": 462.0, "relativeCreated": 67340.21091461182, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89164750", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,462"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815261.462738, "msecs": 462.0, "relativeCreated": 67340.70611000061, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89164750", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,462"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815261.463228, "msecs": 463.0, "relativeCreated": 67341.19606018066, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89164750", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,463"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815261.4636633, "msecs": 463.0, "relativeCreated": 67341.6314125061, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89164750", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,463"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815261.4641256, "msecs": 464.0, "relativeCreated": 67342.09370613098, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89164750", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,464"}]}}, {"nodeid": "tests/test_reports_router.py::test_get_report_formats", "lineno": 16, "outcome": "passed", "keywords": ["test_get_report_formats", "test_reports_router.py", "tests", "backend", ""], "setup": {"duration": 0.04595637200000624, "outcome": "passed", "stderr": "2026-01-19 09:34:21,475 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:21,516 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:21,517 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:21,518 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:21,518 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:21,519 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:21,519 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815261.4755752, "msecs": 475.0, "relativeCreated": 67353.54328155518, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,475"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815261.5161738, "msecs": 516.0, "relativeCreated": 67394.14191246033, "thread": 140512215779008, "threadName": "Thread-330 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,516"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815261.5178587, "msecs": 517.0, "relativeCreated": 67395.82681655884, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89281650", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,517"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815261.5184522, "msecs": 518.0, "relativeCreated": 67396.42024040222, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89281650", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,518"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815261.5189483, "msecs": 518.0, "relativeCreated": 67396.91638946533, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89281650", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,518"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815261.5194063, "msecs": 519.0, "relativeCreated": 67397.37439155579, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89281650", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,519"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815261.519872, "msecs": 519.0, "relativeCreated": 67397.84002304077, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89281650", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,519"}]}, "call": {"duration": 0.006132033000000092, "outcome": "passed", "stderr": "2026-01-19 09:34:21,523 - backend.request_id_middleware - INFO - [d1542a79-3ce7-4336-82bd-954a05d38620] - Request started: GET /api/v1/reports/formats\n2026-01-19 09:34:21,524 - backend.request_id_middleware - INFO - [d1542a79-3ce7-4336-82bd-954a05d38620] - Request completed: GET /api/v1/reports/formats - Status: 200\n2026-01-19 09:34:21,526 - httpx - INFO - [-] - HTTP Request: GET http://testserver/api/v1/reports/formats \"HTTP/1.1 200 OK\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: GET /api/v1/reports/formats", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815261.5230591, "msecs": 523.0, "relativeCreated": 67401.0272026062, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89281650", "processName": "MainProcess", "process": 2241, "request_id": "d1542a79-3ce7-4336-82bd-954a05d38620", "asctime": "2026-01-19 09:34:21,523"}, {"name": "backend.request_id_middleware", "msg": "Request completed: GET /api/v1/reports/formats - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815261.5243945, "msecs": 524.0, "relativeCreated": 67402.36258506775, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89281650", "processName": "MainProcess", "process": 2241, "request_id": "d1542a79-3ce7-4336-82bd-954a05d38620", "asctime": "2026-01-19 09:34:21,524"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/api/v1/reports/formats \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815261.5266242, "msecs": 526.0, "relativeCreated": 67404.5922756195, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,526"}]}, "teardown": {"duration": 0.012540720999993482, "outcome": "passed", "stderr": "2026-01-19 09:34:21,528 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:21,528 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:21,529 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:21,529 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:21,530 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:21,530 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:21,531 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815261.5282626, "msecs": 528.0, "relativeCreated": 67406.2306880951, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89281650", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,528"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815261.5289059, "msecs": 528.0, "relativeCreated": 67406.87394142151, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89281650", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,528"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815261.5294015, "msecs": 529.0, "relativeCreated": 67407.36961364746, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89281650", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,529"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815261.5298998, "msecs": 529.0, "relativeCreated": 67407.86790847778, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89281650", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,529"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815261.5303664, "msecs": 530.0, "relativeCreated": 67408.33449363708, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89281650", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,530"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815261.530844, "msecs": 530.0, "relativeCreated": 67408.81204605103, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89281650", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,530"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815261.5312724, "msecs": 531.0, "relativeCreated": 67409.24048423767, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89281650", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,531"}]}}, {"nodeid": "tests/test_reports_router.py::test_get_report_periods", "lineno": 25, "outcome": "passed", "keywords": ["test_get_report_periods", "test_reports_router.py", "tests", "backend", ""], "setup": {"duration": 0.045907771000003095, "outcome": "passed", "stderr": "2026-01-19 09:34:21,541 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:21,582 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:21,583 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:21,584 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:21,584 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:21,585 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:21,585 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815261.541412, "msecs": 541.0, "relativeCreated": 67419.38018798828, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,541"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815261.5820005, "msecs": 582.0, "relativeCreated": 67459.96856689453, "thread": 140512215779008, "threadName": "Thread-331 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,582"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815261.583692, "msecs": 583.0, "relativeCreated": 67461.66014671326, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89166950", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,583"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815261.5843375, "msecs": 584.0, "relativeCreated": 67462.30554580688, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89166950", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,584"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815261.584831, "msecs": 584.0, "relativeCreated": 67462.79907226562, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89166950", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,584"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815261.5852854, "msecs": 585.0, "relativeCreated": 67463.25349807739, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89166950", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,585"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815261.5857365, "msecs": 585.0, "relativeCreated": 67463.70458602905, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89166950", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,585"}]}, "call": {"duration": 0.0062999059999810925, "outcome": "passed", "stderr": "2026-01-19 09:34:21,589 - backend.request_id_middleware - INFO - [f82d7c6a-0e19-497f-92a6-fb2c767e4206] - Request started: GET /api/v1/reports/periods\n2026-01-19 09:34:21,590 - backend.request_id_middleware - INFO - [f82d7c6a-0e19-497f-92a6-fb2c767e4206] - Request completed: GET /api/v1/reports/periods - Status: 200\n2026-01-19 09:34:21,592 - httpx - INFO - [-] - HTTP Request: GET http://testserver/api/v1/reports/periods \"HTTP/1.1 200 OK\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: GET /api/v1/reports/periods", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815261.589005, "msecs": 589.0, "relativeCreated": 67466.97306632996, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89166950", "processName": "MainProcess", "process": 2241, "request_id": "f82d7c6a-0e19-497f-92a6-fb2c767e4206", "asctime": "2026-01-19 09:34:21,589"}, {"name": "backend.request_id_middleware", "msg": "Request completed: GET /api/v1/reports/periods - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815261.5903378, "msecs": 590.0, "relativeCreated": 67468.30582618713, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89166950", "processName": "MainProcess", "process": 2241, "request_id": "f82d7c6a-0e19-497f-92a6-fb2c767e4206", "asctime": "2026-01-19 09:34:21,590"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/api/v1/reports/periods \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815261.5925994, "msecs": 592.0, "relativeCreated": 67470.56746482849, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,592"}]}, "teardown": {"duration": 0.012535291000006055, "outcome": "passed", "stderr": "2026-01-19 09:34:21,594 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:21,594 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:21,595 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:21,595 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:21,596 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:21,596 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:21,597 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815261.5943153, "msecs": 594.0, "relativeCreated": 67472.28336334229, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89166950", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,594"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815261.5949647, "msecs": 594.0, "relativeCreated": 67472.93281555176, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89166950", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,594"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815261.5954502, "msecs": 595.0, "relativeCreated": 67473.41823577881, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89166950", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,595"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815261.595947, "msecs": 595.0, "relativeCreated": 67473.91510009766, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89166950", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,595"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815261.596416, "msecs": 596.0, "relativeCreated": 67474.38406944275, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89166950", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,596"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815261.5968764, "msecs": 596.0, "relativeCreated": 67474.844455719, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89166950", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,596"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815261.5973122, "msecs": 597.0, "relativeCreated": 67475.28028488159, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89166950", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,597"}]}}, {"nodeid": "tests/test_reports_router.py::test_generate_student_performance_report", "lineno": 35, "outcome": "passed", "keywords": ["test_generate_student_performance_report", "test_reports_router.py", "tests", "backend", ""], "setup": {"duration": 0.04517565500000842, "outcome": "passed", "stderr": "2026-01-19 09:34:21,607 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:21,647 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:21,648 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:21,649 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:21,650 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:21,650 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:21,650 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815261.607459, "msecs": 607.0, "relativeCreated": 67485.42714118958, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,607"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815261.647347, "msecs": 647.0, "relativeCreated": 67525.31504631042, "thread": 140512215779008, "threadName": "Thread-332 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,647"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815261.6489441, "msecs": 648.0, "relativeCreated": 67526.91221237183, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8944a950", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,648"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815261.6495438, "msecs": 649.0, "relativeCreated": 67527.51183509827, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8944a950", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,649"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815261.6500416, "msecs": 650.0, "relativeCreated": 67528.00965309143, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8944a950", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,650"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815261.6504858, "msecs": 650.0, "relativeCreated": 67528.4538269043, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8944a950", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,650"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815261.6509428, "msecs": 650.0, "relativeCreated": 67528.91087532043, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8944a950", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,650"}]}, "call": {"duration": 0.03240879300000188, "outcome": "passed", "stderr": "2026-01-19 09:34:21,661 - backend.request_id_middleware - INFO - [85f2e963-8429-4d9b-956a-b0ea7d9575ea] - Request started: POST /api/v1/reports/student-performance\n2026-01-19 09:34:21,665 - backend.routers.routers_reports - INFO - [85f2e963-8429-4d9b-956a-b0ea7d9575ea] - Cache MISS: Generating new report for student 1\n2026-01-19 09:34:21,666 - backend.routers.routers_reports - INFO - [85f2e963-8429-4d9b-956a-b0ea7d9575ea] - Generating performance report for student 1 from 2025-12-20 to 2026-01-19 (period=month)\n2026-01-19 09:34:21,680 - backend.routers.routers_reports - INFO - [85f2e963-8429-4d9b-956a-b0ea7d9575ea] - Cached report for student 1 with key student_report:1:month:none:none:True:True:True:True:\n2026-01-19 09:34:21,681 - backend.request_id_middleware - INFO - [85f2e963-8429-4d9b-956a-b0ea7d9575ea] - Request completed: POST /api/v1/reports/student-performance - Status: 200\n2026-01-19 09:34:21,683 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/reports/student-performance \"HTTP/1.1 200 OK\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/reports/student-performance", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815261.6616004, "msecs": 661.0, "relativeCreated": 67539.56842422485, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8944a950", "processName": "MainProcess", "process": 2241, "request_id": "85f2e963-8429-4d9b-956a-b0ea7d9575ea", "asctime": "2026-01-19 09:34:21,661"}, {"name": "backend.routers.routers_reports", "msg": "Cache MISS: Generating new report for student 1", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_reports.py", "filename": "routers_reports.py", "module": "routers_reports", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 205, "funcName": "generate_student_performance_report", "created": 1768815261.6652668, "msecs": 665.0, "relativeCreated": 67543.23482513428, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8944a950", "processName": "MainProcess", "process": 2241, "request_id": "85f2e963-8429-4d9b-956a-b0ea7d9575ea", "asctime": "2026-01-19 09:34:21,665"}, {"name": "backend.routers.routers_reports", "msg": "Generating performance report for student 1 from 2025-12-20 to 2026-01-19 (period=month)", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_reports.py", "filename": "routers_reports.py", "module": "routers_reports", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 218, "funcName": "generate_student_performance_report", "created": 1768815261.6666281, "msecs": 666.0, "relativeCreated": 67544.59619522095, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8944a950", "processName": "MainProcess", "process": 2241, "request_id": "85f2e963-8429-4d9b-956a-b0ea7d9575ea", "asctime": "2026-01-19 09:34:21,666"}, {"name": "backend.routers.routers_reports", "msg": "Cached report for student 1 with key student_report:1:month:none:none:True:True:True:True:", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_reports.py", "filename": "routers_reports.py", "module": "routers_reports", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 451, "funcName": "generate_student_performance_report", "created": 1768815261.6804042, "msecs": 680.0, "relativeCreated": 67558.37225914001, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8944a950", "processName": "MainProcess", "process": 2241, "request_id": "85f2e963-8429-4d9b-956a-b0ea7d9575ea", "asctime": "2026-01-19 09:34:21,680"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/reports/student-performance - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815261.6812272, "msecs": 681.0, "relativeCreated": 67559.19528007507, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8944a950", "processName": "MainProcess", "process": 2241, "request_id": "85f2e963-8429-4d9b-956a-b0ea7d9575ea", "asctime": "2026-01-19 09:34:21,681"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/reports/student-performance \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815261.683896, "msecs": 683.0, "relativeCreated": 67561.86413764954, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,683"}]}, "teardown": {"duration": 0.014010595999991438, "outcome": "passed", "stderr": "2026-01-19 09:34:21,685 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:21,686 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:21,687 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:21,687 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:21,688 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:21,688 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:21,689 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815261.6858943, "msecs": 685.0, "relativeCreated": 67563.86232376099, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8944a950", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,685"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815261.6865163, "msecs": 686.0, "relativeCreated": 67564.48435783386, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8944a950", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,686"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815261.6871238, "msecs": 687.0, "relativeCreated": 67565.09184837341, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8944a950", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,687"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815261.6876135, "msecs": 687.0, "relativeCreated": 67565.58156013489, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8944a950", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,687"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815261.6881087, "msecs": 688.0, "relativeCreated": 67566.07675552368, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8944a950", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,688"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815261.6885424, "msecs": 688.0, "relativeCreated": 67566.51043891907, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8944a950", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,688"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815261.6890016, "msecs": 689.0, "relativeCreated": 67566.96963310242, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8944a950", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,689"}]}}, {"nodeid": "tests/test_reports_router.py::test_generate_report_nonexistent_student", "lineno": 157, "outcome": "passed", "keywords": ["test_generate_report_nonexistent_student", "test_reports_router.py", "tests", "backend", ""], "setup": {"duration": 0.04831192299999998, "outcome": "passed", "stderr": "2026-01-19 09:34:21,700 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:21,742 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:21,745 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:21,745 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:21,746 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:21,746 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:21,747 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815261.7007608, "msecs": 700.0, "relativeCreated": 67578.72891426086, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,700"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815261.7429183, "msecs": 742.0, "relativeCreated": 67620.88632583618, "thread": 140512215779008, "threadName": "Thread-333 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,742"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815261.7452135, "msecs": 745.0, "relativeCreated": 67623.18158149719, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89345d90", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,745"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815261.7458246, "msecs": 745.0, "relativeCreated": 67623.79264831543, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89345d90", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,745"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815261.7462997, "msecs": 746.0, "relativeCreated": 67624.26781654358, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89345d90", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,746"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815261.7467725, "msecs": 746.0, "relativeCreated": 67624.74060058594, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89345d90", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,746"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815261.7472203, "msecs": 747.0, "relativeCreated": 67625.18835067749, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89345d90", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,747"}]}, "call": {"duration": 0.010723053000020855, "outcome": "passed", "stderr": "2026-01-19 09:34:21,750 - backend.request_id_middleware - INFO - [f3d04c51-3fc6-4c4d-bb21-6bf0bb9d5772] - Request started: POST /api/v1/reports/student-performance\n2026-01-19 09:34:21,754 - backend.routers.routers_reports - INFO - [f3d04c51-3fc6-4c4d-bb21-6bf0bb9d5772] - Cache MISS: Generating new report for student 9999\n2026-01-19 09:34:21,756 - backend.request_id_middleware - INFO - [f3d04c51-3fc6-4c4d-bb21-6bf0bb9d5772] - Request completed: POST /api/v1/reports/student-performance - Status: 404\n2026-01-19 09:34:21,758 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/reports/student-performance \"HTTP/1.1 404 Not Found\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/reports/student-performance", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815261.7505574, "msecs": 750.0, "relativeCreated": 67628.52549552917, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89345d90", "processName": "MainProcess", "process": 2241, "request_id": "f3d04c51-3fc6-4c4d-bb21-6bf0bb9d5772", "asctime": "2026-01-19 09:34:21,750"}, {"name": "backend.routers.routers_reports", "msg": "Cache MISS: Generating new report for student 9999", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_reports.py", "filename": "routers_reports.py", "module": "routers_reports", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 205, "funcName": "generate_student_performance_report", "created": 1768815261.754201, "msecs": 754.0, "relativeCreated": 67632.169008255, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89345d90", "processName": "MainProcess", "process": 2241, "request_id": "f3d04c51-3fc6-4c4d-bb21-6bf0bb9d5772", "asctime": "2026-01-19 09:34:21,754"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/reports/student-performance - Status: 404", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815261.756397, "msecs": 756.0, "relativeCreated": 67634.36508178711, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89345d90", "processName": "MainProcess", "process": 2241, "request_id": "f3d04c51-3fc6-4c4d-bb21-6bf0bb9d5772", "asctime": "2026-01-19 09:34:21,756"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/reports/student-performance \"HTTP/1.1 404 Not Found\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815261.7586594, "msecs": 758.0, "relativeCreated": 67636.6274356842, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,758"}]}, "teardown": {"duration": 0.01321555999999191, "outcome": "passed", "stderr": "2026-01-19 09:34:21,760 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:21,761 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:21,761 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:21,762 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:21,762 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:21,763 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:21,763 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815261.7605166, "msecs": 760.0, "relativeCreated": 67638.4847164154, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89345d90", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,760"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815261.7612467, "msecs": 761.0, "relativeCreated": 67639.21475410461, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89345d90", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,761"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815261.761748, "msecs": 761.0, "relativeCreated": 67639.71614837646, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89345d90", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,761"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815261.7622428, "msecs": 762.0, "relativeCreated": 67640.2108669281, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89345d90", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,762"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815261.7627273, "msecs": 762.0, "relativeCreated": 67640.69533348083, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89345d90", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,762"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815261.7631686, "msecs": 763.0, "relativeCreated": 67641.13664627075, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89345d90", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,763"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815261.7636034, "msecs": 763.0, "relativeCreated": 67641.57152175903, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89345d90", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,763"}]}}, {"nodeid": "tests/test_reports_router.py::test_generate_report_custom_date_range", "lineno": 169, "outcome": "passed", "keywords": ["test_generate_report_custom_date_range", "test_reports_router.py", "tests", "backend", ""], "setup": {"duration": 0.045280030000014904, "outcome": "passed", "stderr": "2026-01-19 09:34:21,774 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:21,814 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:21,815 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:21,816 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:21,817 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:21,817 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:21,817 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815261.774314, "msecs": 774.0, "relativeCreated": 67652.28199958801, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,774"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815261.8145738, "msecs": 814.0, "relativeCreated": 67692.54183769226, "thread": 140512215779008, "threadName": "Thread-334 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,814"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815261.815934, "msecs": 815.0, "relativeCreated": 67693.90201568604, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89166350", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,815"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815261.8165245, "msecs": 816.0, "relativeCreated": 67694.49257850647, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89166350", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,816"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815261.817038, "msecs": 817.0, "relativeCreated": 67695.00613212585, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89166350", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,817"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815261.8174891, "msecs": 817.0, "relativeCreated": 67695.45722007751, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89166350", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,817"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815261.8179479, "msecs": 817.0, "relativeCreated": 67695.9159374237, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89166350", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,817"}]}, "call": {"duration": 0.01629804600000284, "outcome": "passed", "stderr": "2026-01-19 09:34:21,823 - backend.request_id_middleware - INFO - [aec42bdb-da60-4d0a-96bf-86602286dd1d] - Request started: POST /api/v1/reports/student-performance\n2026-01-19 09:34:21,826 - backend.routers.routers_reports - INFO - [aec42bdb-da60-4d0a-96bf-86602286dd1d] - Cache MISS: Generating new report for student 1\n2026-01-19 09:34:21,828 - backend.routers.routers_reports - INFO - [aec42bdb-da60-4d0a-96bf-86602286dd1d] - Generating performance report for student 1 from 2025-12-20 to 2026-01-19 (period=custom)\n2026-01-19 09:34:21,831 - backend.routers.routers_reports - INFO - [aec42bdb-da60-4d0a-96bf-86602286dd1d] - Cached report for student 1 with key student_report:1:custom:2025-12-20:2026-01-19:True:True:True:True:\n2026-01-19 09:34:21,832 - backend.request_id_middleware - INFO - [aec42bdb-da60-4d0a-96bf-86602286dd1d] - Request completed: POST /api/v1/reports/student-performance - Status: 200\n2026-01-19 09:34:21,834 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/reports/student-performance \"HTTP/1.1 200 OK\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/reports/student-performance", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815261.8232524, "msecs": 823.0, "relativeCreated": 67701.22051239014, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89166350", "processName": "MainProcess", "process": 2241, "request_id": "aec42bdb-da60-4d0a-96bf-86602286dd1d", "asctime": "2026-01-19 09:34:21,823"}, {"name": "backend.routers.routers_reports", "msg": "Cache MISS: Generating new report for student 1", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_reports.py", "filename": "routers_reports.py", "module": "routers_reports", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 205, "funcName": "generate_student_performance_report", "created": 1768815261.8267558, "msecs": 826.0, "relativeCreated": 67704.72383499146, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89166350", "processName": "MainProcess", "process": 2241, "request_id": "aec42bdb-da60-4d0a-96bf-86602286dd1d", "asctime": "2026-01-19 09:34:21,826"}, {"name": "backend.routers.routers_reports", "msg": "Generating performance report for student 1 from 2025-12-20 to 2026-01-19 (period=custom)", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_reports.py", "filename": "routers_reports.py", "module": "routers_reports", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 218, "funcName": "generate_student_performance_report", "created": 1768815261.8280718, "msecs": 828.0, "relativeCreated": 67706.0399055481, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89166350", "processName": "MainProcess", "process": 2241, "request_id": "aec42bdb-da60-4d0a-96bf-86602286dd1d", "asctime": "2026-01-19 09:34:21,828"}, {"name": "backend.routers.routers_reports", "msg": "Cached report for student 1 with key student_report:1:custom:2025-12-20:2026-01-19:True:True:True:True:", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_reports.py", "filename": "routers_reports.py", "module": "routers_reports", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 451, "funcName": "generate_student_performance_report", "created": 1768815261.8315957, "msecs": 831.0, "relativeCreated": 67709.56373214722, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89166350", "processName": "MainProcess", "process": 2241, "request_id": "aec42bdb-da60-4d0a-96bf-86602286dd1d", "asctime": "2026-01-19 09:34:21,831"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/reports/student-performance - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815261.8323216, "msecs": 832.0, "relativeCreated": 67710.28971672058, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89166350", "processName": "MainProcess", "process": 2241, "request_id": "aec42bdb-da60-4d0a-96bf-86602286dd1d", "asctime": "2026-01-19 09:34:21,832"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/reports/student-performance \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815261.8347993, "msecs": 834.0, "relativeCreated": 67712.7673625946, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,834"}]}, "teardown": {"duration": 0.012617443999999978, "outcome": "passed", "stderr": "2026-01-19 09:34:21,836 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:21,837 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:21,837 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:21,838 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:21,838 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:21,839 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:21,839 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815261.8365228, "msecs": 836.0, "relativeCreated": 67714.49089050293, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89166350", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,836"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815261.8371205, "msecs": 837.0, "relativeCreated": 67715.08860588074, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89166350", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,837"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815261.8375986, "msecs": 837.0, "relativeCreated": 67715.56663513184, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89166350", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,837"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815261.838087, "msecs": 838.0, "relativeCreated": 67716.05515480042, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89166350", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,838"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815261.8385499, "msecs": 838.0, "relativeCreated": 67716.51792526245, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89166350", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,838"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815261.8390107, "msecs": 839.0, "relativeCreated": 67716.97878837585, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89166350", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,839"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815261.839447, "msecs": 839.0, "relativeCreated": 67717.41509437561, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb89166350", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,839"}]}}, {"nodeid": "tests/test_reports_router.py::test_generate_report_specific_courses", "lineno": 196, "outcome": "passed", "keywords": ["test_generate_report_specific_courses", "test_reports_router.py", "tests", "backend", ""], "setup": {"duration": 0.04519820799998797, "outcome": "passed", "stderr": "2026-01-19 09:34:21,849 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:21,889 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:21,891 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:21,891 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:21,892 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:21,892 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:21,893 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815261.8497422, "msecs": 849.0, "relativeCreated": 67727.7102470398, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,849"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815261.8896801, "msecs": 889.0, "relativeCreated": 67767.64822006226, "thread": 140512198997696, "threadName": "Thread-335 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,889"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815261.8913062, "msecs": 891.0, "relativeCreated": 67769.27423477173, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb892f6550", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,891"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815261.8918986, "msecs": 891.0, "relativeCreated": 67769.8667049408, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb892f6550", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,891"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815261.892371, "msecs": 892.0, "relativeCreated": 67770.339012146, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb892f6550", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,892"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815261.8928626, "msecs": 892.0, "relativeCreated": 67770.8306312561, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb892f6550", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,892"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815261.8933089, "msecs": 893.0, "relativeCreated": 67771.27695083618, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb892f6550", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,893"}]}, "call": {"duration": 0.02280067899999949, "outcome": "passed", "stderr": "2026-01-19 09:34:21,901 - backend.request_id_middleware - INFO - [f8fdfa5a-2cf1-432c-834d-e7be9fa1e85a] - Request started: POST /api/v1/reports/student-performance\n2026-01-19 09:34:21,905 - backend.routers.routers_reports - INFO - [f8fdfa5a-2cf1-432c-834d-e7be9fa1e85a] - Cache MISS: Generating new report for student 1\n2026-01-19 09:34:21,906 - backend.routers.routers_reports - INFO - [f8fdfa5a-2cf1-432c-834d-e7be9fa1e85a] - Generating performance report for student 1 from 2025-09-21 to 2026-01-19 (period=semester)\n2026-01-19 09:34:21,913 - backend.routers.routers_reports - INFO - [f8fdfa5a-2cf1-432c-834d-e7be9fa1e85a] - Cached report for student 1 with key student_report:1:semester:none:none:True:True:True:True:1\n2026-01-19 09:34:21,914 - backend.request_id_middleware - INFO - [f8fdfa5a-2cf1-432c-834d-e7be9fa1e85a] - Request completed: POST /api/v1/reports/student-performance - Status: 200\n2026-01-19 09:34:21,916 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/reports/student-performance \"HTTP/1.1 200 OK\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/reports/student-performance", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815261.9016948, "msecs": 901.0, "relativeCreated": 67779.66284751892, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb892f6550", "processName": "MainProcess", "process": 2241, "request_id": "f8fdfa5a-2cf1-432c-834d-e7be9fa1e85a", "asctime": "2026-01-19 09:34:21,901"}, {"name": "backend.routers.routers_reports", "msg": "Cache MISS: Generating new report for student 1", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_reports.py", "filename": "routers_reports.py", "module": "routers_reports", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 205, "funcName": "generate_student_performance_report", "created": 1768815261.9051206, "msecs": 905.0, "relativeCreated": 67783.08868408203, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb892f6550", "processName": "MainProcess", "process": 2241, "request_id": "f8fdfa5a-2cf1-432c-834d-e7be9fa1e85a", "asctime": "2026-01-19 09:34:21,905"}, {"name": "backend.routers.routers_reports", "msg": "Generating performance report for student 1 from 2025-09-21 to 2026-01-19 (period=semester)", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_reports.py", "filename": "routers_reports.py", "module": "routers_reports", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 218, "funcName": "generate_student_performance_report", "created": 1768815261.9063792, "msecs": 906.0, "relativeCreated": 67784.34729576111, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb892f6550", "processName": "MainProcess", "process": 2241, "request_id": "f8fdfa5a-2cf1-432c-834d-e7be9fa1e85a", "asctime": "2026-01-19 09:34:21,906"}, {"name": "backend.routers.routers_reports", "msg": "Cached report for student 1 with key student_report:1:semester:none:none:True:True:True:True:1", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_reports.py", "filename": "routers_reports.py", "module": "routers_reports", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 451, "funcName": "generate_student_performance_report", "created": 1768815261.9135609, "msecs": 913.0, "relativeCreated": 67791.5289402008, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb892f6550", "processName": "MainProcess", "process": 2241, "request_id": "f8fdfa5a-2cf1-432c-834d-e7be9fa1e85a", "asctime": "2026-01-19 09:34:21,913"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/reports/student-performance - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815261.9142797, "msecs": 914.0, "relativeCreated": 67792.2477722168, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb892f6550", "processName": "MainProcess", "process": 2241, "request_id": "f8fdfa5a-2cf1-432c-834d-e7be9fa1e85a", "asctime": "2026-01-19 09:34:21,914"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/reports/student-performance \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815261.9167483, "msecs": 916.0, "relativeCreated": 67794.71635818481, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,916"}]}, "teardown": {"duration": 0.012601864999993495, "outcome": "passed", "stderr": "2026-01-19 09:34:21,918 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:21,919 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:21,919 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:21,920 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:21,920 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:21,920 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:21,921 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815261.9184115, "msecs": 918.0, "relativeCreated": 67796.37956619263, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb892f6550", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,918"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815261.9190218, "msecs": 919.0, "relativeCreated": 67796.98991775513, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb892f6550", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,919"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815261.9195092, "msecs": 919.0, "relativeCreated": 67797.47724533081, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb892f6550", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,919"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815261.920011, "msecs": 920.0, "relativeCreated": 67797.97911643982, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb892f6550", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,920"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815261.9204845, "msecs": 920.0, "relativeCreated": 67798.45261573792, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb892f6550", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,920"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815261.9209466, "msecs": 920.0, "relativeCreated": 67798.91467094421, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb892f6550", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,920"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815261.921394, "msecs": 921.0, "relativeCreated": 67799.36218261719, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb892f6550", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,921"}]}}, {"nodeid": "tests/test_reports_router.py::test_generate_report_without_optional_data", "lineno": 228, "outcome": "passed", "keywords": ["test_generate_report_without_optional_data", "test_reports_router.py", "tests", "backend", ""], "setup": {"duration": 0.045591751000017666, "outcome": "passed", "stderr": "2026-01-19 09:34:21,931 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:21,972 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:21,973 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:21,974 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:21,974 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:21,974 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:21,975 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815261.9315932, "msecs": 931.0, "relativeCreated": 67809.561252594, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,931"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815261.972181, "msecs": 972.0, "relativeCreated": 67850.14915466309, "thread": 140512215779008, "threadName": "Thread-336 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,972"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815261.9734569, "msecs": 973.0, "relativeCreated": 67851.42493247986, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb892f5510", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,973"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815261.974049, "msecs": 974.0, "relativeCreated": 67852.01716423035, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb892f5510", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,974"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815261.9744973, "msecs": 974.0, "relativeCreated": 67852.46539115906, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb892f5510", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,974"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815261.9749646, "msecs": 974.0, "relativeCreated": 67852.9326915741, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb892f5510", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,974"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815261.9753997, "msecs": 975.0, "relativeCreated": 67853.36780548096, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb892f5510", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,975"}]}, "call": {"duration": 0.013420360999987224, "outcome": "passed", "stderr": "2026-01-19 09:34:21,980 - backend.request_id_middleware - INFO - [057dfbae-aa4a-4d3f-ae92-c6055b71622b] - Request started: POST /api/v1/reports/student-performance\n2026-01-19 09:34:21,984 - backend.routers.routers_reports - INFO - [057dfbae-aa4a-4d3f-ae92-c6055b71622b] - Cache MISS: Generating new report for student 1\n2026-01-19 09:34:21,985 - backend.routers.routers_reports - INFO - [057dfbae-aa4a-4d3f-ae92-c6055b71622b] - Generating performance report for student 1 from 2025-09-21 to 2026-01-19 (period=semester)\n2026-01-19 09:34:21,986 - backend.routers.routers_reports - INFO - [057dfbae-aa4a-4d3f-ae92-c6055b71622b] - Cached report for student 1 with key student_report:1:semester:none:none:False:False:True:False:\n2026-01-19 09:34:21,987 - backend.request_id_middleware - INFO - [057dfbae-aa4a-4d3f-ae92-c6055b71622b] - Request completed: POST /api/v1/reports/student-performance - Status: 200\n2026-01-19 09:34:21,989 - httpx - INFO - [-] - HTTP Request: POST http://testserver/api/v1/reports/student-performance \"HTTP/1.1 200 OK\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: POST /api/v1/reports/student-performance", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815261.9804153, "msecs": 980.0, "relativeCreated": 67858.38341712952, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb892f5510", "processName": "MainProcess", "process": 2241, "request_id": "057dfbae-aa4a-4d3f-ae92-c6055b71622b", "asctime": "2026-01-19 09:34:21,980"}, {"name": "backend.routers.routers_reports", "msg": "Cache MISS: Generating new report for student 1", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_reports.py", "filename": "routers_reports.py", "module": "routers_reports", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 205, "funcName": "generate_student_performance_report", "created": 1768815261.9840336, "msecs": 984.0, "relativeCreated": 67862.00165748596, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb892f5510", "processName": "MainProcess", "process": 2241, "request_id": "057dfbae-aa4a-4d3f-ae92-c6055b71622b", "asctime": "2026-01-19 09:34:21,984"}, {"name": "backend.routers.routers_reports", "msg": "Generating performance report for student 1 from 2025-09-21 to 2026-01-19 (period=semester)", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_reports.py", "filename": "routers_reports.py", "module": "routers_reports", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 218, "funcName": "generate_student_performance_report", "created": 1768815261.985355, "msecs": 985.0, "relativeCreated": 67863.32297325134, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb892f5510", "processName": "MainProcess", "process": 2241, "request_id": "057dfbae-aa4a-4d3f-ae92-c6055b71622b", "asctime": "2026-01-19 09:34:21,985"}, {"name": "backend.routers.routers_reports", "msg": "Cached report for student 1 with key student_report:1:semester:none:none:False:False:True:False:", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_reports.py", "filename": "routers_reports.py", "module": "routers_reports", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 451, "funcName": "generate_student_performance_report", "created": 1768815261.986413, "msecs": 986.0, "relativeCreated": 67864.3810749054, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb892f5510", "processName": "MainProcess", "process": 2241, "request_id": "057dfbae-aa4a-4d3f-ae92-c6055b71622b", "asctime": "2026-01-19 09:34:21,986"}, {"name": "backend.request_id_middleware", "msg": "Request completed: POST /api/v1/reports/student-performance - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815261.9871125, "msecs": 987.0, "relativeCreated": 67865.08059501648, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb892f5510", "processName": "MainProcess", "process": 2241, "request_id": "057dfbae-aa4a-4d3f-ae92-c6055b71622b", "asctime": "2026-01-19 09:34:21,987"}, {"name": "httpx", "msg": "HTTP Request: POST http://testserver/api/v1/reports/student-performance \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815261.989574, "msecs": 989.0, "relativeCreated": 67867.54202842712, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,989"}]}, "teardown": {"duration": 0.01236747299998342, "outcome": "passed", "stderr": "2026-01-19 09:34:21,991 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:21,991 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:21,992 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:21,992 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:21,993 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:21,993 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:21,994 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815261.9912827, "msecs": 991.0, "relativeCreated": 67869.25077438354, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb892f5510", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,991"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815261.9918773, "msecs": 991.0, "relativeCreated": 67869.84539031982, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb892f5510", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,991"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815261.9923675, "msecs": 992.0, "relativeCreated": 67870.33557891846, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb892f5510", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,992"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815261.992864, "msecs": 992.0, "relativeCreated": 67870.83196640015, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb892f5510", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,992"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815261.9933317, "msecs": 993.0, "relativeCreated": 67871.29974365234, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb892f5510", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,993"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815261.993807, "msecs": 993.0, "relativeCreated": 67871.77515029907, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb892f5510", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,993"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815261.9942486, "msecs": 994.0, "relativeCreated": 67872.21670150757, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb892f5510", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:21,994"}]}}, {"nodeid": "tests/test_request_id.py::test_request_id_in_response", "lineno": 0, "outcome": "passed", "keywords": ["test_request_id_in_response", "test_request_id.py", "tests", "backend", ""], "setup": {"duration": 0.045030023999999, "outcome": "passed", "stderr": "2026-01-19 09:34:22,004 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:22,044 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:22,045 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:22,046 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:22,046 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:22,047 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:22,047 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815262.0044463, "msecs": 4.0, "relativeCreated": 67882.4143409729, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:22,004"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815262.044282, "msecs": 44.0, "relativeCreated": 67922.25003242493, "thread": 140512215779008, "threadName": "Thread-337 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:22,044"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815262.0458074, "msecs": 45.0, "relativeCreated": 67923.77543449402, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8929d9d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:22,045"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815262.0463934, "msecs": 46.0, "relativeCreated": 67924.36146736145, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8929d9d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:22,046"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815262.0468986, "msecs": 46.0, "relativeCreated": 67924.86667633057, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8929d9d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:22,046"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815262.0473795, "msecs": 47.0, "relativeCreated": 67925.34756660461, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8929d9d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:22,047"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815262.0478654, "msecs": 47.0, "relativeCreated": 67925.83346366882, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8929d9d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:22,047"}]}, "call": {"duration": 0.47728933899998083, "outcome": "passed", "stdout": "\u2713 Request ID generated: ae54ad66-1eac-4489-9210-54dafec347fb\n\u2713 Request ID is valid UUID format\n", "stderr": "2026-01-19 09:34:22,051 - backend.request_id_middleware - INFO - [ae54ad66-1eac-4489-9210-54dafec347fb] - Request started: GET /health\n2026-01-19 09:34:22,522 - backend.request_id_middleware - INFO - [ae54ad66-1eac-4489-9210-54dafec347fb] - Request completed: GET /health - Status: 200\n2026-01-19 09:34:22,525 - httpx - INFO - [-] - HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: GET /health", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815262.051053, "msecs": 51.0, "relativeCreated": 67929.02112007141, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8929d9d0", "processName": "MainProcess", "process": 2241, "request_id": "ae54ad66-1eac-4489-9210-54dafec347fb", "asctime": "2026-01-19 09:34:22,051"}, {"name": "backend.request_id_middleware", "msg": "Request completed: GET /health - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815262.5228276, "msecs": 522.0, "relativeCreated": 68400.7956981659, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8929d9d0", "processName": "MainProcess", "process": 2241, "request_id": "ae54ad66-1eac-4489-9210-54dafec347fb", "asctime": "2026-01-19 09:34:22,522"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815262.5256732, "msecs": 525.0, "relativeCreated": 68403.64122390747, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:22,525"}]}, "teardown": {"duration": 0.013251741999994238, "outcome": "passed", "stderr": "2026-01-19 09:34:22,527 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:22,528 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:22,528 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:22,529 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:22,529 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:22,530 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:22,530 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815262.5276325, "msecs": 527.0, "relativeCreated": 68405.60054779053, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8929d9d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:22,527"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815262.5282426, "msecs": 528.0, "relativeCreated": 68406.21066093445, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8929d9d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:22,528"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815262.5287328, "msecs": 528.0, "relativeCreated": 68406.70084953308, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8929d9d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:22,528"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815262.5292144, "msecs": 529.0, "relativeCreated": 68407.18245506287, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8929d9d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:22,529"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815262.5296705, "msecs": 529.0, "relativeCreated": 68407.63854980469, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8929d9d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:22,529"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815262.5301235, "msecs": 530.0, "relativeCreated": 68408.09154510498, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8929d9d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:22,530"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815262.5305593, "msecs": 530.0, "relativeCreated": 68408.52737426758, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8929d9d0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:22,530"}]}}, {"nodeid": "tests/test_request_id.py::test_custom_request_id", "lineno": 22, "outcome": "passed", "keywords": ["test_custom_request_id", "test_request_id.py", "tests", "backend", ""], "setup": {"duration": 0.046610285999975076, "outcome": "passed", "stderr": "2026-01-19 09:34:22,541 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:22,582 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:22,584 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:22,584 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:22,585 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:22,585 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:22,586 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815262.5416026, "msecs": 541.0, "relativeCreated": 68419.57068443298, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:22,541"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815262.5826583, "msecs": 582.0, "relativeCreated": 68460.62636375427, "thread": 140512215779008, "threadName": "Thread-338 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:22,582"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815262.584216, "msecs": 584.0, "relativeCreated": 68462.18419075012, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb891fd250", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:22,584"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815262.5848622, "msecs": 584.0, "relativeCreated": 68462.83030509949, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb891fd250", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:22,584"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815262.5853605, "msecs": 585.0, "relativeCreated": 68463.32859992981, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb891fd250", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:22,585"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815262.585834, "msecs": 585.0, "relativeCreated": 68463.8020992279, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb891fd250", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:22,585"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815262.5862715, "msecs": 586.0, "relativeCreated": 68464.23959732056, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb891fd250", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:22,586"}]}, "call": {"duration": 0.48796786799999836, "outcome": "passed", "stdout": "\u2713 Custom request ID preserved: test-custom-request-id-12345\n", "stderr": "2026-01-19 09:34:22,589 - backend.request_id_middleware - INFO - [test-custom-request-id-12345] - Request started: GET /health\n2026-01-19 09:34:23,072 - backend.request_id_middleware - INFO - [test-custom-request-id-12345] - Request completed: GET /health - Status: 200\n2026-01-19 09:34:23,074 - httpx - INFO - [-] - HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: GET /health", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815262.5895314, "msecs": 589.0, "relativeCreated": 68467.49949455261, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb891fd250", "processName": "MainProcess", "process": 2241, "request_id": "test-custom-request-id-12345", "asctime": "2026-01-19 09:34:22,589"}, {"name": "backend.request_id_middleware", "msg": "Request completed: GET /health - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815263.0720553, "msecs": 72.0, "relativeCreated": 68950.02341270447, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb891fd250", "processName": "MainProcess", "process": 2241, "request_id": "test-custom-request-id-12345", "asctime": "2026-01-19 09:34:23,072"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815263.0748692, "msecs": 74.0, "relativeCreated": 68952.83722877502, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:23,074"}]}, "teardown": {"duration": 0.013332391000005828, "outcome": "passed", "stderr": "2026-01-19 09:34:23,076 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:23,077 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:23,077 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:23,078 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:23,078 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:23,079 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:23,079 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815263.0768871, "msecs": 76.0, "relativeCreated": 68954.85520362854, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb891fd250", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:23,076"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815263.0774555, "msecs": 77.0, "relativeCreated": 68955.42359352112, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb891fd250", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:23,077"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815263.0779676, "msecs": 77.0, "relativeCreated": 68955.93571662903, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb891fd250", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:23,077"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815263.0784316, "msecs": 78.0, "relativeCreated": 68956.39967918396, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb891fd250", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:23,078"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815263.078943, "msecs": 78.0, "relativeCreated": 68956.91108703613, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb891fd250", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:23,078"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815263.07937, "msecs": 79.0, "relativeCreated": 68957.3380947113, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb891fd250", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:23,079"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815263.0798655, "msecs": 79.0, "relativeCreated": 68957.83352851868, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb891fd250", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:23,079"}]}}, {"nodeid": "tests/test_request_id.py::test_multiple_requests", "lineno": 32, "outcome": "passed", "keywords": ["test_multiple_requests", "test_request_id.py", "tests", "backend", ""], "setup": {"duration": 0.04596351200001436, "outcome": "passed", "stderr": "2026-01-19 09:34:23,090 - root - INFO - [-] - Successfully patched settings for test execution\n2026-01-19 09:34:23,131 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:23,133 - backend.lifespan - INFO - [-] - \u2705 Query profiler registered\n2026-01-19 09:34:23,133 - backend.websocket_background_tasks - INFO - [-] - Starting WebSocket background tasks\n2026-01-19 09:34:23,134 - backend.websocket_background_tasks - INFO - [-] - Cleanup task started\n2026-01-19 09:34:23,134 - backend.websocket_background_tasks - INFO - [-] - Monitoring task started\n2026-01-19 09:34:23,135 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks started\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815263.0908577, "msecs": 90.0, "relativeCreated": 68968.82581710815, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:23,090"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815263.1315508, "msecs": 131.0, "relativeCreated": 69009.51886177063, "thread": 140512198997696, "threadName": "Thread-339 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:23,131"}, {"name": "backend.lifespan", "msg": "\u2705 Query profiler registered", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 27, "funcName": "lifespan", "created": 1768815263.1331832, "msecs": 133.0, "relativeCreated": 69011.15131378174, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8921d550", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:23,133"}, {"name": "backend.websocket_background_tasks", "msg": "Starting WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 72, "funcName": "start_background_tasks", "created": 1768815263.133786, "msecs": 133.0, "relativeCreated": 69011.7540359497, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8921d550", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:23,133"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 76, "funcName": "start_background_tasks", "created": 1768815263.1342368, "msecs": 134.0, "relativeCreated": 69012.20488548279, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8921d550", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:23,134"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "start_background_tasks", "created": 1768815263.1346705, "msecs": 134.0, "relativeCreated": 69012.63856887817, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8921d550", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:23,134"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks started", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 32, "funcName": "lifespan", "created": 1768815263.1351316, "msecs": 135.0, "relativeCreated": 69013.09967041016, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8921d550", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:23,135"}]}, "call": {"duration": 0.9658800649999932, "outcome": "passed", "stderr": "2026-01-19 09:34:23,138 - backend.request_id_middleware - INFO - [f511b7cf-bb62-45ad-bc06-69d1f8c78c0a] - Request started: GET /health\n2026-01-19 09:34:23,613 - backend.request_id_middleware - INFO - [f511b7cf-bb62-45ad-bc06-69d1f8c78c0a] - Request completed: GET /health - Status: 200\n2026-01-19 09:34:23,616 - httpx - INFO - [-] - HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:23,618 - backend.request_id_middleware - INFO - [d5730e62-06e8-4aed-9b01-b710900b5ed1] - Request started: GET /health\n2026-01-19 09:34:24,098 - backend.request_id_middleware - INFO - [d5730e62-06e8-4aed-9b01-b710900b5ed1] - Request completed: GET /health - Status: 200\n2026-01-19 09:34:24,101 - httpx - INFO - [-] - HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\"\n", "log": [{"name": "backend.request_id_middleware", "msg": "Request started: GET /health", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815263.1383305, "msecs": 138.0, "relativeCreated": 69016.29853248596, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8921d550", "processName": "MainProcess", "process": 2241, "request_id": "f511b7cf-bb62-45ad-bc06-69d1f8c78c0a", "asctime": "2026-01-19 09:34:23,138"}, {"name": "backend.request_id_middleware", "msg": "Request completed: GET /health - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815263.613614, "msecs": 613.0, "relativeCreated": 69491.58215522766, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8921d550", "processName": "MainProcess", "process": 2241, "request_id": "f511b7cf-bb62-45ad-bc06-69d1f8c78c0a", "asctime": "2026-01-19 09:34:23,613"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815263.6164432, "msecs": 616.0, "relativeCreated": 69494.41123008728, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:23,616"}, {"name": "backend.request_id_middleware", "msg": "Request started: GET /health", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815263.6185248, "msecs": 618.0, "relativeCreated": 69496.49286270142, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8921d550", "processName": "MainProcess", "process": 2241, "request_id": "d5730e62-06e8-4aed-9b01-b710900b5ed1", "asctime": "2026-01-19 09:34:23,618"}, {"name": "backend.request_id_middleware", "msg": "Request completed: GET /health - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815264.0986502, "msecs": 98.0, "relativeCreated": 69976.61828994751, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8921d550", "processName": "MainProcess", "process": 2241, "request_id": "d5730e62-06e8-4aed-9b01-b710900b5ed1", "asctime": "2026-01-19 09:34:24,098"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/health \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815264.1015067, "msecs": 101.0, "relativeCreated": 69979.47478294373, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,101"}]}, "teardown": {"duration": 0.013379434000000856, "outcome": "passed", "stderr": "2026-01-19 09:34:24,103 - backend.websocket_background_tasks - INFO - [-] - Stopping WebSocket background tasks\n2026-01-19 09:34:24,104 - backend.websocket_background_tasks - INFO - [-] - Cleanup task cancelled\n2026-01-19 09:34:24,104 - backend.websocket_background_tasks - INFO - [-] - Cleanup task stopped\n2026-01-19 09:34:24,105 - backend.websocket_background_tasks - INFO - [-] - Monitoring task cancelled\n2026-01-19 09:34:24,105 - backend.websocket_background_tasks - INFO - [-] - Monitoring task stopped\n2026-01-19 09:34:24,106 - backend.websocket_background_tasks - INFO - [-] - Disconnecting WebSocket clients\n2026-01-19 09:34:24,106 - backend.lifespan - INFO - [-] - \u2705 WebSocket background tasks stopped\n", "log": [{"name": "backend.websocket_background_tasks", "msg": "Stopping WebSocket background tasks", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 92, "funcName": "stop_background_tasks", "created": 1768815264.1036036, "msecs": 103.0, "relativeCreated": 69981.57167434692, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8921d550", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,103"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 37, "funcName": "cleanup_stale_connections_task", "created": 1768815264.1042223, "msecs": 104.0, "relativeCreated": 69982.19037055969, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8921d550", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,104"}, {"name": "backend.websocket_background_tasks", "msg": "Cleanup task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 101, "funcName": "stop_background_tasks", "created": 1768815264.1046968, "msecs": 104.0, "relativeCreated": 69982.6648235321, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8921d550", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,104"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task cancelled", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 61, "funcName": "connection_monitoring_task", "created": 1768815264.1051886, "msecs": 105.0, "relativeCreated": 69983.15668106079, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8921d550", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,105"}, {"name": "backend.websocket_background_tasks", "msg": "Monitoring task stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 110, "funcName": "stop_background_tasks", "created": 1768815264.1056378, "msecs": 105.0, "relativeCreated": 69983.60586166382, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8921d550", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,105"}, {"name": "backend.websocket_background_tasks", "msg": "Disconnecting WebSocket clients", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/websocket_background_tasks.py", "filename": "websocket_background_tasks.py", "module": "websocket_background_tasks", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 113, "funcName": "stop_background_tasks", "created": 1768815264.1060927, "msecs": 106.0, "relativeCreated": 69984.06076431274, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8921d550", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,106"}, {"name": "backend.lifespan", "msg": "\u2705 WebSocket background tasks stopped", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/lifespan.py", "filename": "lifespan.py", "module": "lifespan", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 80, "funcName": "lifespan", "created": 1768815264.1065283, "msecs": 106.0, "relativeCreated": 69984.49635505676, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8921d550", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,106"}]}}, {"nodeid": "tests/test_request_id_middleware.py::test_request_id_generation", "lineno": 42, "outcome": "passed", "keywords": ["test_request_id_generation", "test_request_id_middleware.py", "tests", "backend", ""], "setup": {"duration": 0.03892331500000523, "outcome": "passed", "stderr": "2026-01-19 09:34:24,117 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815264.1178436, "msecs": 117.0, "relativeCreated": 69995.81170082092, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,117"}]}, "call": {"duration": 0.006024776999993264, "outcome": "passed", "stderr": "2026-01-19 09:34:24,157 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:24,158 - backend.request_id_middleware - INFO - [a9cc2900-4a8d-4ddc-a59b-8272742aeb46] - Request started: GET /test\n2026-01-19 09:34:24,159 - backend.request_id_middleware - INFO - [a9cc2900-4a8d-4ddc-a59b-8272742aeb46] - Request completed: GET /test - Status: 200\n2026-01-19 09:34:24,161 - httpx - INFO - [-] - HTTP Request: GET http://testserver/test \"HTTP/1.1 200 OK\"\n", "log": [{"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815264.1573703, "msecs": 157.0, "relativeCreated": 70035.33840179443, "thread": 140512198997696, "threadName": "Thread-340 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,157"}, {"name": "backend.request_id_middleware", "msg": "Request started: GET /test", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815264.158627, "msecs": 158.0, "relativeCreated": 70036.59510612488, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb891fd9d0", "processName": "MainProcess", "process": 2241, "request_id": "a9cc2900-4a8d-4ddc-a59b-8272742aeb46", "asctime": "2026-01-19 09:34:24,158"}, {"name": "backend.request_id_middleware", "msg": "Request completed: GET /test - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815264.1596417, "msecs": 159.0, "relativeCreated": 70037.60981559753, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb891fd9d0", "processName": "MainProcess", "process": 2241, "request_id": "a9cc2900-4a8d-4ddc-a59b-8272742aeb46", "asctime": "2026-01-19 09:34:24,159"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/test \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815264.1616, "msecs": 161.0, "relativeCreated": 70039.56818580627, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,161"}]}, "teardown": {"duration": 0.00035159499998371757, "outcome": "passed"}}, {"nodeid": "tests/test_request_id_middleware.py::test_custom_request_id_preserved", "lineno": 61, "outcome": "passed", "keywords": ["test_custom_request_id_preserved", "test_request_id_middleware.py", "tests", "backend", ""], "setup": {"duration": 0.04320078800000715, "outcome": "passed", "stderr": "2026-01-19 09:34:24,164 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815264.164212, "msecs": 164.0, "relativeCreated": 70042.18006134033, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,164"}]}, "call": {"duration": 0.0059193999999820335, "outcome": "passed", "stderr": "2026-01-19 09:34:24,208 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:24,209 - backend.request_id_middleware - INFO - [test-custom-request-id-12345] - Request started: GET /test\n2026-01-19 09:34:24,210 - backend.request_id_middleware - INFO - [test-custom-request-id-12345] - Request completed: GET /test - Status: 200\n2026-01-19 09:34:24,212 - httpx - INFO - [-] - HTTP Request: GET http://testserver/test \"HTTP/1.1 200 OK\"\n", "log": [{"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815264.208166, "msecs": 208.0, "relativeCreated": 70086.13395690918, "thread": 140512198997696, "threadName": "Thread-341 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,208"}, {"name": "backend.request_id_middleware", "msg": "Request started: GET /test", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815264.2094152, "msecs": 209.0, "relativeCreated": 70087.38327026367, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb891fd9d0", "processName": "MainProcess", "process": 2241, "request_id": "test-custom-request-id-12345", "asctime": "2026-01-19 09:34:24,209"}, {"name": "backend.request_id_middleware", "msg": "Request completed: GET /test - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815264.2104437, "msecs": 210.0, "relativeCreated": 70088.41180801392, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb891fd9d0", "processName": "MainProcess", "process": 2241, "request_id": "test-custom-request-id-12345", "asctime": "2026-01-19 09:34:24,210"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/test \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815264.2122993, "msecs": 212.0, "relativeCreated": 70090.26741981506, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,212"}]}, "teardown": {"duration": 0.0003630660000055741, "outcome": "passed"}}, {"nodeid": "tests/test_request_id_middleware.py::test_unique_request_ids", "lineno": 71, "outcome": "passed", "keywords": ["test_unique_request_ids", "test_request_id_middleware.py", "tests", "backend", ""], "setup": {"duration": 0.041548953000017264, "outcome": "passed", "stderr": "2026-01-19 09:34:24,214 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815264.2148578, "msecs": 214.0, "relativeCreated": 70092.8258895874, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,214"}]}, "call": {"duration": 0.010687599999982922, "outcome": "passed", "stderr": "2026-01-19 09:34:24,256 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:24,258 - backend.request_id_middleware - INFO - [f0b0ee6e-932e-40b0-9bbb-e7c34fe6f1e3] - Request started: GET /test\n2026-01-19 09:34:24,259 - backend.request_id_middleware - INFO - [f0b0ee6e-932e-40b0-9bbb-e7c34fe6f1e3] - Request completed: GET /test - Status: 200\n2026-01-19 09:34:24,261 - httpx - INFO - [-] - HTTP Request: GET http://testserver/test \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:24,262 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:24,263 - backend.request_id_middleware - INFO - [3fc8c48c-5540-42c9-83dd-2b2323c28e02] - Request started: GET /test\n2026-01-19 09:34:24,264 - backend.request_id_middleware - INFO - [3fc8c48c-5540-42c9-83dd-2b2323c28e02] - Request completed: GET /test - Status: 200\n2026-01-19 09:34:24,266 - httpx - INFO - [-] - HTTP Request: GET http://testserver/test \"HTTP/1.1 200 OK\"\n", "log": [{"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815264.256896, "msecs": 256.0, "relativeCreated": 70134.86409187317, "thread": 140512198997696, "threadName": "Thread-342 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,256"}, {"name": "backend.request_id_middleware", "msg": "Request started: GET /test", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815264.2583773, "msecs": 258.0, "relativeCreated": 70136.34538650513, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8929d9d0", "processName": "MainProcess", "process": 2241, "request_id": "f0b0ee6e-932e-40b0-9bbb-e7c34fe6f1e3", "asctime": "2026-01-19 09:34:24,258"}, {"name": "backend.request_id_middleware", "msg": "Request completed: GET /test - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815264.2593522, "msecs": 259.0, "relativeCreated": 70137.32028007507, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8929d9d0", "processName": "MainProcess", "process": 2241, "request_id": "f0b0ee6e-932e-40b0-9bbb-e7c34fe6f1e3", "asctime": "2026-01-19 09:34:24,259"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/test \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815264.2613132, "msecs": 261.0, "relativeCreated": 70139.28127288818, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,261"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815264.2624452, "msecs": 262.0, "relativeCreated": 70140.41328430176, "thread": 140512198997696, "threadName": "Thread-343 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,262"}, {"name": "backend.request_id_middleware", "msg": "Request started: GET /test", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815264.2634006, "msecs": 263.0, "relativeCreated": 70141.36862754822, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8921c3d0", "processName": "MainProcess", "process": 2241, "request_id": "3fc8c48c-5540-42c9-83dd-2b2323c28e02", "asctime": "2026-01-19 09:34:24,263"}, {"name": "backend.request_id_middleware", "msg": "Request completed: GET /test - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815264.2643754, "msecs": 264.0, "relativeCreated": 70142.34352111816, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb8921c3d0", "processName": "MainProcess", "process": 2241, "request_id": "3fc8c48c-5540-42c9-83dd-2b2323c28e02", "asctime": "2026-01-19 09:34:24,264"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/test \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815264.2661033, "msecs": 266.0, "relativeCreated": 70144.07134056091, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,266"}]}, "teardown": {"duration": 0.0003246949999891058, "outcome": "passed"}}, {"nodeid": "tests/test_request_id_middleware.py::test_request_id_in_response_body", "lineno": 82, "outcome": "passed", "keywords": ["test_request_id_in_response_body", "test_request_id_middleware.py", "tests", "backend", ""], "setup": {"duration": 0.04138963900001613, "outcome": "passed", "stderr": "2026-01-19 09:34:24,268 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815264.2684715, "msecs": 268.0, "relativeCreated": 70146.43955230713, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,268"}]}, "call": {"duration": 0.005488448000022572, "outcome": "passed", "stderr": "2026-01-19 09:34:24,310 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:24,311 - backend.request_id_middleware - INFO - [29e1f450-307c-4547-beeb-e626ee9b377f] - Request started: GET /test\n2026-01-19 09:34:24,312 - backend.request_id_middleware - INFO - [29e1f450-307c-4547-beeb-e626ee9b377f] - Request completed: GET /test - Status: 200\n2026-01-19 09:34:24,314 - httpx - INFO - [-] - HTTP Request: GET http://testserver/test \"HTTP/1.1 200 OK\"\n", "log": [{"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815264.3103926, "msecs": 310.0, "relativeCreated": 70188.36069107056, "thread": 140512198997696, "threadName": "Thread-344 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,310"}, {"name": "backend.request_id_middleware", "msg": "Request started: GET /test", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815264.3114986, "msecs": 311.0, "relativeCreated": 70189.46671485901, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb891e5b50", "processName": "MainProcess", "process": 2241, "request_id": "29e1f450-307c-4547-beeb-e626ee9b377f", "asctime": "2026-01-19 09:34:24,311"}, {"name": "backend.request_id_middleware", "msg": "Request completed: GET /test - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815264.3126073, "msecs": 312.0, "relativeCreated": 70190.57536125183, "thread": 140512198997696, "threadName": "asyncio-portal-7fcb891e5b50", "processName": "MainProcess", "process": 2241, "request_id": "29e1f450-307c-4547-beeb-e626ee9b377f", "asctime": "2026-01-19 09:34:24,312"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/test \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815264.314348, "msecs": 314.0, "relativeCreated": 70192.31605529785, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,314"}]}, "teardown": {"duration": 0.0003428379999945719, "outcome": "passed"}}, {"nodeid": "tests/test_request_id_middleware.py::test_request_id_filter", "lineno": 92, "outcome": "passed", "keywords": ["test_request_id_filter", "test_request_id_middleware.py", "tests", "backend", ""], "setup": {"duration": 0.039852214000006825, "outcome": "passed", "stderr": "2026-01-19 09:34:24,316 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815264.3168085, "msecs": 316.0, "relativeCreated": 70194.77653503418, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,316"}]}, "call": {"duration": 0.0003270589999999629, "outcome": "passed"}, "teardown": {"duration": 0.0002775359999986904, "outcome": "passed"}}, {"nodeid": "tests/test_request_id_middleware.py::test_request_id_filter_with_existing_id", "lineno": 115, "outcome": "passed", "keywords": ["test_request_id_filter_with_existing_id", "test_request_id_middleware.py", "tests", "backend", ""], "setup": {"duration": 0.04035875700000702, "outcome": "passed", "stderr": "2026-01-19 09:34:24,358 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815264.3583093, "msecs": 358.0, "relativeCreated": 70236.27734184265, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,358"}]}, "call": {"duration": 0.00037300399998230205, "outcome": "passed"}, "teardown": {"duration": 0.0002867839999964872, "outcome": "passed"}}, {"nodeid": "tests/test_request_id_middleware.py::test_multiple_concurrent_requests", "lineno": 138, "outcome": "passed", "keywords": ["test_multiple_concurrent_requests", "test_request_id_middleware.py", "tests", "backend", ""], "setup": {"duration": 0.04320942500001479, "outcome": "passed", "stderr": "2026-01-19 09:34:24,400 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815264.4005606, "msecs": 400.0, "relativeCreated": 70278.52869033813, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,400"}]}, "call": {"duration": 0.07330254800001512, "outcome": "passed", "stderr": "2026-01-19 09:34:24,447 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:24,449 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:24,450 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:24,451 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:24,452 - backend.request_id_middleware - INFO - [ba894bfa-b51c-489c-ba65-43624a2bc65f] - Request started: GET /test\n2026-01-19 09:34:24,454 - backend.request_id_middleware - INFO - [a06ee590-7300-4fdc-9c39-a4868d41be28] - Request started: GET /test\n2026-01-19 09:34:24,454 - backend.request_id_middleware - INFO - [c947e6fa-3562-40b5-8449-710eec8596a8] - Request started: GET /test\n2026-01-19 09:34:24,455 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:24,457 - backend.request_id_middleware - INFO - [ba894bfa-b51c-489c-ba65-43624a2bc65f] - Request completed: GET /test - Status: 200\n2026-01-19 09:34:24,458 - backend.request_id_middleware - INFO - [6e6b48c0-237e-47d8-b870-7e7ca468da62] - Request started: GET /test\n2026-01-19 09:34:24,459 - backend.request_id_middleware - INFO - [a06ee590-7300-4fdc-9c39-a4868d41be28] - Request completed: GET /test - Status: 200\n2026-01-19 09:34:24,461 - backend.request_id_middleware - INFO - [c947e6fa-3562-40b5-8449-710eec8596a8] - Request completed: GET /test - Status: 200\n2026-01-19 09:34:24,462 - backend.request_id_middleware - INFO - [37c932f6-b27a-4459-a491-450a847bf74e] - Request started: GET /test\n2026-01-19 09:34:24,465 - backend.request_id_middleware - INFO - [6e6b48c0-237e-47d8-b870-7e7ca468da62] - Request completed: GET /test - Status: 200\n2026-01-19 09:34:24,466 - httpx - INFO - [-] - HTTP Request: GET http://testserver/test \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:24,470 - httpx - INFO - [-] - HTTP Request: GET http://testserver/test \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:24,471 - backend.request_id_middleware - INFO - [37c932f6-b27a-4459-a491-450a847bf74e] - Request completed: GET /test - Status: 200\n2026-01-19 09:34:24,474 - httpx - INFO - [-] - HTTP Request: GET http://testserver/test \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:24,475 - httpx - INFO - [-] - HTTP Request: GET http://testserver/test \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:24,476 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:24,478 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:24,480 - backend.request_id_middleware - INFO - [2b970093-add1-48d8-8d7f-4ec4d51d83b0] - Request started: GET /test\n2026-01-19 09:34:24,481 - backend.request_id_middleware - INFO - [ffddddab-fed8-4a4d-8608-96003e2f5626] - Request started: GET /test\n2026-01-19 09:34:24,484 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:24,486 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:24,486 - httpx - INFO - [-] - HTTP Request: GET http://testserver/test \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:24,488 - backend.request_id_middleware - INFO - [2b970093-add1-48d8-8d7f-4ec4d51d83b0] - Request completed: GET /test - Status: 200\n2026-01-19 09:34:24,489 - backend.request_id_middleware - INFO - [1195869d-335a-486e-9a98-b68b5263fee5] - Request started: GET /test\n2026-01-19 09:34:24,490 - backend.request_id_middleware - INFO - [ffddddab-fed8-4a4d-8608-96003e2f5626] - Request completed: GET /test - Status: 200\n2026-01-19 09:34:24,492 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:24,496 - httpx - INFO - [-] - HTTP Request: GET http://testserver/test \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:24,497 - backend.request_id_middleware - INFO - [1195869d-335a-486e-9a98-b68b5263fee5] - Request completed: GET /test - Status: 200\n2026-01-19 09:34:24,498 - backend.request_id_middleware - INFO - [71b2ef9f-6f01-4e7a-b8db-2b64bef0fd41] - Request started: GET /test\n2026-01-19 09:34:24,501 - backend.request_id_middleware - INFO - [9a5bb605-a99d-4345-92bf-955daf7f84c9] - Request started: GET /test\n2026-01-19 09:34:24,501 - httpx - INFO - [-] - HTTP Request: GET http://testserver/test \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:24,504 - backend.request_id_middleware - INFO - [71b2ef9f-6f01-4e7a-b8db-2b64bef0fd41] - Request completed: GET /test - Status: 200\n2026-01-19 09:34:24,506 - httpx - INFO - [-] - HTTP Request: GET http://testserver/test \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:24,507 - backend.request_id_middleware - INFO - [9a5bb605-a99d-4345-92bf-955daf7f84c9] - Request completed: GET /test - Status: 200\n2026-01-19 09:34:24,512 - httpx - INFO - [-] - HTTP Request: GET http://testserver/test \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:24,515 - httpx - INFO - [-] - HTTP Request: GET http://testserver/test \"HTTP/1.1 200 OK\"\n", "log": [{"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815264.447813, "msecs": 447.0, "relativeCreated": 70325.78110694885, "thread": 140512215779008, "threadName": "Thread-345 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,447"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815264.4490244, "msecs": 449.0, "relativeCreated": 70326.99251174927, "thread": 140512052897472, "threadName": "Thread-346 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,449"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815264.450028, "msecs": 450.0, "relativeCreated": 70327.9960155487, "thread": 140511801243328, "threadName": "Thread-347 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,450"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815264.451526, "msecs": 451.0, "relativeCreated": 70329.4939994812, "thread": 140511767680704, "threadName": "Thread-348 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,451"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815264.455178, "msecs": 455.0, "relativeCreated": 70333.14609527588, "thread": 140511516026560, "threadName": "Thread-349 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,455"}, {"name": "backend.request_id_middleware", "msg": "Request started: GET /test", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815264.4525695, "msecs": 452.0, "relativeCreated": 70330.53755760193, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb890744d0", "processName": "MainProcess", "process": 2241, "request_id": "ba894bfa-b51c-489c-ba65-43624a2bc65f", "asctime": "2026-01-19 09:34:24,452"}, {"name": "backend.request_id_middleware", "msg": "Request started: GET /test", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815264.4543173, "msecs": 454.0, "relativeCreated": 70332.28540420532, "thread": 140512052897472, "threadName": "asyncio-portal-7fcb89059b90", "processName": "MainProcess", "process": 2241, "request_id": "a06ee590-7300-4fdc-9c39-a4868d41be28", "asctime": "2026-01-19 09:34:24,454"}, {"name": "backend.request_id_middleware", "msg": "Request started: GET /test", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815264.454821, "msecs": 454.0, "relativeCreated": 70332.78918266296, "thread": 140511801243328, "threadName": "asyncio-portal-7fcb8905afd0", "processName": "MainProcess", "process": 2241, "request_id": "c947e6fa-3562-40b5-8449-710eec8596a8", "asctime": "2026-01-19 09:34:24,454"}, {"name": "backend.request_id_middleware", "msg": "Request completed: GET /test - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815264.4572825, "msecs": 457.0, "relativeCreated": 70335.25061607361, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb890744d0", "processName": "MainProcess", "process": 2241, "request_id": "ba894bfa-b51c-489c-ba65-43624a2bc65f", "asctime": "2026-01-19 09:34:24,457"}, {"name": "backend.request_id_middleware", "msg": "Request started: GET /test", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815264.4584336, "msecs": 458.0, "relativeCreated": 70336.40170097351, "thread": 140511767680704, "threadName": "asyncio-portal-7fcb89088d90", "processName": "MainProcess", "process": 2241, "request_id": "6e6b48c0-237e-47d8-b870-7e7ca468da62", "asctime": "2026-01-19 09:34:24,458"}, {"name": "backend.request_id_middleware", "msg": "Request completed: GET /test - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815264.459318, "msecs": 459.0, "relativeCreated": 70337.2859954834, "thread": 140512052897472, "threadName": "asyncio-portal-7fcb89059b90", "processName": "MainProcess", "process": 2241, "request_id": "a06ee590-7300-4fdc-9c39-a4868d41be28", "asctime": "2026-01-19 09:34:24,459"}, {"name": "backend.request_id_middleware", "msg": "Request completed: GET /test - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815264.461541, "msecs": 461.0, "relativeCreated": 70339.50901031494, "thread": 140511801243328, "threadName": "asyncio-portal-7fcb8905afd0", "processName": "MainProcess", "process": 2241, "request_id": "c947e6fa-3562-40b5-8449-710eec8596a8", "asctime": "2026-01-19 09:34:24,461"}, {"name": "backend.request_id_middleware", "msg": "Request started: GET /test", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815264.4627407, "msecs": 462.0, "relativeCreated": 70340.70873260498, "thread": 140511516026560, "threadName": "asyncio-portal-7fcb890b4410", "processName": "MainProcess", "process": 2241, "request_id": "37c932f6-b27a-4459-a491-450a847bf74e", "asctime": "2026-01-19 09:34:24,462"}, {"name": "backend.request_id_middleware", "msg": "Request completed: GET /test - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815264.4653814, "msecs": 465.0, "relativeCreated": 70343.34945678711, "thread": 140511767680704, "threadName": "asyncio-portal-7fcb89088d90", "processName": "MainProcess", "process": 2241, "request_id": "6e6b48c0-237e-47d8-b870-7e7ca468da62", "asctime": "2026-01-19 09:34:24,465"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/test \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815264.4667568, "msecs": 466.0, "relativeCreated": 70344.72489356995, "thread": 140512198997696, "threadName": "ThreadPoolExecutor-0_0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,466"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815264.4769356, "msecs": 476.0, "relativeCreated": 70354.90369796753, "thread": 140511767680704, "threadName": "Thread-350 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,476"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/test \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815264.470985, "msecs": 470.0, "relativeCreated": 70348.95300865173, "thread": 140512069678784, "threadName": "ThreadPoolExecutor-0_1", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,470"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815264.4783401, "msecs": 478.0, "relativeCreated": 70356.30822181702, "thread": 140511801243328, "threadName": "Thread-351 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,478"}, {"name": "backend.request_id_middleware", "msg": "Request completed: GET /test - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815264.4716823, "msecs": 471.0, "relativeCreated": 70349.6503829956, "thread": 140511516026560, "threadName": "asyncio-portal-7fcb890b4410", "processName": "MainProcess", "process": 2241, "request_id": "37c932f6-b27a-4459-a491-450a847bf74e", "asctime": "2026-01-19 09:34:24,471"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/test \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815264.4749453, "msecs": 474.0, "relativeCreated": 70352.91337966919, "thread": 140511784462016, "threadName": "ThreadPoolExecutor-0_3", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,474"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815264.4845176, "msecs": 484.0, "relativeCreated": 70362.48564720154, "thread": 140512215779008, "threadName": "Thread-352 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,484"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/test \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815264.475838, "msecs": 475.0, "relativeCreated": 70353.80601882935, "thread": 140512036116160, "threadName": "ThreadPoolExecutor-0_2", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,475"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815264.4862623, "msecs": 486.0, "relativeCreated": 70364.2303943634, "thread": 140512052897472, "threadName": "Thread-353 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,486"}, {"name": "backend.request_id_middleware", "msg": "Request started: GET /test", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815264.4807675, "msecs": 480.0, "relativeCreated": 70358.73556137085, "thread": 140511767680704, "threadName": "asyncio-portal-7fcb89059d10", "processName": "MainProcess", "process": 2241, "request_id": "2b970093-add1-48d8-8d7f-4ec4d51d83b0", "asctime": "2026-01-19 09:34:24,480"}, {"name": "backend.request_id_middleware", "msg": "Request started: GET /test", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815264.4819832, "msecs": 481.0, "relativeCreated": 70359.95125770569, "thread": 140511801243328, "threadName": "asyncio-portal-7fcb890582d0", "processName": "MainProcess", "process": 2241, "request_id": "ffddddab-fed8-4a4d-8608-96003e2f5626", "asctime": "2026-01-19 09:34:24,481"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/test \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815264.4866278, "msecs": 486.0, "relativeCreated": 70364.59589004517, "thread": 140511532807872, "threadName": "ThreadPoolExecutor-0_4", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,486"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815264.492574, "msecs": 492.0, "relativeCreated": 70370.54204940796, "thread": 140511516026560, "threadName": "Thread-354 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,492"}, {"name": "backend.request_id_middleware", "msg": "Request completed: GET /test - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815264.4880466, "msecs": 488.0, "relativeCreated": 70366.0147190094, "thread": 140511767680704, "threadName": "asyncio-portal-7fcb89059d10", "processName": "MainProcess", "process": 2241, "request_id": "2b970093-add1-48d8-8d7f-4ec4d51d83b0", "asctime": "2026-01-19 09:34:24,488"}, {"name": "backend.request_id_middleware", "msg": "Request started: GET /test", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815264.4893415, "msecs": 489.0, "relativeCreated": 70367.3095703125, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8906c190", "processName": "MainProcess", "process": 2241, "request_id": "1195869d-335a-486e-9a98-b68b5263fee5", "asctime": "2026-01-19 09:34:24,489"}, {"name": "backend.request_id_middleware", "msg": "Request completed: GET /test - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815264.4909344, "msecs": 490.0, "relativeCreated": 70368.90244483948, "thread": 140511801243328, "threadName": "asyncio-portal-7fcb890582d0", "processName": "MainProcess", "process": 2241, "request_id": "ffddddab-fed8-4a4d-8608-96003e2f5626", "asctime": "2026-01-19 09:34:24,490"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/test \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815264.4963562, "msecs": 496.0, "relativeCreated": 70374.32432174683, "thread": 140512198997696, "threadName": "ThreadPoolExecutor-0_0", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,496"}, {"name": "backend.request_id_middleware", "msg": "Request completed: GET /test - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815264.4976583, "msecs": 497.0, "relativeCreated": 70375.6263256073, "thread": 140512215779008, "threadName": "asyncio-portal-7fcb8906c190", "processName": "MainProcess", "process": 2241, "request_id": "1195869d-335a-486e-9a98-b68b5263fee5", "asctime": "2026-01-19 09:34:24,497"}, {"name": "backend.request_id_middleware", "msg": "Request started: GET /test", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815264.4988265, "msecs": 498.0, "relativeCreated": 70376.7945766449, "thread": 140511516026560, "threadName": "asyncio-portal-7fcb89089b10", "processName": "MainProcess", "process": 2241, "request_id": "71b2ef9f-6f01-4e7a-b8db-2b64bef0fd41", "asctime": "2026-01-19 09:34:24,498"}, {"name": "backend.request_id_middleware", "msg": "Request started: GET /test", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815264.5010283, "msecs": 501.0, "relativeCreated": 70378.9963722229, "thread": 140512052897472, "threadName": "asyncio-portal-7fcb890b7c90", "processName": "MainProcess", "process": 2241, "request_id": "9a5bb605-a99d-4345-92bf-955daf7f84c9", "asctime": "2026-01-19 09:34:24,501"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/test \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815264.5015543, "msecs": 501.0, "relativeCreated": 70379.5223236084, "thread": 140512069678784, "threadName": "ThreadPoolExecutor-0_1", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,501"}, {"name": "backend.request_id_middleware", "msg": "Request completed: GET /test - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815264.5048301, "msecs": 504.0, "relativeCreated": 70382.79819488525, "thread": 140511516026560, "threadName": "asyncio-portal-7fcb89089b10", "processName": "MainProcess", "process": 2241, "request_id": "71b2ef9f-6f01-4e7a-b8db-2b64bef0fd41", "asctime": "2026-01-19 09:34:24,504"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/test \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815264.5063934, "msecs": 506.0, "relativeCreated": 70384.36150550842, "thread": 140511784462016, "threadName": "ThreadPoolExecutor-0_3", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,506"}, {"name": "backend.request_id_middleware", "msg": "Request completed: GET /test - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815264.507654, "msecs": 507.0, "relativeCreated": 70385.62202453613, "thread": 140512052897472, "threadName": "asyncio-portal-7fcb890b7c90", "processName": "MainProcess", "process": 2241, "request_id": "9a5bb605-a99d-4345-92bf-955daf7f84c9", "asctime": "2026-01-19 09:34:24,507"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/test \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815264.5127397, "msecs": 512.0, "relativeCreated": 70390.70773124695, "thread": 140511532807872, "threadName": "ThreadPoolExecutor-0_4", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,512"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/test \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815264.5156043, "msecs": 515.0, "relativeCreated": 70393.57233047485, "thread": 140512036116160, "threadName": "ThreadPoolExecutor-0_2", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,515"}]}, "teardown": {"duration": 0.00039659899999833215, "outcome": "passed"}}, {"nodeid": "tests/test_request_id_middleware.py::test_request_id_cleared_after_request", "lineno": 154, "outcome": "passed", "keywords": ["test_request_id_cleared_after_request", "test_request_id_middleware.py", "tests", "backend", ""], "setup": {"duration": 0.04312069899998505, "outcome": "passed", "stderr": "2026-01-19 09:34:24,518 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815264.5189261, "msecs": 518.0, "relativeCreated": 70396.89421653748, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,518"}]}, "call": {"duration": 0.005834942999996429, "outcome": "passed", "stderr": "2026-01-19 09:34:24,562 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:24,563 - backend.request_id_middleware - INFO - [5204a9b9-e611-46ac-84e3-4f19c0d85e94] - Request started: GET /test\n2026-01-19 09:34:24,564 - backend.request_id_middleware - INFO - [5204a9b9-e611-46ac-84e3-4f19c0d85e94] - Request completed: GET /test - Status: 200\n2026-01-19 09:34:24,566 - httpx - INFO - [-] - HTTP Request: GET http://testserver/test \"HTTP/1.1 200 OK\"\n", "log": [{"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815264.562613, "msecs": 562.0, "relativeCreated": 70440.58108329773, "thread": 140512036116160, "threadName": "Thread-355 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,562"}, {"name": "backend.request_id_middleware", "msg": "Request started: GET /test", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815264.5639095, "msecs": 563.0, "relativeCreated": 70441.87760353088, "thread": 140512036116160, "threadName": "asyncio-portal-7fcb8905a4d0", "processName": "MainProcess", "process": 2241, "request_id": "5204a9b9-e611-46ac-84e3-4f19c0d85e94", "asctime": "2026-01-19 09:34:24,563"}, {"name": "backend.request_id_middleware", "msg": "Request completed: GET /test - Status: 200", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815264.5649884, "msecs": 564.0, "relativeCreated": 70442.95644760132, "thread": 140512036116160, "threadName": "asyncio-portal-7fcb8905a4d0", "processName": "MainProcess", "process": 2241, "request_id": "5204a9b9-e611-46ac-84e3-4f19c0d85e94", "asctime": "2026-01-19 09:34:24,564"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/test \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815264.5668588, "msecs": 566.0, "relativeCreated": 70444.82684135437, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,566"}]}, "teardown": {"duration": 0.000348869999982071, "outcome": "passed"}}, {"nodeid": "tests/test_request_id_middleware.py::test_request_id_filter_uses_context_value", "lineno": 159, "outcome": "passed", "keywords": ["test_request_id_filter_uses_context_value", "test_request_id_middleware.py", "tests", "backend", ""], "setup": {"duration": 0.04139127999999914, "outcome": "passed", "stderr": "2026-01-19 09:34:24,569 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815264.569419, "msecs": 569.0, "relativeCreated": 70447.38698005676, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,569"}]}, "call": {"duration": 0.0003700689999845963, "outcome": "passed"}, "teardown": {"duration": 0.000286021999983177, "outcome": "passed"}}, {"nodeid": "tests/test_request_id_middleware.py::test_request_id_header_present_on_error", "lineno": 177, "outcome": "passed", "keywords": ["test_request_id_header_present_on_error", "test_request_id_middleware.py", "tests", "backend", ""], "setup": {"duration": 0.04221555399999488, "outcome": "passed", "stderr": "2026-01-19 09:34:24,612 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815264.6126072, "msecs": 612.0, "relativeCreated": 70490.57531356812, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,612"}]}, "call": {"duration": 0.006015880000006746, "outcome": "passed", "stderr": "2026-01-19 09:34:24,655 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:24,656 - backend.request_id_middleware - INFO - [db3e2472-9e2f-489f-bbac-4997379deacd] - Request started: GET /error\n2026-01-19 09:34:24,657 - backend.request_id_middleware - INFO - [db3e2472-9e2f-489f-bbac-4997379deacd] - Request completed: GET /error - Status: 418\n2026-01-19 09:34:24,659 - httpx - INFO - [-] - HTTP Request: GET http://testserver/error \"HTTP/1.1 418 I'm a teapot\"\n", "log": [{"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815264.6555126, "msecs": 655.0, "relativeCreated": 70533.48064422607, "thread": 140512036116160, "threadName": "Thread-356 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,655"}, {"name": "backend.request_id_middleware", "msg": "Request started: GET /error", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 56, "funcName": "dispatch", "created": 1768815264.656899, "msecs": 656.0, "relativeCreated": 70534.86704826355, "thread": 140512036116160, "threadName": "asyncio-portal-7fcb890b6d50", "processName": "MainProcess", "process": 2241, "request_id": "db3e2472-9e2f-489f-bbac-4997379deacd", "asctime": "2026-01-19 09:34:24,656"}, {"name": "backend.request_id_middleware", "msg": "Request completed: GET /error - Status: 418", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/request_id_middleware.py", "filename": "request_id_middleware.py", "module": "request_id_middleware", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 69, "funcName": "dispatch", "created": 1768815264.6579678, "msecs": 657.0, "relativeCreated": 70535.93587875366, "thread": 140512036116160, "threadName": "asyncio-portal-7fcb890b6d50", "processName": "MainProcess", "process": 2241, "request_id": "db3e2472-9e2f-489f-bbac-4997379deacd", "asctime": "2026-01-19 09:34:24,657"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/error \"HTTP/1.1 418 I'm a teapot\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815264.6598887, "msecs": 659.0, "relativeCreated": 70537.85681724548, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,659"}]}, "teardown": {"duration": 0.00034378000000856446, "outcome": "passed"}}, {"nodeid": "tests/test_response_cache_middleware.py::test_response_cache_returns_cached_payload", "lineno": 36, "outcome": "passed", "keywords": ["test_response_cache_returns_cached_payload", "test_response_cache_middleware.py", "tests", "backend", ""], "setup": {"duration": 0.04145460699999148, "outcome": "passed", "stderr": "2026-01-19 09:34:24,662 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815264.6626358, "msecs": 662.0, "relativeCreated": 70540.60387611389, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,662"}]}, "call": {"duration": 0.008862880000009454, "outcome": "passed", "stderr": "2026-01-19 09:34:24,705 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:24,708 - httpx - INFO - [-] - HTTP Request: GET http://testserver/expensive \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:24,709 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:24,711 - httpx - INFO - [-] - HTTP Request: GET http://testserver/expensive \"HTTP/1.1 200 OK\"\n", "log": [{"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815264.7054372, "msecs": 705.0, "relativeCreated": 70583.40525627136, "thread": 140512036116160, "threadName": "Thread-357 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,705"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/expensive \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815264.7086911, "msecs": 708.0, "relativeCreated": 70586.65919303894, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,708"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815264.7099125, "msecs": 709.0, "relativeCreated": 70587.88061141968, "thread": 140512036116160, "threadName": "Thread-358 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,709"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/expensive \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815264.7119658, "msecs": 711.0, "relativeCreated": 70589.9338722229, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,711"}]}, "teardown": {"duration": 0.00031164000000671876, "outcome": "passed"}}, {"nodeid": "tests/test_response_cache_middleware.py::test_authorized_requests_bypass_cache", "lineno": 48, "outcome": "passed", "keywords": ["test_authorized_requests_bypass_cache", "test_response_cache_middleware.py", "tests", "backend", ""], "setup": {"duration": 0.04265210699998079, "outcome": "passed", "stderr": "2026-01-19 09:34:24,714 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815264.7145243, "msecs": 714.0, "relativeCreated": 70592.49234199524, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,714"}]}, "call": {"duration": 0.008838244000003215, "outcome": "passed", "stderr": "2026-01-19 09:34:24,758 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:24,761 - httpx - INFO - [-] - HTTP Request: GET http://testserver/expensive \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:24,762 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:24,765 - httpx - INFO - [-] - HTTP Request: GET http://testserver/expensive \"HTTP/1.1 200 OK\"\n", "log": [{"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815264.7585094, "msecs": 758.0, "relativeCreated": 70636.47747039795, "thread": 140512036116160, "threadName": "Thread-359 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,758"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/expensive \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815264.7614522, "msecs": 761.0, "relativeCreated": 70639.4202709198, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,761"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815264.7626474, "msecs": 762.0, "relativeCreated": 70640.61546325684, "thread": 140512036116160, "threadName": "Thread-360 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,762"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/expensive \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815264.765067, "msecs": 765.0, "relativeCreated": 70643.03517341614, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,765"}]}, "teardown": {"duration": 0.00030770300000426687, "outcome": "passed"}}, {"nodeid": "tests/test_response_cache_middleware.py::test_query_flag_disables_cache", "lineno": 61, "outcome": "passed", "keywords": ["test_query_flag_disables_cache", "test_response_cache_middleware.py", "tests", "backend", ""], "setup": {"duration": 0.04159742400000255, "outcome": "passed", "stderr": "2026-01-19 09:34:24,767 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815264.7675638, "msecs": 767.0, "relativeCreated": 70645.53189277649, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,767"}]}, "call": {"duration": 0.009875023999995847, "outcome": "passed", "stderr": "2026-01-19 09:34:24,810 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:24,814 - httpx - INFO - [-] - HTTP Request: GET http://testserver/expensive?__nocache=1 \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:24,815 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:24,818 - httpx - INFO - [-] - HTTP Request: GET http://testserver/expensive?__nocache=1 \"HTTP/1.1 200 OK\"\n", "log": [{"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815264.8104658, "msecs": 810.0, "relativeCreated": 70688.43388557434, "thread": 140512036116160, "threadName": "Thread-361 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,810"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/expensive?__nocache=1 \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815264.8142385, "msecs": 814.0, "relativeCreated": 70692.20662117004, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,814"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815264.8155196, "msecs": 815.0, "relativeCreated": 70693.48764419556, "thread": 140512036116160, "threadName": "Thread-362 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,815"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/expensive?__nocache=1 \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815264.8180277, "msecs": 818.0, "relativeCreated": 70695.9958076477, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,818"}]}, "teardown": {"duration": 0.00031033799999136136, "outcome": "passed"}}, {"nodeid": "tests/test_response_cache_middleware.py::test_opt_in_header_controls_caching", "lineno": 74, "outcome": "passed", "keywords": ["test_opt_in_header_controls_caching", "test_response_cache_middleware.py", "tests", "backend", ""], "setup": {"duration": 0.041277277999995476, "outcome": "passed", "stderr": "2026-01-19 09:34:24,820 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815264.8206005, "msecs": 820.0, "relativeCreated": 70698.56858253479, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,820"}]}, "call": {"duration": 0.01575347900001134, "outcome": "passed", "stderr": "2026-01-19 09:34:24,862 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:24,865 - httpx - INFO - [-] - HTTP Request: GET http://testserver/expensive \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:24,867 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:24,869 - httpx - INFO - [-] - HTTP Request: GET http://testserver/expensive \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:24,870 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:24,873 - httpx - INFO - [-] - HTTP Request: GET http://testserver/expensive \"HTTP/1.1 200 OK\"\n2026-01-19 09:34:24,874 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:24,876 - httpx - INFO - [-] - HTTP Request: GET http://testserver/expensive \"HTTP/1.1 200 OK\"\n", "log": [{"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815264.8629687, "msecs": 862.0, "relativeCreated": 70740.93675613403, "thread": 140512036116160, "threadName": "Thread-363 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,862"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/expensive \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815264.865916, "msecs": 865.0, "relativeCreated": 70743.88408660889, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,865"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815264.8671563, "msecs": 867.0, "relativeCreated": 70745.12434005737, "thread": 140512036116160, "threadName": "Thread-364 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,867"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/expensive \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815264.8696797, "msecs": 869.0, "relativeCreated": 70747.64776229858, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,869"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815264.8708048, "msecs": 870.0, "relativeCreated": 70748.77285957336, "thread": 140512036116160, "threadName": "Thread-365 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,870"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/expensive \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815264.8735673, "msecs": 873.0, "relativeCreated": 70751.53541564941, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,873"}, {"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815264.8746498, "msecs": 874.0, "relativeCreated": 70752.61783599854, "thread": 140512036116160, "threadName": "Thread-366 (run_blocking_portal)", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,874"}, {"name": "httpx", "msg": "HTTP Request: GET http://testserver/expensive \"HTTP/1.1 200 OK\"", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_client.py", "filename": "_client.py", "module": "_client", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 1038, "funcName": "_send_single_request", "created": 1768815264.8766358, "msecs": 876.0, "relativeCreated": 70754.60386276245, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,876"}]}, "teardown": {"duration": 0.0003258559999892441, "outcome": "passed"}}, {"nodeid": "tests/test_response_schemas.py::TestResponseMeta::test_create_response_meta", "lineno": 28, "outcome": "passed", "keywords": ["test_create_response_meta", "TestResponseMeta", "test_response_schemas.py", "tests", "backend", ""], "setup": {"duration": 0.04263204899999096, "outcome": "passed", "stderr": "2026-01-19 09:34:24,879 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815264.879476, "msecs": 879.0, "relativeCreated": 70757.44414329529, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,879"}]}, "call": {"duration": 0.00035699400001476533, "outcome": "passed"}, "teardown": {"duration": 0.00033744800001045405, "outcome": "passed"}}, {"nodeid": "tests/test_response_schemas.py::TestResponseMeta::test_response_meta_required_fields", "lineno": 36, "outcome": "passed", "keywords": ["test_response_meta_required_fields", "TestResponseMeta", "test_response_schemas.py", "tests", "backend", ""], "setup": {"duration": 0.04190863299999137, "outcome": "passed", "stderr": "2026-01-19 09:34:24,923 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815264.9239962, "msecs": 923.0, "relativeCreated": 70801.9642829895, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,923"}]}, "call": {"duration": 0.00043274600000131613, "outcome": "passed"}, "teardown": {"duration": 0.0003078529999811508, "outcome": "passed"}}, {"nodeid": "tests/test_response_schemas.py::TestResponseMeta::test_response_meta_default_version", "lineno": 46, "outcome": "passed", "keywords": ["test_response_meta_default_version", "TestResponseMeta", "test_response_schemas.py", "tests", "backend", ""], "setup": {"duration": 0.04113012400000571, "outcome": "passed", "stderr": "2026-01-19 09:34:24,967 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815264.9677758, "msecs": 967.0, "relativeCreated": 70845.74389457703, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:24,967"}]}, "call": {"duration": 0.0003410449999989851, "outcome": "passed"}, "teardown": {"duration": 0.0002910419999864189, "outcome": "passed"}}, {"nodeid": "tests/test_response_schemas.py::TestErrorDetail::test_create_error_detail", "lineno": 56, "outcome": "passed", "keywords": ["test_create_error_detail", "TestErrorDetail", "test_response_schemas.py", "tests", "backend", ""], "setup": {"duration": 0.04134501300001148, "outcome": "passed", "stderr": "2026-01-19 09:34:25,010 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815265.0107334, "msecs": 10.0, "relativeCreated": 70888.70143890381, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:25,010"}]}, "call": {"duration": 0.0003444909999927859, "outcome": "passed"}, "teardown": {"duration": 0.00032314199998495496, "outcome": "passed"}}, {"nodeid": "tests/test_response_schemas.py::TestErrorDetail::test_error_detail_minimal", "lineno": 70, "outcome": "passed", "keywords": ["test_error_detail_minimal", "TestErrorDetail", "test_response_schemas.py", "tests", "backend", ""], "setup": {"duration": 0.04198890200001415, "outcome": "passed", "stderr": "2026-01-19 09:34:25,053 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815265.0539596, "msecs": 53.0, "relativeCreated": 70931.92768096924, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:25,053"}]}, "call": {"duration": 0.00034124600000495775, "outcome": "passed"}, "teardown": {"duration": 0.000322721000003412, "outcome": "passed"}}, {"nodeid": "tests/test_response_schemas.py::TestErrorDetail::test_error_detail_required_fields", "lineno": 79, "outcome": "passed", "keywords": ["test_error_detail_required_fields", "TestErrorDetail", "test_response_schemas.py", "tests", "backend", ""], "setup": {"duration": 0.04162414900000044, "outcome": "passed", "stderr": "2026-01-19 09:34:25,097 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815265.0977983, "msecs": 97.0, "relativeCreated": 70975.76642036438, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:25,097"}]}, "call": {"duration": 0.0003823719999900277, "outcome": "passed"}, "teardown": {"duration": 0.0002982560000077683, "outcome": "passed"}}, {"nodeid": "tests/test_response_schemas.py::TestAPIResponse::test_create_success_response", "lineno": 93, "outcome": "passed", "keywords": ["test_create_success_response", "TestAPIResponse", "test_response_schemas.py", "tests", "backend", ""], "setup": {"duration": 0.04215580100000693, "outcome": "passed", "stderr": "2026-01-19 09:34:25,141 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815265.1412847, "msecs": 141.0, "relativeCreated": 71019.25277709961, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:25,141"}]}, "call": {"duration": 0.00035892900001499584, "outcome": "passed"}, "teardown": {"duration": 0.0002910420000148406, "outcome": "passed"}}, {"nodeid": "tests/test_response_schemas.py::TestAPIResponse::test_create_error_response", "lineno": 104, "outcome": "passed", "keywords": ["test_create_error_response", "TestAPIResponse", "test_response_schemas.py", "tests", "backend", ""], "setup": {"duration": 0.04199376900001539, "outcome": "passed", "stderr": "2026-01-19 09:34:25,185 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815265.1853201, "msecs": 185.0, "relativeCreated": 71063.28821182251, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:25,185"}]}, "call": {"duration": 0.00037701300001913296, "outcome": "passed"}, "teardown": {"duration": 0.0003081650000069658, "outcome": "passed"}}, {"nodeid": "tests/test_response_schemas.py::TestAPIResponse::test_api_response_required_fields", "lineno": 117, "outcome": "passed", "keywords": ["test_api_response_required_fields", "TestAPIResponse", "test_response_schemas.py", "tests", "backend", ""], "setup": {"duration": 0.04292117800000028, "outcome": "passed", "stderr": "2026-01-19 09:34:25,229 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815265.229267, "msecs": 229.0, "relativeCreated": 71107.23495483398, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:25,229"}]}, "call": {"duration": 0.0004106750000119064, "outcome": "passed"}, "teardown": {"duration": 0.0003039569999998548, "outcome": "passed"}}, {"nodeid": "tests/test_response_schemas.py::TestAPIResponse::test_api_response_with_generic_type", "lineno": 127, "outcome": "passed", "keywords": ["test_api_response_with_generic_type", "TestAPIResponse", "test_response_schemas.py", "tests", "backend", ""], "setup": {"duration": 0.04183056499999793, "outcome": "passed", "stderr": "2026-01-19 09:34:25,274 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815265.274163, "msecs": 274.0, "relativeCreated": 71152.13108062744, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:25,274"}]}, "call": {"duration": 0.0003582180000023527, "outcome": "passed"}, "teardown": {"duration": 0.00031451600000309554, "outcome": "passed"}}, {"nodeid": "tests/test_response_schemas.py::TestPaginatedData::test_create_paginated_data", "lineno": 140, "outcome": "passed", "keywords": ["test_create_paginated_data", "TestPaginatedData", "test_response_schemas.py", "tests", "backend", ""], "setup": {"duration": 0.040616552000017236, "outcome": "passed", "stderr": "2026-01-19 09:34:25,317 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815265.317867, "msecs": 317.0, "relativeCreated": 71195.83511352539, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:25,317"}]}, "call": {"duration": 0.0003243249999798081, "outcome": "passed"}, "teardown": {"duration": 0.0002849910000009004, "outcome": "passed"}}, {"nodeid": "tests/test_response_schemas.py::TestPaginatedData::test_paginated_data_first_page", "lineno": 156, "outcome": "passed", "keywords": ["test_paginated_data_first_page", "TestPaginatedData", "test_response_schemas.py", "tests", "backend", ""], "setup": {"duration": 0.04072483299998453, "outcome": "passed", "stderr": "2026-01-19 09:34:25,360 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815265.3601966, "msecs": 360.0, "relativeCreated": 71238.16466331482, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:25,360"}]}, "call": {"duration": 0.0003327599999920494, "outcome": "passed"}, "teardown": {"duration": 0.0002893900000060512, "outcome": "passed"}}, {"nodeid": "tests/test_response_schemas.py::TestPaginatedData::test_paginated_data_last_page", "lineno": 166, "outcome": "passed", "keywords": ["test_paginated_data_last_page", "TestPaginatedData", "test_response_schemas.py", "tests", "backend", ""], "setup": {"duration": 0.041111553999996886, "outcome": "passed", "stderr": "2026-01-19 09:34:25,402 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815265.4027321, "msecs": 402.0, "relativeCreated": 71280.70020675659, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:25,402"}]}, "call": {"duration": 0.00036825600000156555, "outcome": "passed"}, "teardown": {"duration": 0.00031642000001852466, "outcome": "passed"}}, {"nodeid": "tests/test_response_schemas.py::TestPaginatedData::test_paginated_data_validation", "lineno": 176, "outcome": "passed", "keywords": ["test_paginated_data_validation", "TestPaginatedData", "test_response_schemas.py", "tests", "backend", ""], "setup": {"duration": 0.04234512400000767, "outcome": "passed", "stderr": "2026-01-19 09:34:25,445 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815265.4458299, "msecs": 445.0, "relativeCreated": 71323.79794120789, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:25,445"}]}, "call": {"duration": 0.00040377300001637195, "outcome": "passed"}, "teardown": {"duration": 0.0003190340000003289, "outcome": "passed"}}, {"nodeid": "tests/test_response_schemas.py::TestHelperFunctions::test_success_response_helper", "lineno": 206, "outcome": "passed", "keywords": ["test_success_response_helper", "TestHelperFunctions", "test_response_schemas.py", "tests", "backend", ""], "setup": {"duration": 0.04122338199999831, "outcome": "passed", "stderr": "2026-01-19 09:34:25,490 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815265.4900262, "msecs": 490.0, "relativeCreated": 71367.99430847168, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:25,490"}]}, "call": {"duration": 0.00033438399998431123, "outcome": "passed"}, "teardown": {"duration": 0.0003021939999996448, "outcome": "passed"}}, {"nodeid": "tests/test_response_schemas.py::TestHelperFunctions::test_error_response_helper", "lineno": 216, "outcome": "passed", "keywords": ["test_error_response_helper", "TestHelperFunctions", "test_response_schemas.py", "tests", "backend", ""], "setup": {"duration": 0.04011280100002068, "outcome": "passed", "stderr": "2026-01-19 09:34:25,532 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815265.5329401, "msecs": 532.0, "relativeCreated": 71410.90822219849, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:25,532"}]}, "call": {"duration": 0.000346646999986433, "outcome": "passed"}, "teardown": {"duration": 0.00030593999997563515, "outcome": "passed"}}, {"nodeid": "tests/test_response_schemas.py::TestHelperFunctions::test_paginated_response_helper", "lineno": 235, "outcome": "passed", "keywords": ["test_paginated_response_helper", "TestHelperFunctions", "test_response_schemas.py", "tests", "backend", ""], "setup": {"duration": 0.040521514000005254, "outcome": "passed", "stderr": "2026-01-19 09:34:25,574 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815265.5748339, "msecs": 574.0, "relativeCreated": 71452.80194282532, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:25,574"}]}, "call": {"duration": 0.0003762519999952474, "outcome": "passed"}, "teardown": {"duration": 0.0002923460000090472, "outcome": "passed"}}, {"nodeid": "tests/test_response_schemas.py::TestHelperFunctions::test_paginated_response_first_page", "lineno": 256, "outcome": "passed", "keywords": ["test_paginated_response_first_page", "TestHelperFunctions", "test_response_schemas.py", "tests", "backend", ""], "setup": {"duration": 0.04119400700000142, "outcome": "passed", "stderr": "2026-01-19 09:34:25,617 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815265.6172268, "msecs": 617.0, "relativeCreated": 71495.19491195679, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:25,617"}]}, "call": {"duration": 0.0003590900000176589, "outcome": "passed"}, "teardown": {"duration": 0.0002915739999878042, "outcome": "passed"}}, {"nodeid": "tests/test_response_schemas.py::TestHelperFunctions::test_paginated_response_last_page", "lineno": 265, "outcome": "passed", "keywords": ["test_paginated_response_last_page", "TestHelperFunctions", "test_response_schemas.py", "tests", "backend", ""], "setup": {"duration": 0.040642059000020936, "outcome": "passed", "stderr": "2026-01-19 09:34:25,660 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815265.6602051, "msecs": 660.0, "relativeCreated": 71538.17319869995, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:25,660"}]}, "call": {"duration": 0.000365711999990026, "outcome": "passed"}, "teardown": {"duration": 0.0002831680000099368, "outcome": "passed"}}, {"nodeid": "tests/test_response_schemas.py::TestHelperFunctions::test_paginated_response_empty_results", "lineno": 280, "outcome": "passed", "keywords": ["test_paginated_response_empty_results", "TestHelperFunctions", "test_response_schemas.py", "tests", "backend", ""], "setup": {"duration": 0.04011087800000723, "outcome": "passed", "stderr": "2026-01-19 09:34:25,702 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815265.7025974, "msecs": 702.0, "relativeCreated": 71580.56545257568, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:25,702"}]}, "call": {"duration": 0.00037325599998894177, "outcome": "passed"}, "teardown": {"duration": 0.00028670399998986795, "outcome": "passed"}}, {"nodeid": "tests/test_routers_imports.py::test_validate_uploaded_file_accepts_valid_json", "lineno": 22, "outcome": "passed", "keywords": ["test_validate_uploaded_file_accepts_valid_json", "test_routers_imports.py", "tests", "backend", ""], "setup": {"duration": 0.04076329500000497, "outcome": "passed", "stderr": "2026-01-19 09:34:25,744 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815265.7447984, "msecs": 744.0, "relativeCreated": 71622.76649475098, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:25,744"}]}, "call": {"duration": 0.0029946340000037708, "outcome": "passed", "stderr": "2026-01-19 09:34:25,785 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n2026-01-19 09:34:25,787 - backend.routers.routers_imports - INFO - [-] - File validation passed\n", "log": [{"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815265.7856445, "msecs": 785.0, "relativeCreated": 71663.61260414124, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:25,785"}, {"name": "backend.routers.routers_imports", "msg": "File validation passed", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/routers/routers_imports.py", "filename": "routers_imports.py", "module": "routers_imports", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 142, "funcName": "validate_uploaded_file", "created": 1768815265.7871015, "msecs": 787.0, "relativeCreated": 71665.06958007812, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "file_name": "students.json", "size_bytes": 16, "request_id": "-", "asctime": "2026-01-19 09:34:25,787"}]}, "teardown": {"duration": 0.0003116910000073858, "outcome": "passed"}}, {"nodeid": "tests/test_routers_imports.py::test_validate_uploaded_file_rejects_bad_extension", "lineno": 31, "outcome": "passed", "keywords": ["test_validate_uploaded_file_rejects_bad_extension", "test_routers_imports.py", "tests", "backend", ""], "setup": {"duration": 0.04037557200001629, "outcome": "passed", "stderr": "2026-01-19 09:34:25,789 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815265.7899354, "msecs": 789.0, "relativeCreated": 71667.90342330933, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:25,789"}]}, "call": {"duration": 0.0012782929999843873, "outcome": "passed", "stderr": "2026-01-19 09:34:25,830 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n", "log": [{"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815265.830447, "msecs": 830.0, "relativeCreated": 71708.4150314331, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:25,830"}]}, "teardown": {"duration": 0.00032478600002150415, "outcome": "passed"}}, {"nodeid": "tests/test_routers_imports.py::test_validate_uploaded_file_rejects_bad_content_type", "lineno": 44, "outcome": "passed", "keywords": ["test_validate_uploaded_file_rejects_bad_content_type", "test_routers_imports.py", "tests", "backend", ""], "setup": {"duration": 0.040619136000003664, "outcome": "passed", "stderr": "2026-01-19 09:34:25,833 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815265.8330092, "msecs": 833.0, "relativeCreated": 71710.97731590271, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:25,833"}]}, "call": {"duration": 0.0014294359999951212, "outcome": "passed", "stderr": "2026-01-19 09:34:25,873 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n", "log": [{"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815265.8738208, "msecs": 873.0, "relativeCreated": 71751.788854599, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:25,873"}]}, "teardown": {"duration": 0.00029166400000235626, "outcome": "passed"}}, {"nodeid": "tests/test_routers_imports.py::test_validate_uploaded_file_rejects_empty_payload", "lineno": 57, "outcome": "passed", "keywords": ["test_validate_uploaded_file_rejects_empty_payload", "test_routers_imports.py", "tests", "backend", ""], "setup": {"duration": 0.04174208999998541, "outcome": "passed", "stderr": "2026-01-19 09:34:25,876 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815265.876494, "msecs": 876.0, "relativeCreated": 71754.46200370789, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:25,876"}]}, "call": {"duration": 0.002417888999985962, "outcome": "passed", "stderr": "2026-01-19 09:34:25,918 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n", "log": [{"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815265.9184353, "msecs": 918.0, "relativeCreated": 71796.40340805054, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:25,918"}]}, "teardown": {"duration": 0.00029809600002295156, "outcome": "passed"}}, {"nodeid": "tests/test_routers_imports.py::test_validate_uploaded_file_rejects_oversized_payload", "lineno": 70, "outcome": "passed", "keywords": ["test_validate_uploaded_file_rejects_oversized_payload", "test_routers_imports.py", "tests", "backend", ""], "setup": {"duration": 0.04097039100000188, "outcome": "passed", "stderr": "2026-01-19 09:34:25,922 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815265.9221606, "msecs": 922.0, "relativeCreated": 71800.128698349, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:25,922"}]}, "call": {"duration": 0.002413499999988744, "outcome": "passed", "stderr": "2026-01-19 09:34:25,963 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n", "log": [{"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815265.9633377, "msecs": 963.0, "relativeCreated": 71841.30573272705, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:25,963"}]}, "teardown": {"duration": 0.0003438409999887426, "outcome": "passed"}}, {"nodeid": "tests/test_routers_imports.py::test_validate_uploaded_file_rejects_invalid_json", "lineno": 85, "outcome": "passed", "keywords": ["test_validate_uploaded_file_rejects_invalid_json", "test_routers_imports.py", "tests", "backend", ""], "setup": {"duration": 0.04055906499999651, "outcome": "passed", "stderr": "2026-01-19 09:34:25,967 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815265.9670255, "msecs": 967.0, "relativeCreated": 71844.9935913086, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:25,967"}]}, "call": {"duration": 0.0024069080000117538, "outcome": "passed", "stderr": "2026-01-19 09:34:26,007 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n", "log": [{"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815266.0077481, "msecs": 7.0, "relativeCreated": 71885.71619987488, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:26,007"}]}, "teardown": {"duration": 0.00029208499998389925, "outcome": "passed"}}, {"nodeid": "tests/test_routers_imports.py::test_validate_uploaded_file_rejects_invalid_encoding", "lineno": 98, "outcome": "passed", "keywords": ["test_validate_uploaded_file_rejects_invalid_encoding", "test_routers_imports.py", "tests", "backend", ""], "setup": {"duration": 0.04093311100001529, "outcome": "passed", "stderr": "2026-01-19 09:34:26,011 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815266.0114067, "msecs": 11.0, "relativeCreated": 71889.37473297119, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:26,011"}]}, "call": {"duration": 0.0025143880000086938, "outcome": "passed", "stderr": "2026-01-19 09:34:26,052 - asyncio - DEBUG - [-] - Using selector: EpollSelector\n", "log": [{"name": "asyncio", "msg": "Using selector: EpollSelector", "args": null, "levelname": "DEBUG", "levelno": 10, "pathname": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/asyncio/selector_events.py", "filename": "selector_events.py", "module": "selector_events", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 54, "funcName": "__init__", "created": 1768815266.052553, "msecs": 52.0, "relativeCreated": 71930.52101135254, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:26,052"}]}, "teardown": {"duration": 0.00030686199997376207, "outcome": "passed"}}, {"nodeid": "tests/test_run_migrations.py::test_run_migrations_creates_tables", "lineno": 47, "outcome": "error", "keywords": ["test_run_migrations_creates_tables", "test_run_migrations.py", "tests", "backend", ""], "setup": {"duration": 0.042144239999998945, "outcome": "passed", "stderr": "2026-01-19 09:34:26,056 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815266.056656, "msecs": 56.0, "relativeCreated": 71934.6239566803, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:26,056"}]}, "call": {"duration": 0.042097081999997954, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/pydantic_settings/main.py", "lineno": 193, "message": "pydantic_core._pydantic_core.ValidationError: 1 validation error for Settings\nDATABASE_URL\n  Value error, Invalid database path in DATABASE_URL: Database path must be within an allowed directory.\nDatabase path: /tmp/pytest-of-runner/pytest-0/test_run_migrations_creates_ta0/test_migrations.db\nAllowed roots: /home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS [type=value_error, input_value='sqlite:////tmp/pytest-of..._ta0/test_migrations.db', input_type=str]\n    For further information visit https://errors.pydantic.dev/2.12/v/value_error"}, "traceback": [{"path": "tests/test_run_migrations.py", "lineno": 62, "message": ""}, {"path": "tests/test_run_migrations.py", "lineno": 13, "message": "in _reload_modules"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/importlib/__init__.py", "lineno": 169, "message": "in reload"}, {"path": "<frozen importlib._bootstrap>", "lineno": 621, "message": "in _exec"}, {"path": "<frozen importlib._bootstrap_external>", "lineno": 940, "message": "in exec_module"}, {"path": "<frozen importlib._bootstrap>", "lineno": 241, "message": "in _call_with_frames_removed"}, {"path": "config.py", "lineno": 616, "message": "in <module>"}, {"path": "config.py", "lineno": 613, "message": "in get_settings"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/pydantic_settings/main.py", "lineno": 193, "message": "ValidationError"}], "longrepr": "monkeypatch = <_pytest.monkeypatch.MonkeyPatch object at 0x7fcb890af610>\ntmp_path = PosixPath('/tmp/pytest-of-runner/pytest-0/test_run_migrations_creates_ta0')\n\n    def test_run_migrations_creates_tables(monkeypatch, tmp_path):\n        # Ensure test environment is properly detected before reloading modules\n        monkeypatch.setenv(\"PYTEST_CURRENT_TEST\", \"test_run_migrations.py::test_run_migrations_creates_tables\")\n        monkeypatch.setenv(\"SMS_ENV\", \"test\")\n        monkeypatch.setenv(\"SMS_EXECUTION_MODE\", \"native\")\n        monkeypatch.setenv(\"AUTH_ENABLED\", \"0\")\n        monkeypatch.setenv(\"SECRET_KEY_STRICT_ENFORCEMENT\", \"0\")\n    \n        db_file = tmp_path / \"test_migrations.db\"\n        if db_file.exists():\n            db_file.unlink()\n    \n        monkeypatch.setenv(\"DATABASE_URL\", f\"sqlite:///{db_file}\")\n    \n>       run_migrations = _reload_modules()\n                         ^^^^^^^^^^^^^^^^^\n\ntests/test_run_migrations.py:62: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \ntests/test_run_migrations.py:13: in _reload_modules\n    importlib.reload(config_mod)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/importlib/__init__.py:169: in reload\n    _bootstrap._exec(spec, module)\n<frozen importlib._bootstrap>:621: in _exec\n    ???\n<frozen importlib._bootstrap_external>:940: in exec_module\n    ???\n<frozen importlib._bootstrap>:241: in _call_with_frames_removed\n    ???\nconfig.py:616: in <module>\n    settings = get_settings()\n               ^^^^^^^^^^^^^^\nconfig.py:613: in get_settings\n    return Settings()\n           ^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n__pydantic_self__ = Settings(), _case_sensitive = None\n_nested_model_default_partial_update = None, _env_prefix = None\n_env_file = PosixPath('.'), _env_file_encoding = None, _env_ignore_empty = None\n_env_nested_delimiter = None, _env_nested_max_split = None\n_env_parse_none_str = None, _env_parse_enums = None, _cli_prog_name = None\n_cli_parse_args = None, _cli_settings_source = None, _cli_parse_none_str = None\n_cli_hide_none_type = None, _cli_avoid_json = None, _cli_enforce_required = None\n_cli_use_class_docs_for_groups = None, _cli_exit_on_error = None\n_cli_prefix = None, _cli_flag_prefix_char = None, _cli_implicit_flags = None\n_cli_ignore_unknown_args = None, _cli_kebab_case = None, _cli_shortcuts = None\n_secrets_dir = None, values = {}\n\n    def __init__(\n        __pydantic_self__,\n        _case_sensitive: bool | None = None,\n        _nested_model_default_partial_update: bool | None = None,\n        _env_prefix: str | None = None,\n        _env_file: DotenvType | None = ENV_FILE_SENTINEL,\n        _env_file_encoding: str | None = None,\n        _env_ignore_empty: bool | None = None,\n        _env_nested_delimiter: str | None = None,\n        _env_nested_max_split: int | None = None,\n        _env_parse_none_str: str | None = None,\n        _env_parse_enums: bool | None = None,\n        _cli_prog_name: str | None = None,\n        _cli_parse_args: bool | list[str] | tuple[str, ...] | None = None,\n        _cli_settings_source: CliSettingsSource[Any] | None = None,\n        _cli_parse_none_str: str | None = None,\n        _cli_hide_none_type: bool | None = None,\n        _cli_avoid_json: bool | None = None,\n        _cli_enforce_required: bool | None = None,\n        _cli_use_class_docs_for_groups: bool | None = None,\n        _cli_exit_on_error: bool | None = None,\n        _cli_prefix: str | None = None,\n        _cli_flag_prefix_char: str | None = None,\n        _cli_implicit_flags: bool | None = None,\n        _cli_ignore_unknown_args: bool | None = None,\n        _cli_kebab_case: bool | None = None,\n        _cli_shortcuts: Mapping[str, str | list[str]] | None = None,\n        _secrets_dir: PathType | None = None,\n        **values: Any,\n    ) -> None:\n>       super().__init__(\n            **__pydantic_self__._settings_build_values(\n                values,\n                _case_sensitive=_case_sensitive,\n                _nested_model_default_partial_update=_nested_model_default_partial_update,\n                _env_prefix=_env_prefix,\n                _env_file=_env_file,\n                _env_file_encoding=_env_file_encoding,\n                _env_ignore_empty=_env_ignore_empty,\n                _env_nested_delimiter=_env_nested_delimiter,\n                _env_nested_max_split=_env_nested_max_split,\n                _env_parse_none_str=_env_parse_none_str,\n                _env_parse_enums=_env_parse_enums,\n                _cli_prog_name=_cli_prog_name,\n                _cli_parse_args=_cli_parse_args,\n                _cli_settings_source=_cli_settings_source,\n                _cli_parse_none_str=_cli_parse_none_str,\n                _cli_hide_none_type=_cli_hide_none_type,\n                _cli_avoid_json=_cli_avoid_json,\n                _cli_enforce_required=_cli_enforce_required,\n                _cli_use_class_docs_for_groups=_cli_use_class_docs_for_groups,\n                _cli_exit_on_error=_cli_exit_on_error,\n                _cli_prefix=_cli_prefix,\n                _cli_flag_prefix_char=_cli_flag_prefix_char,\n                _cli_implicit_flags=_cli_implicit_flags,\n                _cli_ignore_unknown_args=_cli_ignore_unknown_args,\n                _cli_kebab_case=_cli_kebab_case,\n                _cli_shortcuts=_cli_shortcuts,\n                _secrets_dir=_secrets_dir,\n            )\n        )\nE       pydantic_core._pydantic_core.ValidationError: 1 validation error for Settings\nE       DATABASE_URL\nE         Value error, Invalid database path in DATABASE_URL: Database path must be within an allowed directory.\nE       Database path: /tmp/pytest-of-runner/pytest-0/test_run_migrations_creates_ta0/test_migrations.db\nE       Allowed roots: /home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS [type=value_error, input_value='sqlite:////tmp/pytest-of..._ta0/test_migrations.db', input_type=str]\nE           For further information visit https://errors.pydantic.dev/2.12/v/value_error\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/pydantic_settings/main.py:193: ValidationError"}, "teardown": {"duration": 0.040713541999991776, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/pydantic_settings/main.py", "lineno": 193, "message": "pydantic_core._pydantic_core.ValidationError: 1 validation error for Settings\nDATABASE_URL\n  Value error, Invalid database path in DATABASE_URL: Database path must be within an allowed directory.\nDatabase path: /tmp/pytest-of-runner/pytest-0/test_run_migrations_creates_ta0/test_migrations.db\nAllowed roots: /home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS [type=value_error, input_value='sqlite:////tmp/pytest-of..._ta0/test_migrations.db', input_type=str]\n    For further information visit https://errors.pydantic.dev/2.12/v/value_error"}, "traceback": [{"path": "tests/test_run_migrations.py", "lineno": 40, "message": ""}, {"path": "tests/test_run_migrations.py", "lineno": 21, "message": "in _ensure_default_modules"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/importlib/__init__.py", "lineno": 169, "message": "in reload"}, {"path": "<frozen importlib._bootstrap>", "lineno": 621, "message": "in _exec"}, {"path": "<frozen importlib._bootstrap_external>", "lineno": 940, "message": "in exec_module"}, {"path": "<frozen importlib._bootstrap>", "lineno": 241, "message": "in _call_with_frames_removed"}, {"path": "config.py", "lineno": 616, "message": "in <module>"}, {"path": "config.py", "lineno": 613, "message": "in get_settings"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/pydantic_settings/main.py", "lineno": 193, "message": "ValidationError"}], "longrepr": "@pytest.fixture(autouse=True)\n    def reset_modules():\n        \"\"\"Reset modules after each test, with proper environment setup to avoid validation errors.\"\"\"\n        yield\n        # Set test environment variables directly in os.environ before reloading modules\n        # This prevents SECRET_KEY validation errors during teardown\n        # We use os.environ directly because monkeypatch context has ended after yield\n        import os\n    \n        os.environ[\"SMS_ENV\"] = \"test\"\n        os.environ[\"SMS_EXECUTION_MODE\"] = \"native\"\n        # Disable auth to prevent special PYTEST_CURRENT_TEST validation (config.py:481-487)\n        os.environ[\"AUTH_ENABLED\"] = \"0\"\n        os.environ[\"SECRET_KEY_STRICT_ENFORCEMENT\"] = \"0\"\n        try:\n>           _ensure_default_modules()\n\ntests/test_run_migrations.py:40: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \ntests/test_run_migrations.py:21: in _ensure_default_modules\n    importlib.reload(config_mod)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/importlib/__init__.py:169: in reload\n    _bootstrap._exec(spec, module)\n<frozen importlib._bootstrap>:621: in _exec\n    ???\n<frozen importlib._bootstrap_external>:940: in exec_module\n    ???\n<frozen importlib._bootstrap>:241: in _call_with_frames_removed\n    ???\nconfig.py:616: in <module>\n    settings = get_settings()\n               ^^^^^^^^^^^^^^\nconfig.py:613: in get_settings\n    return Settings()\n           ^^^^^^^^^^\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\n__pydantic_self__ = Settings(), _case_sensitive = None\n_nested_model_default_partial_update = None, _env_prefix = None\n_env_file = PosixPath('.'), _env_file_encoding = None, _env_ignore_empty = None\n_env_nested_delimiter = None, _env_nested_max_split = None\n_env_parse_none_str = None, _env_parse_enums = None, _cli_prog_name = None\n_cli_parse_args = None, _cli_settings_source = None, _cli_parse_none_str = None\n_cli_hide_none_type = None, _cli_avoid_json = None, _cli_enforce_required = None\n_cli_use_class_docs_for_groups = None, _cli_exit_on_error = None\n_cli_prefix = None, _cli_flag_prefix_char = None, _cli_implicit_flags = None\n_cli_ignore_unknown_args = None, _cli_kebab_case = None, _cli_shortcuts = None\n_secrets_dir = None, values = {}\n\n    def __init__(\n        __pydantic_self__,\n        _case_sensitive: bool | None = None,\n        _nested_model_default_partial_update: bool | None = None,\n        _env_prefix: str | None = None,\n        _env_file: DotenvType | None = ENV_FILE_SENTINEL,\n        _env_file_encoding: str | None = None,\n        _env_ignore_empty: bool | None = None,\n        _env_nested_delimiter: str | None = None,\n        _env_nested_max_split: int | None = None,\n        _env_parse_none_str: str | None = None,\n        _env_parse_enums: bool | None = None,\n        _cli_prog_name: str | None = None,\n        _cli_parse_args: bool | list[str] | tuple[str, ...] | None = None,\n        _cli_settings_source: CliSettingsSource[Any] | None = None,\n        _cli_parse_none_str: str | None = None,\n        _cli_hide_none_type: bool | None = None,\n        _cli_avoid_json: bool | None = None,\n        _cli_enforce_required: bool | None = None,\n        _cli_use_class_docs_for_groups: bool | None = None,\n        _cli_exit_on_error: bool | None = None,\n        _cli_prefix: str | None = None,\n        _cli_flag_prefix_char: str | None = None,\n        _cli_implicit_flags: bool | None = None,\n        _cli_ignore_unknown_args: bool | None = None,\n        _cli_kebab_case: bool | None = None,\n        _cli_shortcuts: Mapping[str, str | list[str]] | None = None,\n        _secrets_dir: PathType | None = None,\n        **values: Any,\n    ) -> None:\n>       super().__init__(\n            **__pydantic_self__._settings_build_values(\n                values,\n                _case_sensitive=_case_sensitive,\n                _nested_model_default_partial_update=_nested_model_default_partial_update,\n                _env_prefix=_env_prefix,\n                _env_file=_env_file,\n                _env_file_encoding=_env_file_encoding,\n                _env_ignore_empty=_env_ignore_empty,\n                _env_nested_delimiter=_env_nested_delimiter,\n                _env_nested_max_split=_env_nested_max_split,\n                _env_parse_none_str=_env_parse_none_str,\n                _env_parse_enums=_env_parse_enums,\n                _cli_prog_name=_cli_prog_name,\n                _cli_parse_args=_cli_parse_args,\n                _cli_settings_source=_cli_settings_source,\n                _cli_parse_none_str=_cli_parse_none_str,\n                _cli_hide_none_type=_cli_hide_none_type,\n                _cli_avoid_json=_cli_avoid_json,\n                _cli_enforce_required=_cli_enforce_required,\n                _cli_use_class_docs_for_groups=_cli_use_class_docs_for_groups,\n                _cli_exit_on_error=_cli_exit_on_error,\n                _cli_prefix=_cli_prefix,\n                _cli_flag_prefix_char=_cli_flag_prefix_char,\n                _cli_implicit_flags=_cli_implicit_flags,\n                _cli_ignore_unknown_args=_cli_ignore_unknown_args,\n                _cli_kebab_case=_cli_kebab_case,\n                _cli_shortcuts=_cli_shortcuts,\n                _secrets_dir=_secrets_dir,\n            )\n        )\nE       pydantic_core._pydantic_core.ValidationError: 1 validation error for Settings\nE       DATABASE_URL\nE         Value error, Invalid database path in DATABASE_URL: Database path must be within an allowed directory.\nE       Database path: /tmp/pytest-of-runner/pytest-0/test_run_migrations_creates_ta0/test_migrations.db\nE       Allowed roots: /home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS [type=value_error, input_value='sqlite:////tmp/pytest-of..._ta0/test_migrations.db', input_type=str]\nE           For further information visit https://errors.pydantic.dev/2.12/v/value_error\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/pydantic_settings/main.py:193: ValidationError"}}, {"nodeid": "tests/test_run_migrations.py::test_alembic_config_uses_application_settings", "lineno": 75, "outcome": "passed", "keywords": ["test_alembic_config_uses_application_settings", "test_run_migrations.py", "tests", "backend", ""], "setup": {"duration": 0.04185968899997761, "outcome": "passed", "stderr": "2026-01-19 09:34:26,452 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815266.4526584, "msecs": 452.0, "relativeCreated": 72330.62648773193, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:26,452"}]}, "call": {"duration": 0.09328479300000936, "outcome": "passed", "stderr": "2026-01-19 09:34:26,535 - backend.config - WARNING - [-] - \ud83d\udd10 SECRET_KEY SECURITY ISSUE: placeholder/default value detected\n   Environment: test (native mode)\n   Generate strong key: python -c \"import secrets; print(secrets.token_urlsafe(48))\"\n   Set in backend/.env: SECRET_KEY=<generated_key>\n2026-01-19 09:34:26,560 - backend.config - WARNING - [-] - \ud83d\udd10 SECRET_KEY SECURITY ISSUE: placeholder/default value detected\n   Environment: test (native mode)\n   Generate strong key: python -c \"import secrets; print(secrets.token_urlsafe(48))\"\n   Set in backend/.env: SECRET_KEY=<generated_key>\n2026-01-19 09:34:26,585 - backend.config - WARNING - [-] - \ud83d\udd10 SECRET_KEY SECURITY ISSUE: placeholder/default value detected\n   Environment: test (native mode)\n   Generate strong key: python -c \"import secrets; print(secrets.token_urlsafe(48))\"\n   Set in backend/.env: SECRET_KEY=<generated_key>\n", "log": [{"name": "backend.config", "msg": "\ud83d\udd10 SECRET_KEY SECURITY ISSUE: placeholder/default value detected\n   Environment: test (native mode)\n   Generate strong key: python -c \"import secrets; print(secrets.token_urlsafe(48))\"\n   Set in backend/.env: SECRET_KEY=<generated_key>", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/config.py", "filename": "config.py", "module": "config", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 502, "funcName": "handle_insecure", "created": 1768815266.5352743, "msecs": 535.0, "relativeCreated": 72413.24234008789, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:26,535"}, {"name": "backend.config", "msg": "\ud83d\udd10 SECRET_KEY SECURITY ISSUE: placeholder/default value detected\n   Environment: test (native mode)\n   Generate strong key: python -c \"import secrets; print(secrets.token_urlsafe(48))\"\n   Set in backend/.env: SECRET_KEY=<generated_key>", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/config.py", "filename": "config.py", "module": "config", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 502, "funcName": "handle_insecure", "created": 1768815266.5607295, "msecs": 560.0, "relativeCreated": 72438.69757652283, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:26,560"}, {"name": "backend.config", "msg": "\ud83d\udd10 SECRET_KEY SECURITY ISSUE: placeholder/default value detected\n   Environment: test (native mode)\n   Generate strong key: python -c \"import secrets; print(secrets.token_urlsafe(48))\"\n   Set in backend/.env: SECRET_KEY=<generated_key>", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/config.py", "filename": "config.py", "module": "config", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 502, "funcName": "handle_insecure", "created": 1768815266.5858123, "msecs": 585.0, "relativeCreated": 72463.7804031372, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:26,585"}]}, "teardown": {"duration": 0.06774436300000275, "outcome": "passed", "stderr": "2026-01-19 09:34:26,629 - backend.config - WARNING - [-] - \ud83d\udd10 SECRET_KEY SECURITY ISSUE: placeholder/default value detected\n   Environment: test (native mode)\n   Generate strong key: python -c \"import secrets; print(secrets.token_urlsafe(48))\"\n   Set in backend/.env: SECRET_KEY=<generated_key>\n2026-01-19 09:34:26,654 - backend.config - WARNING - [-] - \ud83d\udd10 SECRET_KEY SECURITY ISSUE: placeholder/default value detected\n   Environment: test (native mode)\n   Generate strong key: python -c \"import secrets; print(secrets.token_urlsafe(48))\"\n   Set in backend/.env: SECRET_KEY=<generated_key>\n", "log": [{"name": "backend.config", "msg": "\ud83d\udd10 SECRET_KEY SECURITY ISSUE: placeholder/default value detected\n   Environment: test (native mode)\n   Generate strong key: python -c \"import secrets; print(secrets.token_urlsafe(48))\"\n   Set in backend/.env: SECRET_KEY=<generated_key>", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/config.py", "filename": "config.py", "module": "config", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 502, "funcName": "handle_insecure", "created": 1768815266.6290872, "msecs": 629.0, "relativeCreated": 72507.05528259277, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:26,629"}, {"name": "backend.config", "msg": "\ud83d\udd10 SECRET_KEY SECURITY ISSUE: placeholder/default value detected\n   Environment: test (native mode)\n   Generate strong key: python -c \"import secrets; print(secrets.token_urlsafe(48))\"\n   Set in backend/.env: SECRET_KEY=<generated_key>", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/config.py", "filename": "config.py", "module": "config", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 502, "funcName": "handle_insecure", "created": 1768815266.654638, "msecs": 654.0, "relativeCreated": 72532.60612487793, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:26,654"}]}}, {"nodeid": "tests/test_run_migrations.py::test_run_migrations_invokes_upgrade", "lineno": 90, "outcome": "passed", "keywords": ["test_run_migrations_invokes_upgrade", "test_run_migrations.py", "tests", "backend", ""], "setup": {"duration": 0.04316067400000634, "outcome": "passed", "stderr": "2026-01-19 09:34:26,656 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815266.6569908, "msecs": 656.0, "relativeCreated": 72534.9588394165, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:26,656"}]}, "call": {"duration": 0.09535533400000418, "outcome": "passed", "stdout": "[run_migrations] ENTER\n============================================================\nDATABASE MIGRATION CHECK\n============================================================\nBackend directory: /home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend\nUsing DATABASE_URL: sqlite:///:memory:\n\nOK: Database migrations applied successfully\n============================================================\n[run_migrations] DEBUG: About to log Alembic migrations applied successfully\n[run_migrations] DEBUG: Logged Alembic migrations applied successfully\n[run_migrations] EXIT OK\n", "stderr": "2026-01-19 09:34:26,741 - backend.config - WARNING - [-] - \ud83d\udd10 SECRET_KEY SECURITY ISSUE: placeholder/default value detected\n   Environment: test (native mode)\n   Generate strong key: python -c \"import secrets; print(secrets.token_urlsafe(48))\"\n   Set in backend/.env: SECRET_KEY=<generated_key>\n2026-01-19 09:34:26,767 - backend.config - WARNING - [-] - \ud83d\udd10 SECRET_KEY SECURITY ISSUE: placeholder/default value detected\n   Environment: test (native mode)\n   Generate strong key: python -c \"import secrets; print(secrets.token_urlsafe(48))\"\n   Set in backend/.env: SECRET_KEY=<generated_key>\n2026-01-19 09:34:26,767 - backend.run_migrations - INFO - [-] - [run_migrations] ENTER\n2026-01-19 09:34:26,792 - backend.config - WARNING - [-] - \ud83d\udd10 SECRET_KEY SECURITY ISSUE: placeholder/default value detected\n   Environment: test (native mode)\n   Generate strong key: python -c \"import secrets; print(secrets.token_urlsafe(48))\"\n   Set in backend/.env: SECRET_KEY=<generated_key>\n2026-01-19 09:34:26,794 - backend.run_migrations - INFO - [-] - Alembic migrations applied successfully\n", "log": [{"name": "backend.config", "msg": "\ud83d\udd10 SECRET_KEY SECURITY ISSUE: placeholder/default value detected\n   Environment: test (native mode)\n   Generate strong key: python -c \"import secrets; print(secrets.token_urlsafe(48))\"\n   Set in backend/.env: SECRET_KEY=<generated_key>", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/config.py", "filename": "config.py", "module": "config", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 502, "funcName": "handle_insecure", "created": 1768815266.7412386, "msecs": 741.0, "relativeCreated": 72619.20666694641, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:26,741"}, {"name": "backend.config", "msg": "\ud83d\udd10 SECRET_KEY SECURITY ISSUE: placeholder/default value detected\n   Environment: test (native mode)\n   Generate strong key: python -c \"import secrets; print(secrets.token_urlsafe(48))\"\n   Set in backend/.env: SECRET_KEY=<generated_key>", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/config.py", "filename": "config.py", "module": "config", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 502, "funcName": "handle_insecure", "created": 1768815266.7670293, "msecs": 767.0, "relativeCreated": 72644.99735832214, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:26,767"}, {"name": "backend.run_migrations", "msg": "[run_migrations] ENTER", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/run_migrations.py", "filename": "run_migrations.py", "module": "run_migrations", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 79, "funcName": "run_migrations", "created": 1768815266.767784, "msecs": 767.0, "relativeCreated": 72645.75219154358, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:26,767"}, {"name": "backend.config", "msg": "\ud83d\udd10 SECRET_KEY SECURITY ISSUE: placeholder/default value detected\n   Environment: test (native mode)\n   Generate strong key: python -c \"import secrets; print(secrets.token_urlsafe(48))\"\n   Set in backend/.env: SECRET_KEY=<generated_key>", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/config.py", "filename": "config.py", "module": "config", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 502, "funcName": "handle_insecure", "created": 1768815266.7924914, "msecs": 792.0, "relativeCreated": 72670.45950889587, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:26,792"}, {"name": "backend.run_migrations", "msg": "Alembic migrations applied successfully", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/run_migrations.py", "filename": "run_migrations.py", "module": "run_migrations", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 204, "funcName": "run_migrations", "created": 1768815266.7944446, "msecs": 794.0, "relativeCreated": 72672.41263389587, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:26,794"}]}, "teardown": {"duration": 0.06827637399999276, "outcome": "passed", "stderr": "2026-01-19 09:34:26,837 - backend.config - WARNING - [-] - \ud83d\udd10 SECRET_KEY SECURITY ISSUE: placeholder/default value detected\n   Environment: test (native mode)\n   Generate strong key: python -c \"import secrets; print(secrets.token_urlsafe(48))\"\n   Set in backend/.env: SECRET_KEY=<generated_key>\n2026-01-19 09:34:26,862 - backend.config - WARNING - [-] - \ud83d\udd10 SECRET_KEY SECURITY ISSUE: placeholder/default value detected\n   Environment: test (native mode)\n   Generate strong key: python -c \"import secrets; print(secrets.token_urlsafe(48))\"\n   Set in backend/.env: SECRET_KEY=<generated_key>\n", "log": [{"name": "backend.config", "msg": "\ud83d\udd10 SECRET_KEY SECURITY ISSUE: placeholder/default value detected\n   Environment: test (native mode)\n   Generate strong key: python -c \"import secrets; print(secrets.token_urlsafe(48))\"\n   Set in backend/.env: SECRET_KEY=<generated_key>", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/config.py", "filename": "config.py", "module": "config", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 502, "funcName": "handle_insecure", "created": 1768815266.8372521, "msecs": 837.0, "relativeCreated": 72715.2202129364, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:26,837"}, {"name": "backend.config", "msg": "\ud83d\udd10 SECRET_KEY SECURITY ISSUE: placeholder/default value detected\n   Environment: test (native mode)\n   Generate strong key: python -c \"import secrets; print(secrets.token_urlsafe(48))\"\n   Set in backend/.env: SECRET_KEY=<generated_key>", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/config.py", "filename": "config.py", "module": "config", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 502, "funcName": "handle_insecure", "created": 1768815266.862756, "msecs": 862.0, "relativeCreated": 72740.72408676147, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:26,862"}]}}, {"nodeid": "tests/test_run_migrations.py::test_run_migrations_handles_failure", "lineno": 111, "outcome": "passed", "keywords": ["test_run_migrations_handles_failure", "test_run_migrations.py", "tests", "backend", ""], "setup": {"duration": 0.04324389999999312, "outcome": "passed", "stderr": "2026-01-19 09:34:26,865 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815266.865263, "msecs": 865.0, "relativeCreated": 72743.23105812073, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:26,865"}]}, "call": {"duration": 0.09874868100001777, "outcome": "passed", "stdout": "[run_migrations] ENTER\n[run_migrations] upgrade(head) failed: upgrade failed\n[run_migrations] Attempting upgrade to 'heads'\n[run_migrations] Fallback upgrade to 'heads' failed: upgrade failed\n[run_migrations] EXCEPTION: upgrade failed\n", "stderr": "2026-01-19 09:34:26,949 - backend.config - WARNING - [-] - \ud83d\udd10 SECRET_KEY SECURITY ISSUE: placeholder/default value detected\n   Environment: test (native mode)\n   Generate strong key: python -c \"import secrets; print(secrets.token_urlsafe(48))\"\n   Set in backend/.env: SECRET_KEY=<generated_key>\n2026-01-19 09:34:26,975 - backend.config - WARNING - [-] - \ud83d\udd10 SECRET_KEY SECURITY ISSUE: placeholder/default value detected\n   Environment: test (native mode)\n   Generate strong key: python -c \"import secrets; print(secrets.token_urlsafe(48))\"\n   Set in backend/.env: SECRET_KEY=<generated_key>\n2026-01-19 09:34:26,976 - backend.run_migrations - INFO - [-] - [run_migrations] ENTER\n2026-01-19 09:34:27,000 - backend.config - WARNING - [-] - \ud83d\udd10 SECRET_KEY SECURITY ISSUE: placeholder/default value detected\n   Environment: test (native mode)\n   Generate strong key: python -c \"import secrets; print(secrets.token_urlsafe(48))\"\n   Set in backend/.env: SECRET_KEY=<generated_key>\n2026-01-19 09:34:27,002 - backend.run_migrations - WARNING - [-] - Initial Alembic upgrade(head) failed: upgrade failed\n2026-01-19 09:34:27,003 - backend.run_migrations - INFO - [-] - Attempting Alembic upgrade to 'heads' as a fallback\n2026-01-19 09:34:27,004 - backend.run_migrations - ERROR - [-] - Fallback upgrade to 'heads' also failed: upgrade failed\nTraceback (most recent call last):\n  File \"/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/run_migrations.py\", line 133, in run_migrations\n    command.upgrade(cfg, \"head\")\n  File \"/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_run_migrations.py\", line 123, in boom\n    raise RuntimeError(\"upgrade failed\")\nRuntimeError: upgrade failed\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/run_migrations.py\", line 165, in run_migrations\n    command.upgrade(cfg, \"heads\")\n  File \"/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_run_migrations.py\", line 123, in boom\n    raise RuntimeError(\"upgrade failed\")\nRuntimeError: upgrade failed\n2026-01-19 09:34:27,005 - backend.run_migrations - ERROR - [-] - Failed to apply Alembic migrations: upgrade failed\nTraceback (most recent call last):\n  File \"/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/run_migrations.py\", line 133, in run_migrations\n    command.upgrade(cfg, \"head\")\n  File \"/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_run_migrations.py\", line 123, in boom\n    raise RuntimeError(\"upgrade failed\")\nRuntimeError: upgrade failed\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/run_migrations.py\", line 165, in run_migrations\n    command.upgrade(cfg, \"heads\")\n  File \"/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_run_migrations.py\", line 123, in boom\n    raise RuntimeError(\"upgrade failed\")\nRuntimeError: upgrade failed\nTraceback (most recent call last):\n  File \"/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/run_migrations.py\", line 133, in run_migrations\n    command.upgrade(cfg, \"head\")\n  File \"/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_run_migrations.py\", line 123, in boom\n    raise RuntimeError(\"upgrade failed\")\nRuntimeError: upgrade failed\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/run_migrations.py\", line 165, in run_migrations\n    command.upgrade(cfg, \"heads\")\n  File \"/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_run_migrations.py\", line 123, in boom\n    raise RuntimeError(\"upgrade failed\")\nRuntimeError: upgrade failed\n", "log": [{"name": "backend.config", "msg": "\ud83d\udd10 SECRET_KEY SECURITY ISSUE: placeholder/default value detected\n   Environment: test (native mode)\n   Generate strong key: python -c \"import secrets; print(secrets.token_urlsafe(48))\"\n   Set in backend/.env: SECRET_KEY=<generated_key>", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/config.py", "filename": "config.py", "module": "config", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 502, "funcName": "handle_insecure", "created": 1768815266.9493227, "msecs": 949.0, "relativeCreated": 72827.29077339172, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:26,949"}, {"name": "backend.config", "msg": "\ud83d\udd10 SECRET_KEY SECURITY ISSUE: placeholder/default value detected\n   Environment: test (native mode)\n   Generate strong key: python -c \"import secrets; print(secrets.token_urlsafe(48))\"\n   Set in backend/.env: SECRET_KEY=<generated_key>", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/config.py", "filename": "config.py", "module": "config", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 502, "funcName": "handle_insecure", "created": 1768815266.9752502, "msecs": 975.0, "relativeCreated": 72853.21831703186, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:26,975"}, {"name": "backend.run_migrations", "msg": "[run_migrations] ENTER", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/run_migrations.py", "filename": "run_migrations.py", "module": "run_migrations", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 79, "funcName": "run_migrations", "created": 1768815266.9760556, "msecs": 976.0, "relativeCreated": 72854.02369499207, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:26,976"}, {"name": "backend.config", "msg": "\ud83d\udd10 SECRET_KEY SECURITY ISSUE: placeholder/default value detected\n   Environment: test (native mode)\n   Generate strong key: python -c \"import secrets; print(secrets.token_urlsafe(48))\"\n   Set in backend/.env: SECRET_KEY=<generated_key>", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/config.py", "filename": "config.py", "module": "config", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 502, "funcName": "handle_insecure", "created": 1768815267.0008872, "msecs": 0.0, "relativeCreated": 72878.85522842407, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:27,000"}, {"name": "backend.run_migrations", "msg": "Initial Alembic upgrade(head) failed: upgrade failed", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/run_migrations.py", "filename": "run_migrations.py", "module": "run_migrations", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 160, "funcName": "run_migrations", "created": 1768815267.0027397, "msecs": 2.0, "relativeCreated": 72880.70774078369, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:27,002"}, {"name": "backend.run_migrations", "msg": "Attempting Alembic upgrade to 'heads' as a fallback", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/run_migrations.py", "filename": "run_migrations.py", "module": "run_migrations", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 163, "funcName": "run_migrations", "created": 1768815267.003585, "msecs": 3.0, "relativeCreated": 72881.55317306519, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:27,003"}, {"name": "backend.run_migrations", "msg": "Fallback upgrade to 'heads' also failed: upgrade failed", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/run_migrations.py", "filename": "run_migrations.py", "module": "run_migrations", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/run_migrations.py\", line 133, in run_migrations\n    command.upgrade(cfg, \"head\")\n  File \"/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_run_migrations.py\", line 123, in boom\n    raise RuntimeError(\"upgrade failed\")\nRuntimeError: upgrade failed\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/run_migrations.py\", line 165, in run_migrations\n    command.upgrade(cfg, \"heads\")\n  File \"/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_run_migrations.py\", line 123, in boom\n    raise RuntimeError(\"upgrade failed\")\nRuntimeError: upgrade failed", "stack_info": null, "lineno": 190, "funcName": "run_migrations", "created": 1768815267.004106, "msecs": 4.0, "relativeCreated": 72882.07411766052, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:27,004"}, {"name": "backend.run_migrations", "msg": "Failed to apply Alembic migrations: upgrade failed", "args": null, "levelname": "ERROR", "levelno": 40, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/run_migrations.py", "filename": "run_migrations.py", "module": "run_migrations", "exc_info": null, "exc_text": "Traceback (most recent call last):\n  File \"/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/run_migrations.py\", line 133, in run_migrations\n    command.upgrade(cfg, \"head\")\n  File \"/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_run_migrations.py\", line 123, in boom\n    raise RuntimeError(\"upgrade failed\")\nRuntimeError: upgrade failed\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/run_migrations.py\", line 165, in run_migrations\n    command.upgrade(cfg, \"heads\")\n  File \"/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_run_migrations.py\", line 123, in boom\n    raise RuntimeError(\"upgrade failed\")\nRuntimeError: upgrade failed", "stack_info": null, "lineno": 212, "funcName": "run_migrations", "created": 1768815267.0053048, "msecs": 5.0, "relativeCreated": 72883.27288627625, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:27,005"}]}, "teardown": {"duration": 0.06692562599999974, "outcome": "passed", "stderr": "2026-01-19 09:34:27,047 - backend.config - WARNING - [-] - \ud83d\udd10 SECRET_KEY SECURITY ISSUE: placeholder/default value detected\n   Environment: test (native mode)\n   Generate strong key: python -c \"import secrets; print(secrets.token_urlsafe(48))\"\n   Set in backend/.env: SECRET_KEY=<generated_key>\n2026-01-19 09:34:27,073 - backend.config - WARNING - [-] - \ud83d\udd10 SECRET_KEY SECURITY ISSUE: placeholder/default value detected\n   Environment: test (native mode)\n   Generate strong key: python -c \"import secrets; print(secrets.token_urlsafe(48))\"\n   Set in backend/.env: SECRET_KEY=<generated_key>\n", "log": [{"name": "backend.config", "msg": "\ud83d\udd10 SECRET_KEY SECURITY ISSUE: placeholder/default value detected\n   Environment: test (native mode)\n   Generate strong key: python -c \"import secrets; print(secrets.token_urlsafe(48))\"\n   Set in backend/.env: SECRET_KEY=<generated_key>", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/config.py", "filename": "config.py", "module": "config", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 502, "funcName": "handle_insecure", "created": 1768815267.0479689, "msecs": 47.0, "relativeCreated": 72925.93693733215, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:27,047"}, {"name": "backend.config", "msg": "\ud83d\udd10 SECRET_KEY SECURITY ISSUE: placeholder/default value detected\n   Environment: test (native mode)\n   Generate strong key: python -c \"import secrets; print(secrets.token_urlsafe(48))\"\n   Set in backend/.env: SECRET_KEY=<generated_key>", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/config.py", "filename": "config.py", "module": "config", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 502, "funcName": "handle_insecure", "created": 1768815267.0732224, "msecs": 73.0, "relativeCreated": 72951.19047164917, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:27,073"}]}}, {"nodeid": "tests/test_run_migrations.py::test_check_migration_status_returns_string", "lineno": 130, "outcome": "passed", "keywords": ["test_check_migration_status_returns_string", "test_run_migrations.py", "tests", "backend", ""], "setup": {"duration": 0.04236717599999906, "outcome": "passed", "stderr": "2026-01-19 09:34:27,075 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815267.075671, "msecs": 75.0, "relativeCreated": 72953.63903045654, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:27,075"}]}, "call": {"duration": 0.09443161199999395, "outcome": "passed", "stderr": "2026-01-19 09:34:27,159 - backend.config - WARNING - [-] - \ud83d\udd10 SECRET_KEY SECURITY ISSUE: placeholder/default value detected\n   Environment: test (native mode)\n   Generate strong key: python -c \"import secrets; print(secrets.token_urlsafe(48))\"\n   Set in backend/.env: SECRET_KEY=<generated_key>\n2026-01-19 09:34:27,185 - backend.config - WARNING - [-] - \ud83d\udd10 SECRET_KEY SECURITY ISSUE: placeholder/default value detected\n   Environment: test (native mode)\n   Generate strong key: python -c \"import secrets; print(secrets.token_urlsafe(48))\"\n   Set in backend/.env: SECRET_KEY=<generated_key>\n2026-01-19 09:34:27,210 - backend.config - WARNING - [-] - \ud83d\udd10 SECRET_KEY SECURITY ISSUE: placeholder/default value detected\n   Environment: test (native mode)\n   Generate strong key: python -c \"import secrets; print(secrets.token_urlsafe(48))\"\n   Set in backend/.env: SECRET_KEY=<generated_key>\n", "log": [{"name": "backend.config", "msg": "\ud83d\udd10 SECRET_KEY SECURITY ISSUE: placeholder/default value detected\n   Environment: test (native mode)\n   Generate strong key: python -c \"import secrets; print(secrets.token_urlsafe(48))\"\n   Set in backend/.env: SECRET_KEY=<generated_key>", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/config.py", "filename": "config.py", "module": "config", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 502, "funcName": "handle_insecure", "created": 1768815267.1592376, "msecs": 159.0, "relativeCreated": 73037.20569610596, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:27,159"}, {"name": "backend.config", "msg": "\ud83d\udd10 SECRET_KEY SECURITY ISSUE: placeholder/default value detected\n   Environment: test (native mode)\n   Generate strong key: python -c \"import secrets; print(secrets.token_urlsafe(48))\"\n   Set in backend/.env: SECRET_KEY=<generated_key>", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/config.py", "filename": "config.py", "module": "config", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 502, "funcName": "handle_insecure", "created": 1768815267.1850557, "msecs": 185.0, "relativeCreated": 73063.02380561829, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:27,185"}, {"name": "backend.config", "msg": "\ud83d\udd10 SECRET_KEY SECURITY ISSUE: placeholder/default value detected\n   Environment: test (native mode)\n   Generate strong key: python -c \"import secrets; print(secrets.token_urlsafe(48))\"\n   Set in backend/.env: SECRET_KEY=<generated_key>", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/config.py", "filename": "config.py", "module": "config", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 502, "funcName": "handle_insecure", "created": 1768815267.2104251, "msecs": 210.0, "relativeCreated": 73088.39321136475, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:27,210"}]}, "teardown": {"duration": 0.06839139800001703, "outcome": "passed", "stderr": "2026-01-19 09:34:27,253 - backend.config - WARNING - [-] - \ud83d\udd10 SECRET_KEY SECURITY ISSUE: placeholder/default value detected\n   Environment: test (native mode)\n   Generate strong key: python -c \"import secrets; print(secrets.token_urlsafe(48))\"\n   Set in backend/.env: SECRET_KEY=<generated_key>\n2026-01-19 09:34:27,279 - backend.config - WARNING - [-] - \ud83d\udd10 SECRET_KEY SECURITY ISSUE: placeholder/default value detected\n   Environment: test (native mode)\n   Generate strong key: python -c \"import secrets; print(secrets.token_urlsafe(48))\"\n   Set in backend/.env: SECRET_KEY=<generated_key>\n", "log": [{"name": "backend.config", "msg": "\ud83d\udd10 SECRET_KEY SECURITY ISSUE: placeholder/default value detected\n   Environment: test (native mode)\n   Generate strong key: python -c \"import secrets; print(secrets.token_urlsafe(48))\"\n   Set in backend/.env: SECRET_KEY=<generated_key>", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/config.py", "filename": "config.py", "module": "config", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 502, "funcName": "handle_insecure", "created": 1768815267.2539244, "msecs": 253.0, "relativeCreated": 73131.89244270325, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:27,253"}, {"name": "backend.config", "msg": "\ud83d\udd10 SECRET_KEY SECURITY ISSUE: placeholder/default value detected\n   Environment: test (native mode)\n   Generate strong key: python -c \"import secrets; print(secrets.token_urlsafe(48))\"\n   Set in backend/.env: SECRET_KEY=<generated_key>", "args": null, "levelname": "WARNING", "levelno": 30, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/config.py", "filename": "config.py", "module": "config", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 502, "funcName": "handle_insecure", "created": 1768815267.2798402, "msecs": 279.0, "relativeCreated": 73157.80830383301, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:27,279"}]}}, {"nodeid": "tests/test_run_migrations_repo_root.py::test_run_migrations_writes_log", "lineno": 4, "outcome": "passed", "keywords": ["test_run_migrations_writes_log", "test_run_migrations_repo_root.py", "tests", "backend", ""], "setup": {"duration": 0.04419544399999609, "outcome": "passed", "stderr": "2026-01-19 09:34:27,282 - root - INFO - [-] - Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815267.2827015, "msecs": 282.0, "relativeCreated": 73160.6695652008, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:27,282"}]}, "call": {"duration": 0.20056746699998484, "outcome": "passed", "stdout": "[run_migrations] ENTER\n============================================================\nDATABASE MIGRATION CHECK\n============================================================\nBackend directory: /home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend\nUsing DATABASE_URL: sqlite:////tmp/pytest-of-runner/pytest-0/test_run_migrations_writes_log0/test_migrations.db\n[run_migrations] upgrade(head) failed: Multiple head revisions are present for given argument 'head'; please specify a specific target revision, '<branchname>@head' to narrow to a specific head, or 'heads' for all heads\n[run_migrations] Attempting upgrade to 'heads'\n\nOK: Database migrations applied successfully\n============================================================\n[run_migrations] DEBUG: About to log Alembic migrations applied successfully\n[run_migrations] DEBUG: Logged Alembic migrations applied successfully\n[run_migrations] EXIT OK\n", "stderr": "2026-01-19 09:34:27,327 - backend.run_migrations - INFO - [-] - [run_migrations] ENTER\nINFO  [alembic.runtime.migration] Context impl SQLiteImpl.\nINFO  [alembic.runtime.migration] Will assume non-transactional DDL.\nINFO  [alembic.runtime.migration] Context impl SQLiteImpl.\nINFO  [alembic.runtime.migration] Will assume non-transactional DDL.\nINFO  [alembic.runtime.migration] Running upgrade  -> 0b65fa8f5f95, baseline\nINFO  [alembic.runtime.migration] Running upgrade 0b65fa8f5f95 -> 3f2b1a9c0d7e, add absence_penalty to courses\nINFO  [alembic.runtime.migration] Running upgrade 3f2b1a9c0d7e -> 9a1d2b3c4d56, add users table\nINFO  [alembic.runtime.migration] Running upgrade 9a1d2b3c4d56 -> 7b2d3c4e5f67, add attendance composite index for performance\nINFO  [alembic.runtime.migration] Running upgrade 9a1d2b3c4d56 -> 039d0af51aab, Use timezone-aware datetime for User timestamps\nINFO  [alembic.runtime.migration] Running upgrade 039d0af51aab -> 6d2e9d1b4f77, add deleted_at columns for soft delete support\nINFO  [alembic.runtime.migration] Running upgrade 6d2e9d1b4f77, 7b2d3c4e5f67 -> merge_20251110_01, Merge multiple Alembic heads into a single head\nINFO  [alembic.runtime.migration] Running upgrade 039d0af51aab -> ab12cd34ef56, add refresh tokens table\nINFO  [alembic.runtime.migration] Running upgrade ab12cd34ef56, merge_20251110_01 -> 18865e982265, merge ab12 and merge_20251110_01 heads\nINFO  [alembic.runtime.migration] Running upgrade 18865e982265 -> ffedcba12345, add refresh_tokens table (canonical autogen)\nINFO  [alembic.runtime.migration] Running upgrade 18865e982265 -> 5b71c5a90e3d, add login lockout fields\nINFO  [alembic.runtime.migration] Running upgrade 18865e982265 -> 2b4c64f9fbba, add grade date indexes and ensure attendance composite index\nINFO  [alembic.runtime.migration] Running upgrade 2b4c64f9fbba, 5b71c5a90e3d, ffedcba12345 -> 00c146dcf611, merge migration heads 2025-11-16\nINFO  [alembic.runtime.migration] Running upgrade 00c146dcf611 -> 8e1a2c3b4d5e, add rbac tables\nINFO  [alembic.runtime.migration] Running upgrade 00c146dcf611 -> d377f961aa1f, Add password_change_required field to users table\nINFO  [alembic.runtime.migration] Running upgrade d377f961aa1f -> aabbccdd2025, Add notification and notification_preference tables for real-time notifications\nINFO  [alembic.runtime.migration] Running upgrade d377f961aa1f -> a1b2c3d4e5f6, add students fulltext index (PostgreSQL)\nINFO  [alembic.runtime.migration] Running upgrade a1b2c3d4e5f6 -> 36c455e672ec, Add AuditLog model for audit logging\nINFO  [alembic.runtime.migration] Running upgrade 36c455e672ec, 8e1a2c3b4d5e -> 26b579f2176d, Merge heads before RBAC migration\nINFO  [alembic.runtime.migration] Running upgrade 26b579f2176d -> 4f5c5aa3de07, Add permissions and roles_permissions tables for fine-grained RBAC\nINFO  [alembic.runtime.migration] Running upgrade 4f5c5aa3de07, aabbccdd2025 -> 99perms_notifs_merge, Merge permissions and notifications migration heads\nINFO  [alembic.runtime.migration] Running upgrade 99perms_notifs_merge -> d37fb9f4bd49, Update RBAC: enhance Permission model and add UserPermission\nINFO  [alembic.runtime.migration] Running upgrade d37fb9f4bd49 -> b6c5a7170d93, add RBAC created_at columns\nINFO  [alembic.runtime.migration] Running upgrade d37fb9f4bd49 -> feature127_import_export, Add import/export tables for Feature #127 - Bulk Import/Export.\nINFO  [alembic.runtime.migration] Running upgrade d37fb9f4bd49 -> b41c2a7f1c90, Extend audit log with change metadata and request id\nINFO  [alembic.runtime.migration] Running upgrade b41c2a7f1c90, b6c5a7170d93 -> 64887d60dbfb, Merge RBAC audit and notification migration heads\n", "log": [{"name": "backend.run_migrations", "msg": "[run_migrations] ENTER", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/run_migrations.py", "filename": "run_migrations.py", "module": "run_migrations", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 79, "funcName": "run_migrations", "created": 1768815267.3271368, "msecs": 327.0, "relativeCreated": 73205.10482788086, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:27,327"}]}, "teardown": {"duration": 0.0004171980000080566, "outcome": "passed"}}, {"nodeid": "tests/test_run_migrations_unit.py::test_run_migrations_success", "lineno": 9, "outcome": "passed", "keywords": ["test_run_migrations_success", "test_run_migrations_unit.py", "tests", "backend", ""], "setup": {"duration": 0.0412405739999997, "outcome": "passed"}, "call": {"duration": 0.0009190540000076908, "outcome": "passed"}, "teardown": {"duration": 0.00037001000001168904, "outcome": "passed"}}, {"nodeid": "tests/test_run_migrations_unit.py::test_run_migrations_failure", "lineno": 30, "outcome": "passed", "keywords": ["test_run_migrations_failure", "test_run_migrations_unit.py", "tests", "backend", ""], "setup": {"duration": 0.040969950000004474, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815267.5728889, "msecs": 572.0, "relativeCreated": 73450.856924057, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "asctime": "2026-01-19 09:34:27,572", "request_id": "-"}]}, "call": {"duration": 0.0014747099999965485, "outcome": "passed"}, "teardown": {"duration": 0.0003659120000065741, "outcome": "passed"}}, {"nodeid": "tests/test_run_migrations_unit.py::test_check_migration_status", "lineno": 45, "outcome": "passed", "keywords": ["test_check_migration_status", "test_run_migrations_unit.py", "tests", "backend", ""], "setup": {"duration": 0.040596093000004885, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815267.6167614, "msecs": 616.0, "relativeCreated": 73494.72951889038, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "asctime": "2026-01-19 09:34:27,616", "request_id": "-"}]}, "call": {"duration": 0.00034651600000756844, "outcome": "passed"}, "teardown": {"duration": 0.00028828700001781726, "outcome": "passed"}}, {"nodeid": "tests/test_run_migrations_unit.py::test_check_migration_status_handles_exception", "lineno": 58, "outcome": "passed", "keywords": ["test_check_migration_status_handles_exception", "test_run_migrations_unit.py", "tests", "backend", ""], "setup": {"duration": 0.04063902300001132, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815267.6590917, "msecs": 659.0, "relativeCreated": 73537.05978393555, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "asctime": "2026-01-19 09:34:27,659", "request_id": "-"}]}, "call": {"duration": 0.0004412130000162051, "outcome": "passed", "stderr": "Could not check migration status: nope\n"}, "teardown": {"duration": 0.0002937780000138446, "outcome": "passed"}}, {"nodeid": "tests/test_schemas_students.py::test_student_create_normalizes_empty_optional_fields", "lineno": 10, "outcome": "passed", "keywords": ["test_student_create_normalizes_empty_optional_fields", "test_schemas_students.py", "tests", "backend", ""], "setup": {"duration": 0.042508859999998094, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815267.7019804, "msecs": 701.0, "relativeCreated": 73579.94842529297, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "asctime": "2026-01-19 09:34:27,701", "request_id": "-"}]}, "call": {"duration": 0.0007016289999910441, "outcome": "passed"}, "teardown": {"duration": 0.00028451999997969324, "outcome": "passed"}}, {"nodeid": "tests/test_schemas_students.py::test_student_create_field_validators_raise[student_id-bad id]", "lineno": 27, "outcome": "passed", "keywords": ["test_student_create_field_validators_raise[student_id-bad id]", "parametrize", "pytestmark", "student_id-bad id", "test_schemas_students.py", "tests", "backend", ""], "setup": {"duration": 0.04095529300002454, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815267.7465677, "msecs": 746.0, "relativeCreated": 73624.53579902649, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "asctime": "2026-01-19 09:34:27,746", "request_id": "-"}]}, "call": {"duration": 0.0006548110000039742, "outcome": "passed"}, "teardown": {"duration": 0.0003066920000094342, "outcome": "passed"}}, {"nodeid": "tests/test_schemas_students.py::test_student_create_field_validators_raise[mobile_phone-123]", "lineno": 27, "outcome": "passed", "keywords": ["test_student_create_field_validators_raise[mobile_phone-123]", "parametrize", "pytestmark", "mobile_phone-123", "test_schemas_students.py", "tests", "backend", ""], "setup": {"duration": 0.040791637000012315, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815267.7895546, "msecs": 789.0, "relativeCreated": 73667.5226688385, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "asctime": "2026-01-19 09:34:27,789", "request_id": "-"}]}, "call": {"duration": 0.00069434499999943, "outcome": "passed"}, "teardown": {"duration": 0.00031919500000299195, "outcome": "passed"}}, {"nodeid": "tests/test_schemas_students.py::test_student_create_field_validators_raise[study_year-7]", "lineno": 27, "outcome": "passed", "keywords": ["test_student_create_field_validators_raise[study_year-7]", "parametrize", "pytestmark", "study_year-7", "test_schemas_students.py", "tests", "backend", ""], "setup": {"duration": 0.04182995299998993, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815267.8325105, "msecs": 832.0, "relativeCreated": 73710.47854423523, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "asctime": "2026-01-19 09:34:27,832", "request_id": "-"}]}, "call": {"duration": 0.0007048040000086075, "outcome": "passed"}, "teardown": {"duration": 0.0003135839999970358, "outcome": "passed"}}, {"nodeid": "tests/test_schemas_students.py::test_student_create_rejects_future_enrollment_date", "lineno": 47, "outcome": "passed", "keywords": ["test_student_create_rejects_future_enrollment_date", "test_schemas_students.py", "tests", "backend", ""], "setup": {"duration": 0.041334941000002345, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815267.8765218, "msecs": 876.0, "relativeCreated": 73754.48989868164, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "asctime": "2026-01-19 09:34:27,876", "request_id": "-"}]}, "call": {"duration": 0.0007144120000077692, "outcome": "passed"}, "teardown": {"duration": 0.00030009999997560044, "outcome": "passed"}}, {"nodeid": "tests/test_schemas_students.py::test_student_update_normalizes_strings", "lineno": 59, "outcome": "passed", "keywords": ["test_student_update_normalizes_strings", "test_schemas_students.py", "tests", "backend", ""], "setup": {"duration": 0.04216688099998578, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815267.9202068, "msecs": 920.0, "relativeCreated": 73798.17485809326, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "asctime": "2026-01-19 09:34:27,920", "request_id": "-"}]}, "call": {"duration": 0.00035961000000384047, "outcome": "passed"}, "teardown": {"duration": 0.00028145499999254753, "outcome": "passed"}}, {"nodeid": "tests/test_schemas_students.py::test_student_update_validators[student_id-bad id]", "lineno": 73, "outcome": "passed", "keywords": ["test_student_update_validators[student_id-bad id]", "parametrize", "pytestmark", "student_id-bad id", "test_schemas_students.py", "tests", "backend", ""], "setup": {"duration": 0.0425167950000116, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815267.9641535, "msecs": 964.0, "relativeCreated": 73842.12160110474, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "asctime": "2026-01-19 09:34:27,964", "request_id": "-"}]}, "call": {"duration": 0.0004031920000215905, "outcome": "passed"}, "teardown": {"duration": 0.00030906599999980244, "outcome": "passed"}}, {"nodeid": "tests/test_schemas_students.py::test_student_update_validators[mobile_phone-abc]", "lineno": 73, "outcome": "passed", "keywords": ["test_student_update_validators[mobile_phone-abc]", "parametrize", "pytestmark", "mobile_phone-abc", "test_schemas_students.py", "tests", "backend", ""], "setup": {"duration": 0.04244089299999132, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815268.0084949, "msecs": 8.0, "relativeCreated": 73886.46292686462, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "asctime": "2026-01-19 09:34:28,008", "request_id": "-"}]}, "call": {"duration": 0.00046967500000505424, "outcome": "passed"}, "teardown": {"duration": 0.00037216299998021896, "outcome": "passed"}}, {"nodeid": "tests/test_schemas_students.py::test_student_update_validators[study_year-0]", "lineno": 73, "outcome": "passed", "keywords": ["test_student_update_validators[study_year-0]", "parametrize", "pytestmark", "study_year-0", "test_schemas_students.py", "tests", "backend", ""], "setup": {"duration": 0.0420987450000041, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815268.0531232, "msecs": 53.0, "relativeCreated": 73931.09130859375, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "asctime": "2026-01-19 09:34:28,053", "request_id": "-"}]}, "call": {"duration": 0.00045293399998058703, "outcome": "passed"}, "teardown": {"duration": 0.0003502730000093379, "outcome": "passed"}}, {"nodeid": "tests/test_schemas_students.py::test_student_update_rejects_future_enrollment", "lineno": 87, "outcome": "passed", "keywords": ["test_student_update_rejects_future_enrollment", "test_schemas_students.py", "tests", "backend", ""], "setup": {"duration": 0.041288083000011966, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815268.097307, "msecs": 97.0, "relativeCreated": 73975.27503967285, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "asctime": "2026-01-19 09:34:28,097", "request_id": "-"}]}, "call": {"duration": 0.00042269799999417046, "outcome": "passed"}, "teardown": {"duration": 0.00030024999998090607, "outcome": "passed"}}, {"nodeid": "tests/test_search_api_endpoints.py::TestStudentSearchEndpoint::test_search_students_by_name", "lineno": 98, "outcome": "error", "keywords": ["test_search_students_by_name", "TestStudentSearchEndpoint", "test_search_api_endpoints.py", "tests", "backend", ""], "setup": {"duration": 0.4590150330000142, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\n[SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\n[parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)"}, "traceback": [{"path": "tests/test_search_api_endpoints.py", "lineno": 78, "message": ""}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 2030, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in commit"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1311, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1286, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4331, "message": "in flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4466, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", "lineno": 224, "message": "in __exit__"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4427, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 466, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 642, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 93, "message": "in save_obj"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 1143, "message": "in _emit_insert_statements"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1419, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", "lineno": 526, "message": "in _execute_on_connection"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1641, "message": "in _execute_clauseelement"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1844, "message": "in _execute_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2126, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2355, "message": "in _handle_dbapi_exception"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2118, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "IntegrityError"}], "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815268.1407974, "msecs": 140.0, "relativeCreated": 74018.76544952393, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "asctime": "2026-01-19 09:34:28,140", "request_id": "-"}], "longrepr": "self = <sqlalchemy.engine.base.Connection object at 0x7fcb8977ee50>\ndialect = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb896e9090>\n\n    def _exec_insertmany_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for an \"insertmanyvalues\"\n        operation, which will invoke DBAPI\n        cursor.execute() one or more times with individual log and\n        event hook calls.\n    \n        \"\"\"\n    \n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n        else:\n            generic_setinputsizes = None\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters = parameters\n    \n        engine_events = self._has_events or self.engine._has_events\n        if self.dialect._has_events:\n            do_execute_dispatch: Iterable[Any] = (\n                self.dialect.dispatch.do_execute\n            )\n        else:\n            do_execute_dispatch = ()\n    \n        if self._echo:\n            stats = context._get_cache_stats() + \" (insertmanyvalues)\"\n    \n        preserve_rowcount = context.execution_options.get(\n            \"preserve_rowcount\", False\n        )\n        rowcount = 0\n    \n        for imv_batch in dialect._deliver_insertmanyvalues_batches(\n            self,\n            cursor,\n            str_statement,\n            effective_parameters,\n            generic_setinputsizes,\n            context,\n        ):\n            if imv_batch.processed_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor,\n                        imv_batch.processed_setinputsizes,\n                        context,\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e,\n                        sql_util._long_statement(imv_batch.replaced_statement),\n                        imv_batch.replaced_parameters,\n                        None,\n                        context,\n                        is_sub_exec=True,\n                    )\n    \n            sub_stmt = imv_batch.replaced_statement\n            sub_params = imv_batch.replaced_parameters\n    \n            if engine_events:\n                for fn in self.dispatch.before_cursor_execute:\n                    sub_stmt, sub_params = fn(\n                        self,\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                        True,\n                    )\n    \n            if self._echo:\n                self._log_info(sql_util._long_statement(sub_stmt))\n    \n                imv_stats = f\"\"\" {imv_batch.batchnum}/{\n                            imv_batch.total_batches\n                } ({\n                    'ordered'\n                    if imv_batch.rows_sorted else 'unordered'\n                }{\n                    '; batch not supported'\n                    if imv_batch.is_downgraded\n                    else ''\n                })\"\"\"\n    \n                if imv_batch.batchnum == 1:\n                    stats += imv_stats\n                else:\n                    stats = f\"insertmanyvalues{imv_stats}\"\n    \n                if not self.engine.hide_parameters:\n                    self._log_info(\n                        \"[%s] %r\",\n                        stats,\n                        sql_util._repr_params(\n                            sub_params,\n                            batches=10,\n                            ismulti=False,\n                        ),\n                    )\n                else:\n                    self._log_info(\n                        \"[%s] [SQL parameters hidden due to \"\n                        \"hide_parameters=True]\",\n                        stats,\n                    )\n    \n            try:\n                for fn in do_execute_dispatch:\n                    if fn(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    ):\n                        break\n                else:\n>                   dialect.do_execute(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    )\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb8996c740>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb896e9090>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlite3.IntegrityError: NOT NULL constraint failed: courses.semester\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError\n\nThe above exception was the direct cause of the following exception:\n\ndb = <sqlalchemy.orm.session.Session object at 0x7fcb8977f710>\n\n    @pytest.fixture\n    def test_data(db: Session):\n        \"\"\"Create test data\"\"\"\n        students = [\n            Student(first_name=\"John\", last_name=\"Doe\", email=\"john@example.com\", phone=\"555-0001\", deleted_at=None),\n            Student(first_name=\"Jane\", last_name=\"Smith\", email=\"jane@example.com\", phone=\"555-0002\", deleted_at=None),\n            Student(first_name=\"Bob\", last_name=\"Johnson\", email=\"bob@example.com\", phone=\"555-0003\", deleted_at=None),\n        ]\n    \n        courses = [\n            Course(course_name=\"Mathematics 101\", course_code=\"MATH101\", credits=3, deleted_at=None),\n            Course(course_name=\"Physics 201\", course_code=\"PHYS201\", credits=4, deleted_at=None),\n            Course(course_name=\"English 101\", course_code=\"ENG101\", credits=3, deleted_at=None),\n        ]\n    \n        for student in students:\n            db.add(student)\n        for course in courses:\n            db.add(course)\n>       db.commit()\n\ntests/test_search_api_endpoints.py:78: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:2030: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1311: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1286: in _prepare_impl\n    self.session.flush()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4331: in flush\n    self._flush(objects)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4466: in _flush\n    with util.safe_reraise():\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4427: in _flush\n    flush_context.execute()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:466: in execute\n    rec.execute(self)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:93: in save_obj\n    _emit_insert_statements(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:1143: in _emit_insert_statements\n    result = connection.execute(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1419: in execute\n    return meth(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1844: in _execute_context\n    return self._exec_insertmany_context(dialect, context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2126: in _exec_insertmany_context\n    self._handle_dbapi_exception(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: in _exec_insertmany_context\n    dialect.do_execute(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb8996c740>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb896e9090>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\nE       [SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\nE       [parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\nE       (Background on this error at: https://sqlalche.me/e/20/gkpj)\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError"}, "teardown": {"duration": 0.0006716430000039963, "outcome": "passed"}}, {"nodeid": "tests/test_search_api_endpoints.py::TestStudentSearchEndpoint::test_search_students_by_email", "lineno": 112, "outcome": "error", "keywords": ["test_search_students_by_email", "TestStudentSearchEndpoint", "test_search_api_endpoints.py", "tests", "backend", ""], "setup": {"duration": 0.45056410600000163, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\n[SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\n[parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)"}, "traceback": [{"path": "tests/test_search_api_endpoints.py", "lineno": 78, "message": ""}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 2030, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in commit"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1311, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1286, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4331, "message": "in flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4466, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", "lineno": 224, "message": "in __exit__"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4427, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 466, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 642, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 93, "message": "in save_obj"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 1143, "message": "in _emit_insert_statements"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1419, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", "lineno": 526, "message": "in _execute_on_connection"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1641, "message": "in _execute_clauseelement"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1844, "message": "in _execute_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2126, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2355, "message": "in _handle_dbapi_exception"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2118, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "IntegrityError"}], "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815269.5588572, "msecs": 558.0, "relativeCreated": 75436.82527542114, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:29,558"}], "longrepr": "self = <sqlalchemy.engine.base.Connection object at 0x7fcb88c69050>\ndialect = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb88c6bbd0>\n\n    def _exec_insertmany_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for an \"insertmanyvalues\"\n        operation, which will invoke DBAPI\n        cursor.execute() one or more times with individual log and\n        event hook calls.\n    \n        \"\"\"\n    \n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n        else:\n            generic_setinputsizes = None\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters = parameters\n    \n        engine_events = self._has_events or self.engine._has_events\n        if self.dialect._has_events:\n            do_execute_dispatch: Iterable[Any] = (\n                self.dialect.dispatch.do_execute\n            )\n        else:\n            do_execute_dispatch = ()\n    \n        if self._echo:\n            stats = context._get_cache_stats() + \" (insertmanyvalues)\"\n    \n        preserve_rowcount = context.execution_options.get(\n            \"preserve_rowcount\", False\n        )\n        rowcount = 0\n    \n        for imv_batch in dialect._deliver_insertmanyvalues_batches(\n            self,\n            cursor,\n            str_statement,\n            effective_parameters,\n            generic_setinputsizes,\n            context,\n        ):\n            if imv_batch.processed_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor,\n                        imv_batch.processed_setinputsizes,\n                        context,\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e,\n                        sql_util._long_statement(imv_batch.replaced_statement),\n                        imv_batch.replaced_parameters,\n                        None,\n                        context,\n                        is_sub_exec=True,\n                    )\n    \n            sub_stmt = imv_batch.replaced_statement\n            sub_params = imv_batch.replaced_parameters\n    \n            if engine_events:\n                for fn in self.dispatch.before_cursor_execute:\n                    sub_stmt, sub_params = fn(\n                        self,\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                        True,\n                    )\n    \n            if self._echo:\n                self._log_info(sql_util._long_statement(sub_stmt))\n    \n                imv_stats = f\"\"\" {imv_batch.batchnum}/{\n                            imv_batch.total_batches\n                } ({\n                    'ordered'\n                    if imv_batch.rows_sorted else 'unordered'\n                }{\n                    '; batch not supported'\n                    if imv_batch.is_downgraded\n                    else ''\n                })\"\"\"\n    \n                if imv_batch.batchnum == 1:\n                    stats += imv_stats\n                else:\n                    stats = f\"insertmanyvalues{imv_stats}\"\n    \n                if not self.engine.hide_parameters:\n                    self._log_info(\n                        \"[%s] %r\",\n                        stats,\n                        sql_util._repr_params(\n                            sub_params,\n                            batches=10,\n                            ismulti=False,\n                        ),\n                    )\n                else:\n                    self._log_info(\n                        \"[%s] [SQL parameters hidden due to \"\n                        \"hide_parameters=True]\",\n                        stats,\n                    )\n    \n            try:\n                for fn in do_execute_dispatch:\n                    if fn(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    ):\n                        break\n                else:\n>                   dialect.do_execute(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    )\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb88d23a40>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb88c6bbd0>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlite3.IntegrityError: NOT NULL constraint failed: courses.semester\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError\n\nThe above exception was the direct cause of the following exception:\n\ndb = <sqlalchemy.orm.session.Session object at 0x7fcb898a2090>\n\n    @pytest.fixture\n    def test_data(db: Session):\n        \"\"\"Create test data\"\"\"\n        students = [\n            Student(first_name=\"John\", last_name=\"Doe\", email=\"john@example.com\", phone=\"555-0001\", deleted_at=None),\n            Student(first_name=\"Jane\", last_name=\"Smith\", email=\"jane@example.com\", phone=\"555-0002\", deleted_at=None),\n            Student(first_name=\"Bob\", last_name=\"Johnson\", email=\"bob@example.com\", phone=\"555-0003\", deleted_at=None),\n        ]\n    \n        courses = [\n            Course(course_name=\"Mathematics 101\", course_code=\"MATH101\", credits=3, deleted_at=None),\n            Course(course_name=\"Physics 201\", course_code=\"PHYS201\", credits=4, deleted_at=None),\n            Course(course_name=\"English 101\", course_code=\"ENG101\", credits=3, deleted_at=None),\n        ]\n    \n        for student in students:\n            db.add(student)\n        for course in courses:\n            db.add(course)\n>       db.commit()\n\ntests/test_search_api_endpoints.py:78: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:2030: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1311: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1286: in _prepare_impl\n    self.session.flush()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4331: in flush\n    self._flush(objects)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4466: in _flush\n    with util.safe_reraise():\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4427: in _flush\n    flush_context.execute()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:466: in execute\n    rec.execute(self)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:93: in save_obj\n    _emit_insert_statements(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:1143: in _emit_insert_statements\n    result = connection.execute(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1419: in execute\n    return meth(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1844: in _execute_context\n    return self._exec_insertmany_context(dialect, context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2126: in _exec_insertmany_context\n    self._handle_dbapi_exception(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: in _exec_insertmany_context\n    dialect.do_execute(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb88d23a40>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb88c6bbd0>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\nE       [SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\nE       [parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\nE       (Background on this error at: https://sqlalche.me/e/20/gkpj)\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError"}, "teardown": {"duration": 0.0006618719999949008, "outcome": "passed"}}, {"nodeid": "tests/test_search_api_endpoints.py::TestStudentSearchEndpoint::test_search_students_case_insensitive", "lineno": 121, "outcome": "error", "keywords": ["test_search_students_case_insensitive", "TestStudentSearchEndpoint", "test_search_api_endpoints.py", "tests", "backend", ""], "setup": {"duration": 0.45398860700001364, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\n[SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\n[parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)"}, "traceback": [{"path": "tests/test_search_api_endpoints.py", "lineno": 78, "message": ""}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 2030, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in commit"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1311, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1286, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4331, "message": "in flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4466, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", "lineno": 224, "message": "in __exit__"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4427, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 466, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 642, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 93, "message": "in save_obj"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 1143, "message": "in _emit_insert_statements"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1419, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", "lineno": 526, "message": "in _execute_on_connection"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1641, "message": "in _execute_clauseelement"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1844, "message": "in _execute_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2126, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2355, "message": "in _handle_dbapi_exception"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2118, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "IntegrityError"}], "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815270.9687805, "msecs": 968.0, "relativeCreated": 76846.74859046936, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:30,968"}], "longrepr": "self = <sqlalchemy.engine.base.Connection object at 0x7fcb809a59d0>\ndialect = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8998f5d0>\n\n    def _exec_insertmany_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for an \"insertmanyvalues\"\n        operation, which will invoke DBAPI\n        cursor.execute() one or more times with individual log and\n        event hook calls.\n    \n        \"\"\"\n    \n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n        else:\n            generic_setinputsizes = None\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters = parameters\n    \n        engine_events = self._has_events or self.engine._has_events\n        if self.dialect._has_events:\n            do_execute_dispatch: Iterable[Any] = (\n                self.dialect.dispatch.do_execute\n            )\n        else:\n            do_execute_dispatch = ()\n    \n        if self._echo:\n            stats = context._get_cache_stats() + \" (insertmanyvalues)\"\n    \n        preserve_rowcount = context.execution_options.get(\n            \"preserve_rowcount\", False\n        )\n        rowcount = 0\n    \n        for imv_batch in dialect._deliver_insertmanyvalues_batches(\n            self,\n            cursor,\n            str_statement,\n            effective_parameters,\n            generic_setinputsizes,\n            context,\n        ):\n            if imv_batch.processed_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor,\n                        imv_batch.processed_setinputsizes,\n                        context,\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e,\n                        sql_util._long_statement(imv_batch.replaced_statement),\n                        imv_batch.replaced_parameters,\n                        None,\n                        context,\n                        is_sub_exec=True,\n                    )\n    \n            sub_stmt = imv_batch.replaced_statement\n            sub_params = imv_batch.replaced_parameters\n    \n            if engine_events:\n                for fn in self.dispatch.before_cursor_execute:\n                    sub_stmt, sub_params = fn(\n                        self,\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                        True,\n                    )\n    \n            if self._echo:\n                self._log_info(sql_util._long_statement(sub_stmt))\n    \n                imv_stats = f\"\"\" {imv_batch.batchnum}/{\n                            imv_batch.total_batches\n                } ({\n                    'ordered'\n                    if imv_batch.rows_sorted else 'unordered'\n                }{\n                    '; batch not supported'\n                    if imv_batch.is_downgraded\n                    else ''\n                })\"\"\"\n    \n                if imv_batch.batchnum == 1:\n                    stats += imv_stats\n                else:\n                    stats = f\"insertmanyvalues{imv_stats}\"\n    \n                if not self.engine.hide_parameters:\n                    self._log_info(\n                        \"[%s] %r\",\n                        stats,\n                        sql_util._repr_params(\n                            sub_params,\n                            batches=10,\n                            ismulti=False,\n                        ),\n                    )\n                else:\n                    self._log_info(\n                        \"[%s] [SQL parameters hidden due to \"\n                        \"hide_parameters=True]\",\n                        stats,\n                    )\n    \n            try:\n                for fn in do_execute_dispatch:\n                    if fn(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    ):\n                        break\n                else:\n>                   dialect.do_execute(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    )\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb89a08840>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8998f5d0>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlite3.IntegrityError: NOT NULL constraint failed: courses.semester\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError\n\nThe above exception was the direct cause of the following exception:\n\ndb = <sqlalchemy.orm.session.Session object at 0x7fcb894f8550>\n\n    @pytest.fixture\n    def test_data(db: Session):\n        \"\"\"Create test data\"\"\"\n        students = [\n            Student(first_name=\"John\", last_name=\"Doe\", email=\"john@example.com\", phone=\"555-0001\", deleted_at=None),\n            Student(first_name=\"Jane\", last_name=\"Smith\", email=\"jane@example.com\", phone=\"555-0002\", deleted_at=None),\n            Student(first_name=\"Bob\", last_name=\"Johnson\", email=\"bob@example.com\", phone=\"555-0003\", deleted_at=None),\n        ]\n    \n        courses = [\n            Course(course_name=\"Mathematics 101\", course_code=\"MATH101\", credits=3, deleted_at=None),\n            Course(course_name=\"Physics 201\", course_code=\"PHYS201\", credits=4, deleted_at=None),\n            Course(course_name=\"English 101\", course_code=\"ENG101\", credits=3, deleted_at=None),\n        ]\n    \n        for student in students:\n            db.add(student)\n        for course in courses:\n            db.add(course)\n>       db.commit()\n\ntests/test_search_api_endpoints.py:78: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:2030: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1311: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1286: in _prepare_impl\n    self.session.flush()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4331: in flush\n    self._flush(objects)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4466: in _flush\n    with util.safe_reraise():\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4427: in _flush\n    flush_context.execute()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:466: in execute\n    rec.execute(self)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:93: in save_obj\n    _emit_insert_statements(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:1143: in _emit_insert_statements\n    result = connection.execute(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1419: in execute\n    return meth(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1844: in _execute_context\n    return self._exec_insertmany_context(dialect, context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2126: in _exec_insertmany_context\n    self._handle_dbapi_exception(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: in _exec_insertmany_context\n    dialect.do_execute(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb89a08840>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8998f5d0>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\nE       [SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\nE       [parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\nE       (Background on this error at: https://sqlalche.me/e/20/gkpj)\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError"}, "teardown": {"duration": 0.0006711400000085632, "outcome": "passed"}}, {"nodeid": "tests/test_search_api_endpoints.py::TestStudentSearchEndpoint::test_search_students_pagination", "lineno": 135, "outcome": "error", "keywords": ["test_search_students_pagination", "TestStudentSearchEndpoint", "test_search_api_endpoints.py", "tests", "backend", ""], "setup": {"duration": 0.4501669389999847, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\n[SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\n[parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)"}, "traceback": [{"path": "tests/test_search_api_endpoints.py", "lineno": 78, "message": ""}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 2030, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in commit"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1311, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1286, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4331, "message": "in flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4466, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", "lineno": 224, "message": "in __exit__"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4427, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 466, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 642, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 93, "message": "in save_obj"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 1143, "message": "in _emit_insert_statements"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1419, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", "lineno": 526, "message": "in _execute_on_connection"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1641, "message": "in _execute_clauseelement"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1844, "message": "in _execute_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2126, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2355, "message": "in _handle_dbapi_exception"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2118, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "IntegrityError"}], "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815272.384277, "msecs": 384.0, "relativeCreated": 78262.24517822266, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:32,384"}], "longrepr": "self = <sqlalchemy.engine.base.Connection object at 0x7fcb894e86d0>\ndialect = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8945d250>\n\n    def _exec_insertmany_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for an \"insertmanyvalues\"\n        operation, which will invoke DBAPI\n        cursor.execute() one or more times with individual log and\n        event hook calls.\n    \n        \"\"\"\n    \n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n        else:\n            generic_setinputsizes = None\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters = parameters\n    \n        engine_events = self._has_events or self.engine._has_events\n        if self.dialect._has_events:\n            do_execute_dispatch: Iterable[Any] = (\n                self.dialect.dispatch.do_execute\n            )\n        else:\n            do_execute_dispatch = ()\n    \n        if self._echo:\n            stats = context._get_cache_stats() + \" (insertmanyvalues)\"\n    \n        preserve_rowcount = context.execution_options.get(\n            \"preserve_rowcount\", False\n        )\n        rowcount = 0\n    \n        for imv_batch in dialect._deliver_insertmanyvalues_batches(\n            self,\n            cursor,\n            str_statement,\n            effective_parameters,\n            generic_setinputsizes,\n            context,\n        ):\n            if imv_batch.processed_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor,\n                        imv_batch.processed_setinputsizes,\n                        context,\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e,\n                        sql_util._long_statement(imv_batch.replaced_statement),\n                        imv_batch.replaced_parameters,\n                        None,\n                        context,\n                        is_sub_exec=True,\n                    )\n    \n            sub_stmt = imv_batch.replaced_statement\n            sub_params = imv_batch.replaced_parameters\n    \n            if engine_events:\n                for fn in self.dispatch.before_cursor_execute:\n                    sub_stmt, sub_params = fn(\n                        self,\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                        True,\n                    )\n    \n            if self._echo:\n                self._log_info(sql_util._long_statement(sub_stmt))\n    \n                imv_stats = f\"\"\" {imv_batch.batchnum}/{\n                            imv_batch.total_batches\n                } ({\n                    'ordered'\n                    if imv_batch.rows_sorted else 'unordered'\n                }{\n                    '; batch not supported'\n                    if imv_batch.is_downgraded\n                    else ''\n                })\"\"\"\n    \n                if imv_batch.batchnum == 1:\n                    stats += imv_stats\n                else:\n                    stats = f\"insertmanyvalues{imv_stats}\"\n    \n                if not self.engine.hide_parameters:\n                    self._log_info(\n                        \"[%s] %r\",\n                        stats,\n                        sql_util._repr_params(\n                            sub_params,\n                            batches=10,\n                            ismulti=False,\n                        ),\n                    )\n                else:\n                    self._log_info(\n                        \"[%s] [SQL parameters hidden due to \"\n                        \"hide_parameters=True]\",\n                        stats,\n                    )\n    \n            try:\n                for fn in do_execute_dispatch:\n                    if fn(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    ):\n                        break\n                else:\n>                   dialect.do_execute(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    )\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb891ac5c0>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8945d250>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlite3.IntegrityError: NOT NULL constraint failed: courses.semester\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError\n\nThe above exception was the direct cause of the following exception:\n\ndb = <sqlalchemy.orm.session.Session object at 0x7fcb892493d0>\n\n    @pytest.fixture\n    def test_data(db: Session):\n        \"\"\"Create test data\"\"\"\n        students = [\n            Student(first_name=\"John\", last_name=\"Doe\", email=\"john@example.com\", phone=\"555-0001\", deleted_at=None),\n            Student(first_name=\"Jane\", last_name=\"Smith\", email=\"jane@example.com\", phone=\"555-0002\", deleted_at=None),\n            Student(first_name=\"Bob\", last_name=\"Johnson\", email=\"bob@example.com\", phone=\"555-0003\", deleted_at=None),\n        ]\n    \n        courses = [\n            Course(course_name=\"Mathematics 101\", course_code=\"MATH101\", credits=3, deleted_at=None),\n            Course(course_name=\"Physics 201\", course_code=\"PHYS201\", credits=4, deleted_at=None),\n            Course(course_name=\"English 101\", course_code=\"ENG101\", credits=3, deleted_at=None),\n        ]\n    \n        for student in students:\n            db.add(student)\n        for course in courses:\n            db.add(course)\n>       db.commit()\n\ntests/test_search_api_endpoints.py:78: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:2030: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1311: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1286: in _prepare_impl\n    self.session.flush()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4331: in flush\n    self._flush(objects)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4466: in _flush\n    with util.safe_reraise():\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4427: in _flush\n    flush_context.execute()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:466: in execute\n    rec.execute(self)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:93: in save_obj\n    _emit_insert_statements(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:1143: in _emit_insert_statements\n    result = connection.execute(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1419: in execute\n    return meth(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1844: in _execute_context\n    return self._exec_insertmany_context(dialect, context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2126: in _exec_insertmany_context\n    self._handle_dbapi_exception(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: in _exec_insertmany_context\n    dialect.do_execute(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb891ac5c0>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8945d250>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\nE       [SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\nE       [parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\nE       (Background on this error at: https://sqlalche.me/e/20/gkpj)\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError"}, "teardown": {"duration": 0.0006506020000074386, "outcome": "passed"}}, {"nodeid": "tests/test_search_api_endpoints.py::TestStudentSearchEndpoint::test_search_students_soft_delete_filter", "lineno": 146, "outcome": "error", "keywords": ["test_search_students_soft_delete_filter", "TestStudentSearchEndpoint", "test_search_api_endpoints.py", "tests", "backend", ""], "setup": {"duration": 0.449180412000004, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\n[SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\n[parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)"}, "traceback": [{"path": "tests/test_search_api_endpoints.py", "lineno": 78, "message": ""}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 2030, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in commit"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1311, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1286, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4331, "message": "in flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4466, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", "lineno": 224, "message": "in __exit__"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4427, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 466, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 642, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 93, "message": "in save_obj"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 1143, "message": "in _emit_insert_statements"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1419, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", "lineno": 526, "message": "in _execute_on_connection"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1641, "message": "in _execute_clauseelement"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1844, "message": "in _execute_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2126, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2355, "message": "in _handle_dbapi_exception"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2118, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "IntegrityError"}], "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815273.7851243, "msecs": 785.0, "relativeCreated": 79663.09237480164, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:33,785"}], "longrepr": "self = <sqlalchemy.engine.base.Connection object at 0x7fcb8960d5d0>\ndialect = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb88cda090>\n\n    def _exec_insertmany_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for an \"insertmanyvalues\"\n        operation, which will invoke DBAPI\n        cursor.execute() one or more times with individual log and\n        event hook calls.\n    \n        \"\"\"\n    \n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n        else:\n            generic_setinputsizes = None\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters = parameters\n    \n        engine_events = self._has_events or self.engine._has_events\n        if self.dialect._has_events:\n            do_execute_dispatch: Iterable[Any] = (\n                self.dialect.dispatch.do_execute\n            )\n        else:\n            do_execute_dispatch = ()\n    \n        if self._echo:\n            stats = context._get_cache_stats() + \" (insertmanyvalues)\"\n    \n        preserve_rowcount = context.execution_options.get(\n            \"preserve_rowcount\", False\n        )\n        rowcount = 0\n    \n        for imv_batch in dialect._deliver_insertmanyvalues_batches(\n            self,\n            cursor,\n            str_statement,\n            effective_parameters,\n            generic_setinputsizes,\n            context,\n        ):\n            if imv_batch.processed_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor,\n                        imv_batch.processed_setinputsizes,\n                        context,\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e,\n                        sql_util._long_statement(imv_batch.replaced_statement),\n                        imv_batch.replaced_parameters,\n                        None,\n                        context,\n                        is_sub_exec=True,\n                    )\n    \n            sub_stmt = imv_batch.replaced_statement\n            sub_params = imv_batch.replaced_parameters\n    \n            if engine_events:\n                for fn in self.dispatch.before_cursor_execute:\n                    sub_stmt, sub_params = fn(\n                        self,\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                        True,\n                    )\n    \n            if self._echo:\n                self._log_info(sql_util._long_statement(sub_stmt))\n    \n                imv_stats = f\"\"\" {imv_batch.batchnum}/{\n                            imv_batch.total_batches\n                } ({\n                    'ordered'\n                    if imv_batch.rows_sorted else 'unordered'\n                }{\n                    '; batch not supported'\n                    if imv_batch.is_downgraded\n                    else ''\n                })\"\"\"\n    \n                if imv_batch.batchnum == 1:\n                    stats += imv_stats\n                else:\n                    stats = f\"insertmanyvalues{imv_stats}\"\n    \n                if not self.engine.hide_parameters:\n                    self._log_info(\n                        \"[%s] %r\",\n                        stats,\n                        sql_util._repr_params(\n                            sub_params,\n                            batches=10,\n                            ismulti=False,\n                        ),\n                    )\n                else:\n                    self._log_info(\n                        \"[%s] [SQL parameters hidden due to \"\n                        \"hide_parameters=True]\",\n                        stats,\n                    )\n    \n            try:\n                for fn in do_execute_dispatch:\n                    if fn(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    ):\n                        break\n                else:\n>                   dialect.do_execute(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    )\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb894f0140>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb88cda090>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlite3.IntegrityError: NOT NULL constraint failed: courses.semester\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError\n\nThe above exception was the direct cause of the following exception:\n\ndb = <sqlalchemy.orm.session.Session object at 0x7fcb8a162090>\n\n    @pytest.fixture\n    def test_data(db: Session):\n        \"\"\"Create test data\"\"\"\n        students = [\n            Student(first_name=\"John\", last_name=\"Doe\", email=\"john@example.com\", phone=\"555-0001\", deleted_at=None),\n            Student(first_name=\"Jane\", last_name=\"Smith\", email=\"jane@example.com\", phone=\"555-0002\", deleted_at=None),\n            Student(first_name=\"Bob\", last_name=\"Johnson\", email=\"bob@example.com\", phone=\"555-0003\", deleted_at=None),\n        ]\n    \n        courses = [\n            Course(course_name=\"Mathematics 101\", course_code=\"MATH101\", credits=3, deleted_at=None),\n            Course(course_name=\"Physics 201\", course_code=\"PHYS201\", credits=4, deleted_at=None),\n            Course(course_name=\"English 101\", course_code=\"ENG101\", credits=3, deleted_at=None),\n        ]\n    \n        for student in students:\n            db.add(student)\n        for course in courses:\n            db.add(course)\n>       db.commit()\n\ntests/test_search_api_endpoints.py:78: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:2030: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1311: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1286: in _prepare_impl\n    self.session.flush()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4331: in flush\n    self._flush(objects)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4466: in _flush\n    with util.safe_reraise():\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4427: in _flush\n    flush_context.execute()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:466: in execute\n    rec.execute(self)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:93: in save_obj\n    _emit_insert_statements(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:1143: in _emit_insert_statements\n    result = connection.execute(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1419: in execute\n    return meth(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1844: in _execute_context\n    return self._exec_insertmany_context(dialect, context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2126: in _exec_insertmany_context\n    self._handle_dbapi_exception(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: in _exec_insertmany_context\n    dialect.do_execute(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb894f0140>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb88cda090>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\nE       [SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\nE       [parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\nE       (Background on this error at: https://sqlalche.me/e/20/gkpj)\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError"}, "teardown": {"duration": 0.0006130030000122133, "outcome": "passed"}}, {"nodeid": "tests/test_search_api_endpoints.py::TestStudentSearchEndpoint::test_search_students_empty_query", "lineno": 159, "outcome": "failed", "keywords": ["test_search_students_empty_query", "TestStudentSearchEndpoint", "test_search_api_endpoints.py", "tests", "backend", ""], "setup": {"duration": 0.44449893399999496, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815275.1763504, "msecs": 176.0, "relativeCreated": 81054.31842803955, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:35,176"}]}, "call": {"duration": 0.008220397000002322, "outcome": "failed", "crash": {"path": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_api_endpoints.py", "lineno": 165, "message": "assert 404 in [200, 400]\n +  where 404 = <Response [404 Not Found]>.status_code"}, "traceback": [{"path": "tests/test_search_api_endpoints.py", "lineno": 165, "message": "AssertionError"}], "longrepr": "self = <backend.tests.test_search_api_endpoints.TestStudentSearchEndpoint object at 0x7fcb8cd39750>\nclient = <starlette.testclient.TestClient object at 0x7fcb894ea2d0>\nadmin_headers = {'Authorization': 'Bearer admin_token', 'Content-Type': 'application/json'}\n\n    def test_search_students_empty_query(self, client, admin_headers):\n        \"\"\"Should handle empty query gracefully\"\"\"\n        response = client.post(self.endpoint, json={\"query\": \"\"}, headers=admin_headers)\n    \n        # Should return error or empty results\n>       assert response.status_code in [200, 400]\nE       assert 404 in [200, 400]\nE        +  where 404 = <Response [404 Not Found]>.status_code\n\ntests/test_search_api_endpoints.py:165: AssertionError"}, "teardown": {"duration": 0.0003934940000078768, "outcome": "passed"}}, {"nodeid": "tests/test_search_api_endpoints.py::TestStudentSearchEndpoint::test_search_students_invalid_page", "lineno": 166, "outcome": "failed", "keywords": ["test_search_students_invalid_page", "TestStudentSearchEndpoint", "test_search_api_endpoints.py", "tests", "backend", ""], "setup": {"duration": 0.6643711100000189, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815275.6466303, "msecs": 646.0, "relativeCreated": 81524.59836006165, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:35,646"}]}, "call": {"duration": 0.007250198000008368, "outcome": "failed", "crash": {"path": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_api_endpoints.py", "lineno": 171, "message": "assert 404 in [400, 200]\n +  where 404 = <Response [404 Not Found]>.status_code"}, "traceback": [{"path": "tests/test_search_api_endpoints.py", "lineno": 171, "message": "AssertionError"}], "longrepr": "self = <backend.tests.test_search_api_endpoints.TestStudentSearchEndpoint object at 0x7fcb8cd3a110>\nclient = <starlette.testclient.TestClient object at 0x7fcb894bc850>\nadmin_headers = {'Authorization': 'Bearer admin_token', 'Content-Type': 'application/json'}\n\n    def test_search_students_invalid_page(self, client, admin_headers):\n        \"\"\"Should handle invalid page numbers\"\"\"\n        response = client.post(self.endpoint, json={\"query\": \"test\", \"page\": -1}, headers=admin_headers)\n    \n>       assert response.status_code in [400, 200]\nE       assert 404 in [400, 200]\nE        +  where 404 = <Response [404 Not Found]>.status_code\n\ntests/test_search_api_endpoints.py:171: AssertionError"}, "teardown": {"duration": 0.00042994099999305035, "outcome": "passed"}}, {"nodeid": "tests/test_search_api_endpoints.py::TestStudentSearchEndpoint::test_search_students_permission_student", "lineno": 172, "outcome": "error", "keywords": ["test_search_students_permission_student", "TestStudentSearchEndpoint", "test_search_api_endpoints.py", "tests", "backend", ""], "setup": {"duration": 0.44769563699998116, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\n[SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\n[parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)"}, "traceback": [{"path": "tests/test_search_api_endpoints.py", "lineno": 78, "message": ""}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 2030, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in commit"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1311, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1286, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4331, "message": "in flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4466, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", "lineno": 224, "message": "in __exit__"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4427, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 466, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 642, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 93, "message": "in save_obj"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 1143, "message": "in _emit_insert_statements"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1419, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", "lineno": 526, "message": "in _execute_on_connection"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1641, "message": "in _execute_clauseelement"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1844, "message": "in _execute_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2126, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2355, "message": "in _handle_dbapi_exception"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2118, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "IntegrityError"}], "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815276.3369322, "msecs": 336.0, "relativeCreated": 82214.90025520325, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:36,336"}], "longrepr": "self = <sqlalchemy.engine.base.Connection object at 0x7fcb899844d0>\ndialect = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb89f4fb10>\n\n    def _exec_insertmany_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for an \"insertmanyvalues\"\n        operation, which will invoke DBAPI\n        cursor.execute() one or more times with individual log and\n        event hook calls.\n    \n        \"\"\"\n    \n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n        else:\n            generic_setinputsizes = None\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters = parameters\n    \n        engine_events = self._has_events or self.engine._has_events\n        if self.dialect._has_events:\n            do_execute_dispatch: Iterable[Any] = (\n                self.dialect.dispatch.do_execute\n            )\n        else:\n            do_execute_dispatch = ()\n    \n        if self._echo:\n            stats = context._get_cache_stats() + \" (insertmanyvalues)\"\n    \n        preserve_rowcount = context.execution_options.get(\n            \"preserve_rowcount\", False\n        )\n        rowcount = 0\n    \n        for imv_batch in dialect._deliver_insertmanyvalues_batches(\n            self,\n            cursor,\n            str_statement,\n            effective_parameters,\n            generic_setinputsizes,\n            context,\n        ):\n            if imv_batch.processed_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor,\n                        imv_batch.processed_setinputsizes,\n                        context,\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e,\n                        sql_util._long_statement(imv_batch.replaced_statement),\n                        imv_batch.replaced_parameters,\n                        None,\n                        context,\n                        is_sub_exec=True,\n                    )\n    \n            sub_stmt = imv_batch.replaced_statement\n            sub_params = imv_batch.replaced_parameters\n    \n            if engine_events:\n                for fn in self.dispatch.before_cursor_execute:\n                    sub_stmt, sub_params = fn(\n                        self,\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                        True,\n                    )\n    \n            if self._echo:\n                self._log_info(sql_util._long_statement(sub_stmt))\n    \n                imv_stats = f\"\"\" {imv_batch.batchnum}/{\n                            imv_batch.total_batches\n                } ({\n                    'ordered'\n                    if imv_batch.rows_sorted else 'unordered'\n                }{\n                    '; batch not supported'\n                    if imv_batch.is_downgraded\n                    else ''\n                })\"\"\"\n    \n                if imv_batch.batchnum == 1:\n                    stats += imv_stats\n                else:\n                    stats = f\"insertmanyvalues{imv_stats}\"\n    \n                if not self.engine.hide_parameters:\n                    self._log_info(\n                        \"[%s] %r\",\n                        stats,\n                        sql_util._repr_params(\n                            sub_params,\n                            batches=10,\n                            ismulti=False,\n                        ),\n                    )\n                else:\n                    self._log_info(\n                        \"[%s] [SQL parameters hidden due to \"\n                        \"hide_parameters=True]\",\n                        stats,\n                    )\n    \n            try:\n                for fn in do_execute_dispatch:\n                    if fn(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    ):\n                        break\n                else:\n>                   dialect.do_execute(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    )\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb8925b5c0>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb89f4fb10>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlite3.IntegrityError: NOT NULL constraint failed: courses.semester\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError\n\nThe above exception was the direct cause of the following exception:\n\ndb = <sqlalchemy.orm.session.Session object at 0x7fcb88f19690>\n\n    @pytest.fixture\n    def test_data(db: Session):\n        \"\"\"Create test data\"\"\"\n        students = [\n            Student(first_name=\"John\", last_name=\"Doe\", email=\"john@example.com\", phone=\"555-0001\", deleted_at=None),\n            Student(first_name=\"Jane\", last_name=\"Smith\", email=\"jane@example.com\", phone=\"555-0002\", deleted_at=None),\n            Student(first_name=\"Bob\", last_name=\"Johnson\", email=\"bob@example.com\", phone=\"555-0003\", deleted_at=None),\n        ]\n    \n        courses = [\n            Course(course_name=\"Mathematics 101\", course_code=\"MATH101\", credits=3, deleted_at=None),\n            Course(course_name=\"Physics 201\", course_code=\"PHYS201\", credits=4, deleted_at=None),\n            Course(course_name=\"English 101\", course_code=\"ENG101\", credits=3, deleted_at=None),\n        ]\n    \n        for student in students:\n            db.add(student)\n        for course in courses:\n            db.add(course)\n>       db.commit()\n\ntests/test_search_api_endpoints.py:78: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:2030: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1311: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1286: in _prepare_impl\n    self.session.flush()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4331: in flush\n    self._flush(objects)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4466: in _flush\n    with util.safe_reraise():\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4427: in _flush\n    flush_context.execute()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:466: in execute\n    rec.execute(self)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:93: in save_obj\n    _emit_insert_statements(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:1143: in _emit_insert_statements\n    result = connection.execute(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1419: in execute\n    return meth(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1844: in _execute_context\n    return self._exec_insertmany_context(dialect, context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2126: in _exec_insertmany_context\n    self._handle_dbapi_exception(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: in _exec_insertmany_context\n    dialect.do_execute(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb8925b5c0>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb89f4fb10>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\nE       [SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\nE       [parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\nE       (Background on this error at: https://sqlalche.me/e/20/gkpj)\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError"}, "teardown": {"duration": 0.0006929219999847192, "outcome": "passed"}}, {"nodeid": "tests/test_search_api_endpoints.py::TestStudentSearchEndpoint::test_search_students_missing_auth", "lineno": 179, "outcome": "failed", "keywords": ["test_search_students_missing_auth", "TestStudentSearchEndpoint", "test_search_api_endpoints.py", "tests", "backend", ""], "setup": {"duration": 0.44847221199998444, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815277.761023, "msecs": 761.0, "relativeCreated": 83638.99111747742, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:37,761"}]}, "call": {"duration": 0.007210162999996328, "outcome": "failed", "crash": {"path": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_api_endpoints.py", "lineno": 184, "message": "assert 404 in [401, 403]\n +  where 404 = <Response [404 Not Found]>.status_code"}, "traceback": [{"path": "tests/test_search_api_endpoints.py", "lineno": 184, "message": "AssertionError"}], "longrepr": "self = <backend.tests.test_search_api_endpoints.TestStudentSearchEndpoint object at 0x7fcb8cd1d9d0>\nclient = <starlette.testclient.TestClient object at 0x7fcb89809d90>\n\n    def test_search_students_missing_auth(self, client):\n        \"\"\"Should reject unauthenticated requests\"\"\"\n        response = client.post(self.endpoint, json={\"query\": \"john\"})\n    \n>       assert response.status_code in [401, 403]\nE       assert 404 in [401, 403]\nE        +  where 404 = <Response [404 Not Found]>.status_code\n\ntests/test_search_api_endpoints.py:184: AssertionError"}, "teardown": {"duration": 0.00035411999999723776, "outcome": "passed"}}, {"nodeid": "tests/test_search_api_endpoints.py::TestStudentSearchEndpoint::test_search_students_response_format", "lineno": 185, "outcome": "error", "keywords": ["test_search_students_response_format", "TestStudentSearchEndpoint", "test_search_api_endpoints.py", "tests", "backend", ""], "setup": {"duration": 0.4495272049999812, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\n[SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\n[parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)"}, "traceback": [{"path": "tests/test_search_api_endpoints.py", "lineno": 78, "message": ""}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 2030, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in commit"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1311, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1286, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4331, "message": "in flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4466, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", "lineno": 224, "message": "in __exit__"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4427, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 466, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 642, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 93, "message": "in save_obj"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 1143, "message": "in _emit_insert_statements"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1419, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", "lineno": 526, "message": "in _execute_on_connection"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1641, "message": "in _execute_clauseelement"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1844, "message": "in _execute_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2126, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2355, "message": "in _handle_dbapi_exception"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2118, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "IntegrityError"}], "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815278.2338583, "msecs": 233.0, "relativeCreated": 84111.82641983032, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:38,233"}], "longrepr": "self = <sqlalchemy.engine.base.Connection object at 0x7fcb8c4b5890>\ndialect = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8c50f0d0>\n\n    def _exec_insertmany_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for an \"insertmanyvalues\"\n        operation, which will invoke DBAPI\n        cursor.execute() one or more times with individual log and\n        event hook calls.\n    \n        \"\"\"\n    \n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n        else:\n            generic_setinputsizes = None\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters = parameters\n    \n        engine_events = self._has_events or self.engine._has_events\n        if self.dialect._has_events:\n            do_execute_dispatch: Iterable[Any] = (\n                self.dialect.dispatch.do_execute\n            )\n        else:\n            do_execute_dispatch = ()\n    \n        if self._echo:\n            stats = context._get_cache_stats() + \" (insertmanyvalues)\"\n    \n        preserve_rowcount = context.execution_options.get(\n            \"preserve_rowcount\", False\n        )\n        rowcount = 0\n    \n        for imv_batch in dialect._deliver_insertmanyvalues_batches(\n            self,\n            cursor,\n            str_statement,\n            effective_parameters,\n            generic_setinputsizes,\n            context,\n        ):\n            if imv_batch.processed_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor,\n                        imv_batch.processed_setinputsizes,\n                        context,\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e,\n                        sql_util._long_statement(imv_batch.replaced_statement),\n                        imv_batch.replaced_parameters,\n                        None,\n                        context,\n                        is_sub_exec=True,\n                    )\n    \n            sub_stmt = imv_batch.replaced_statement\n            sub_params = imv_batch.replaced_parameters\n    \n            if engine_events:\n                for fn in self.dispatch.before_cursor_execute:\n                    sub_stmt, sub_params = fn(\n                        self,\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                        True,\n                    )\n    \n            if self._echo:\n                self._log_info(sql_util._long_statement(sub_stmt))\n    \n                imv_stats = f\"\"\" {imv_batch.batchnum}/{\n                            imv_batch.total_batches\n                } ({\n                    'ordered'\n                    if imv_batch.rows_sorted else 'unordered'\n                }{\n                    '; batch not supported'\n                    if imv_batch.is_downgraded\n                    else ''\n                })\"\"\"\n    \n                if imv_batch.batchnum == 1:\n                    stats += imv_stats\n                else:\n                    stats = f\"insertmanyvalues{imv_stats}\"\n    \n                if not self.engine.hide_parameters:\n                    self._log_info(\n                        \"[%s] %r\",\n                        stats,\n                        sql_util._repr_params(\n                            sub_params,\n                            batches=10,\n                            ismulti=False,\n                        ),\n                    )\n                else:\n                    self._log_info(\n                        \"[%s] [SQL parameters hidden due to \"\n                        \"hide_parameters=True]\",\n                        stats,\n                    )\n    \n            try:\n                for fn in do_execute_dispatch:\n                    if fn(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    ):\n                        break\n                else:\n>                   dialect.do_execute(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    )\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb8c514340>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8c50f0d0>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlite3.IntegrityError: NOT NULL constraint failed: courses.semester\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError\n\nThe above exception was the direct cause of the following exception:\n\ndb = <sqlalchemy.orm.session.Session object at 0x7fcb8c4b5a90>\n\n    @pytest.fixture\n    def test_data(db: Session):\n        \"\"\"Create test data\"\"\"\n        students = [\n            Student(first_name=\"John\", last_name=\"Doe\", email=\"john@example.com\", phone=\"555-0001\", deleted_at=None),\n            Student(first_name=\"Jane\", last_name=\"Smith\", email=\"jane@example.com\", phone=\"555-0002\", deleted_at=None),\n            Student(first_name=\"Bob\", last_name=\"Johnson\", email=\"bob@example.com\", phone=\"555-0003\", deleted_at=None),\n        ]\n    \n        courses = [\n            Course(course_name=\"Mathematics 101\", course_code=\"MATH101\", credits=3, deleted_at=None),\n            Course(course_name=\"Physics 201\", course_code=\"PHYS201\", credits=4, deleted_at=None),\n            Course(course_name=\"English 101\", course_code=\"ENG101\", credits=3, deleted_at=None),\n        ]\n    \n        for student in students:\n            db.add(student)\n        for course in courses:\n            db.add(course)\n>       db.commit()\n\ntests/test_search_api_endpoints.py:78: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:2030: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1311: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1286: in _prepare_impl\n    self.session.flush()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4331: in flush\n    self._flush(objects)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4466: in _flush\n    with util.safe_reraise():\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4427: in _flush\n    flush_context.execute()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:466: in execute\n    rec.execute(self)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:93: in save_obj\n    _emit_insert_statements(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:1143: in _emit_insert_statements\n    result = connection.execute(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1419: in execute\n    return meth(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1844: in _execute_context\n    return self._exec_insertmany_context(dialect, context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2126: in _exec_insertmany_context\n    self._handle_dbapi_exception(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: in _exec_insertmany_context\n    dialect.do_execute(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb8c514340>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8c50f0d0>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\nE       [SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\nE       [parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\nE       (Background on this error at: https://sqlalche.me/e/20/gkpj)\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError"}, "teardown": {"duration": 0.0006645689999800197, "outcome": "passed"}}, {"nodeid": "tests/test_search_api_endpoints.py::TestCourseSearchEndpoint::test_search_courses_by_name", "lineno": 203, "outcome": "error", "keywords": ["test_search_courses_by_name", "TestCourseSearchEndpoint", "test_search_api_endpoints.py", "tests", "backend", ""], "setup": {"duration": 0.44881261199998335, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\n[SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\n[parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)"}, "traceback": [{"path": "tests/test_search_api_endpoints.py", "lineno": 78, "message": ""}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 2030, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in commit"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1311, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1286, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4331, "message": "in flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4466, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", "lineno": 224, "message": "in __exit__"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4427, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 466, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 642, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 93, "message": "in save_obj"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 1143, "message": "in _emit_insert_statements"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1419, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", "lineno": 526, "message": "in _execute_on_connection"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1641, "message": "in _execute_clauseelement"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1844, "message": "in _execute_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2126, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2355, "message": "in _handle_dbapi_exception"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2118, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "IntegrityError"}], "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815279.6730502, "msecs": 673.0, "relativeCreated": 85551.01823806763, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:39,673"}], "longrepr": "self = <sqlalchemy.engine.base.Connection object at 0x7fcb88e43210>\ndialect = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb894a6590>\n\n    def _exec_insertmany_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for an \"insertmanyvalues\"\n        operation, which will invoke DBAPI\n        cursor.execute() one or more times with individual log and\n        event hook calls.\n    \n        \"\"\"\n    \n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n        else:\n            generic_setinputsizes = None\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters = parameters\n    \n        engine_events = self._has_events or self.engine._has_events\n        if self.dialect._has_events:\n            do_execute_dispatch: Iterable[Any] = (\n                self.dialect.dispatch.do_execute\n            )\n        else:\n            do_execute_dispatch = ()\n    \n        if self._echo:\n            stats = context._get_cache_stats() + \" (insertmanyvalues)\"\n    \n        preserve_rowcount = context.execution_options.get(\n            \"preserve_rowcount\", False\n        )\n        rowcount = 0\n    \n        for imv_batch in dialect._deliver_insertmanyvalues_batches(\n            self,\n            cursor,\n            str_statement,\n            effective_parameters,\n            generic_setinputsizes,\n            context,\n        ):\n            if imv_batch.processed_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor,\n                        imv_batch.processed_setinputsizes,\n                        context,\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e,\n                        sql_util._long_statement(imv_batch.replaced_statement),\n                        imv_batch.replaced_parameters,\n                        None,\n                        context,\n                        is_sub_exec=True,\n                    )\n    \n            sub_stmt = imv_batch.replaced_statement\n            sub_params = imv_batch.replaced_parameters\n    \n            if engine_events:\n                for fn in self.dispatch.before_cursor_execute:\n                    sub_stmt, sub_params = fn(\n                        self,\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                        True,\n                    )\n    \n            if self._echo:\n                self._log_info(sql_util._long_statement(sub_stmt))\n    \n                imv_stats = f\"\"\" {imv_batch.batchnum}/{\n                            imv_batch.total_batches\n                } ({\n                    'ordered'\n                    if imv_batch.rows_sorted else 'unordered'\n                }{\n                    '; batch not supported'\n                    if imv_batch.is_downgraded\n                    else ''\n                })\"\"\"\n    \n                if imv_batch.batchnum == 1:\n                    stats += imv_stats\n                else:\n                    stats = f\"insertmanyvalues{imv_stats}\"\n    \n                if not self.engine.hide_parameters:\n                    self._log_info(\n                        \"[%s] %r\",\n                        stats,\n                        sql_util._repr_params(\n                            sub_params,\n                            batches=10,\n                            ismulti=False,\n                        ),\n                    )\n                else:\n                    self._log_info(\n                        \"[%s] [SQL parameters hidden due to \"\n                        \"hide_parameters=True]\",\n                        stats,\n                    )\n    \n            try:\n                for fn in do_execute_dispatch:\n                    if fn(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    ):\n                        break\n                else:\n>                   dialect.do_execute(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    )\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb896d9ec0>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb894a6590>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlite3.IntegrityError: NOT NULL constraint failed: courses.semester\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError\n\nThe above exception was the direct cause of the following exception:\n\ndb = <sqlalchemy.orm.session.Session object at 0x7fcb8943bb10>\n\n    @pytest.fixture\n    def test_data(db: Session):\n        \"\"\"Create test data\"\"\"\n        students = [\n            Student(first_name=\"John\", last_name=\"Doe\", email=\"john@example.com\", phone=\"555-0001\", deleted_at=None),\n            Student(first_name=\"Jane\", last_name=\"Smith\", email=\"jane@example.com\", phone=\"555-0002\", deleted_at=None),\n            Student(first_name=\"Bob\", last_name=\"Johnson\", email=\"bob@example.com\", phone=\"555-0003\", deleted_at=None),\n        ]\n    \n        courses = [\n            Course(course_name=\"Mathematics 101\", course_code=\"MATH101\", credits=3, deleted_at=None),\n            Course(course_name=\"Physics 201\", course_code=\"PHYS201\", credits=4, deleted_at=None),\n            Course(course_name=\"English 101\", course_code=\"ENG101\", credits=3, deleted_at=None),\n        ]\n    \n        for student in students:\n            db.add(student)\n        for course in courses:\n            db.add(course)\n>       db.commit()\n\ntests/test_search_api_endpoints.py:78: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:2030: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1311: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1286: in _prepare_impl\n    self.session.flush()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4331: in flush\n    self._flush(objects)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4466: in _flush\n    with util.safe_reraise():\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4427: in _flush\n    flush_context.execute()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:466: in execute\n    rec.execute(self)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:93: in save_obj\n    _emit_insert_statements(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:1143: in _emit_insert_statements\n    result = connection.execute(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1419: in execute\n    return meth(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1844: in _execute_context\n    return self._exec_insertmany_context(dialect, context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2126: in _exec_insertmany_context\n    self._handle_dbapi_exception(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: in _exec_insertmany_context\n    dialect.do_execute(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb896d9ec0>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb894a6590>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\nE       [SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\nE       [parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\nE       (Background on this error at: https://sqlalche.me/e/20/gkpj)\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError"}, "teardown": {"duration": 0.0006715620000079525, "outcome": "passed"}}, {"nodeid": "tests/test_search_api_endpoints.py::TestCourseSearchEndpoint::test_search_courses_by_code", "lineno": 212, "outcome": "error", "keywords": ["test_search_courses_by_code", "TestCourseSearchEndpoint", "test_search_api_endpoints.py", "tests", "backend", ""], "setup": {"duration": 0.4535278529999971, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\n[SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\n[parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)"}, "traceback": [{"path": "tests/test_search_api_endpoints.py", "lineno": 78, "message": ""}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 2030, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in commit"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1311, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1286, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4331, "message": "in flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4466, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", "lineno": 224, "message": "in __exit__"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4427, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 466, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 642, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 93, "message": "in save_obj"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 1143, "message": "in _emit_insert_statements"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1419, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", "lineno": 526, "message": "in _execute_on_connection"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1641, "message": "in _execute_clauseelement"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1844, "message": "in _execute_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2126, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2355, "message": "in _handle_dbapi_exception"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2118, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "IntegrityError"}], "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815281.1141841, "msecs": 114.0, "relativeCreated": 86992.1522140503, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:41,114"}], "longrepr": "self = <sqlalchemy.engine.base.Connection object at 0x7fcb89264b90>\ndialect = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8916fb10>\n\n    def _exec_insertmany_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for an \"insertmanyvalues\"\n        operation, which will invoke DBAPI\n        cursor.execute() one or more times with individual log and\n        event hook calls.\n    \n        \"\"\"\n    \n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n        else:\n            generic_setinputsizes = None\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters = parameters\n    \n        engine_events = self._has_events or self.engine._has_events\n        if self.dialect._has_events:\n            do_execute_dispatch: Iterable[Any] = (\n                self.dialect.dispatch.do_execute\n            )\n        else:\n            do_execute_dispatch = ()\n    \n        if self._echo:\n            stats = context._get_cache_stats() + \" (insertmanyvalues)\"\n    \n        preserve_rowcount = context.execution_options.get(\n            \"preserve_rowcount\", False\n        )\n        rowcount = 0\n    \n        for imv_batch in dialect._deliver_insertmanyvalues_batches(\n            self,\n            cursor,\n            str_statement,\n            effective_parameters,\n            generic_setinputsizes,\n            context,\n        ):\n            if imv_batch.processed_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor,\n                        imv_batch.processed_setinputsizes,\n                        context,\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e,\n                        sql_util._long_statement(imv_batch.replaced_statement),\n                        imv_batch.replaced_parameters,\n                        None,\n                        context,\n                        is_sub_exec=True,\n                    )\n    \n            sub_stmt = imv_batch.replaced_statement\n            sub_params = imv_batch.replaced_parameters\n    \n            if engine_events:\n                for fn in self.dispatch.before_cursor_execute:\n                    sub_stmt, sub_params = fn(\n                        self,\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                        True,\n                    )\n    \n            if self._echo:\n                self._log_info(sql_util._long_statement(sub_stmt))\n    \n                imv_stats = f\"\"\" {imv_batch.batchnum}/{\n                            imv_batch.total_batches\n                } ({\n                    'ordered'\n                    if imv_batch.rows_sorted else 'unordered'\n                }{\n                    '; batch not supported'\n                    if imv_batch.is_downgraded\n                    else ''\n                })\"\"\"\n    \n                if imv_batch.batchnum == 1:\n                    stats += imv_stats\n                else:\n                    stats = f\"insertmanyvalues{imv_stats}\"\n    \n                if not self.engine.hide_parameters:\n                    self._log_info(\n                        \"[%s] %r\",\n                        stats,\n                        sql_util._repr_params(\n                            sub_params,\n                            batches=10,\n                            ismulti=False,\n                        ),\n                    )\n                else:\n                    self._log_info(\n                        \"[%s] [SQL parameters hidden due to \"\n                        \"hide_parameters=True]\",\n                        stats,\n                    )\n    \n            try:\n                for fn in do_execute_dispatch:\n                    if fn(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    ):\n                        break\n                else:\n>                   dialect.do_execute(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    )\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb8922dbc0>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8916fb10>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlite3.IntegrityError: NOT NULL constraint failed: courses.semester\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError\n\nThe above exception was the direct cause of the following exception:\n\ndb = <sqlalchemy.orm.session.Session object at 0x7fcb892674d0>\n\n    @pytest.fixture\n    def test_data(db: Session):\n        \"\"\"Create test data\"\"\"\n        students = [\n            Student(first_name=\"John\", last_name=\"Doe\", email=\"john@example.com\", phone=\"555-0001\", deleted_at=None),\n            Student(first_name=\"Jane\", last_name=\"Smith\", email=\"jane@example.com\", phone=\"555-0002\", deleted_at=None),\n            Student(first_name=\"Bob\", last_name=\"Johnson\", email=\"bob@example.com\", phone=\"555-0003\", deleted_at=None),\n        ]\n    \n        courses = [\n            Course(course_name=\"Mathematics 101\", course_code=\"MATH101\", credits=3, deleted_at=None),\n            Course(course_name=\"Physics 201\", course_code=\"PHYS201\", credits=4, deleted_at=None),\n            Course(course_name=\"English 101\", course_code=\"ENG101\", credits=3, deleted_at=None),\n        ]\n    \n        for student in students:\n            db.add(student)\n        for course in courses:\n            db.add(course)\n>       db.commit()\n\ntests/test_search_api_endpoints.py:78: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:2030: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1311: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1286: in _prepare_impl\n    self.session.flush()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4331: in flush\n    self._flush(objects)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4466: in _flush\n    with util.safe_reraise():\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4427: in _flush\n    flush_context.execute()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:466: in execute\n    rec.execute(self)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:93: in save_obj\n    _emit_insert_statements(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:1143: in _emit_insert_statements\n    result = connection.execute(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1419: in execute\n    return meth(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1844: in _execute_context\n    return self._exec_insertmany_context(dialect, context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2126: in _exec_insertmany_context\n    self._handle_dbapi_exception(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: in _exec_insertmany_context\n    dialect.do_execute(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb8922dbc0>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8916fb10>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\nE       [SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\nE       [parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\nE       (Background on this error at: https://sqlalche.me/e/20/gkpj)\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError"}, "teardown": {"duration": 0.0007101329999841255, "outcome": "passed"}}, {"nodeid": "tests/test_search_api_endpoints.py::TestCourseSearchEndpoint::test_search_courses_filter_credits", "lineno": 220, "outcome": "error", "keywords": ["test_search_courses_filter_credits", "TestCourseSearchEndpoint", "test_search_api_endpoints.py", "tests", "backend", ""], "setup": {"duration": 0.4474875319999967, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\n[SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\n[parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)"}, "traceback": [{"path": "tests/test_search_api_endpoints.py", "lineno": 78, "message": ""}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 2030, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in commit"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1311, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1286, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4331, "message": "in flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4466, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", "lineno": 224, "message": "in __exit__"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4427, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 466, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 642, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 93, "message": "in save_obj"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 1143, "message": "in _emit_insert_statements"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1419, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", "lineno": 526, "message": "in _execute_on_connection"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1641, "message": "in _execute_clauseelement"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1844, "message": "in _execute_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2126, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2355, "message": "in _handle_dbapi_exception"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2118, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "IntegrityError"}], "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815282.5443568, "msecs": 544.0, "relativeCreated": 88422.32489585876, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:42,544"}], "longrepr": "self = <sqlalchemy.engine.base.Connection object at 0x7fcb8c07db10>\ndialect = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8c5375d0>\n\n    def _exec_insertmany_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for an \"insertmanyvalues\"\n        operation, which will invoke DBAPI\n        cursor.execute() one or more times with individual log and\n        event hook calls.\n    \n        \"\"\"\n    \n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n        else:\n            generic_setinputsizes = None\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters = parameters\n    \n        engine_events = self._has_events or self.engine._has_events\n        if self.dialect._has_events:\n            do_execute_dispatch: Iterable[Any] = (\n                self.dialect.dispatch.do_execute\n            )\n        else:\n            do_execute_dispatch = ()\n    \n        if self._echo:\n            stats = context._get_cache_stats() + \" (insertmanyvalues)\"\n    \n        preserve_rowcount = context.execution_options.get(\n            \"preserve_rowcount\", False\n        )\n        rowcount = 0\n    \n        for imv_batch in dialect._deliver_insertmanyvalues_batches(\n            self,\n            cursor,\n            str_statement,\n            effective_parameters,\n            generic_setinputsizes,\n            context,\n        ):\n            if imv_batch.processed_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor,\n                        imv_batch.processed_setinputsizes,\n                        context,\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e,\n                        sql_util._long_statement(imv_batch.replaced_statement),\n                        imv_batch.replaced_parameters,\n                        None,\n                        context,\n                        is_sub_exec=True,\n                    )\n    \n            sub_stmt = imv_batch.replaced_statement\n            sub_params = imv_batch.replaced_parameters\n    \n            if engine_events:\n                for fn in self.dispatch.before_cursor_execute:\n                    sub_stmt, sub_params = fn(\n                        self,\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                        True,\n                    )\n    \n            if self._echo:\n                self._log_info(sql_util._long_statement(sub_stmt))\n    \n                imv_stats = f\"\"\" {imv_batch.batchnum}/{\n                            imv_batch.total_batches\n                } ({\n                    'ordered'\n                    if imv_batch.rows_sorted else 'unordered'\n                }{\n                    '; batch not supported'\n                    if imv_batch.is_downgraded\n                    else ''\n                })\"\"\"\n    \n                if imv_batch.batchnum == 1:\n                    stats += imv_stats\n                else:\n                    stats = f\"insertmanyvalues{imv_stats}\"\n    \n                if not self.engine.hide_parameters:\n                    self._log_info(\n                        \"[%s] %r\",\n                        stats,\n                        sql_util._repr_params(\n                            sub_params,\n                            batches=10,\n                            ismulti=False,\n                        ),\n                    )\n                else:\n                    self._log_info(\n                        \"[%s] [SQL parameters hidden due to \"\n                        \"hide_parameters=True]\",\n                        stats,\n                    )\n    \n            try:\n                for fn in do_execute_dispatch:\n                    if fn(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    ):\n                        break\n                else:\n>                   dialect.do_execute(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    )\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb8bdbda40>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8c5375d0>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlite3.IntegrityError: NOT NULL constraint failed: courses.semester\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError\n\nThe above exception was the direct cause of the following exception:\n\ndb = <sqlalchemy.orm.session.Session object at 0x7fcb8c07da90>\n\n    @pytest.fixture\n    def test_data(db: Session):\n        \"\"\"Create test data\"\"\"\n        students = [\n            Student(first_name=\"John\", last_name=\"Doe\", email=\"john@example.com\", phone=\"555-0001\", deleted_at=None),\n            Student(first_name=\"Jane\", last_name=\"Smith\", email=\"jane@example.com\", phone=\"555-0002\", deleted_at=None),\n            Student(first_name=\"Bob\", last_name=\"Johnson\", email=\"bob@example.com\", phone=\"555-0003\", deleted_at=None),\n        ]\n    \n        courses = [\n            Course(course_name=\"Mathematics 101\", course_code=\"MATH101\", credits=3, deleted_at=None),\n            Course(course_name=\"Physics 201\", course_code=\"PHYS201\", credits=4, deleted_at=None),\n            Course(course_name=\"English 101\", course_code=\"ENG101\", credits=3, deleted_at=None),\n        ]\n    \n        for student in students:\n            db.add(student)\n        for course in courses:\n            db.add(course)\n>       db.commit()\n\ntests/test_search_api_endpoints.py:78: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:2030: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1311: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1286: in _prepare_impl\n    self.session.flush()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4331: in flush\n    self._flush(objects)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4466: in _flush\n    with util.safe_reraise():\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4427: in _flush\n    flush_context.execute()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:466: in execute\n    rec.execute(self)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:93: in save_obj\n    _emit_insert_statements(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:1143: in _emit_insert_statements\n    result = connection.execute(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1419: in execute\n    return meth(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1844: in _execute_context\n    return self._exec_insertmany_context(dialect, context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2126: in _exec_insertmany_context\n    self._handle_dbapi_exception(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: in _exec_insertmany_context\n    dialect.do_execute(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb8bdbda40>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8c5375d0>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\nE       [SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\nE       [parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\nE       (Background on this error at: https://sqlalche.me/e/20/gkpj)\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError"}, "teardown": {"duration": 0.0006408149999970192, "outcome": "passed"}}, {"nodeid": "tests/test_search_api_endpoints.py::TestCourseSearchEndpoint::test_search_courses_soft_delete_filter", "lineno": 232, "outcome": "error", "keywords": ["test_search_courses_soft_delete_filter", "TestCourseSearchEndpoint", "test_search_api_endpoints.py", "tests", "backend", ""], "setup": {"duration": 0.450579155000014, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\n[SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\n[parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)"}, "traceback": [{"path": "tests/test_search_api_endpoints.py", "lineno": 78, "message": ""}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 2030, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in commit"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1311, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1286, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4331, "message": "in flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4466, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", "lineno": 224, "message": "in __exit__"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4427, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 466, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 642, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 93, "message": "in save_obj"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 1143, "message": "in _emit_insert_statements"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1419, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", "lineno": 526, "message": "in _execute_on_connection"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1641, "message": "in _execute_clauseelement"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1844, "message": "in _execute_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2126, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2355, "message": "in _handle_dbapi_exception"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2118, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "IntegrityError"}], "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815283.9391007, "msecs": 939.0, "relativeCreated": 89817.06881523132, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:43,939"}], "longrepr": "self = <sqlalchemy.engine.base.Connection object at 0x7fcb89740c50>\ndialect = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8bddfb10>\n\n    def _exec_insertmany_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for an \"insertmanyvalues\"\n        operation, which will invoke DBAPI\n        cursor.execute() one or more times with individual log and\n        event hook calls.\n    \n        \"\"\"\n    \n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n        else:\n            generic_setinputsizes = None\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters = parameters\n    \n        engine_events = self._has_events or self.engine._has_events\n        if self.dialect._has_events:\n            do_execute_dispatch: Iterable[Any] = (\n                self.dialect.dispatch.do_execute\n            )\n        else:\n            do_execute_dispatch = ()\n    \n        if self._echo:\n            stats = context._get_cache_stats() + \" (insertmanyvalues)\"\n    \n        preserve_rowcount = context.execution_options.get(\n            \"preserve_rowcount\", False\n        )\n        rowcount = 0\n    \n        for imv_batch in dialect._deliver_insertmanyvalues_batches(\n            self,\n            cursor,\n            str_statement,\n            effective_parameters,\n            generic_setinputsizes,\n            context,\n        ):\n            if imv_batch.processed_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor,\n                        imv_batch.processed_setinputsizes,\n                        context,\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e,\n                        sql_util._long_statement(imv_batch.replaced_statement),\n                        imv_batch.replaced_parameters,\n                        None,\n                        context,\n                        is_sub_exec=True,\n                    )\n    \n            sub_stmt = imv_batch.replaced_statement\n            sub_params = imv_batch.replaced_parameters\n    \n            if engine_events:\n                for fn in self.dispatch.before_cursor_execute:\n                    sub_stmt, sub_params = fn(\n                        self,\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                        True,\n                    )\n    \n            if self._echo:\n                self._log_info(sql_util._long_statement(sub_stmt))\n    \n                imv_stats = f\"\"\" {imv_batch.batchnum}/{\n                            imv_batch.total_batches\n                } ({\n                    'ordered'\n                    if imv_batch.rows_sorted else 'unordered'\n                }{\n                    '; batch not supported'\n                    if imv_batch.is_downgraded\n                    else ''\n                })\"\"\"\n    \n                if imv_batch.batchnum == 1:\n                    stats += imv_stats\n                else:\n                    stats = f\"insertmanyvalues{imv_stats}\"\n    \n                if not self.engine.hide_parameters:\n                    self._log_info(\n                        \"[%s] %r\",\n                        stats,\n                        sql_util._repr_params(\n                            sub_params,\n                            batches=10,\n                            ismulti=False,\n                        ),\n                    )\n                else:\n                    self._log_info(\n                        \"[%s] [SQL parameters hidden due to \"\n                        \"hide_parameters=True]\",\n                        stats,\n                    )\n    \n            try:\n                for fn in do_execute_dispatch:\n                    if fn(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    ):\n                        break\n                else:\n>                   dialect.do_execute(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    )\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb896b86c0>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8bddfb10>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlite3.IntegrityError: NOT NULL constraint failed: courses.semester\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError\n\nThe above exception was the direct cause of the following exception:\n\ndb = <sqlalchemy.orm.session.Session object at 0x7fcb89742f50>\n\n    @pytest.fixture\n    def test_data(db: Session):\n        \"\"\"Create test data\"\"\"\n        students = [\n            Student(first_name=\"John\", last_name=\"Doe\", email=\"john@example.com\", phone=\"555-0001\", deleted_at=None),\n            Student(first_name=\"Jane\", last_name=\"Smith\", email=\"jane@example.com\", phone=\"555-0002\", deleted_at=None),\n            Student(first_name=\"Bob\", last_name=\"Johnson\", email=\"bob@example.com\", phone=\"555-0003\", deleted_at=None),\n        ]\n    \n        courses = [\n            Course(course_name=\"Mathematics 101\", course_code=\"MATH101\", credits=3, deleted_at=None),\n            Course(course_name=\"Physics 201\", course_code=\"PHYS201\", credits=4, deleted_at=None),\n            Course(course_name=\"English 101\", course_code=\"ENG101\", credits=3, deleted_at=None),\n        ]\n    \n        for student in students:\n            db.add(student)\n        for course in courses:\n            db.add(course)\n>       db.commit()\n\ntests/test_search_api_endpoints.py:78: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:2030: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1311: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1286: in _prepare_impl\n    self.session.flush()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4331: in flush\n    self._flush(objects)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4466: in _flush\n    with util.safe_reraise():\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4427: in _flush\n    flush_context.execute()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:466: in execute\n    rec.execute(self)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:93: in save_obj\n    _emit_insert_statements(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:1143: in _emit_insert_statements\n    result = connection.execute(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1419: in execute\n    return meth(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1844: in _execute_context\n    return self._exec_insertmany_context(dialect, context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2126: in _exec_insertmany_context\n    self._handle_dbapi_exception(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: in _exec_insertmany_context\n    dialect.do_execute(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb896b86c0>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8bddfb10>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\nE       [SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\nE       [parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\nE       (Background on this error at: https://sqlalche.me/e/20/gkpj)\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError"}, "teardown": {"duration": 0.0006921909999846321, "outcome": "passed"}}, {"nodeid": "tests/test_search_api_endpoints.py::TestCourseSearchEndpoint::test_search_courses_pagination", "lineno": 243, "outcome": "error", "keywords": ["test_search_courses_pagination", "TestCourseSearchEndpoint", "test_search_api_endpoints.py", "tests", "backend", ""], "setup": {"duration": 0.4478747439999893, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\n[SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\n[parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)"}, "traceback": [{"path": "tests/test_search_api_endpoints.py", "lineno": 78, "message": ""}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 2030, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in commit"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1311, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1286, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4331, "message": "in flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4466, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", "lineno": 224, "message": "in __exit__"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4427, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 466, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 642, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 93, "message": "in save_obj"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 1143, "message": "in _emit_insert_statements"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1419, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", "lineno": 526, "message": "in _execute_on_connection"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1641, "message": "in _execute_clauseelement"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1844, "message": "in _execute_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2126, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2355, "message": "in _handle_dbapi_exception"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2118, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "IntegrityError"}], "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815285.4104736, "msecs": 410.0, "relativeCreated": 91288.44165802002, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:45,410"}], "longrepr": "self = <sqlalchemy.engine.base.Connection object at 0x7fcb898d5b10>\ndialect = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8c2dc410>\n\n    def _exec_insertmany_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for an \"insertmanyvalues\"\n        operation, which will invoke DBAPI\n        cursor.execute() one or more times with individual log and\n        event hook calls.\n    \n        \"\"\"\n    \n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n        else:\n            generic_setinputsizes = None\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters = parameters\n    \n        engine_events = self._has_events or self.engine._has_events\n        if self.dialect._has_events:\n            do_execute_dispatch: Iterable[Any] = (\n                self.dialect.dispatch.do_execute\n            )\n        else:\n            do_execute_dispatch = ()\n    \n        if self._echo:\n            stats = context._get_cache_stats() + \" (insertmanyvalues)\"\n    \n        preserve_rowcount = context.execution_options.get(\n            \"preserve_rowcount\", False\n        )\n        rowcount = 0\n    \n        for imv_batch in dialect._deliver_insertmanyvalues_batches(\n            self,\n            cursor,\n            str_statement,\n            effective_parameters,\n            generic_setinputsizes,\n            context,\n        ):\n            if imv_batch.processed_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor,\n                        imv_batch.processed_setinputsizes,\n                        context,\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e,\n                        sql_util._long_statement(imv_batch.replaced_statement),\n                        imv_batch.replaced_parameters,\n                        None,\n                        context,\n                        is_sub_exec=True,\n                    )\n    \n            sub_stmt = imv_batch.replaced_statement\n            sub_params = imv_batch.replaced_parameters\n    \n            if engine_events:\n                for fn in self.dispatch.before_cursor_execute:\n                    sub_stmt, sub_params = fn(\n                        self,\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                        True,\n                    )\n    \n            if self._echo:\n                self._log_info(sql_util._long_statement(sub_stmt))\n    \n                imv_stats = f\"\"\" {imv_batch.batchnum}/{\n                            imv_batch.total_batches\n                } ({\n                    'ordered'\n                    if imv_batch.rows_sorted else 'unordered'\n                }{\n                    '; batch not supported'\n                    if imv_batch.is_downgraded\n                    else ''\n                })\"\"\"\n    \n                if imv_batch.batchnum == 1:\n                    stats += imv_stats\n                else:\n                    stats = f\"insertmanyvalues{imv_stats}\"\n    \n                if not self.engine.hide_parameters:\n                    self._log_info(\n                        \"[%s] %r\",\n                        stats,\n                        sql_util._repr_params(\n                            sub_params,\n                            batches=10,\n                            ismulti=False,\n                        ),\n                    )\n                else:\n                    self._log_info(\n                        \"[%s] [SQL parameters hidden due to \"\n                        \"hide_parameters=True]\",\n                        stats,\n                    )\n    \n            try:\n                for fn in do_execute_dispatch:\n                    if fn(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    ):\n                        break\n                else:\n>                   dialect.do_execute(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    )\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb89a4b340>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8c2dc410>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlite3.IntegrityError: NOT NULL constraint failed: courses.semester\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError\n\nThe above exception was the direct cause of the following exception:\n\ndb = <sqlalchemy.orm.session.Session object at 0x7fcb898d7090>\n\n    @pytest.fixture\n    def test_data(db: Session):\n        \"\"\"Create test data\"\"\"\n        students = [\n            Student(first_name=\"John\", last_name=\"Doe\", email=\"john@example.com\", phone=\"555-0001\", deleted_at=None),\n            Student(first_name=\"Jane\", last_name=\"Smith\", email=\"jane@example.com\", phone=\"555-0002\", deleted_at=None),\n            Student(first_name=\"Bob\", last_name=\"Johnson\", email=\"bob@example.com\", phone=\"555-0003\", deleted_at=None),\n        ]\n    \n        courses = [\n            Course(course_name=\"Mathematics 101\", course_code=\"MATH101\", credits=3, deleted_at=None),\n            Course(course_name=\"Physics 201\", course_code=\"PHYS201\", credits=4, deleted_at=None),\n            Course(course_name=\"English 101\", course_code=\"ENG101\", credits=3, deleted_at=None),\n        ]\n    \n        for student in students:\n            db.add(student)\n        for course in courses:\n            db.add(course)\n>       db.commit()\n\ntests/test_search_api_endpoints.py:78: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:2030: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1311: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1286: in _prepare_impl\n    self.session.flush()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4331: in flush\n    self._flush(objects)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4466: in _flush\n    with util.safe_reraise():\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4427: in _flush\n    flush_context.execute()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:466: in execute\n    rec.execute(self)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:93: in save_obj\n    _emit_insert_statements(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:1143: in _emit_insert_statements\n    result = connection.execute(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1419: in execute\n    return meth(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1844: in _execute_context\n    return self._exec_insertmany_context(dialect, context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2126: in _exec_insertmany_context\n    self._handle_dbapi_exception(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: in _exec_insertmany_context\n    dialect.do_execute(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb89a4b340>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8c2dc410>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\nE       [SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\nE       [parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\nE       (Background on this error at: https://sqlalche.me/e/20/gkpj)\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError"}, "teardown": {"duration": 0.0007198559999892495, "outcome": "passed"}}, {"nodeid": "tests/test_search_api_endpoints.py::TestCourseSearchEndpoint::test_search_courses_invalid_filter", "lineno": 252, "outcome": "failed", "keywords": ["test_search_courses_invalid_filter", "TestCourseSearchEndpoint", "test_search_api_endpoints.py", "tests", "backend", ""], "setup": {"duration": 0.4448907800000086, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815286.8269694, "msecs": 826.0, "relativeCreated": 92704.93745803833, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:46,826"}]}, "call": {"duration": 0.00717790799998852, "outcome": "failed", "crash": {"path": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_api_endpoints.py", "lineno": 260, "message": "assert 404 in [200, 400]\n +  where 404 = <Response [404 Not Found]>.status_code"}, "traceback": [{"path": "tests/test_search_api_endpoints.py", "lineno": 260, "message": "AssertionError"}], "longrepr": "self = <backend.tests.test_search_api_endpoints.TestCourseSearchEndpoint object at 0x7fcb8cd1fa50>\nclient = <starlette.testclient.TestClient object at 0x7fcb88f39d90>\nadmin_headers = {'Authorization': 'Bearer admin_token', 'Content-Type': 'application/json'}\n\n    def test_search_courses_invalid_filter(self, client, admin_headers):\n        \"\"\"Should handle invalid filters\"\"\"\n        response = client.post(\n            self.endpoint, json={\"query\": \"\", \"filters\": {\"invalid_field\": \"value\"}}, headers=admin_headers\n        )\n    \n        # Should either reject or ignore invalid filters\n>       assert response.status_code in [200, 400]\nE       assert 404 in [200, 400]\nE        +  where 404 = <Response [404 Not Found]>.status_code\n\ntests/test_search_api_endpoints.py:260: AssertionError"}, "teardown": {"duration": 0.00038080699999909484, "outcome": "passed"}}, {"nodeid": "tests/test_search_api_endpoints.py::TestCourseSearchEndpoint::test_search_courses_response_fields", "lineno": 261, "outcome": "error", "keywords": ["test_search_courses_response_fields", "TestCourseSearchEndpoint", "test_search_api_endpoints.py", "tests", "backend", ""], "setup": {"duration": 0.44593399699999736, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\n[SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\n[parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)"}, "traceback": [{"path": "tests/test_search_api_endpoints.py", "lineno": 78, "message": ""}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 2030, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in commit"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1311, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1286, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4331, "message": "in flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4466, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", "lineno": 224, "message": "in __exit__"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4427, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 466, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 642, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 93, "message": "in save_obj"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 1143, "message": "in _emit_insert_statements"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1419, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", "lineno": 526, "message": "in _execute_on_connection"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1641, "message": "in _execute_clauseelement"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1844, "message": "in _execute_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2126, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2355, "message": "in _handle_dbapi_exception"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2118, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "IntegrityError"}], "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815287.296676, "msecs": 296.0, "relativeCreated": 93174.64399337769, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:47,296"}], "longrepr": "self = <sqlalchemy.engine.base.Connection object at 0x7fcb88be8110>\ndialect = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb89797b10>\n\n    def _exec_insertmany_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for an \"insertmanyvalues\"\n        operation, which will invoke DBAPI\n        cursor.execute() one or more times with individual log and\n        event hook calls.\n    \n        \"\"\"\n    \n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n        else:\n            generic_setinputsizes = None\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters = parameters\n    \n        engine_events = self._has_events or self.engine._has_events\n        if self.dialect._has_events:\n            do_execute_dispatch: Iterable[Any] = (\n                self.dialect.dispatch.do_execute\n            )\n        else:\n            do_execute_dispatch = ()\n    \n        if self._echo:\n            stats = context._get_cache_stats() + \" (insertmanyvalues)\"\n    \n        preserve_rowcount = context.execution_options.get(\n            \"preserve_rowcount\", False\n        )\n        rowcount = 0\n    \n        for imv_batch in dialect._deliver_insertmanyvalues_batches(\n            self,\n            cursor,\n            str_statement,\n            effective_parameters,\n            generic_setinputsizes,\n            context,\n        ):\n            if imv_batch.processed_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor,\n                        imv_batch.processed_setinputsizes,\n                        context,\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e,\n                        sql_util._long_statement(imv_batch.replaced_statement),\n                        imv_batch.replaced_parameters,\n                        None,\n                        context,\n                        is_sub_exec=True,\n                    )\n    \n            sub_stmt = imv_batch.replaced_statement\n            sub_params = imv_batch.replaced_parameters\n    \n            if engine_events:\n                for fn in self.dispatch.before_cursor_execute:\n                    sub_stmt, sub_params = fn(\n                        self,\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                        True,\n                    )\n    \n            if self._echo:\n                self._log_info(sql_util._long_statement(sub_stmt))\n    \n                imv_stats = f\"\"\" {imv_batch.batchnum}/{\n                            imv_batch.total_batches\n                } ({\n                    'ordered'\n                    if imv_batch.rows_sorted else 'unordered'\n                }{\n                    '; batch not supported'\n                    if imv_batch.is_downgraded\n                    else ''\n                })\"\"\"\n    \n                if imv_batch.batchnum == 1:\n                    stats += imv_stats\n                else:\n                    stats = f\"insertmanyvalues{imv_stats}\"\n    \n                if not self.engine.hide_parameters:\n                    self._log_info(\n                        \"[%s] %r\",\n                        stats,\n                        sql_util._repr_params(\n                            sub_params,\n                            batches=10,\n                            ismulti=False,\n                        ),\n                    )\n                else:\n                    self._log_info(\n                        \"[%s] [SQL parameters hidden due to \"\n                        \"hide_parameters=True]\",\n                        stats,\n                    )\n    \n            try:\n                for fn in do_execute_dispatch:\n                    if fn(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    ):\n                        break\n                else:\n>                   dialect.do_execute(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    )\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb88c4a640>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb89797b10>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlite3.IntegrityError: NOT NULL constraint failed: courses.semester\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError\n\nThe above exception was the direct cause of the following exception:\n\ndb = <sqlalchemy.orm.session.Session object at 0x7fcb88be8150>\n\n    @pytest.fixture\n    def test_data(db: Session):\n        \"\"\"Create test data\"\"\"\n        students = [\n            Student(first_name=\"John\", last_name=\"Doe\", email=\"john@example.com\", phone=\"555-0001\", deleted_at=None),\n            Student(first_name=\"Jane\", last_name=\"Smith\", email=\"jane@example.com\", phone=\"555-0002\", deleted_at=None),\n            Student(first_name=\"Bob\", last_name=\"Johnson\", email=\"bob@example.com\", phone=\"555-0003\", deleted_at=None),\n        ]\n    \n        courses = [\n            Course(course_name=\"Mathematics 101\", course_code=\"MATH101\", credits=3, deleted_at=None),\n            Course(course_name=\"Physics 201\", course_code=\"PHYS201\", credits=4, deleted_at=None),\n            Course(course_name=\"English 101\", course_code=\"ENG101\", credits=3, deleted_at=None),\n        ]\n    \n        for student in students:\n            db.add(student)\n        for course in courses:\n            db.add(course)\n>       db.commit()\n\ntests/test_search_api_endpoints.py:78: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:2030: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1311: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1286: in _prepare_impl\n    self.session.flush()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4331: in flush\n    self._flush(objects)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4466: in _flush\n    with util.safe_reraise():\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4427: in _flush\n    flush_context.execute()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:466: in execute\n    rec.execute(self)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:93: in save_obj\n    _emit_insert_statements(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:1143: in _emit_insert_statements\n    result = connection.execute(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1419: in execute\n    return meth(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1844: in _execute_context\n    return self._exec_insertmany_context(dialect, context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2126: in _exec_insertmany_context\n    self._handle_dbapi_exception(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: in _exec_insertmany_context\n    dialect.do_execute(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb88c4a640>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb89797b10>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\nE       [SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\nE       [parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\nE       (Background on this error at: https://sqlalche.me/e/20/gkpj)\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError"}, "teardown": {"duration": 0.0006642030000136856, "outcome": "passed"}}, {"nodeid": "tests/test_search_api_endpoints.py::TestGradeSearchEndpoint::test_search_grades_by_value", "lineno": 281, "outcome": "error", "keywords": ["test_search_grades_by_value", "TestGradeSearchEndpoint", "test_search_api_endpoints.py", "tests", "backend", ""], "setup": {"duration": 0.45302173100000687, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\n[SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\n[parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)"}, "traceback": [{"path": "tests/test_search_api_endpoints.py", "lineno": 78, "message": ""}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 2030, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in commit"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1311, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1286, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4331, "message": "in flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4466, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", "lineno": 224, "message": "in __exit__"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4427, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 466, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 642, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 93, "message": "in save_obj"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 1143, "message": "in _emit_insert_statements"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1419, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", "lineno": 526, "message": "in _execute_on_connection"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1641, "message": "in _execute_clauseelement"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1844, "message": "in _execute_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2126, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2355, "message": "in _handle_dbapi_exception"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2118, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "IntegrityError"}], "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815288.719656, "msecs": 719.0, "relativeCreated": 94597.62406349182, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:48,719"}], "longrepr": "self = <sqlalchemy.engine.base.Connection object at 0x7fcb89737cd0>\ndialect = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb88d9fb10>\n\n    def _exec_insertmany_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for an \"insertmanyvalues\"\n        operation, which will invoke DBAPI\n        cursor.execute() one or more times with individual log and\n        event hook calls.\n    \n        \"\"\"\n    \n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n        else:\n            generic_setinputsizes = None\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters = parameters\n    \n        engine_events = self._has_events or self.engine._has_events\n        if self.dialect._has_events:\n            do_execute_dispatch: Iterable[Any] = (\n                self.dialect.dispatch.do_execute\n            )\n        else:\n            do_execute_dispatch = ()\n    \n        if self._echo:\n            stats = context._get_cache_stats() + \" (insertmanyvalues)\"\n    \n        preserve_rowcount = context.execution_options.get(\n            \"preserve_rowcount\", False\n        )\n        rowcount = 0\n    \n        for imv_batch in dialect._deliver_insertmanyvalues_batches(\n            self,\n            cursor,\n            str_statement,\n            effective_parameters,\n            generic_setinputsizes,\n            context,\n        ):\n            if imv_batch.processed_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor,\n                        imv_batch.processed_setinputsizes,\n                        context,\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e,\n                        sql_util._long_statement(imv_batch.replaced_statement),\n                        imv_batch.replaced_parameters,\n                        None,\n                        context,\n                        is_sub_exec=True,\n                    )\n    \n            sub_stmt = imv_batch.replaced_statement\n            sub_params = imv_batch.replaced_parameters\n    \n            if engine_events:\n                for fn in self.dispatch.before_cursor_execute:\n                    sub_stmt, sub_params = fn(\n                        self,\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                        True,\n                    )\n    \n            if self._echo:\n                self._log_info(sql_util._long_statement(sub_stmt))\n    \n                imv_stats = f\"\"\" {imv_batch.batchnum}/{\n                            imv_batch.total_batches\n                } ({\n                    'ordered'\n                    if imv_batch.rows_sorted else 'unordered'\n                }{\n                    '; batch not supported'\n                    if imv_batch.is_downgraded\n                    else ''\n                })\"\"\"\n    \n                if imv_batch.batchnum == 1:\n                    stats += imv_stats\n                else:\n                    stats = f\"insertmanyvalues{imv_stats}\"\n    \n                if not self.engine.hide_parameters:\n                    self._log_info(\n                        \"[%s] %r\",\n                        stats,\n                        sql_util._repr_params(\n                            sub_params,\n                            batches=10,\n                            ismulti=False,\n                        ),\n                    )\n                else:\n                    self._log_info(\n                        \"[%s] [SQL parameters hidden due to \"\n                        \"hide_parameters=True]\",\n                        stats,\n                    )\n    \n            try:\n                for fn in do_execute_dispatch:\n                    if fn(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    ):\n                        break\n                else:\n>                   dialect.do_execute(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    )\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb88c2bdc0>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb88d9fb10>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlite3.IntegrityError: NOT NULL constraint failed: courses.semester\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError\n\nThe above exception was the direct cause of the following exception:\n\ndb = <sqlalchemy.orm.session.Session object at 0x7fcb88ee1710>\n\n    @pytest.fixture\n    def test_data(db: Session):\n        \"\"\"Create test data\"\"\"\n        students = [\n            Student(first_name=\"John\", last_name=\"Doe\", email=\"john@example.com\", phone=\"555-0001\", deleted_at=None),\n            Student(first_name=\"Jane\", last_name=\"Smith\", email=\"jane@example.com\", phone=\"555-0002\", deleted_at=None),\n            Student(first_name=\"Bob\", last_name=\"Johnson\", email=\"bob@example.com\", phone=\"555-0003\", deleted_at=None),\n        ]\n    \n        courses = [\n            Course(course_name=\"Mathematics 101\", course_code=\"MATH101\", credits=3, deleted_at=None),\n            Course(course_name=\"Physics 201\", course_code=\"PHYS201\", credits=4, deleted_at=None),\n            Course(course_name=\"English 101\", course_code=\"ENG101\", credits=3, deleted_at=None),\n        ]\n    \n        for student in students:\n            db.add(student)\n        for course in courses:\n            db.add(course)\n>       db.commit()\n\ntests/test_search_api_endpoints.py:78: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:2030: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1311: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1286: in _prepare_impl\n    self.session.flush()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4331: in flush\n    self._flush(objects)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4466: in _flush\n    with util.safe_reraise():\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4427: in _flush\n    flush_context.execute()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:466: in execute\n    rec.execute(self)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:93: in save_obj\n    _emit_insert_statements(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:1143: in _emit_insert_statements\n    result = connection.execute(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1419: in execute\n    return meth(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1844: in _execute_context\n    return self._exec_insertmany_context(dialect, context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2126: in _exec_insertmany_context\n    self._handle_dbapi_exception(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: in _exec_insertmany_context\n    dialect.do_execute(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb88c2bdc0>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb88d9fb10>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\nE       [SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\nE       [parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\nE       (Background on this error at: https://sqlalche.me/e/20/gkpj)\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError"}, "teardown": {"duration": 0.0006496610000112923, "outcome": "passed"}}, {"nodeid": "tests/test_search_api_endpoints.py::TestGradeSearchEndpoint::test_search_grades_by_range", "lineno": 289, "outcome": "error", "keywords": ["test_search_grades_by_range", "TestGradeSearchEndpoint", "test_search_api_endpoints.py", "tests", "backend", ""], "setup": {"duration": 0.6619977139999946, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\n[SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\n[parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)"}, "traceback": [{"path": "tests/test_search_api_endpoints.py", "lineno": 78, "message": ""}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 2030, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in commit"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1311, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1286, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4331, "message": "in flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4466, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", "lineno": 224, "message": "in __exit__"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4427, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 466, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 642, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 93, "message": "in save_obj"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 1143, "message": "in _emit_insert_statements"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1419, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", "lineno": 526, "message": "in _execute_on_connection"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1641, "message": "in _execute_clauseelement"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1844, "message": "in _execute_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2126, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2355, "message": "in _handle_dbapi_exception"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2118, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "IntegrityError"}], "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815289.8779356, "msecs": 877.0, "relativeCreated": 95755.90372085571, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:49,877"}], "longrepr": "self = <sqlalchemy.engine.base.Connection object at 0x7fcb898ae710>\ndialect = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8c4cfc50>\n\n    def _exec_insertmany_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for an \"insertmanyvalues\"\n        operation, which will invoke DBAPI\n        cursor.execute() one or more times with individual log and\n        event hook calls.\n    \n        \"\"\"\n    \n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n        else:\n            generic_setinputsizes = None\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters = parameters\n    \n        engine_events = self._has_events or self.engine._has_events\n        if self.dialect._has_events:\n            do_execute_dispatch: Iterable[Any] = (\n                self.dialect.dispatch.do_execute\n            )\n        else:\n            do_execute_dispatch = ()\n    \n        if self._echo:\n            stats = context._get_cache_stats() + \" (insertmanyvalues)\"\n    \n        preserve_rowcount = context.execution_options.get(\n            \"preserve_rowcount\", False\n        )\n        rowcount = 0\n    \n        for imv_batch in dialect._deliver_insertmanyvalues_batches(\n            self,\n            cursor,\n            str_statement,\n            effective_parameters,\n            generic_setinputsizes,\n            context,\n        ):\n            if imv_batch.processed_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor,\n                        imv_batch.processed_setinputsizes,\n                        context,\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e,\n                        sql_util._long_statement(imv_batch.replaced_statement),\n                        imv_batch.replaced_parameters,\n                        None,\n                        context,\n                        is_sub_exec=True,\n                    )\n    \n            sub_stmt = imv_batch.replaced_statement\n            sub_params = imv_batch.replaced_parameters\n    \n            if engine_events:\n                for fn in self.dispatch.before_cursor_execute:\n                    sub_stmt, sub_params = fn(\n                        self,\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                        True,\n                    )\n    \n            if self._echo:\n                self._log_info(sql_util._long_statement(sub_stmt))\n    \n                imv_stats = f\"\"\" {imv_batch.batchnum}/{\n                            imv_batch.total_batches\n                } ({\n                    'ordered'\n                    if imv_batch.rows_sorted else 'unordered'\n                }{\n                    '; batch not supported'\n                    if imv_batch.is_downgraded\n                    else ''\n                })\"\"\"\n    \n                if imv_batch.batchnum == 1:\n                    stats += imv_stats\n                else:\n                    stats = f\"insertmanyvalues{imv_stats}\"\n    \n                if not self.engine.hide_parameters:\n                    self._log_info(\n                        \"[%s] %r\",\n                        stats,\n                        sql_util._repr_params(\n                            sub_params,\n                            batches=10,\n                            ismulti=False,\n                        ),\n                    )\n                else:\n                    self._log_info(\n                        \"[%s] [SQL parameters hidden due to \"\n                        \"hide_parameters=True]\",\n                        stats,\n                    )\n    \n            try:\n                for fn in do_execute_dispatch:\n                    if fn(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    ):\n                        break\n                else:\n>                   dialect.do_execute(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    )\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb8bd969c0>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8c4cfc50>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlite3.IntegrityError: NOT NULL constraint failed: courses.semester\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError\n\nThe above exception was the direct cause of the following exception:\n\ndb = <sqlalchemy.orm.session.Session object at 0x7fcb898adc10>\n\n    @pytest.fixture\n    def test_data(db: Session):\n        \"\"\"Create test data\"\"\"\n        students = [\n            Student(first_name=\"John\", last_name=\"Doe\", email=\"john@example.com\", phone=\"555-0001\", deleted_at=None),\n            Student(first_name=\"Jane\", last_name=\"Smith\", email=\"jane@example.com\", phone=\"555-0002\", deleted_at=None),\n            Student(first_name=\"Bob\", last_name=\"Johnson\", email=\"bob@example.com\", phone=\"555-0003\", deleted_at=None),\n        ]\n    \n        courses = [\n            Course(course_name=\"Mathematics 101\", course_code=\"MATH101\", credits=3, deleted_at=None),\n            Course(course_name=\"Physics 201\", course_code=\"PHYS201\", credits=4, deleted_at=None),\n            Course(course_name=\"English 101\", course_code=\"ENG101\", credits=3, deleted_at=None),\n        ]\n    \n        for student in students:\n            db.add(student)\n        for course in courses:\n            db.add(course)\n>       db.commit()\n\ntests/test_search_api_endpoints.py:78: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:2030: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1311: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1286: in _prepare_impl\n    self.session.flush()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4331: in flush\n    self._flush(objects)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4466: in _flush\n    with util.safe_reraise():\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4427: in _flush\n    flush_context.execute()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:466: in execute\n    rec.execute(self)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:93: in save_obj\n    _emit_insert_statements(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:1143: in _emit_insert_statements\n    result = connection.execute(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1419: in execute\n    return meth(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1844: in _execute_context\n    return self._exec_insertmany_context(dialect, context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2126: in _exec_insertmany_context\n    self._handle_dbapi_exception(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: in _exec_insertmany_context\n    dialect.do_execute(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb8bd969c0>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8c4cfc50>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\nE       [SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\nE       [parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\nE       (Background on this error at: https://sqlalche.me/e/20/gkpj)\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError"}, "teardown": {"duration": 0.0006512840000141296, "outcome": "passed"}}, {"nodeid": "tests/test_search_api_endpoints.py::TestGradeSearchEndpoint::test_search_grades_by_student", "lineno": 302, "outcome": "error", "keywords": ["test_search_grades_by_student", "TestGradeSearchEndpoint", "test_search_api_endpoints.py", "tests", "backend", ""], "setup": {"duration": 0.45053737200001365, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\n[SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\n[parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)"}, "traceback": [{"path": "tests/test_search_api_endpoints.py", "lineno": 78, "message": ""}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 2030, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in commit"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1311, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1286, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4331, "message": "in flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4466, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", "lineno": 224, "message": "in __exit__"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4427, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 466, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 642, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 93, "message": "in save_obj"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 1143, "message": "in _emit_insert_statements"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1419, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", "lineno": 526, "message": "in _execute_on_connection"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1641, "message": "in _execute_clauseelement"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1844, "message": "in _execute_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2126, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2355, "message": "in _handle_dbapi_exception"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2118, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "IntegrityError"}], "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815291.4972258, "msecs": 497.0, "relativeCreated": 97375.19383430481, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:51,497"}], "longrepr": "self = <sqlalchemy.engine.base.Connection object at 0x7fcb88e67390>\ndialect = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb89edea90>\n\n    def _exec_insertmany_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for an \"insertmanyvalues\"\n        operation, which will invoke DBAPI\n        cursor.execute() one or more times with individual log and\n        event hook calls.\n    \n        \"\"\"\n    \n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n        else:\n            generic_setinputsizes = None\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters = parameters\n    \n        engine_events = self._has_events or self.engine._has_events\n        if self.dialect._has_events:\n            do_execute_dispatch: Iterable[Any] = (\n                self.dialect.dispatch.do_execute\n            )\n        else:\n            do_execute_dispatch = ()\n    \n        if self._echo:\n            stats = context._get_cache_stats() + \" (insertmanyvalues)\"\n    \n        preserve_rowcount = context.execution_options.get(\n            \"preserve_rowcount\", False\n        )\n        rowcount = 0\n    \n        for imv_batch in dialect._deliver_insertmanyvalues_batches(\n            self,\n            cursor,\n            str_statement,\n            effective_parameters,\n            generic_setinputsizes,\n            context,\n        ):\n            if imv_batch.processed_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor,\n                        imv_batch.processed_setinputsizes,\n                        context,\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e,\n                        sql_util._long_statement(imv_batch.replaced_statement),\n                        imv_batch.replaced_parameters,\n                        None,\n                        context,\n                        is_sub_exec=True,\n                    )\n    \n            sub_stmt = imv_batch.replaced_statement\n            sub_params = imv_batch.replaced_parameters\n    \n            if engine_events:\n                for fn in self.dispatch.before_cursor_execute:\n                    sub_stmt, sub_params = fn(\n                        self,\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                        True,\n                    )\n    \n            if self._echo:\n                self._log_info(sql_util._long_statement(sub_stmt))\n    \n                imv_stats = f\"\"\" {imv_batch.batchnum}/{\n                            imv_batch.total_batches\n                } ({\n                    'ordered'\n                    if imv_batch.rows_sorted else 'unordered'\n                }{\n                    '; batch not supported'\n                    if imv_batch.is_downgraded\n                    else ''\n                })\"\"\"\n    \n                if imv_batch.batchnum == 1:\n                    stats += imv_stats\n                else:\n                    stats = f\"insertmanyvalues{imv_stats}\"\n    \n                if not self.engine.hide_parameters:\n                    self._log_info(\n                        \"[%s] %r\",\n                        stats,\n                        sql_util._repr_params(\n                            sub_params,\n                            batches=10,\n                            ismulti=False,\n                        ),\n                    )\n                else:\n                    self._log_info(\n                        \"[%s] [SQL parameters hidden due to \"\n                        \"hide_parameters=True]\",\n                        stats,\n                    )\n    \n            try:\n                for fn in do_execute_dispatch:\n                    if fn(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    ):\n                        break\n                else:\n>                   dialect.do_execute(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    )\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb88dfc640>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb89edea90>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlite3.IntegrityError: NOT NULL constraint failed: courses.semester\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError\n\nThe above exception was the direct cause of the following exception:\n\ndb = <sqlalchemy.orm.session.Session object at 0x7fcb88e64990>\n\n    @pytest.fixture\n    def test_data(db: Session):\n        \"\"\"Create test data\"\"\"\n        students = [\n            Student(first_name=\"John\", last_name=\"Doe\", email=\"john@example.com\", phone=\"555-0001\", deleted_at=None),\n            Student(first_name=\"Jane\", last_name=\"Smith\", email=\"jane@example.com\", phone=\"555-0002\", deleted_at=None),\n            Student(first_name=\"Bob\", last_name=\"Johnson\", email=\"bob@example.com\", phone=\"555-0003\", deleted_at=None),\n        ]\n    \n        courses = [\n            Course(course_name=\"Mathematics 101\", course_code=\"MATH101\", credits=3, deleted_at=None),\n            Course(course_name=\"Physics 201\", course_code=\"PHYS201\", credits=4, deleted_at=None),\n            Course(course_name=\"English 101\", course_code=\"ENG101\", credits=3, deleted_at=None),\n        ]\n    \n        for student in students:\n            db.add(student)\n        for course in courses:\n            db.add(course)\n>       db.commit()\n\ntests/test_search_api_endpoints.py:78: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:2030: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1311: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1286: in _prepare_impl\n    self.session.flush()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4331: in flush\n    self._flush(objects)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4466: in _flush\n    with util.safe_reraise():\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4427: in _flush\n    flush_context.execute()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:466: in execute\n    rec.execute(self)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:93: in save_obj\n    _emit_insert_statements(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:1143: in _emit_insert_statements\n    result = connection.execute(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1419: in execute\n    return meth(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1844: in _execute_context\n    return self._exec_insertmany_context(dialect, context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2126: in _exec_insertmany_context\n    self._handle_dbapi_exception(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: in _exec_insertmany_context\n    dialect.do_execute(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb88dfc640>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb89edea90>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\nE       [SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\nE       [parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\nE       (Background on this error at: https://sqlalche.me/e/20/gkpj)\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError"}, "teardown": {"duration": 0.000658127000008335, "outcome": "passed"}}, {"nodeid": "tests/test_search_api_endpoints.py::TestGradeSearchEndpoint::test_search_grades_by_course", "lineno": 314, "outcome": "error", "keywords": ["test_search_grades_by_course", "TestGradeSearchEndpoint", "test_search_api_endpoints.py", "tests", "backend", ""], "setup": {"duration": 0.44807952899998327, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\n[SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\n[parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)"}, "traceback": [{"path": "tests/test_search_api_endpoints.py", "lineno": 78, "message": ""}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 2030, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in commit"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1311, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1286, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4331, "message": "in flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4466, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", "lineno": 224, "message": "in __exit__"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4427, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 466, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 642, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 93, "message": "in save_obj"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 1143, "message": "in _emit_insert_statements"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1419, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", "lineno": 526, "message": "in _execute_on_connection"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1641, "message": "in _execute_clauseelement"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1844, "message": "in _execute_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2126, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2355, "message": "in _handle_dbapi_exception"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2118, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "IntegrityError"}], "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815292.9091692, "msecs": 909.0, "relativeCreated": 98787.13726997375, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:52,909"}], "longrepr": "self = <sqlalchemy.engine.base.Connection object at 0x7fcb88baac50>\ndialect = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8916d050>\n\n    def _exec_insertmany_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for an \"insertmanyvalues\"\n        operation, which will invoke DBAPI\n        cursor.execute() one or more times with individual log and\n        event hook calls.\n    \n        \"\"\"\n    \n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n        else:\n            generic_setinputsizes = None\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters = parameters\n    \n        engine_events = self._has_events or self.engine._has_events\n        if self.dialect._has_events:\n            do_execute_dispatch: Iterable[Any] = (\n                self.dialect.dispatch.do_execute\n            )\n        else:\n            do_execute_dispatch = ()\n    \n        if self._echo:\n            stats = context._get_cache_stats() + \" (insertmanyvalues)\"\n    \n        preserve_rowcount = context.execution_options.get(\n            \"preserve_rowcount\", False\n        )\n        rowcount = 0\n    \n        for imv_batch in dialect._deliver_insertmanyvalues_batches(\n            self,\n            cursor,\n            str_statement,\n            effective_parameters,\n            generic_setinputsizes,\n            context,\n        ):\n            if imv_batch.processed_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor,\n                        imv_batch.processed_setinputsizes,\n                        context,\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e,\n                        sql_util._long_statement(imv_batch.replaced_statement),\n                        imv_batch.replaced_parameters,\n                        None,\n                        context,\n                        is_sub_exec=True,\n                    )\n    \n            sub_stmt = imv_batch.replaced_statement\n            sub_params = imv_batch.replaced_parameters\n    \n            if engine_events:\n                for fn in self.dispatch.before_cursor_execute:\n                    sub_stmt, sub_params = fn(\n                        self,\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                        True,\n                    )\n    \n            if self._echo:\n                self._log_info(sql_util._long_statement(sub_stmt))\n    \n                imv_stats = f\"\"\" {imv_batch.batchnum}/{\n                            imv_batch.total_batches\n                } ({\n                    'ordered'\n                    if imv_batch.rows_sorted else 'unordered'\n                }{\n                    '; batch not supported'\n                    if imv_batch.is_downgraded\n                    else ''\n                })\"\"\"\n    \n                if imv_batch.batchnum == 1:\n                    stats += imv_stats\n                else:\n                    stats = f\"insertmanyvalues{imv_stats}\"\n    \n                if not self.engine.hide_parameters:\n                    self._log_info(\n                        \"[%s] %r\",\n                        stats,\n                        sql_util._repr_params(\n                            sub_params,\n                            batches=10,\n                            ismulti=False,\n                        ),\n                    )\n                else:\n                    self._log_info(\n                        \"[%s] [SQL parameters hidden due to \"\n                        \"hide_parameters=True]\",\n                        stats,\n                    )\n    \n            try:\n                for fn in do_execute_dispatch:\n                    if fn(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    ):\n                        break\n                else:\n>                   dialect.do_execute(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    )\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb896b9740>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8916d050>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlite3.IntegrityError: NOT NULL constraint failed: courses.semester\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError\n\nThe above exception was the direct cause of the following exception:\n\ndb = <sqlalchemy.orm.session.Session object at 0x7fcb88f42090>\n\n    @pytest.fixture\n    def test_data(db: Session):\n        \"\"\"Create test data\"\"\"\n        students = [\n            Student(first_name=\"John\", last_name=\"Doe\", email=\"john@example.com\", phone=\"555-0001\", deleted_at=None),\n            Student(first_name=\"Jane\", last_name=\"Smith\", email=\"jane@example.com\", phone=\"555-0002\", deleted_at=None),\n            Student(first_name=\"Bob\", last_name=\"Johnson\", email=\"bob@example.com\", phone=\"555-0003\", deleted_at=None),\n        ]\n    \n        courses = [\n            Course(course_name=\"Mathematics 101\", course_code=\"MATH101\", credits=3, deleted_at=None),\n            Course(course_name=\"Physics 201\", course_code=\"PHYS201\", credits=4, deleted_at=None),\n            Course(course_name=\"English 101\", course_code=\"ENG101\", credits=3, deleted_at=None),\n        ]\n    \n        for student in students:\n            db.add(student)\n        for course in courses:\n            db.add(course)\n>       db.commit()\n\ntests/test_search_api_endpoints.py:78: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:2030: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1311: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1286: in _prepare_impl\n    self.session.flush()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4331: in flush\n    self._flush(objects)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4466: in _flush\n    with util.safe_reraise():\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4427: in _flush\n    flush_context.execute()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:466: in execute\n    rec.execute(self)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:93: in save_obj\n    _emit_insert_statements(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:1143: in _emit_insert_statements\n    result = connection.execute(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1419: in execute\n    return meth(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1844: in _execute_context\n    return self._exec_insertmany_context(dialect, context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2126: in _exec_insertmany_context\n    self._handle_dbapi_exception(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: in _exec_insertmany_context\n    dialect.do_execute(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb896b9740>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8916d050>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\nE       [SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\nE       [parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\nE       (Background on this error at: https://sqlalche.me/e/20/gkpj)\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError"}, "teardown": {"duration": 0.0006986130000257162, "outcome": "passed"}}, {"nodeid": "tests/test_search_api_endpoints.py::TestGradeSearchEndpoint::test_search_grades_combined_filters", "lineno": 325, "outcome": "error", "keywords": ["test_search_grades_combined_filters", "TestGradeSearchEndpoint", "test_search_api_endpoints.py", "tests", "backend", ""], "setup": {"duration": 0.6904463129999954, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\n[SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\n[parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)"}, "traceback": [{"path": "tests/test_search_api_endpoints.py", "lineno": 78, "message": ""}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 2030, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in commit"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1311, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1286, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4331, "message": "in flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4466, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", "lineno": 224, "message": "in __exit__"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4427, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 466, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 642, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 93, "message": "in save_obj"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 1143, "message": "in _emit_insert_statements"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1419, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", "lineno": 526, "message": "in _execute_on_connection"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1641, "message": "in _execute_clauseelement"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1844, "message": "in _execute_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2126, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2355, "message": "in _handle_dbapi_exception"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2118, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "IntegrityError"}], "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815294.065975, "msecs": 65.0, "relativeCreated": 99943.94302368164, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:54,065"}], "longrepr": "self = <sqlalchemy.engine.base.Connection object at 0x7fcb89167dd0>\ndialect = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8911d250>\n\n    def _exec_insertmany_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for an \"insertmanyvalues\"\n        operation, which will invoke DBAPI\n        cursor.execute() one or more times with individual log and\n        event hook calls.\n    \n        \"\"\"\n    \n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n        else:\n            generic_setinputsizes = None\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters = parameters\n    \n        engine_events = self._has_events or self.engine._has_events\n        if self.dialect._has_events:\n            do_execute_dispatch: Iterable[Any] = (\n                self.dialect.dispatch.do_execute\n            )\n        else:\n            do_execute_dispatch = ()\n    \n        if self._echo:\n            stats = context._get_cache_stats() + \" (insertmanyvalues)\"\n    \n        preserve_rowcount = context.execution_options.get(\n            \"preserve_rowcount\", False\n        )\n        rowcount = 0\n    \n        for imv_batch in dialect._deliver_insertmanyvalues_batches(\n            self,\n            cursor,\n            str_statement,\n            effective_parameters,\n            generic_setinputsizes,\n            context,\n        ):\n            if imv_batch.processed_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor,\n                        imv_batch.processed_setinputsizes,\n                        context,\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e,\n                        sql_util._long_statement(imv_batch.replaced_statement),\n                        imv_batch.replaced_parameters,\n                        None,\n                        context,\n                        is_sub_exec=True,\n                    )\n    \n            sub_stmt = imv_batch.replaced_statement\n            sub_params = imv_batch.replaced_parameters\n    \n            if engine_events:\n                for fn in self.dispatch.before_cursor_execute:\n                    sub_stmt, sub_params = fn(\n                        self,\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                        True,\n                    )\n    \n            if self._echo:\n                self._log_info(sql_util._long_statement(sub_stmt))\n    \n                imv_stats = f\"\"\" {imv_batch.batchnum}/{\n                            imv_batch.total_batches\n                } ({\n                    'ordered'\n                    if imv_batch.rows_sorted else 'unordered'\n                }{\n                    '; batch not supported'\n                    if imv_batch.is_downgraded\n                    else ''\n                })\"\"\"\n    \n                if imv_batch.batchnum == 1:\n                    stats += imv_stats\n                else:\n                    stats = f\"insertmanyvalues{imv_stats}\"\n    \n                if not self.engine.hide_parameters:\n                    self._log_info(\n                        \"[%s] %r\",\n                        stats,\n                        sql_util._repr_params(\n                            sub_params,\n                            batches=10,\n                            ismulti=False,\n                        ),\n                    )\n                else:\n                    self._log_info(\n                        \"[%s] [SQL parameters hidden due to \"\n                        \"hide_parameters=True]\",\n                        stats,\n                    )\n    \n            try:\n                for fn in do_execute_dispatch:\n                    if fn(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    ):\n                        break\n                else:\n>                   dialect.do_execute(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    )\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb89317cc0>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8911d250>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlite3.IntegrityError: NOT NULL constraint failed: courses.semester\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError\n\nThe above exception was the direct cause of the following exception:\n\ndb = <sqlalchemy.orm.session.Session object at 0x7fcb89165d90>\n\n    @pytest.fixture\n    def test_data(db: Session):\n        \"\"\"Create test data\"\"\"\n        students = [\n            Student(first_name=\"John\", last_name=\"Doe\", email=\"john@example.com\", phone=\"555-0001\", deleted_at=None),\n            Student(first_name=\"Jane\", last_name=\"Smith\", email=\"jane@example.com\", phone=\"555-0002\", deleted_at=None),\n            Student(first_name=\"Bob\", last_name=\"Johnson\", email=\"bob@example.com\", phone=\"555-0003\", deleted_at=None),\n        ]\n    \n        courses = [\n            Course(course_name=\"Mathematics 101\", course_code=\"MATH101\", credits=3, deleted_at=None),\n            Course(course_name=\"Physics 201\", course_code=\"PHYS201\", credits=4, deleted_at=None),\n            Course(course_name=\"English 101\", course_code=\"ENG101\", credits=3, deleted_at=None),\n        ]\n    \n        for student in students:\n            db.add(student)\n        for course in courses:\n            db.add(course)\n>       db.commit()\n\ntests/test_search_api_endpoints.py:78: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:2030: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1311: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1286: in _prepare_impl\n    self.session.flush()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4331: in flush\n    self._flush(objects)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4466: in _flush\n    with util.safe_reraise():\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4427: in _flush\n    flush_context.execute()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:466: in execute\n    rec.execute(self)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:93: in save_obj\n    _emit_insert_statements(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:1143: in _emit_insert_statements\n    result = connection.execute(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1419: in execute\n    return meth(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1844: in _execute_context\n    return self._exec_insertmany_context(dialect, context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2126: in _exec_insertmany_context\n    self._handle_dbapi_exception(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: in _exec_insertmany_context\n    dialect.do_execute(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb89317cc0>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8911d250>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\nE       [SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\nE       [parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\nE       (Background on this error at: https://sqlalche.me/e/20/gkpj)\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError"}, "teardown": {"duration": 0.0006430090000151267, "outcome": "passed"}}, {"nodeid": "tests/test_search_api_endpoints.py::TestGradeSearchEndpoint::test_search_grades_soft_delete_filter", "lineno": 340, "outcome": "error", "keywords": ["test_search_grades_soft_delete_filter", "TestGradeSearchEndpoint", "test_search_api_endpoints.py", "tests", "backend", ""], "setup": {"duration": 0.6606809699999872, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\n[SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\n[parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)"}, "traceback": [{"path": "tests/test_search_api_endpoints.py", "lineno": 78, "message": ""}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 2030, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in commit"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1311, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1286, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4331, "message": "in flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4466, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", "lineno": 224, "message": "in __exit__"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4427, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 466, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 642, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 93, "message": "in save_obj"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 1143, "message": "in _emit_insert_statements"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1419, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", "lineno": 526, "message": "in _execute_on_connection"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1641, "message": "in _execute_clauseelement"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1844, "message": "in _execute_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2126, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2355, "message": "in _handle_dbapi_exception"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2118, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "IntegrityError"}], "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815295.4680505, "msecs": 468.0, "relativeCreated": 101346.01855278015, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:55,468"}], "longrepr": "self = <sqlalchemy.engine.base.Connection object at 0x7fcb8095a790>\ndialect = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb895cef50>\n\n    def _exec_insertmany_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for an \"insertmanyvalues\"\n        operation, which will invoke DBAPI\n        cursor.execute() one or more times with individual log and\n        event hook calls.\n    \n        \"\"\"\n    \n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n        else:\n            generic_setinputsizes = None\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters = parameters\n    \n        engine_events = self._has_events or self.engine._has_events\n        if self.dialect._has_events:\n            do_execute_dispatch: Iterable[Any] = (\n                self.dialect.dispatch.do_execute\n            )\n        else:\n            do_execute_dispatch = ()\n    \n        if self._echo:\n            stats = context._get_cache_stats() + \" (insertmanyvalues)\"\n    \n        preserve_rowcount = context.execution_options.get(\n            \"preserve_rowcount\", False\n        )\n        rowcount = 0\n    \n        for imv_batch in dialect._deliver_insertmanyvalues_batches(\n            self,\n            cursor,\n            str_statement,\n            effective_parameters,\n            generic_setinputsizes,\n            context,\n        ):\n            if imv_batch.processed_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor,\n                        imv_batch.processed_setinputsizes,\n                        context,\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e,\n                        sql_util._long_statement(imv_batch.replaced_statement),\n                        imv_batch.replaced_parameters,\n                        None,\n                        context,\n                        is_sub_exec=True,\n                    )\n    \n            sub_stmt = imv_batch.replaced_statement\n            sub_params = imv_batch.replaced_parameters\n    \n            if engine_events:\n                for fn in self.dispatch.before_cursor_execute:\n                    sub_stmt, sub_params = fn(\n                        self,\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                        True,\n                    )\n    \n            if self._echo:\n                self._log_info(sql_util._long_statement(sub_stmt))\n    \n                imv_stats = f\"\"\" {imv_batch.batchnum}/{\n                            imv_batch.total_batches\n                } ({\n                    'ordered'\n                    if imv_batch.rows_sorted else 'unordered'\n                }{\n                    '; batch not supported'\n                    if imv_batch.is_downgraded\n                    else ''\n                })\"\"\"\n    \n                if imv_batch.batchnum == 1:\n                    stats += imv_stats\n                else:\n                    stats = f\"insertmanyvalues{imv_stats}\"\n    \n                if not self.engine.hide_parameters:\n                    self._log_info(\n                        \"[%s] %r\",\n                        stats,\n                        sql_util._repr_params(\n                            sub_params,\n                            batches=10,\n                            ismulti=False,\n                        ),\n                    )\n                else:\n                    self._log_info(\n                        \"[%s] [SQL parameters hidden due to \"\n                        \"hide_parameters=True]\",\n                        stats,\n                    )\n    \n            try:\n                for fn in do_execute_dispatch:\n                    if fn(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    ):\n                        break\n                else:\n>                   dialect.do_execute(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    )\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb89720540>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb895cef50>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlite3.IntegrityError: NOT NULL constraint failed: courses.semester\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError\n\nThe above exception was the direct cause of the following exception:\n\ndb = <sqlalchemy.orm.session.Session object at 0x7fcb88f81710>\n\n    @pytest.fixture\n    def test_data(db: Session):\n        \"\"\"Create test data\"\"\"\n        students = [\n            Student(first_name=\"John\", last_name=\"Doe\", email=\"john@example.com\", phone=\"555-0001\", deleted_at=None),\n            Student(first_name=\"Jane\", last_name=\"Smith\", email=\"jane@example.com\", phone=\"555-0002\", deleted_at=None),\n            Student(first_name=\"Bob\", last_name=\"Johnson\", email=\"bob@example.com\", phone=\"555-0003\", deleted_at=None),\n        ]\n    \n        courses = [\n            Course(course_name=\"Mathematics 101\", course_code=\"MATH101\", credits=3, deleted_at=None),\n            Course(course_name=\"Physics 201\", course_code=\"PHYS201\", credits=4, deleted_at=None),\n            Course(course_name=\"English 101\", course_code=\"ENG101\", credits=3, deleted_at=None),\n        ]\n    \n        for student in students:\n            db.add(student)\n        for course in courses:\n            db.add(course)\n>       db.commit()\n\ntests/test_search_api_endpoints.py:78: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:2030: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1311: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1286: in _prepare_impl\n    self.session.flush()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4331: in flush\n    self._flush(objects)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4466: in _flush\n    with util.safe_reraise():\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4427: in _flush\n    flush_context.execute()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:466: in execute\n    rec.execute(self)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:93: in save_obj\n    _emit_insert_statements(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:1143: in _emit_insert_statements\n    result = connection.execute(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1419: in execute\n    return meth(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1844: in _execute_context\n    return self._exec_insertmany_context(dialect, context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2126: in _exec_insertmany_context\n    self._handle_dbapi_exception(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: in _exec_insertmany_context\n    dialect.do_execute(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb89720540>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb895cef50>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\nE       [SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\nE       [parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\nE       (Background on this error at: https://sqlalche.me/e/20/gkpj)\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError"}, "teardown": {"duration": 0.0006842150000068159, "outcome": "passed"}}, {"nodeid": "tests/test_search_api_endpoints.py::TestGradeSearchEndpoint::test_search_grades_invalid_range", "lineno": 350, "outcome": "failed", "keywords": ["test_search_grades_invalid_range", "TestGradeSearchEndpoint", "test_search_api_endpoints.py", "tests", "backend", ""], "setup": {"duration": 0.451807524000003, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815297.0998578, "msecs": 99.0, "relativeCreated": 102977.82588005066, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:57,099"}]}, "call": {"duration": 0.007421496999995725, "outcome": "failed", "crash": {"path": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_api_endpoints.py", "lineno": 358, "message": "assert 404 in [200, 400]\n +  where 404 = <Response [404 Not Found]>.status_code"}, "traceback": [{"path": "tests/test_search_api_endpoints.py", "lineno": 358, "message": "AssertionError"}], "longrepr": "self = <backend.tests.test_search_api_endpoints.TestGradeSearchEndpoint object at 0x7fcb8cd2b050>\nclient = <starlette.testclient.TestClient object at 0x7fcb89839d90>\nadmin_headers = {'Authorization': 'Bearer admin_token', 'Content-Type': 'application/json'}\n\n    def test_search_grades_invalid_range(self, client, admin_headers):\n        \"\"\"Should handle invalid grade ranges\"\"\"\n        response = client.post(\n            self.endpoint, json={\"filters\": {\"min_grade\": 100, \"max_grade\": 50}}, headers=admin_headers\n        )\n    \n        # Should either correct or reject\n>       assert response.status_code in [200, 400]\nE       assert 404 in [200, 400]\nE        +  where 404 = <Response [404 Not Found]>.status_code\n\ntests/test_search_api_endpoints.py:358: AssertionError"}, "teardown": {"duration": 0.00042041300000050796, "outcome": "passed"}}, {"nodeid": "tests/test_search_api_endpoints.py::TestGradeSearchEndpoint::test_search_grades_permission_student", "lineno": 359, "outcome": "error", "keywords": ["test_search_grades_permission_student", "TestGradeSearchEndpoint", "test_search_api_endpoints.py", "tests", "backend", ""], "setup": {"duration": 0.45154257900000516, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\n[SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\n[parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)"}, "traceback": [{"path": "tests/test_search_api_endpoints.py", "lineno": 78, "message": ""}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 2030, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in commit"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1311, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1286, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4331, "message": "in flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4466, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", "lineno": 224, "message": "in __exit__"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4427, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 466, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 642, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 93, "message": "in save_obj"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 1143, "message": "in _emit_insert_statements"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1419, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", "lineno": 526, "message": "in _execute_on_connection"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1641, "message": "in _execute_clauseelement"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1844, "message": "in _execute_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2126, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2355, "message": "in _handle_dbapi_exception"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2118, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "IntegrityError"}], "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815297.5778298, "msecs": 577.0, "relativeCreated": 103455.79791069031, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:57,577"}], "longrepr": "self = <sqlalchemy.engine.base.Connection object at 0x7fcb8bd71ad0>\ndialect = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8939b850>\n\n    def _exec_insertmany_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for an \"insertmanyvalues\"\n        operation, which will invoke DBAPI\n        cursor.execute() one or more times with individual log and\n        event hook calls.\n    \n        \"\"\"\n    \n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n        else:\n            generic_setinputsizes = None\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters = parameters\n    \n        engine_events = self._has_events or self.engine._has_events\n        if self.dialect._has_events:\n            do_execute_dispatch: Iterable[Any] = (\n                self.dialect.dispatch.do_execute\n            )\n        else:\n            do_execute_dispatch = ()\n    \n        if self._echo:\n            stats = context._get_cache_stats() + \" (insertmanyvalues)\"\n    \n        preserve_rowcount = context.execution_options.get(\n            \"preserve_rowcount\", False\n        )\n        rowcount = 0\n    \n        for imv_batch in dialect._deliver_insertmanyvalues_batches(\n            self,\n            cursor,\n            str_statement,\n            effective_parameters,\n            generic_setinputsizes,\n            context,\n        ):\n            if imv_batch.processed_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor,\n                        imv_batch.processed_setinputsizes,\n                        context,\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e,\n                        sql_util._long_statement(imv_batch.replaced_statement),\n                        imv_batch.replaced_parameters,\n                        None,\n                        context,\n                        is_sub_exec=True,\n                    )\n    \n            sub_stmt = imv_batch.replaced_statement\n            sub_params = imv_batch.replaced_parameters\n    \n            if engine_events:\n                for fn in self.dispatch.before_cursor_execute:\n                    sub_stmt, sub_params = fn(\n                        self,\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                        True,\n                    )\n    \n            if self._echo:\n                self._log_info(sql_util._long_statement(sub_stmt))\n    \n                imv_stats = f\"\"\" {imv_batch.batchnum}/{\n                            imv_batch.total_batches\n                } ({\n                    'ordered'\n                    if imv_batch.rows_sorted else 'unordered'\n                }{\n                    '; batch not supported'\n                    if imv_batch.is_downgraded\n                    else ''\n                })\"\"\"\n    \n                if imv_batch.batchnum == 1:\n                    stats += imv_stats\n                else:\n                    stats = f\"insertmanyvalues{imv_stats}\"\n    \n                if not self.engine.hide_parameters:\n                    self._log_info(\n                        \"[%s] %r\",\n                        stats,\n                        sql_util._repr_params(\n                            sub_params,\n                            batches=10,\n                            ismulti=False,\n                        ),\n                    )\n                else:\n                    self._log_info(\n                        \"[%s] [SQL parameters hidden due to \"\n                        \"hide_parameters=True]\",\n                        stats,\n                    )\n    \n            try:\n                for fn in do_execute_dispatch:\n                    if fn(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    ):\n                        break\n                else:\n>                   dialect.do_execute(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    )\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb8cad5940>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8939b850>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlite3.IntegrityError: NOT NULL constraint failed: courses.semester\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError\n\nThe above exception was the direct cause of the following exception:\n\ndb = <sqlalchemy.orm.session.Session object at 0x7fcb8ca7d550>\n\n    @pytest.fixture\n    def test_data(db: Session):\n        \"\"\"Create test data\"\"\"\n        students = [\n            Student(first_name=\"John\", last_name=\"Doe\", email=\"john@example.com\", phone=\"555-0001\", deleted_at=None),\n            Student(first_name=\"Jane\", last_name=\"Smith\", email=\"jane@example.com\", phone=\"555-0002\", deleted_at=None),\n            Student(first_name=\"Bob\", last_name=\"Johnson\", email=\"bob@example.com\", phone=\"555-0003\", deleted_at=None),\n        ]\n    \n        courses = [\n            Course(course_name=\"Mathematics 101\", course_code=\"MATH101\", credits=3, deleted_at=None),\n            Course(course_name=\"Physics 201\", course_code=\"PHYS201\", credits=4, deleted_at=None),\n            Course(course_name=\"English 101\", course_code=\"ENG101\", credits=3, deleted_at=None),\n        ]\n    \n        for student in students:\n            db.add(student)\n        for course in courses:\n            db.add(course)\n>       db.commit()\n\ntests/test_search_api_endpoints.py:78: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:2030: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1311: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1286: in _prepare_impl\n    self.session.flush()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4331: in flush\n    self._flush(objects)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4466: in _flush\n    with util.safe_reraise():\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4427: in _flush\n    flush_context.execute()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:466: in execute\n    rec.execute(self)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:93: in save_obj\n    _emit_insert_statements(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:1143: in _emit_insert_statements\n    result = connection.execute(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1419: in execute\n    return meth(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1844: in _execute_context\n    return self._exec_insertmany_context(dialect, context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2126: in _exec_insertmany_context\n    self._handle_dbapi_exception(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: in _exec_insertmany_context\n    dialect.do_execute(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb8cad5940>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8939b850>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\nE       [SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\nE       [parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\nE       (Background on this error at: https://sqlalche.me/e/20/gkpj)\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError"}, "teardown": {"duration": 0.0006129220000161695, "outcome": "passed"}}, {"nodeid": "tests/test_search_api_endpoints.py::TestAdvancedSearchEndpoint::test_advanced_search_students", "lineno": 371, "outcome": "error", "keywords": ["test_advanced_search_students", "TestAdvancedSearchEndpoint", "test_search_api_endpoints.py", "tests", "backend", ""], "setup": {"duration": 0.45391137600000775, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\n[SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\n[parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)"}, "traceback": [{"path": "tests/test_search_api_endpoints.py", "lineno": 78, "message": ""}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 2030, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in commit"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1311, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1286, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4331, "message": "in flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4466, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", "lineno": 224, "message": "in __exit__"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4427, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 466, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 642, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 93, "message": "in save_obj"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 1143, "message": "in _emit_insert_statements"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1419, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", "lineno": 526, "message": "in _execute_on_connection"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1641, "message": "in _execute_clauseelement"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1844, "message": "in _execute_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2126, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2355, "message": "in _handle_dbapi_exception"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2118, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "IntegrityError"}], "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815298.9803905, "msecs": 980.0, "relativeCreated": 104858.35862159729, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:34:58,980"}], "longrepr": "self = <sqlalchemy.engine.base.Connection object at 0x7fcb8c7e76d0>\ndialect = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb89a4d250>\n\n    def _exec_insertmany_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for an \"insertmanyvalues\"\n        operation, which will invoke DBAPI\n        cursor.execute() one or more times with individual log and\n        event hook calls.\n    \n        \"\"\"\n    \n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n        else:\n            generic_setinputsizes = None\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters = parameters\n    \n        engine_events = self._has_events or self.engine._has_events\n        if self.dialect._has_events:\n            do_execute_dispatch: Iterable[Any] = (\n                self.dialect.dispatch.do_execute\n            )\n        else:\n            do_execute_dispatch = ()\n    \n        if self._echo:\n            stats = context._get_cache_stats() + \" (insertmanyvalues)\"\n    \n        preserve_rowcount = context.execution_options.get(\n            \"preserve_rowcount\", False\n        )\n        rowcount = 0\n    \n        for imv_batch in dialect._deliver_insertmanyvalues_batches(\n            self,\n            cursor,\n            str_statement,\n            effective_parameters,\n            generic_setinputsizes,\n            context,\n        ):\n            if imv_batch.processed_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor,\n                        imv_batch.processed_setinputsizes,\n                        context,\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e,\n                        sql_util._long_statement(imv_batch.replaced_statement),\n                        imv_batch.replaced_parameters,\n                        None,\n                        context,\n                        is_sub_exec=True,\n                    )\n    \n            sub_stmt = imv_batch.replaced_statement\n            sub_params = imv_batch.replaced_parameters\n    \n            if engine_events:\n                for fn in self.dispatch.before_cursor_execute:\n                    sub_stmt, sub_params = fn(\n                        self,\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                        True,\n                    )\n    \n            if self._echo:\n                self._log_info(sql_util._long_statement(sub_stmt))\n    \n                imv_stats = f\"\"\" {imv_batch.batchnum}/{\n                            imv_batch.total_batches\n                } ({\n                    'ordered'\n                    if imv_batch.rows_sorted else 'unordered'\n                }{\n                    '; batch not supported'\n                    if imv_batch.is_downgraded\n                    else ''\n                })\"\"\"\n    \n                if imv_batch.batchnum == 1:\n                    stats += imv_stats\n                else:\n                    stats = f\"insertmanyvalues{imv_stats}\"\n    \n                if not self.engine.hide_parameters:\n                    self._log_info(\n                        \"[%s] %r\",\n                        stats,\n                        sql_util._repr_params(\n                            sub_params,\n                            batches=10,\n                            ismulti=False,\n                        ),\n                    )\n                else:\n                    self._log_info(\n                        \"[%s] [SQL parameters hidden due to \"\n                        \"hide_parameters=True]\",\n                        stats,\n                    )\n    \n            try:\n                for fn in do_execute_dispatch:\n                    if fn(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    ):\n                        break\n                else:\n>                   dialect.do_execute(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    )\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb8caf02c0>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb89a4d250>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlite3.IntegrityError: NOT NULL constraint failed: courses.semester\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError\n\nThe above exception was the direct cause of the following exception:\n\ndb = <sqlalchemy.orm.session.Session object at 0x7fcb8c535950>\n\n    @pytest.fixture\n    def test_data(db: Session):\n        \"\"\"Create test data\"\"\"\n        students = [\n            Student(first_name=\"John\", last_name=\"Doe\", email=\"john@example.com\", phone=\"555-0001\", deleted_at=None),\n            Student(first_name=\"Jane\", last_name=\"Smith\", email=\"jane@example.com\", phone=\"555-0002\", deleted_at=None),\n            Student(first_name=\"Bob\", last_name=\"Johnson\", email=\"bob@example.com\", phone=\"555-0003\", deleted_at=None),\n        ]\n    \n        courses = [\n            Course(course_name=\"Mathematics 101\", course_code=\"MATH101\", credits=3, deleted_at=None),\n            Course(course_name=\"Physics 201\", course_code=\"PHYS201\", credits=4, deleted_at=None),\n            Course(course_name=\"English 101\", course_code=\"ENG101\", credits=3, deleted_at=None),\n        ]\n    \n        for student in students:\n            db.add(student)\n        for course in courses:\n            db.add(course)\n>       db.commit()\n\ntests/test_search_api_endpoints.py:78: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:2030: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1311: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1286: in _prepare_impl\n    self.session.flush()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4331: in flush\n    self._flush(objects)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4466: in _flush\n    with util.safe_reraise():\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4427: in _flush\n    flush_context.execute()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:466: in execute\n    rec.execute(self)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:93: in save_obj\n    _emit_insert_statements(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:1143: in _emit_insert_statements\n    result = connection.execute(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1419: in execute\n    return meth(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1844: in _execute_context\n    return self._exec_insertmany_context(dialect, context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2126: in _exec_insertmany_context\n    self._handle_dbapi_exception(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: in _exec_insertmany_context\n    dialect.do_execute(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb8caf02c0>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb89a4d250>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\nE       [SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\nE       [parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\nE       (Background on this error at: https://sqlalche.me/e/20/gkpj)\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError"}, "teardown": {"duration": 0.0006427780000137773, "outcome": "passed"}}, {"nodeid": "tests/test_search_api_endpoints.py::TestAdvancedSearchEndpoint::test_advanced_search_courses", "lineno": 379, "outcome": "error", "keywords": ["test_advanced_search_courses", "TestAdvancedSearchEndpoint", "test_search_api_endpoints.py", "tests", "backend", ""], "setup": {"duration": 0.44781219500001157, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\n[SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\n[parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)"}, "traceback": [{"path": "tests/test_search_api_endpoints.py", "lineno": 78, "message": ""}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 2030, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in commit"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1311, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1286, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4331, "message": "in flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4466, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", "lineno": 224, "message": "in __exit__"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4427, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 466, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 642, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 93, "message": "in save_obj"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 1143, "message": "in _emit_insert_statements"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1419, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", "lineno": 526, "message": "in _execute_on_connection"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1641, "message": "in _execute_clauseelement"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1844, "message": "in _execute_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2126, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2355, "message": "in _handle_dbapi_exception"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2118, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "IntegrityError"}], "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815300.4300048, "msecs": 430.0, "relativeCreated": 106307.97290802002, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:35:00,430"}], "longrepr": "self = <sqlalchemy.engine.base.Connection object at 0x7fcb8981cd50>\ndialect = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb899f1ed0>\n\n    def _exec_insertmany_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for an \"insertmanyvalues\"\n        operation, which will invoke DBAPI\n        cursor.execute() one or more times with individual log and\n        event hook calls.\n    \n        \"\"\"\n    \n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n        else:\n            generic_setinputsizes = None\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters = parameters\n    \n        engine_events = self._has_events or self.engine._has_events\n        if self.dialect._has_events:\n            do_execute_dispatch: Iterable[Any] = (\n                self.dialect.dispatch.do_execute\n            )\n        else:\n            do_execute_dispatch = ()\n    \n        if self._echo:\n            stats = context._get_cache_stats() + \" (insertmanyvalues)\"\n    \n        preserve_rowcount = context.execution_options.get(\n            \"preserve_rowcount\", False\n        )\n        rowcount = 0\n    \n        for imv_batch in dialect._deliver_insertmanyvalues_batches(\n            self,\n            cursor,\n            str_statement,\n            effective_parameters,\n            generic_setinputsizes,\n            context,\n        ):\n            if imv_batch.processed_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor,\n                        imv_batch.processed_setinputsizes,\n                        context,\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e,\n                        sql_util._long_statement(imv_batch.replaced_statement),\n                        imv_batch.replaced_parameters,\n                        None,\n                        context,\n                        is_sub_exec=True,\n                    )\n    \n            sub_stmt = imv_batch.replaced_statement\n            sub_params = imv_batch.replaced_parameters\n    \n            if engine_events:\n                for fn in self.dispatch.before_cursor_execute:\n                    sub_stmt, sub_params = fn(\n                        self,\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                        True,\n                    )\n    \n            if self._echo:\n                self._log_info(sql_util._long_statement(sub_stmt))\n    \n                imv_stats = f\"\"\" {imv_batch.batchnum}/{\n                            imv_batch.total_batches\n                } ({\n                    'ordered'\n                    if imv_batch.rows_sorted else 'unordered'\n                }{\n                    '; batch not supported'\n                    if imv_batch.is_downgraded\n                    else ''\n                })\"\"\"\n    \n                if imv_batch.batchnum == 1:\n                    stats += imv_stats\n                else:\n                    stats = f\"insertmanyvalues{imv_stats}\"\n    \n                if not self.engine.hide_parameters:\n                    self._log_info(\n                        \"[%s] %r\",\n                        stats,\n                        sql_util._repr_params(\n                            sub_params,\n                            batches=10,\n                            ismulti=False,\n                        ),\n                    )\n                else:\n                    self._log_info(\n                        \"[%s] [SQL parameters hidden due to \"\n                        \"hide_parameters=True]\",\n                        stats,\n                    )\n    \n            try:\n                for fn in do_execute_dispatch:\n                    if fn(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    ):\n                        break\n                else:\n>                   dialect.do_execute(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    )\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb88bde840>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb899f1ed0>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlite3.IntegrityError: NOT NULL constraint failed: courses.semester\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError\n\nThe above exception was the direct cause of the following exception:\n\ndb = <sqlalchemy.orm.session.Session object at 0x7fcb897e20d0>\n\n    @pytest.fixture\n    def test_data(db: Session):\n        \"\"\"Create test data\"\"\"\n        students = [\n            Student(first_name=\"John\", last_name=\"Doe\", email=\"john@example.com\", phone=\"555-0001\", deleted_at=None),\n            Student(first_name=\"Jane\", last_name=\"Smith\", email=\"jane@example.com\", phone=\"555-0002\", deleted_at=None),\n            Student(first_name=\"Bob\", last_name=\"Johnson\", email=\"bob@example.com\", phone=\"555-0003\", deleted_at=None),\n        ]\n    \n        courses = [\n            Course(course_name=\"Mathematics 101\", course_code=\"MATH101\", credits=3, deleted_at=None),\n            Course(course_name=\"Physics 201\", course_code=\"PHYS201\", credits=4, deleted_at=None),\n            Course(course_name=\"English 101\", course_code=\"ENG101\", credits=3, deleted_at=None),\n        ]\n    \n        for student in students:\n            db.add(student)\n        for course in courses:\n            db.add(course)\n>       db.commit()\n\ntests/test_search_api_endpoints.py:78: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:2030: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1311: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1286: in _prepare_impl\n    self.session.flush()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4331: in flush\n    self._flush(objects)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4466: in _flush\n    with util.safe_reraise():\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4427: in _flush\n    flush_context.execute()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:466: in execute\n    rec.execute(self)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:93: in save_obj\n    _emit_insert_statements(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:1143: in _emit_insert_statements\n    result = connection.execute(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1419: in execute\n    return meth(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1844: in _execute_context\n    return self._exec_insertmany_context(dialect, context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2126: in _exec_insertmany_context\n    self._handle_dbapi_exception(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: in _exec_insertmany_context\n    dialect.do_execute(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb88bde840>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb899f1ed0>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\nE       [SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\nE       [parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\nE       (Background on this error at: https://sqlalche.me/e/20/gkpj)\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError"}, "teardown": {"duration": 0.0006931020000138233, "outcome": "passed"}}, {"nodeid": "tests/test_search_api_endpoints.py::TestAdvancedSearchEndpoint::test_advanced_search_grades", "lineno": 387, "outcome": "error", "keywords": ["test_advanced_search_grades", "TestAdvancedSearchEndpoint", "test_search_api_endpoints.py", "tests", "backend", ""], "setup": {"duration": 0.45161962399998856, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\n[SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\n[parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)"}, "traceback": [{"path": "tests/test_search_api_endpoints.py", "lineno": 78, "message": ""}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 2030, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in commit"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1311, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1286, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4331, "message": "in flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4466, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", "lineno": 224, "message": "in __exit__"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4427, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 466, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 642, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 93, "message": "in save_obj"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 1143, "message": "in _emit_insert_statements"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1419, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", "lineno": 526, "message": "in _execute_on_connection"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1641, "message": "in _execute_clauseelement"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1844, "message": "in _execute_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2126, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2355, "message": "in _handle_dbapi_exception"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2118, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "IntegrityError"}], "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815301.874464, "msecs": 874.0, "relativeCreated": 107752.43210792542, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:35:01,874"}], "longrepr": "self = <sqlalchemy.engine.base.Connection object at 0x7fcb8c651f90>\ndialect = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb88ee1c10>\n\n    def _exec_insertmany_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for an \"insertmanyvalues\"\n        operation, which will invoke DBAPI\n        cursor.execute() one or more times with individual log and\n        event hook calls.\n    \n        \"\"\"\n    \n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n        else:\n            generic_setinputsizes = None\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters = parameters\n    \n        engine_events = self._has_events or self.engine._has_events\n        if self.dialect._has_events:\n            do_execute_dispatch: Iterable[Any] = (\n                self.dialect.dispatch.do_execute\n            )\n        else:\n            do_execute_dispatch = ()\n    \n        if self._echo:\n            stats = context._get_cache_stats() + \" (insertmanyvalues)\"\n    \n        preserve_rowcount = context.execution_options.get(\n            \"preserve_rowcount\", False\n        )\n        rowcount = 0\n    \n        for imv_batch in dialect._deliver_insertmanyvalues_batches(\n            self,\n            cursor,\n            str_statement,\n            effective_parameters,\n            generic_setinputsizes,\n            context,\n        ):\n            if imv_batch.processed_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor,\n                        imv_batch.processed_setinputsizes,\n                        context,\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e,\n                        sql_util._long_statement(imv_batch.replaced_statement),\n                        imv_batch.replaced_parameters,\n                        None,\n                        context,\n                        is_sub_exec=True,\n                    )\n    \n            sub_stmt = imv_batch.replaced_statement\n            sub_params = imv_batch.replaced_parameters\n    \n            if engine_events:\n                for fn in self.dispatch.before_cursor_execute:\n                    sub_stmt, sub_params = fn(\n                        self,\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                        True,\n                    )\n    \n            if self._echo:\n                self._log_info(sql_util._long_statement(sub_stmt))\n    \n                imv_stats = f\"\"\" {imv_batch.batchnum}/{\n                            imv_batch.total_batches\n                } ({\n                    'ordered'\n                    if imv_batch.rows_sorted else 'unordered'\n                }{\n                    '; batch not supported'\n                    if imv_batch.is_downgraded\n                    else ''\n                })\"\"\"\n    \n                if imv_batch.batchnum == 1:\n                    stats += imv_stats\n                else:\n                    stats = f\"insertmanyvalues{imv_stats}\"\n    \n                if not self.engine.hide_parameters:\n                    self._log_info(\n                        \"[%s] %r\",\n                        stats,\n                        sql_util._repr_params(\n                            sub_params,\n                            batches=10,\n                            ismulti=False,\n                        ),\n                    )\n                else:\n                    self._log_info(\n                        \"[%s] [SQL parameters hidden due to \"\n                        \"hide_parameters=True]\",\n                        stats,\n                    )\n    \n            try:\n                for fn in do_execute_dispatch:\n                    if fn(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    ):\n                        break\n                else:\n>                   dialect.do_execute(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    )\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb895e1040>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb88ee1c10>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlite3.IntegrityError: NOT NULL constraint failed: courses.semester\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError\n\nThe above exception was the direct cause of the following exception:\n\ndb = <sqlalchemy.orm.session.Session object at 0x7fcb898be950>\n\n    @pytest.fixture\n    def test_data(db: Session):\n        \"\"\"Create test data\"\"\"\n        students = [\n            Student(first_name=\"John\", last_name=\"Doe\", email=\"john@example.com\", phone=\"555-0001\", deleted_at=None),\n            Student(first_name=\"Jane\", last_name=\"Smith\", email=\"jane@example.com\", phone=\"555-0002\", deleted_at=None),\n            Student(first_name=\"Bob\", last_name=\"Johnson\", email=\"bob@example.com\", phone=\"555-0003\", deleted_at=None),\n        ]\n    \n        courses = [\n            Course(course_name=\"Mathematics 101\", course_code=\"MATH101\", credits=3, deleted_at=None),\n            Course(course_name=\"Physics 201\", course_code=\"PHYS201\", credits=4, deleted_at=None),\n            Course(course_name=\"English 101\", course_code=\"ENG101\", credits=3, deleted_at=None),\n        ]\n    \n        for student in students:\n            db.add(student)\n        for course in courses:\n            db.add(course)\n>       db.commit()\n\ntests/test_search_api_endpoints.py:78: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:2030: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1311: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1286: in _prepare_impl\n    self.session.flush()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4331: in flush\n    self._flush(objects)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4466: in _flush\n    with util.safe_reraise():\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4427: in _flush\n    flush_context.execute()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:466: in execute\n    rec.execute(self)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:93: in save_obj\n    _emit_insert_statements(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:1143: in _emit_insert_statements\n    result = connection.execute(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1419: in execute\n    return meth(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1844: in _execute_context\n    return self._exec_insertmany_context(dialect, context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2126: in _exec_insertmany_context\n    self._handle_dbapi_exception(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: in _exec_insertmany_context\n    dialect.do_execute(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb895e1040>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb88ee1c10>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\nE       [SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\nE       [parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\nE       (Background on this error at: https://sqlalche.me/e/20/gkpj)\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError"}, "teardown": {"duration": 0.0006788249999942764, "outcome": "passed"}}, {"nodeid": "tests/test_search_api_endpoints.py::TestAdvancedSearchEndpoint::test_advanced_search_invalid_entity", "lineno": 395, "outcome": "failed", "keywords": ["test_advanced_search_invalid_entity", "TestAdvancedSearchEndpoint", "test_search_api_endpoints.py", "tests", "backend", ""], "setup": {"duration": 0.6716076630000032, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815303.0289345, "msecs": 28.0, "relativeCreated": 108906.902551651, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:35:03,028"}]}, "call": {"duration": 0.007108772000009367, "outcome": "failed", "crash": {"path": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_api_endpoints.py", "lineno": 400, "message": "assert 404 == 400\n +  where 404 = <Response [404 Not Found]>.status_code"}, "traceback": [{"path": "tests/test_search_api_endpoints.py", "lineno": 400, "message": "AssertionError"}], "longrepr": "self = <backend.tests.test_search_api_endpoints.TestAdvancedSearchEndpoint object at 0x7fcb8cd29290>\nclient = <starlette.testclient.TestClient object at 0x7fcb891de710>\nadmin_headers = {'Authorization': 'Bearer admin_token', 'Content-Type': 'application/json'}\n\n    def test_advanced_search_invalid_entity(self, client, admin_headers):\n        \"\"\"Should reject invalid entity types\"\"\"\n        response = client.post(self.endpoint, json={\"entity\": \"invalid\", \"query\": \"test\"}, headers=admin_headers)\n    \n>       assert response.status_code == 400\nE       assert 404 == 400\nE        +  where 404 = <Response [404 Not Found]>.status_code\n\ntests/test_search_api_endpoints.py:400: AssertionError"}, "teardown": {"duration": 0.00039670999998975276, "outcome": "passed"}}, {"nodeid": "tests/test_search_api_endpoints.py::TestAdvancedSearchEndpoint::test_advanced_search_with_filters", "lineno": 401, "outcome": "error", "keywords": ["test_advanced_search_with_filters", "TestAdvancedSearchEndpoint", "test_search_api_endpoints.py", "tests", "backend", ""], "setup": {"duration": 0.4500750339999797, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\n[SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\n[parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)"}, "traceback": [{"path": "tests/test_search_api_endpoints.py", "lineno": 78, "message": ""}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 2030, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in commit"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1311, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1286, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4331, "message": "in flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4466, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", "lineno": 224, "message": "in __exit__"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4427, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 466, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 642, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 93, "message": "in save_obj"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 1143, "message": "in _emit_insert_statements"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1419, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", "lineno": 526, "message": "in _execute_on_connection"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1641, "message": "in _execute_clauseelement"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1844, "message": "in _execute_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2126, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2355, "message": "in _handle_dbapi_exception"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2118, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "IntegrityError"}], "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815303.7252693, "msecs": 725.0, "relativeCreated": 109603.23739051819, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:35:03,725"}], "longrepr": "self = <sqlalchemy.engine.base.Connection object at 0x7fcb899f2350>\ndialect = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb89a24bd0>\n\n    def _exec_insertmany_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for an \"insertmanyvalues\"\n        operation, which will invoke DBAPI\n        cursor.execute() one or more times with individual log and\n        event hook calls.\n    \n        \"\"\"\n    \n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n        else:\n            generic_setinputsizes = None\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters = parameters\n    \n        engine_events = self._has_events or self.engine._has_events\n        if self.dialect._has_events:\n            do_execute_dispatch: Iterable[Any] = (\n                self.dialect.dispatch.do_execute\n            )\n        else:\n            do_execute_dispatch = ()\n    \n        if self._echo:\n            stats = context._get_cache_stats() + \" (insertmanyvalues)\"\n    \n        preserve_rowcount = context.execution_options.get(\n            \"preserve_rowcount\", False\n        )\n        rowcount = 0\n    \n        for imv_batch in dialect._deliver_insertmanyvalues_batches(\n            self,\n            cursor,\n            str_statement,\n            effective_parameters,\n            generic_setinputsizes,\n            context,\n        ):\n            if imv_batch.processed_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor,\n                        imv_batch.processed_setinputsizes,\n                        context,\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e,\n                        sql_util._long_statement(imv_batch.replaced_statement),\n                        imv_batch.replaced_parameters,\n                        None,\n                        context,\n                        is_sub_exec=True,\n                    )\n    \n            sub_stmt = imv_batch.replaced_statement\n            sub_params = imv_batch.replaced_parameters\n    \n            if engine_events:\n                for fn in self.dispatch.before_cursor_execute:\n                    sub_stmt, sub_params = fn(\n                        self,\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                        True,\n                    )\n    \n            if self._echo:\n                self._log_info(sql_util._long_statement(sub_stmt))\n    \n                imv_stats = f\"\"\" {imv_batch.batchnum}/{\n                            imv_batch.total_batches\n                } ({\n                    'ordered'\n                    if imv_batch.rows_sorted else 'unordered'\n                }{\n                    '; batch not supported'\n                    if imv_batch.is_downgraded\n                    else ''\n                })\"\"\"\n    \n                if imv_batch.batchnum == 1:\n                    stats += imv_stats\n                else:\n                    stats = f\"insertmanyvalues{imv_stats}\"\n    \n                if not self.engine.hide_parameters:\n                    self._log_info(\n                        \"[%s] %r\",\n                        stats,\n                        sql_util._repr_params(\n                            sub_params,\n                            batches=10,\n                            ismulti=False,\n                        ),\n                    )\n                else:\n                    self._log_info(\n                        \"[%s] [SQL parameters hidden due to \"\n                        \"hide_parameters=True]\",\n                        stats,\n                    )\n    \n            try:\n                for fn in do_execute_dispatch:\n                    if fn(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    ):\n                        break\n                else:\n>                   dialect.do_execute(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    )\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb895793c0>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb89a24bd0>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlite3.IntegrityError: NOT NULL constraint failed: courses.semester\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError\n\nThe above exception was the direct cause of the following exception:\n\ndb = <sqlalchemy.orm.session.Session object at 0x7fcb894e1f90>\n\n    @pytest.fixture\n    def test_data(db: Session):\n        \"\"\"Create test data\"\"\"\n        students = [\n            Student(first_name=\"John\", last_name=\"Doe\", email=\"john@example.com\", phone=\"555-0001\", deleted_at=None),\n            Student(first_name=\"Jane\", last_name=\"Smith\", email=\"jane@example.com\", phone=\"555-0002\", deleted_at=None),\n            Student(first_name=\"Bob\", last_name=\"Johnson\", email=\"bob@example.com\", phone=\"555-0003\", deleted_at=None),\n        ]\n    \n        courses = [\n            Course(course_name=\"Mathematics 101\", course_code=\"MATH101\", credits=3, deleted_at=None),\n            Course(course_name=\"Physics 201\", course_code=\"PHYS201\", credits=4, deleted_at=None),\n            Course(course_name=\"English 101\", course_code=\"ENG101\", credits=3, deleted_at=None),\n        ]\n    \n        for student in students:\n            db.add(student)\n        for course in courses:\n            db.add(course)\n>       db.commit()\n\ntests/test_search_api_endpoints.py:78: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:2030: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1311: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1286: in _prepare_impl\n    self.session.flush()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4331: in flush\n    self._flush(objects)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4466: in _flush\n    with util.safe_reraise():\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4427: in _flush\n    flush_context.execute()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:466: in execute\n    rec.execute(self)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:93: in save_obj\n    _emit_insert_statements(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:1143: in _emit_insert_statements\n    result = connection.execute(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1419: in execute\n    return meth(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1844: in _execute_context\n    return self._exec_insertmany_context(dialect, context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2126: in _exec_insertmany_context\n    self._handle_dbapi_exception(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: in _exec_insertmany_context\n    dialect.do_execute(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb895793c0>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb89a24bd0>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\nE       [SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\nE       [parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\nE       (Background on this error at: https://sqlalche.me/e/20/gkpj)\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError"}, "teardown": {"duration": 0.0006892540000080771, "outcome": "passed"}}, {"nodeid": "tests/test_search_api_endpoints.py::TestAdvancedSearchEndpoint::test_advanced_search_pagination", "lineno": 413, "outcome": "error", "keywords": ["test_advanced_search_pagination", "TestAdvancedSearchEndpoint", "test_search_api_endpoints.py", "tests", "backend", ""], "setup": {"duration": 0.46081040600000733, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\n[SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\n[parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)"}, "traceback": [{"path": "tests/test_search_api_endpoints.py", "lineno": 78, "message": ""}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 2030, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in commit"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1311, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1286, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4331, "message": "in flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4466, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", "lineno": 224, "message": "in __exit__"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4427, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 466, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 642, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 93, "message": "in save_obj"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 1143, "message": "in _emit_insert_statements"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1419, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", "lineno": 526, "message": "in _execute_on_connection"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1641, "message": "in _execute_clauseelement"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1844, "message": "in _execute_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2126, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2355, "message": "in _handle_dbapi_exception"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2118, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "IntegrityError"}], "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815305.1387842, "msecs": 138.0, "relativeCreated": 111016.75224304199, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:35:05,138"}], "longrepr": "self = <sqlalchemy.engine.base.Connection object at 0x7fcb89fb5d10>\ndialect = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8943d910>\n\n    def _exec_insertmany_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for an \"insertmanyvalues\"\n        operation, which will invoke DBAPI\n        cursor.execute() one or more times with individual log and\n        event hook calls.\n    \n        \"\"\"\n    \n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n        else:\n            generic_setinputsizes = None\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters = parameters\n    \n        engine_events = self._has_events or self.engine._has_events\n        if self.dialect._has_events:\n            do_execute_dispatch: Iterable[Any] = (\n                self.dialect.dispatch.do_execute\n            )\n        else:\n            do_execute_dispatch = ()\n    \n        if self._echo:\n            stats = context._get_cache_stats() + \" (insertmanyvalues)\"\n    \n        preserve_rowcount = context.execution_options.get(\n            \"preserve_rowcount\", False\n        )\n        rowcount = 0\n    \n        for imv_batch in dialect._deliver_insertmanyvalues_batches(\n            self,\n            cursor,\n            str_statement,\n            effective_parameters,\n            generic_setinputsizes,\n            context,\n        ):\n            if imv_batch.processed_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor,\n                        imv_batch.processed_setinputsizes,\n                        context,\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e,\n                        sql_util._long_statement(imv_batch.replaced_statement),\n                        imv_batch.replaced_parameters,\n                        None,\n                        context,\n                        is_sub_exec=True,\n                    )\n    \n            sub_stmt = imv_batch.replaced_statement\n            sub_params = imv_batch.replaced_parameters\n    \n            if engine_events:\n                for fn in self.dispatch.before_cursor_execute:\n                    sub_stmt, sub_params = fn(\n                        self,\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                        True,\n                    )\n    \n            if self._echo:\n                self._log_info(sql_util._long_statement(sub_stmt))\n    \n                imv_stats = f\"\"\" {imv_batch.batchnum}/{\n                            imv_batch.total_batches\n                } ({\n                    'ordered'\n                    if imv_batch.rows_sorted else 'unordered'\n                }{\n                    '; batch not supported'\n                    if imv_batch.is_downgraded\n                    else ''\n                })\"\"\"\n    \n                if imv_batch.batchnum == 1:\n                    stats += imv_stats\n                else:\n                    stats = f\"insertmanyvalues{imv_stats}\"\n    \n                if not self.engine.hide_parameters:\n                    self._log_info(\n                        \"[%s] %r\",\n                        stats,\n                        sql_util._repr_params(\n                            sub_params,\n                            batches=10,\n                            ismulti=False,\n                        ),\n                    )\n                else:\n                    self._log_info(\n                        \"[%s] [SQL parameters hidden due to \"\n                        \"hide_parameters=True]\",\n                        stats,\n                    )\n    \n            try:\n                for fn in do_execute_dispatch:\n                    if fn(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    ):\n                        break\n                else:\n>                   dialect.do_execute(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    )\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb8959c6c0>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8943d910>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlite3.IntegrityError: NOT NULL constraint failed: courses.semester\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError\n\nThe above exception was the direct cause of the following exception:\n\ndb = <sqlalchemy.orm.session.Session object at 0x7fcb89fb61d0>\n\n    @pytest.fixture\n    def test_data(db: Session):\n        \"\"\"Create test data\"\"\"\n        students = [\n            Student(first_name=\"John\", last_name=\"Doe\", email=\"john@example.com\", phone=\"555-0001\", deleted_at=None),\n            Student(first_name=\"Jane\", last_name=\"Smith\", email=\"jane@example.com\", phone=\"555-0002\", deleted_at=None),\n            Student(first_name=\"Bob\", last_name=\"Johnson\", email=\"bob@example.com\", phone=\"555-0003\", deleted_at=None),\n        ]\n    \n        courses = [\n            Course(course_name=\"Mathematics 101\", course_code=\"MATH101\", credits=3, deleted_at=None),\n            Course(course_name=\"Physics 201\", course_code=\"PHYS201\", credits=4, deleted_at=None),\n            Course(course_name=\"English 101\", course_code=\"ENG101\", credits=3, deleted_at=None),\n        ]\n    \n        for student in students:\n            db.add(student)\n        for course in courses:\n            db.add(course)\n>       db.commit()\n\ntests/test_search_api_endpoints.py:78: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:2030: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1311: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1286: in _prepare_impl\n    self.session.flush()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4331: in flush\n    self._flush(objects)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4466: in _flush\n    with util.safe_reraise():\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4427: in _flush\n    flush_context.execute()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:466: in execute\n    rec.execute(self)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:93: in save_obj\n    _emit_insert_statements(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:1143: in _emit_insert_statements\n    result = connection.execute(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1419: in execute\n    return meth(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1844: in _execute_context\n    return self._exec_insertmany_context(dialect, context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2126: in _exec_insertmany_context\n    self._handle_dbapi_exception(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: in _exec_insertmany_context\n    dialect.do_execute(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb8959c6c0>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8943d910>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\nE       [SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\nE       [parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\nE       (Background on this error at: https://sqlalche.me/e/20/gkpj)\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError"}, "teardown": {"duration": 0.000719801999991887, "outcome": "passed"}}, {"nodeid": "tests/test_search_api_endpoints.py::TestSuggestionsEndpoint::test_get_suggestions_students", "lineno": 429, "outcome": "error", "keywords": ["test_get_suggestions_students", "TestSuggestionsEndpoint", "test_search_api_endpoints.py", "tests", "backend", ""], "setup": {"duration": 0.4576049909999824, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\n[SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\n[parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)"}, "traceback": [{"path": "tests/test_search_api_endpoints.py", "lineno": 78, "message": ""}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 2030, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in commit"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1311, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1286, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4331, "message": "in flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4466, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", "lineno": 224, "message": "in __exit__"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4427, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 466, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 642, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 93, "message": "in save_obj"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 1143, "message": "in _emit_insert_statements"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1419, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", "lineno": 526, "message": "in _execute_on_connection"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1641, "message": "in _execute_clauseelement"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1844, "message": "in _execute_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2126, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2355, "message": "in _handle_dbapi_exception"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2118, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "IntegrityError"}], "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815306.65119, "msecs": 651.0, "relativeCreated": 112529.15811538696, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:35:06,651"}], "longrepr": "self = <sqlalchemy.engine.base.Connection object at 0x7fcb898ae790>\ndialect = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8c3b5050>\n\n    def _exec_insertmany_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for an \"insertmanyvalues\"\n        operation, which will invoke DBAPI\n        cursor.execute() one or more times with individual log and\n        event hook calls.\n    \n        \"\"\"\n    \n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n        else:\n            generic_setinputsizes = None\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters = parameters\n    \n        engine_events = self._has_events or self.engine._has_events\n        if self.dialect._has_events:\n            do_execute_dispatch: Iterable[Any] = (\n                self.dialect.dispatch.do_execute\n            )\n        else:\n            do_execute_dispatch = ()\n    \n        if self._echo:\n            stats = context._get_cache_stats() + \" (insertmanyvalues)\"\n    \n        preserve_rowcount = context.execution_options.get(\n            \"preserve_rowcount\", False\n        )\n        rowcount = 0\n    \n        for imv_batch in dialect._deliver_insertmanyvalues_batches(\n            self,\n            cursor,\n            str_statement,\n            effective_parameters,\n            generic_setinputsizes,\n            context,\n        ):\n            if imv_batch.processed_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor,\n                        imv_batch.processed_setinputsizes,\n                        context,\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e,\n                        sql_util._long_statement(imv_batch.replaced_statement),\n                        imv_batch.replaced_parameters,\n                        None,\n                        context,\n                        is_sub_exec=True,\n                    )\n    \n            sub_stmt = imv_batch.replaced_statement\n            sub_params = imv_batch.replaced_parameters\n    \n            if engine_events:\n                for fn in self.dispatch.before_cursor_execute:\n                    sub_stmt, sub_params = fn(\n                        self,\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                        True,\n                    )\n    \n            if self._echo:\n                self._log_info(sql_util._long_statement(sub_stmt))\n    \n                imv_stats = f\"\"\" {imv_batch.batchnum}/{\n                            imv_batch.total_batches\n                } ({\n                    'ordered'\n                    if imv_batch.rows_sorted else 'unordered'\n                }{\n                    '; batch not supported'\n                    if imv_batch.is_downgraded\n                    else ''\n                })\"\"\"\n    \n                if imv_batch.batchnum == 1:\n                    stats += imv_stats\n                else:\n                    stats = f\"insertmanyvalues{imv_stats}\"\n    \n                if not self.engine.hide_parameters:\n                    self._log_info(\n                        \"[%s] %r\",\n                        stats,\n                        sql_util._repr_params(\n                            sub_params,\n                            batches=10,\n                            ismulti=False,\n                        ),\n                    )\n                else:\n                    self._log_info(\n                        \"[%s] [SQL parameters hidden due to \"\n                        \"hide_parameters=True]\",\n                        stats,\n                    )\n    \n            try:\n                for fn in do_execute_dispatch:\n                    if fn(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    ):\n                        break\n                else:\n>                   dialect.do_execute(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    )\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb89216240>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8c3b5050>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlite3.IntegrityError: NOT NULL constraint failed: courses.semester\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError\n\nThe above exception was the direct cause of the following exception:\n\ndb = <sqlalchemy.orm.session.Session object at 0x7fcb88fba090>\n\n    @pytest.fixture\n    def test_data(db: Session):\n        \"\"\"Create test data\"\"\"\n        students = [\n            Student(first_name=\"John\", last_name=\"Doe\", email=\"john@example.com\", phone=\"555-0001\", deleted_at=None),\n            Student(first_name=\"Jane\", last_name=\"Smith\", email=\"jane@example.com\", phone=\"555-0002\", deleted_at=None),\n            Student(first_name=\"Bob\", last_name=\"Johnson\", email=\"bob@example.com\", phone=\"555-0003\", deleted_at=None),\n        ]\n    \n        courses = [\n            Course(course_name=\"Mathematics 101\", course_code=\"MATH101\", credits=3, deleted_at=None),\n            Course(course_name=\"Physics 201\", course_code=\"PHYS201\", credits=4, deleted_at=None),\n            Course(course_name=\"English 101\", course_code=\"ENG101\", credits=3, deleted_at=None),\n        ]\n    \n        for student in students:\n            db.add(student)\n        for course in courses:\n            db.add(course)\n>       db.commit()\n\ntests/test_search_api_endpoints.py:78: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:2030: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1311: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1286: in _prepare_impl\n    self.session.flush()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4331: in flush\n    self._flush(objects)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4466: in _flush\n    with util.safe_reraise():\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4427: in _flush\n    flush_context.execute()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:466: in execute\n    rec.execute(self)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:93: in save_obj\n    _emit_insert_statements(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:1143: in _emit_insert_statements\n    result = connection.execute(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1419: in execute\n    return meth(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1844: in _execute_context\n    return self._exec_insertmany_context(dialect, context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2126: in _exec_insertmany_context\n    self._handle_dbapi_exception(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: in _exec_insertmany_context\n    dialect.do_execute(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb89216240>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8c3b5050>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\nE       [SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\nE       [parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\nE       (Background on this error at: https://sqlalche.me/e/20/gkpj)\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError"}, "teardown": {"duration": 0.0007075190000023213, "outcome": "passed"}}, {"nodeid": "tests/test_search_api_endpoints.py::TestSuggestionsEndpoint::test_get_suggestions_courses", "lineno": 439, "outcome": "error", "keywords": ["test_get_suggestions_courses", "TestSuggestionsEndpoint", "test_search_api_endpoints.py", "tests", "backend", ""], "setup": {"duration": 0.688537010999994, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\n[SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\n[parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)"}, "traceback": [{"path": "tests/test_search_api_endpoints.py", "lineno": 78, "message": ""}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 2030, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in commit"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1311, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1286, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4331, "message": "in flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4466, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", "lineno": 224, "message": "in __exit__"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4427, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 466, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 642, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 93, "message": "in save_obj"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 1143, "message": "in _emit_insert_statements"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1419, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", "lineno": 526, "message": "in _execute_on_connection"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1641, "message": "in _execute_clauseelement"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1844, "message": "in _execute_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2126, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2355, "message": "in _handle_dbapi_exception"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2118, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "IntegrityError"}], "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815307.845366, "msecs": 845.0, "relativeCreated": 113723.33407402039, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:35:07,845"}], "longrepr": "self = <sqlalchemy.engine.base.Connection object at 0x7fcb809d7790>\ndialect = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb891287d0>\n\n    def _exec_insertmany_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for an \"insertmanyvalues\"\n        operation, which will invoke DBAPI\n        cursor.execute() one or more times with individual log and\n        event hook calls.\n    \n        \"\"\"\n    \n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n        else:\n            generic_setinputsizes = None\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters = parameters\n    \n        engine_events = self._has_events or self.engine._has_events\n        if self.dialect._has_events:\n            do_execute_dispatch: Iterable[Any] = (\n                self.dialect.dispatch.do_execute\n            )\n        else:\n            do_execute_dispatch = ()\n    \n        if self._echo:\n            stats = context._get_cache_stats() + \" (insertmanyvalues)\"\n    \n        preserve_rowcount = context.execution_options.get(\n            \"preserve_rowcount\", False\n        )\n        rowcount = 0\n    \n        for imv_batch in dialect._deliver_insertmanyvalues_batches(\n            self,\n            cursor,\n            str_statement,\n            effective_parameters,\n            generic_setinputsizes,\n            context,\n        ):\n            if imv_batch.processed_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor,\n                        imv_batch.processed_setinputsizes,\n                        context,\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e,\n                        sql_util._long_statement(imv_batch.replaced_statement),\n                        imv_batch.replaced_parameters,\n                        None,\n                        context,\n                        is_sub_exec=True,\n                    )\n    \n            sub_stmt = imv_batch.replaced_statement\n            sub_params = imv_batch.replaced_parameters\n    \n            if engine_events:\n                for fn in self.dispatch.before_cursor_execute:\n                    sub_stmt, sub_params = fn(\n                        self,\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                        True,\n                    )\n    \n            if self._echo:\n                self._log_info(sql_util._long_statement(sub_stmt))\n    \n                imv_stats = f\"\"\" {imv_batch.batchnum}/{\n                            imv_batch.total_batches\n                } ({\n                    'ordered'\n                    if imv_batch.rows_sorted else 'unordered'\n                }{\n                    '; batch not supported'\n                    if imv_batch.is_downgraded\n                    else ''\n                })\"\"\"\n    \n                if imv_batch.batchnum == 1:\n                    stats += imv_stats\n                else:\n                    stats = f\"insertmanyvalues{imv_stats}\"\n    \n                if not self.engine.hide_parameters:\n                    self._log_info(\n                        \"[%s] %r\",\n                        stats,\n                        sql_util._repr_params(\n                            sub_params,\n                            batches=10,\n                            ismulti=False,\n                        ),\n                    )\n                else:\n                    self._log_info(\n                        \"[%s] [SQL parameters hidden due to \"\n                        \"hide_parameters=True]\",\n                        stats,\n                    )\n    \n            try:\n                for fn in do_execute_dispatch:\n                    if fn(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    ):\n                        break\n                else:\n>                   dialect.do_execute(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    )\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb8a128bc0>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb891287d0>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlite3.IntegrityError: NOT NULL constraint failed: courses.semester\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError\n\nThe above exception was the direct cause of the following exception:\n\ndb = <sqlalchemy.orm.session.Session object at 0x7fcb809d6b10>\n\n    @pytest.fixture\n    def test_data(db: Session):\n        \"\"\"Create test data\"\"\"\n        students = [\n            Student(first_name=\"John\", last_name=\"Doe\", email=\"john@example.com\", phone=\"555-0001\", deleted_at=None),\n            Student(first_name=\"Jane\", last_name=\"Smith\", email=\"jane@example.com\", phone=\"555-0002\", deleted_at=None),\n            Student(first_name=\"Bob\", last_name=\"Johnson\", email=\"bob@example.com\", phone=\"555-0003\", deleted_at=None),\n        ]\n    \n        courses = [\n            Course(course_name=\"Mathematics 101\", course_code=\"MATH101\", credits=3, deleted_at=None),\n            Course(course_name=\"Physics 201\", course_code=\"PHYS201\", credits=4, deleted_at=None),\n            Course(course_name=\"English 101\", course_code=\"ENG101\", credits=3, deleted_at=None),\n        ]\n    \n        for student in students:\n            db.add(student)\n        for course in courses:\n            db.add(course)\n>       db.commit()\n\ntests/test_search_api_endpoints.py:78: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:2030: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1311: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1286: in _prepare_impl\n    self.session.flush()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4331: in flush\n    self._flush(objects)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4466: in _flush\n    with util.safe_reraise():\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4427: in _flush\n    flush_context.execute()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:466: in execute\n    rec.execute(self)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:93: in save_obj\n    _emit_insert_statements(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:1143: in _emit_insert_statements\n    result = connection.execute(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1419: in execute\n    return meth(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1844: in _execute_context\n    return self._exec_insertmany_context(dialect, context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2126: in _exec_insertmany_context\n    self._handle_dbapi_exception(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: in _exec_insertmany_context\n    dialect.do_execute(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb8a128bc0>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb891287d0>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\nE       [SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\nE       [parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\nE       (Background on this error at: https://sqlalche.me/e/20/gkpj)\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError"}, "teardown": {"duration": 0.0007658579999940685, "outcome": "passed"}}, {"nodeid": "tests/test_search_api_endpoints.py::TestSuggestionsEndpoint::test_get_suggestions_empty_query", "lineno": 447, "outcome": "failed", "keywords": ["test_get_suggestions_empty_query", "TestSuggestionsEndpoint", "test_search_api_endpoints.py", "tests", "backend", ""], "setup": {"duration": 0.6690184549999856, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815309.2654443, "msecs": 265.0, "relativeCreated": 115143.41235160828, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:35:09,265"}]}, "call": {"duration": 0.0074837810000190075, "outcome": "failed", "crash": {"path": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_api_endpoints.py", "lineno": 452, "message": "assert 404 in [200, 400]\n +  where 404 = <Response [404 Not Found]>.status_code"}, "traceback": [{"path": "tests/test_search_api_endpoints.py", "lineno": 452, "message": "AssertionError"}], "longrepr": "self = <backend.tests.test_search_api_endpoints.TestSuggestionsEndpoint object at 0x7fcb8ccf61d0>\nclient = <starlette.testclient.TestClient object at 0x7fcb8985b590>\nadmin_headers = {'Authorization': 'Bearer admin_token', 'Content-Type': 'application/json'}\n\n    def test_get_suggestions_empty_query(self, client, admin_headers):\n        \"\"\"Should handle empty query\"\"\"\n        response = client.get(f\"{self.endpoint}?query=&entity=student\", headers=admin_headers)\n    \n>       assert response.status_code in [200, 400]\nE       assert 404 in [200, 400]\nE        +  where 404 = <Response [404 Not Found]>.status_code\n\ntests/test_search_api_endpoints.py:452: AssertionError"}, "teardown": {"duration": 0.0005024459999845021, "outcome": "passed"}}, {"nodeid": "tests/test_search_api_endpoints.py::TestSuggestionsEndpoint::test_get_suggestions_limit", "lineno": 453, "outcome": "error", "keywords": ["test_get_suggestions_limit", "TestSuggestionsEndpoint", "test_search_api_endpoints.py", "tests", "backend", ""], "setup": {"duration": 0.4521340020000082, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\n[SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\n[parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)"}, "traceback": [{"path": "tests/test_search_api_endpoints.py", "lineno": 78, "message": ""}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 2030, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in commit"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1311, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1286, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4331, "message": "in flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4466, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", "lineno": 224, "message": "in __exit__"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4427, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 466, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 642, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 93, "message": "in save_obj"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 1143, "message": "in _emit_insert_statements"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1419, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", "lineno": 526, "message": "in _execute_on_connection"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1641, "message": "in _execute_clauseelement"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1844, "message": "in _execute_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2126, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2355, "message": "in _handle_dbapi_exception"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2118, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "IntegrityError"}], "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815309.9620116, "msecs": 962.0, "relativeCreated": 115839.97964859009, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:35:09,962"}], "longrepr": "self = <sqlalchemy.engine.base.Connection object at 0x7fcb8cad92d0>\ndialect = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8c9a70d0>\n\n    def _exec_insertmany_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for an \"insertmanyvalues\"\n        operation, which will invoke DBAPI\n        cursor.execute() one or more times with individual log and\n        event hook calls.\n    \n        \"\"\"\n    \n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n        else:\n            generic_setinputsizes = None\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters = parameters\n    \n        engine_events = self._has_events or self.engine._has_events\n        if self.dialect._has_events:\n            do_execute_dispatch: Iterable[Any] = (\n                self.dialect.dispatch.do_execute\n            )\n        else:\n            do_execute_dispatch = ()\n    \n        if self._echo:\n            stats = context._get_cache_stats() + \" (insertmanyvalues)\"\n    \n        preserve_rowcount = context.execution_options.get(\n            \"preserve_rowcount\", False\n        )\n        rowcount = 0\n    \n        for imv_batch in dialect._deliver_insertmanyvalues_batches(\n            self,\n            cursor,\n            str_statement,\n            effective_parameters,\n            generic_setinputsizes,\n            context,\n        ):\n            if imv_batch.processed_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor,\n                        imv_batch.processed_setinputsizes,\n                        context,\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e,\n                        sql_util._long_statement(imv_batch.replaced_statement),\n                        imv_batch.replaced_parameters,\n                        None,\n                        context,\n                        is_sub_exec=True,\n                    )\n    \n            sub_stmt = imv_batch.replaced_statement\n            sub_params = imv_batch.replaced_parameters\n    \n            if engine_events:\n                for fn in self.dispatch.before_cursor_execute:\n                    sub_stmt, sub_params = fn(\n                        self,\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                        True,\n                    )\n    \n            if self._echo:\n                self._log_info(sql_util._long_statement(sub_stmt))\n    \n                imv_stats = f\"\"\" {imv_batch.batchnum}/{\n                            imv_batch.total_batches\n                } ({\n                    'ordered'\n                    if imv_batch.rows_sorted else 'unordered'\n                }{\n                    '; batch not supported'\n                    if imv_batch.is_downgraded\n                    else ''\n                })\"\"\"\n    \n                if imv_batch.batchnum == 1:\n                    stats += imv_stats\n                else:\n                    stats = f\"insertmanyvalues{imv_stats}\"\n    \n                if not self.engine.hide_parameters:\n                    self._log_info(\n                        \"[%s] %r\",\n                        stats,\n                        sql_util._repr_params(\n                            sub_params,\n                            batches=10,\n                            ismulti=False,\n                        ),\n                    )\n                else:\n                    self._log_info(\n                        \"[%s] [SQL parameters hidden due to \"\n                        \"hide_parameters=True]\",\n                        stats,\n                    )\n    \n            try:\n                for fn in do_execute_dispatch:\n                    if fn(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    ):\n                        break\n                else:\n>                   dialect.do_execute(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    )\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb895b1b40>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8c9a70d0>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlite3.IntegrityError: NOT NULL constraint failed: courses.semester\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError\n\nThe above exception was the direct cause of the following exception:\n\ndb = <sqlalchemy.orm.session.Session object at 0x7fcb8cada7d0>\n\n    @pytest.fixture\n    def test_data(db: Session):\n        \"\"\"Create test data\"\"\"\n        students = [\n            Student(first_name=\"John\", last_name=\"Doe\", email=\"john@example.com\", phone=\"555-0001\", deleted_at=None),\n            Student(first_name=\"Jane\", last_name=\"Smith\", email=\"jane@example.com\", phone=\"555-0002\", deleted_at=None),\n            Student(first_name=\"Bob\", last_name=\"Johnson\", email=\"bob@example.com\", phone=\"555-0003\", deleted_at=None),\n        ]\n    \n        courses = [\n            Course(course_name=\"Mathematics 101\", course_code=\"MATH101\", credits=3, deleted_at=None),\n            Course(course_name=\"Physics 201\", course_code=\"PHYS201\", credits=4, deleted_at=None),\n            Course(course_name=\"English 101\", course_code=\"ENG101\", credits=3, deleted_at=None),\n        ]\n    \n        for student in students:\n            db.add(student)\n        for course in courses:\n            db.add(course)\n>       db.commit()\n\ntests/test_search_api_endpoints.py:78: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:2030: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1311: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1286: in _prepare_impl\n    self.session.flush()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4331: in flush\n    self._flush(objects)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4466: in _flush\n    with util.safe_reraise():\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4427: in _flush\n    flush_context.execute()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:466: in execute\n    rec.execute(self)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:93: in save_obj\n    _emit_insert_statements(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:1143: in _emit_insert_statements\n    result = connection.execute(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1419: in execute\n    return meth(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1844: in _execute_context\n    return self._exec_insertmany_context(dialect, context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2126: in _exec_insertmany_context\n    self._handle_dbapi_exception(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: in _exec_insertmany_context\n    dialect.do_execute(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb895b1b40>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8c9a70d0>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\nE       [SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\nE       [parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\nE       (Background on this error at: https://sqlalche.me/e/20/gkpj)\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError"}, "teardown": {"duration": 0.0006552540000086537, "outcome": "passed"}}, {"nodeid": "tests/test_search_api_endpoints.py::TestSuggestionsEndpoint::test_get_suggestions_caching", "lineno": 461, "outcome": "error", "keywords": ["test_get_suggestions_caching", "TestSuggestionsEndpoint", "test_search_api_endpoints.py", "tests", "backend", ""], "setup": {"duration": 0.4543641150000042, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\n[SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\n[parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)"}, "traceback": [{"path": "tests/test_search_api_endpoints.py", "lineno": 78, "message": ""}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 2030, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in commit"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1311, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1286, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4331, "message": "in flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4466, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", "lineno": 224, "message": "in __exit__"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4427, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 466, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 642, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 93, "message": "in save_obj"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 1143, "message": "in _emit_insert_statements"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1419, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", "lineno": 526, "message": "in _execute_on_connection"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1641, "message": "in _execute_clauseelement"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1844, "message": "in _execute_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2126, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2355, "message": "in _handle_dbapi_exception"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2118, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "IntegrityError"}], "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815311.4147031, "msecs": 414.0, "relativeCreated": 117292.67120361328, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:35:11,414"}], "longrepr": "self = <sqlalchemy.engine.base.Connection object at 0x7fcb89a22ad0>\ndialect = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8bdff850>\n\n    def _exec_insertmany_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for an \"insertmanyvalues\"\n        operation, which will invoke DBAPI\n        cursor.execute() one or more times with individual log and\n        event hook calls.\n    \n        \"\"\"\n    \n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n        else:\n            generic_setinputsizes = None\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters = parameters\n    \n        engine_events = self._has_events or self.engine._has_events\n        if self.dialect._has_events:\n            do_execute_dispatch: Iterable[Any] = (\n                self.dialect.dispatch.do_execute\n            )\n        else:\n            do_execute_dispatch = ()\n    \n        if self._echo:\n            stats = context._get_cache_stats() + \" (insertmanyvalues)\"\n    \n        preserve_rowcount = context.execution_options.get(\n            \"preserve_rowcount\", False\n        )\n        rowcount = 0\n    \n        for imv_batch in dialect._deliver_insertmanyvalues_batches(\n            self,\n            cursor,\n            str_statement,\n            effective_parameters,\n            generic_setinputsizes,\n            context,\n        ):\n            if imv_batch.processed_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor,\n                        imv_batch.processed_setinputsizes,\n                        context,\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e,\n                        sql_util._long_statement(imv_batch.replaced_statement),\n                        imv_batch.replaced_parameters,\n                        None,\n                        context,\n                        is_sub_exec=True,\n                    )\n    \n            sub_stmt = imv_batch.replaced_statement\n            sub_params = imv_batch.replaced_parameters\n    \n            if engine_events:\n                for fn in self.dispatch.before_cursor_execute:\n                    sub_stmt, sub_params = fn(\n                        self,\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                        True,\n                    )\n    \n            if self._echo:\n                self._log_info(sql_util._long_statement(sub_stmt))\n    \n                imv_stats = f\"\"\" {imv_batch.batchnum}/{\n                            imv_batch.total_batches\n                } ({\n                    'ordered'\n                    if imv_batch.rows_sorted else 'unordered'\n                }{\n                    '; batch not supported'\n                    if imv_batch.is_downgraded\n                    else ''\n                })\"\"\"\n    \n                if imv_batch.batchnum == 1:\n                    stats += imv_stats\n                else:\n                    stats = f\"insertmanyvalues{imv_stats}\"\n    \n                if not self.engine.hide_parameters:\n                    self._log_info(\n                        \"[%s] %r\",\n                        stats,\n                        sql_util._repr_params(\n                            sub_params,\n                            batches=10,\n                            ismulti=False,\n                        ),\n                    )\n                else:\n                    self._log_info(\n                        \"[%s] [SQL parameters hidden due to \"\n                        \"hide_parameters=True]\",\n                        stats,\n                    )\n    \n            try:\n                for fn in do_execute_dispatch:\n                    if fn(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    ):\n                        break\n                else:\n>                   dialect.do_execute(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    )\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb88ba5040>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8bdff850>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlite3.IntegrityError: NOT NULL constraint failed: courses.semester\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError\n\nThe above exception was the direct cause of the following exception:\n\ndb = <sqlalchemy.orm.session.Session object at 0x7fcb89865950>\n\n    @pytest.fixture\n    def test_data(db: Session):\n        \"\"\"Create test data\"\"\"\n        students = [\n            Student(first_name=\"John\", last_name=\"Doe\", email=\"john@example.com\", phone=\"555-0001\", deleted_at=None),\n            Student(first_name=\"Jane\", last_name=\"Smith\", email=\"jane@example.com\", phone=\"555-0002\", deleted_at=None),\n            Student(first_name=\"Bob\", last_name=\"Johnson\", email=\"bob@example.com\", phone=\"555-0003\", deleted_at=None),\n        ]\n    \n        courses = [\n            Course(course_name=\"Mathematics 101\", course_code=\"MATH101\", credits=3, deleted_at=None),\n            Course(course_name=\"Physics 201\", course_code=\"PHYS201\", credits=4, deleted_at=None),\n            Course(course_name=\"English 101\", course_code=\"ENG101\", credits=3, deleted_at=None),\n        ]\n    \n        for student in students:\n            db.add(student)\n        for course in courses:\n            db.add(course)\n>       db.commit()\n\ntests/test_search_api_endpoints.py:78: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:2030: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1311: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1286: in _prepare_impl\n    self.session.flush()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4331: in flush\n    self._flush(objects)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4466: in _flush\n    with util.safe_reraise():\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4427: in _flush\n    flush_context.execute()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:466: in execute\n    rec.execute(self)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:93: in save_obj\n    _emit_insert_statements(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:1143: in _emit_insert_statements\n    result = connection.execute(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1419: in execute\n    return meth(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1844: in _execute_context\n    return self._exec_insertmany_context(dialect, context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2126: in _exec_insertmany_context\n    self._handle_dbapi_exception(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: in _exec_insertmany_context\n    dialect.do_execute(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb88ba5040>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8bdff850>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\nE       [SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\nE       [parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\nE       (Background on this error at: https://sqlalche.me/e/20/gkpj)\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError"}, "teardown": {"duration": 0.0006536209999978837, "outcome": "passed"}}, {"nodeid": "tests/test_search_api_endpoints.py::TestSuggestionsEndpoint::test_get_suggestions_response_format", "lineno": 469, "outcome": "error", "keywords": ["test_get_suggestions_response_format", "TestSuggestionsEndpoint", "test_search_api_endpoints.py", "tests", "backend", ""], "setup": {"duration": 0.4488394330000176, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\n[SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\n[parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)"}, "traceback": [{"path": "tests/test_search_api_endpoints.py", "lineno": 78, "message": ""}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 2030, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in commit"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1311, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1286, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4331, "message": "in flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4466, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", "lineno": 224, "message": "in __exit__"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4427, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 466, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 642, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 93, "message": "in save_obj"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 1143, "message": "in _emit_insert_statements"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1419, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", "lineno": 526, "message": "in _execute_on_connection"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1641, "message": "in _execute_clauseelement"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1844, "message": "in _execute_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2126, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2355, "message": "in _handle_dbapi_exception"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2118, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "IntegrityError"}], "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815312.8188865, "msecs": 818.0, "relativeCreated": 118696.85459136963, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:35:12,818"}], "longrepr": "self = <sqlalchemy.engine.base.Connection object at 0x7fcb890e0210>\ndialect = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8955f5d0>\n\n    def _exec_insertmany_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for an \"insertmanyvalues\"\n        operation, which will invoke DBAPI\n        cursor.execute() one or more times with individual log and\n        event hook calls.\n    \n        \"\"\"\n    \n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n        else:\n            generic_setinputsizes = None\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters = parameters\n    \n        engine_events = self._has_events or self.engine._has_events\n        if self.dialect._has_events:\n            do_execute_dispatch: Iterable[Any] = (\n                self.dialect.dispatch.do_execute\n            )\n        else:\n            do_execute_dispatch = ()\n    \n        if self._echo:\n            stats = context._get_cache_stats() + \" (insertmanyvalues)\"\n    \n        preserve_rowcount = context.execution_options.get(\n            \"preserve_rowcount\", False\n        )\n        rowcount = 0\n    \n        for imv_batch in dialect._deliver_insertmanyvalues_batches(\n            self,\n            cursor,\n            str_statement,\n            effective_parameters,\n            generic_setinputsizes,\n            context,\n        ):\n            if imv_batch.processed_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor,\n                        imv_batch.processed_setinputsizes,\n                        context,\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e,\n                        sql_util._long_statement(imv_batch.replaced_statement),\n                        imv_batch.replaced_parameters,\n                        None,\n                        context,\n                        is_sub_exec=True,\n                    )\n    \n            sub_stmt = imv_batch.replaced_statement\n            sub_params = imv_batch.replaced_parameters\n    \n            if engine_events:\n                for fn in self.dispatch.before_cursor_execute:\n                    sub_stmt, sub_params = fn(\n                        self,\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                        True,\n                    )\n    \n            if self._echo:\n                self._log_info(sql_util._long_statement(sub_stmt))\n    \n                imv_stats = f\"\"\" {imv_batch.batchnum}/{\n                            imv_batch.total_batches\n                } ({\n                    'ordered'\n                    if imv_batch.rows_sorted else 'unordered'\n                }{\n                    '; batch not supported'\n                    if imv_batch.is_downgraded\n                    else ''\n                })\"\"\"\n    \n                if imv_batch.batchnum == 1:\n                    stats += imv_stats\n                else:\n                    stats = f\"insertmanyvalues{imv_stats}\"\n    \n                if not self.engine.hide_parameters:\n                    self._log_info(\n                        \"[%s] %r\",\n                        stats,\n                        sql_util._repr_params(\n                            sub_params,\n                            batches=10,\n                            ismulti=False,\n                        ),\n                    )\n                else:\n                    self._log_info(\n                        \"[%s] [SQL parameters hidden due to \"\n                        \"hide_parameters=True]\",\n                        stats,\n                    )\n    \n            try:\n                for fn in do_execute_dispatch:\n                    if fn(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    ):\n                        break\n                else:\n>                   dialect.do_execute(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    )\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb89993b40>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8955f5d0>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlite3.IntegrityError: NOT NULL constraint failed: courses.semester\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError\n\nThe above exception was the direct cause of the following exception:\n\ndb = <sqlalchemy.orm.session.Session object at 0x7fcb8c4b5350>\n\n    @pytest.fixture\n    def test_data(db: Session):\n        \"\"\"Create test data\"\"\"\n        students = [\n            Student(first_name=\"John\", last_name=\"Doe\", email=\"john@example.com\", phone=\"555-0001\", deleted_at=None),\n            Student(first_name=\"Jane\", last_name=\"Smith\", email=\"jane@example.com\", phone=\"555-0002\", deleted_at=None),\n            Student(first_name=\"Bob\", last_name=\"Johnson\", email=\"bob@example.com\", phone=\"555-0003\", deleted_at=None),\n        ]\n    \n        courses = [\n            Course(course_name=\"Mathematics 101\", course_code=\"MATH101\", credits=3, deleted_at=None),\n            Course(course_name=\"Physics 201\", course_code=\"PHYS201\", credits=4, deleted_at=None),\n            Course(course_name=\"English 101\", course_code=\"ENG101\", credits=3, deleted_at=None),\n        ]\n    \n        for student in students:\n            db.add(student)\n        for course in courses:\n            db.add(course)\n>       db.commit()\n\ntests/test_search_api_endpoints.py:78: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:2030: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1311: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1286: in _prepare_impl\n    self.session.flush()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4331: in flush\n    self._flush(objects)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4466: in _flush\n    with util.safe_reraise():\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4427: in _flush\n    flush_context.execute()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:466: in execute\n    rec.execute(self)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:93: in save_obj\n    _emit_insert_statements(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:1143: in _emit_insert_statements\n    result = connection.execute(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1419: in execute\n    return meth(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1844: in _execute_context\n    return self._exec_insertmany_context(dialect, context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2126: in _exec_insertmany_context\n    self._handle_dbapi_exception(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: in _exec_insertmany_context\n    dialect.do_execute(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb89993b40>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8955f5d0>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\nE       [SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\nE       [parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\nE       (Background on this error at: https://sqlalche.me/e/20/gkpj)\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError"}, "teardown": {"duration": 0.0006671439999763606, "outcome": "passed"}}, {"nodeid": "tests/test_search_api_endpoints.py::TestSuggestionsEndpoint::test_get_suggestions_missing_entity", "lineno": 478, "outcome": "failed", "keywords": ["test_get_suggestions_missing_entity", "TestSuggestionsEndpoint", "test_search_api_endpoints.py", "tests", "backend", ""], "setup": {"duration": 0.4486850049999873, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815314.2304068, "msecs": 230.0, "relativeCreated": 120108.37483406067, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:35:14,230"}]}, "call": {"duration": 0.007876243999987764, "outcome": "failed", "crash": {"path": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_api_endpoints.py", "lineno": 483, "message": "assert 404 in [400, 422]\n +  where 404 = <Response [404 Not Found]>.status_code"}, "traceback": [{"path": "tests/test_search_api_endpoints.py", "lineno": 483, "message": "AssertionError"}], "longrepr": "self = <backend.tests.test_search_api_endpoints.TestSuggestionsEndpoint object at 0x7fcb8ccf7f10>\nclient = <starlette.testclient.TestClient object at 0x7fcb89381190>\nadmin_headers = {'Authorization': 'Bearer admin_token', 'Content-Type': 'application/json'}\n\n    def test_get_suggestions_missing_entity(self, client, admin_headers):\n        \"\"\"Should reject missing entity parameter\"\"\"\n        response = client.get(f\"{self.endpoint}?query=test\", headers=admin_headers)\n    \n>       assert response.status_code in [400, 422]\nE       assert 404 in [400, 422]\nE        +  where 404 = <Response [404 Not Found]>.status_code\n\ntests/test_search_api_endpoints.py:483: AssertionError"}, "teardown": {"duration": 0.0003819220000025325, "outcome": "passed"}}, {"nodeid": "tests/test_search_api_endpoints.py::TestStatisticsEndpoint::test_get_statistics_all", "lineno": 490, "outcome": "error", "keywords": ["test_get_statistics_all", "TestStatisticsEndpoint", "test_search_api_endpoints.py", "tests", "backend", ""], "setup": {"duration": 0.4496611049999899, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\n[SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\n[parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)"}, "traceback": [{"path": "tests/test_search_api_endpoints.py", "lineno": 78, "message": ""}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 2030, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in commit"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1311, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1286, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4331, "message": "in flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4466, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", "lineno": 224, "message": "in __exit__"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4427, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 466, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 642, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 93, "message": "in save_obj"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 1143, "message": "in _emit_insert_statements"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1419, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", "lineno": 526, "message": "in _execute_on_connection"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1641, "message": "in _execute_clauseelement"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1844, "message": "in _execute_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2126, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2355, "message": "in _handle_dbapi_exception"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2118, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "IntegrityError"}], "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815314.7047703, "msecs": 704.0, "relativeCreated": 120582.73839950562, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:35:14,704"}], "longrepr": "self = <sqlalchemy.engine.base.Connection object at 0x7fcb895f34d0>\ndialect = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb894a5050>\n\n    def _exec_insertmany_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for an \"insertmanyvalues\"\n        operation, which will invoke DBAPI\n        cursor.execute() one or more times with individual log and\n        event hook calls.\n    \n        \"\"\"\n    \n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n        else:\n            generic_setinputsizes = None\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters = parameters\n    \n        engine_events = self._has_events or self.engine._has_events\n        if self.dialect._has_events:\n            do_execute_dispatch: Iterable[Any] = (\n                self.dialect.dispatch.do_execute\n            )\n        else:\n            do_execute_dispatch = ()\n    \n        if self._echo:\n            stats = context._get_cache_stats() + \" (insertmanyvalues)\"\n    \n        preserve_rowcount = context.execution_options.get(\n            \"preserve_rowcount\", False\n        )\n        rowcount = 0\n    \n        for imv_batch in dialect._deliver_insertmanyvalues_batches(\n            self,\n            cursor,\n            str_statement,\n            effective_parameters,\n            generic_setinputsizes,\n            context,\n        ):\n            if imv_batch.processed_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor,\n                        imv_batch.processed_setinputsizes,\n                        context,\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e,\n                        sql_util._long_statement(imv_batch.replaced_statement),\n                        imv_batch.replaced_parameters,\n                        None,\n                        context,\n                        is_sub_exec=True,\n                    )\n    \n            sub_stmt = imv_batch.replaced_statement\n            sub_params = imv_batch.replaced_parameters\n    \n            if engine_events:\n                for fn in self.dispatch.before_cursor_execute:\n                    sub_stmt, sub_params = fn(\n                        self,\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                        True,\n                    )\n    \n            if self._echo:\n                self._log_info(sql_util._long_statement(sub_stmt))\n    \n                imv_stats = f\"\"\" {imv_batch.batchnum}/{\n                            imv_batch.total_batches\n                } ({\n                    'ordered'\n                    if imv_batch.rows_sorted else 'unordered'\n                }{\n                    '; batch not supported'\n                    if imv_batch.is_downgraded\n                    else ''\n                })\"\"\"\n    \n                if imv_batch.batchnum == 1:\n                    stats += imv_stats\n                else:\n                    stats = f\"insertmanyvalues{imv_stats}\"\n    \n                if not self.engine.hide_parameters:\n                    self._log_info(\n                        \"[%s] %r\",\n                        stats,\n                        sql_util._repr_params(\n                            sub_params,\n                            batches=10,\n                            ismulti=False,\n                        ),\n                    )\n                else:\n                    self._log_info(\n                        \"[%s] [SQL parameters hidden due to \"\n                        \"hide_parameters=True]\",\n                        stats,\n                    )\n    \n            try:\n                for fn in do_execute_dispatch:\n                    if fn(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    ):\n                        break\n                else:\n>                   dialect.do_execute(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    )\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb8c4957c0>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb894a5050>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlite3.IntegrityError: NOT NULL constraint failed: courses.semester\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError\n\nThe above exception was the direct cause of the following exception:\n\ndb = <sqlalchemy.orm.session.Session object at 0x7fcb895f0e90>\n\n    @pytest.fixture\n    def test_data(db: Session):\n        \"\"\"Create test data\"\"\"\n        students = [\n            Student(first_name=\"John\", last_name=\"Doe\", email=\"john@example.com\", phone=\"555-0001\", deleted_at=None),\n            Student(first_name=\"Jane\", last_name=\"Smith\", email=\"jane@example.com\", phone=\"555-0002\", deleted_at=None),\n            Student(first_name=\"Bob\", last_name=\"Johnson\", email=\"bob@example.com\", phone=\"555-0003\", deleted_at=None),\n        ]\n    \n        courses = [\n            Course(course_name=\"Mathematics 101\", course_code=\"MATH101\", credits=3, deleted_at=None),\n            Course(course_name=\"Physics 201\", course_code=\"PHYS201\", credits=4, deleted_at=None),\n            Course(course_name=\"English 101\", course_code=\"ENG101\", credits=3, deleted_at=None),\n        ]\n    \n        for student in students:\n            db.add(student)\n        for course in courses:\n            db.add(course)\n>       db.commit()\n\ntests/test_search_api_endpoints.py:78: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:2030: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1311: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1286: in _prepare_impl\n    self.session.flush()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4331: in flush\n    self._flush(objects)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4466: in _flush\n    with util.safe_reraise():\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4427: in _flush\n    flush_context.execute()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:466: in execute\n    rec.execute(self)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:93: in save_obj\n    _emit_insert_statements(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:1143: in _emit_insert_statements\n    result = connection.execute(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1419: in execute\n    return meth(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1844: in _execute_context\n    return self._exec_insertmany_context(dialect, context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2126: in _exec_insertmany_context\n    self._handle_dbapi_exception(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: in _exec_insertmany_context\n    dialect.do_execute(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb8c4957c0>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb894a5050>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\nE       [SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\nE       [parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\nE       (Background on this error at: https://sqlalche.me/e/20/gkpj)\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError"}, "teardown": {"duration": 0.0006504019999908905, "outcome": "passed"}}, {"nodeid": "tests/test_search_api_endpoints.py::TestStatisticsEndpoint::test_get_statistics_by_entity", "lineno": 500, "outcome": "error", "keywords": ["test_get_statistics_by_entity", "TestStatisticsEndpoint", "test_search_api_endpoints.py", "tests", "backend", ""], "setup": {"duration": 0.4524811440000178, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\n[SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\n[parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)"}, "traceback": [{"path": "tests/test_search_api_endpoints.py", "lineno": 78, "message": ""}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 2030, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in commit"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1311, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1286, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4331, "message": "in flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4466, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", "lineno": 224, "message": "in __exit__"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4427, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 466, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 642, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 93, "message": "in save_obj"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 1143, "message": "in _emit_insert_statements"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1419, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", "lineno": 526, "message": "in _execute_on_connection"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1641, "message": "in _execute_clauseelement"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1844, "message": "in _execute_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2126, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2355, "message": "in _handle_dbapi_exception"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2118, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "IntegrityError"}], "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815316.132985, "msecs": 132.0, "relativeCreated": 122010.9531879425, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:35:16,132"}], "longrepr": "self = <sqlalchemy.engine.base.Connection object at 0x7fcb8c353010>\ndialect = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb88f0f5d0>\n\n    def _exec_insertmany_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for an \"insertmanyvalues\"\n        operation, which will invoke DBAPI\n        cursor.execute() one or more times with individual log and\n        event hook calls.\n    \n        \"\"\"\n    \n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n        else:\n            generic_setinputsizes = None\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters = parameters\n    \n        engine_events = self._has_events or self.engine._has_events\n        if self.dialect._has_events:\n            do_execute_dispatch: Iterable[Any] = (\n                self.dialect.dispatch.do_execute\n            )\n        else:\n            do_execute_dispatch = ()\n    \n        if self._echo:\n            stats = context._get_cache_stats() + \" (insertmanyvalues)\"\n    \n        preserve_rowcount = context.execution_options.get(\n            \"preserve_rowcount\", False\n        )\n        rowcount = 0\n    \n        for imv_batch in dialect._deliver_insertmanyvalues_batches(\n            self,\n            cursor,\n            str_statement,\n            effective_parameters,\n            generic_setinputsizes,\n            context,\n        ):\n            if imv_batch.processed_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor,\n                        imv_batch.processed_setinputsizes,\n                        context,\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e,\n                        sql_util._long_statement(imv_batch.replaced_statement),\n                        imv_batch.replaced_parameters,\n                        None,\n                        context,\n                        is_sub_exec=True,\n                    )\n    \n            sub_stmt = imv_batch.replaced_statement\n            sub_params = imv_batch.replaced_parameters\n    \n            if engine_events:\n                for fn in self.dispatch.before_cursor_execute:\n                    sub_stmt, sub_params = fn(\n                        self,\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                        True,\n                    )\n    \n            if self._echo:\n                self._log_info(sql_util._long_statement(sub_stmt))\n    \n                imv_stats = f\"\"\" {imv_batch.batchnum}/{\n                            imv_batch.total_batches\n                } ({\n                    'ordered'\n                    if imv_batch.rows_sorted else 'unordered'\n                }{\n                    '; batch not supported'\n                    if imv_batch.is_downgraded\n                    else ''\n                })\"\"\"\n    \n                if imv_batch.batchnum == 1:\n                    stats += imv_stats\n                else:\n                    stats = f\"insertmanyvalues{imv_stats}\"\n    \n                if not self.engine.hide_parameters:\n                    self._log_info(\n                        \"[%s] %r\",\n                        stats,\n                        sql_util._repr_params(\n                            sub_params,\n                            batches=10,\n                            ismulti=False,\n                        ),\n                    )\n                else:\n                    self._log_info(\n                        \"[%s] [SQL parameters hidden due to \"\n                        \"hide_parameters=True]\",\n                        stats,\n                    )\n    \n            try:\n                for fn in do_execute_dispatch:\n                    if fn(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    ):\n                        break\n                else:\n>                   dialect.do_execute(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    )\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb89458a40>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb88f0f5d0>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlite3.IntegrityError: NOT NULL constraint failed: courses.semester\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError\n\nThe above exception was the direct cause of the following exception:\n\ndb = <sqlalchemy.orm.session.Session object at 0x7fcb8c353c50>\n\n    @pytest.fixture\n    def test_data(db: Session):\n        \"\"\"Create test data\"\"\"\n        students = [\n            Student(first_name=\"John\", last_name=\"Doe\", email=\"john@example.com\", phone=\"555-0001\", deleted_at=None),\n            Student(first_name=\"Jane\", last_name=\"Smith\", email=\"jane@example.com\", phone=\"555-0002\", deleted_at=None),\n            Student(first_name=\"Bob\", last_name=\"Johnson\", email=\"bob@example.com\", phone=\"555-0003\", deleted_at=None),\n        ]\n    \n        courses = [\n            Course(course_name=\"Mathematics 101\", course_code=\"MATH101\", credits=3, deleted_at=None),\n            Course(course_name=\"Physics 201\", course_code=\"PHYS201\", credits=4, deleted_at=None),\n            Course(course_name=\"English 101\", course_code=\"ENG101\", credits=3, deleted_at=None),\n        ]\n    \n        for student in students:\n            db.add(student)\n        for course in courses:\n            db.add(course)\n>       db.commit()\n\ntests/test_search_api_endpoints.py:78: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:2030: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1311: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1286: in _prepare_impl\n    self.session.flush()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4331: in flush\n    self._flush(objects)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4466: in _flush\n    with util.safe_reraise():\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4427: in _flush\n    flush_context.execute()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:466: in execute\n    rec.execute(self)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:93: in save_obj\n    _emit_insert_statements(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:1143: in _emit_insert_statements\n    result = connection.execute(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1419: in execute\n    return meth(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1844: in _execute_context\n    return self._exec_insertmany_context(dialect, context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2126: in _exec_insertmany_context\n    self._handle_dbapi_exception(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: in _exec_insertmany_context\n    dialect.do_execute(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb89458a40>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb88f0f5d0>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\nE       [SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\nE       [parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\nE       (Background on this error at: https://sqlalche.me/e/20/gkpj)\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError"}, "teardown": {"duration": 0.0006748689999938051, "outcome": "passed"}}, {"nodeid": "tests/test_search_api_endpoints.py::TestStatisticsEndpoint::test_get_statistics_values_nonnegative", "lineno": 508, "outcome": "error", "keywords": ["test_get_statistics_values_nonnegative", "TestStatisticsEndpoint", "test_search_api_endpoints.py", "tests", "backend", ""], "setup": {"duration": 0.45125751199998376, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\n[SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\n[parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)"}, "traceback": [{"path": "tests/test_search_api_endpoints.py", "lineno": 78, "message": ""}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 2030, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in commit"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1311, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1286, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4331, "message": "in flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4466, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", "lineno": 224, "message": "in __exit__"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4427, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 466, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 642, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 93, "message": "in save_obj"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 1143, "message": "in _emit_insert_statements"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1419, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", "lineno": 526, "message": "in _execute_on_connection"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1641, "message": "in _execute_clauseelement"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1844, "message": "in _execute_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2126, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2355, "message": "in _handle_dbapi_exception"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2118, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "IntegrityError"}], "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815317.5487812, "msecs": 548.0, "relativeCreated": 123426.74922943115, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:35:17,548"}], "longrepr": "self = <sqlalchemy.engine.base.Connection object at 0x7fcb88f2b410>\ndialect = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8c2e7b10>\n\n    def _exec_insertmany_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for an \"insertmanyvalues\"\n        operation, which will invoke DBAPI\n        cursor.execute() one or more times with individual log and\n        event hook calls.\n    \n        \"\"\"\n    \n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n        else:\n            generic_setinputsizes = None\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters = parameters\n    \n        engine_events = self._has_events or self.engine._has_events\n        if self.dialect._has_events:\n            do_execute_dispatch: Iterable[Any] = (\n                self.dialect.dispatch.do_execute\n            )\n        else:\n            do_execute_dispatch = ()\n    \n        if self._echo:\n            stats = context._get_cache_stats() + \" (insertmanyvalues)\"\n    \n        preserve_rowcount = context.execution_options.get(\n            \"preserve_rowcount\", False\n        )\n        rowcount = 0\n    \n        for imv_batch in dialect._deliver_insertmanyvalues_batches(\n            self,\n            cursor,\n            str_statement,\n            effective_parameters,\n            generic_setinputsizes,\n            context,\n        ):\n            if imv_batch.processed_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor,\n                        imv_batch.processed_setinputsizes,\n                        context,\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e,\n                        sql_util._long_statement(imv_batch.replaced_statement),\n                        imv_batch.replaced_parameters,\n                        None,\n                        context,\n                        is_sub_exec=True,\n                    )\n    \n            sub_stmt = imv_batch.replaced_statement\n            sub_params = imv_batch.replaced_parameters\n    \n            if engine_events:\n                for fn in self.dispatch.before_cursor_execute:\n                    sub_stmt, sub_params = fn(\n                        self,\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                        True,\n                    )\n    \n            if self._echo:\n                self._log_info(sql_util._long_statement(sub_stmt))\n    \n                imv_stats = f\"\"\" {imv_batch.batchnum}/{\n                            imv_batch.total_batches\n                } ({\n                    'ordered'\n                    if imv_batch.rows_sorted else 'unordered'\n                }{\n                    '; batch not supported'\n                    if imv_batch.is_downgraded\n                    else ''\n                })\"\"\"\n    \n                if imv_batch.batchnum == 1:\n                    stats += imv_stats\n                else:\n                    stats = f\"insertmanyvalues{imv_stats}\"\n    \n                if not self.engine.hide_parameters:\n                    self._log_info(\n                        \"[%s] %r\",\n                        stats,\n                        sql_util._repr_params(\n                            sub_params,\n                            batches=10,\n                            ismulti=False,\n                        ),\n                    )\n                else:\n                    self._log_info(\n                        \"[%s] [SQL parameters hidden due to \"\n                        \"hide_parameters=True]\",\n                        stats,\n                    )\n    \n            try:\n                for fn in do_execute_dispatch:\n                    if fn(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    ):\n                        break\n                else:\n>                   dialect.do_execute(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    )\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb8c4bd4c0>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8c2e7b10>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlite3.IntegrityError: NOT NULL constraint failed: courses.semester\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError\n\nThe above exception was the direct cause of the following exception:\n\ndb = <sqlalchemy.orm.session.Session object at 0x7fcb88f28210>\n\n    @pytest.fixture\n    def test_data(db: Session):\n        \"\"\"Create test data\"\"\"\n        students = [\n            Student(first_name=\"John\", last_name=\"Doe\", email=\"john@example.com\", phone=\"555-0001\", deleted_at=None),\n            Student(first_name=\"Jane\", last_name=\"Smith\", email=\"jane@example.com\", phone=\"555-0002\", deleted_at=None),\n            Student(first_name=\"Bob\", last_name=\"Johnson\", email=\"bob@example.com\", phone=\"555-0003\", deleted_at=None),\n        ]\n    \n        courses = [\n            Course(course_name=\"Mathematics 101\", course_code=\"MATH101\", credits=3, deleted_at=None),\n            Course(course_name=\"Physics 201\", course_code=\"PHYS201\", credits=4, deleted_at=None),\n            Course(course_name=\"English 101\", course_code=\"ENG101\", credits=3, deleted_at=None),\n        ]\n    \n        for student in students:\n            db.add(student)\n        for course in courses:\n            db.add(course)\n>       db.commit()\n\ntests/test_search_api_endpoints.py:78: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:2030: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1311: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1286: in _prepare_impl\n    self.session.flush()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4331: in flush\n    self._flush(objects)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4466: in _flush\n    with util.safe_reraise():\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4427: in _flush\n    flush_context.execute()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:466: in execute\n    rec.execute(self)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:93: in save_obj\n    _emit_insert_statements(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:1143: in _emit_insert_statements\n    result = connection.execute(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1419: in execute\n    return meth(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1844: in _execute_context\n    return self._exec_insertmany_context(dialect, context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2126: in _exec_insertmany_context\n    self._handle_dbapi_exception(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: in _exec_insertmany_context\n    dialect.do_execute(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb8c4bd4c0>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8c2e7b10>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\nE       [SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\nE       [parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\nE       (Background on this error at: https://sqlalche.me/e/20/gkpj)\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError"}, "teardown": {"duration": 0.000634563000005528, "outcome": "passed"}}, {"nodeid": "tests/test_search_api_endpoints.py::TestStatisticsEndpoint::test_get_statistics_response_format", "lineno": 525, "outcome": "error", "keywords": ["test_get_statistics_response_format", "TestStatisticsEndpoint", "test_search_api_endpoints.py", "tests", "backend", ""], "setup": {"duration": 0.45491689400000723, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\n[SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\n[parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)"}, "traceback": [{"path": "tests/test_search_api_endpoints.py", "lineno": 78, "message": ""}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 2030, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in commit"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1311, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1286, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4331, "message": "in flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4466, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", "lineno": 224, "message": "in __exit__"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4427, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 466, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 642, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 93, "message": "in save_obj"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 1143, "message": "in _emit_insert_statements"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1419, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", "lineno": 526, "message": "in _execute_on_connection"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1641, "message": "in _execute_clauseelement"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1844, "message": "in _execute_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2126, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2355, "message": "in _handle_dbapi_exception"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2118, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "IntegrityError"}], "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815318.9782424, "msecs": 978.0, "relativeCreated": 124856.21047019958, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:35:18,978"}], "longrepr": "self = <sqlalchemy.engine.base.Connection object at 0x7fcb88cf5e50>\ndialect = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb897afe90>\n\n    def _exec_insertmany_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for an \"insertmanyvalues\"\n        operation, which will invoke DBAPI\n        cursor.execute() one or more times with individual log and\n        event hook calls.\n    \n        \"\"\"\n    \n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n        else:\n            generic_setinputsizes = None\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters = parameters\n    \n        engine_events = self._has_events or self.engine._has_events\n        if self.dialect._has_events:\n            do_execute_dispatch: Iterable[Any] = (\n                self.dialect.dispatch.do_execute\n            )\n        else:\n            do_execute_dispatch = ()\n    \n        if self._echo:\n            stats = context._get_cache_stats() + \" (insertmanyvalues)\"\n    \n        preserve_rowcount = context.execution_options.get(\n            \"preserve_rowcount\", False\n        )\n        rowcount = 0\n    \n        for imv_batch in dialect._deliver_insertmanyvalues_batches(\n            self,\n            cursor,\n            str_statement,\n            effective_parameters,\n            generic_setinputsizes,\n            context,\n        ):\n            if imv_batch.processed_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor,\n                        imv_batch.processed_setinputsizes,\n                        context,\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e,\n                        sql_util._long_statement(imv_batch.replaced_statement),\n                        imv_batch.replaced_parameters,\n                        None,\n                        context,\n                        is_sub_exec=True,\n                    )\n    \n            sub_stmt = imv_batch.replaced_statement\n            sub_params = imv_batch.replaced_parameters\n    \n            if engine_events:\n                for fn in self.dispatch.before_cursor_execute:\n                    sub_stmt, sub_params = fn(\n                        self,\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                        True,\n                    )\n    \n            if self._echo:\n                self._log_info(sql_util._long_statement(sub_stmt))\n    \n                imv_stats = f\"\"\" {imv_batch.batchnum}/{\n                            imv_batch.total_batches\n                } ({\n                    'ordered'\n                    if imv_batch.rows_sorted else 'unordered'\n                }{\n                    '; batch not supported'\n                    if imv_batch.is_downgraded\n                    else ''\n                })\"\"\"\n    \n                if imv_batch.batchnum == 1:\n                    stats += imv_stats\n                else:\n                    stats = f\"insertmanyvalues{imv_stats}\"\n    \n                if not self.engine.hide_parameters:\n                    self._log_info(\n                        \"[%s] %r\",\n                        stats,\n                        sql_util._repr_params(\n                            sub_params,\n                            batches=10,\n                            ismulti=False,\n                        ),\n                    )\n                else:\n                    self._log_info(\n                        \"[%s] [SQL parameters hidden due to \"\n                        \"hide_parameters=True]\",\n                        stats,\n                    )\n    \n            try:\n                for fn in do_execute_dispatch:\n                    if fn(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    ):\n                        break\n                else:\n>                   dialect.do_execute(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    )\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb88c49340>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb897afe90>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlite3.IntegrityError: NOT NULL constraint failed: courses.semester\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError\n\nThe above exception was the direct cause of the following exception:\n\ndb = <sqlalchemy.orm.session.Session object at 0x7fcb88cf52d0>\n\n    @pytest.fixture\n    def test_data(db: Session):\n        \"\"\"Create test data\"\"\"\n        students = [\n            Student(first_name=\"John\", last_name=\"Doe\", email=\"john@example.com\", phone=\"555-0001\", deleted_at=None),\n            Student(first_name=\"Jane\", last_name=\"Smith\", email=\"jane@example.com\", phone=\"555-0002\", deleted_at=None),\n            Student(first_name=\"Bob\", last_name=\"Johnson\", email=\"bob@example.com\", phone=\"555-0003\", deleted_at=None),\n        ]\n    \n        courses = [\n            Course(course_name=\"Mathematics 101\", course_code=\"MATH101\", credits=3, deleted_at=None),\n            Course(course_name=\"Physics 201\", course_code=\"PHYS201\", credits=4, deleted_at=None),\n            Course(course_name=\"English 101\", course_code=\"ENG101\", credits=3, deleted_at=None),\n        ]\n    \n        for student in students:\n            db.add(student)\n        for course in courses:\n            db.add(course)\n>       db.commit()\n\ntests/test_search_api_endpoints.py:78: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:2030: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1311: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1286: in _prepare_impl\n    self.session.flush()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4331: in flush\n    self._flush(objects)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4466: in _flush\n    with util.safe_reraise():\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4427: in _flush\n    flush_context.execute()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:466: in execute\n    rec.execute(self)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:93: in save_obj\n    _emit_insert_statements(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:1143: in _emit_insert_statements\n    result = connection.execute(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1419: in execute\n    return meth(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1844: in _execute_context\n    return self._exec_insertmany_context(dialect, context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2126: in _exec_insertmany_context\n    self._handle_dbapi_exception(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: in _exec_insertmany_context\n    dialect.do_execute(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba71da490>\ncursor = <sqlite3.Cursor object at 0x7fcb88c49340>\nstatement = 'INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('MATH101', 'Mathematics 101', None, 3, None, 0.0, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb897afe90>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: courses.semester\nE       [SQL: INSERT INTO courses (course_code, course_name, semester, credits, description, absence_penalty, hours_per_week, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\nE       [parameters: ('MATH101', 'Mathematics 101', None, 3, None, 0.0, 3.0, None)]\nE       (Background on this error at: https://sqlalche.me/e/20/gkpj)\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: IntegrityError"}, "teardown": {"duration": 0.0006634970000050089, "outcome": "passed"}}, {"nodeid": "tests/test_search_api_endpoints.py::TestRateLimiting::test_rate_limit_students_search", "lineno": 539, "outcome": "failed", "keywords": ["test_rate_limit_students_search", "TestRateLimiting", "test_search_api_endpoints.py", "tests", "backend", ""], "setup": {"duration": 0.44817946300000244, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815320.4340208, "msecs": 434.0, "relativeCreated": 126311.9888305664, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:35:20,434"}]}, "call": {"duration": 0.029871345000003657, "outcome": "failed", "crash": {"path": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_api_endpoints.py", "lineno": 553, "message": "assert False\n +  where False = all(<generator object TestRateLimiting.test_rate_limit_students_search.<locals>.<genexpr> at 0x7fcb88c37920>)"}, "traceback": [{"path": "tests/test_search_api_endpoints.py", "lineno": 553, "message": "AssertionError"}], "longrepr": "self = <backend.tests.test_search_api_endpoints.TestRateLimiting object at 0x7fcb8cd0e150>\nclient = <starlette.testclient.TestClient object at 0x7fcb8cd28090>\nadmin_headers = {'Authorization': 'Bearer admin_token', 'Content-Type': 'application/json'}\n\n    def test_rate_limit_students_search(self, client, admin_headers):\n        \"\"\"Should rate limit rapid searches\"\"\"\n        endpoint = \"/api/v1/search/students\"\n    \n        # Make multiple rapid requests\n        responses = []\n        for i in range(5):\n            response = client.post(endpoint, json={\"query\": f\"test{i}\"}, headers=admin_headers)\n            responses.append(response.status_code)\n    \n        # Should have at least one 429 or all succeed\n        # depending on rate limit config\n        valid_codes = [200, 429]\n>       assert all(code in valid_codes for code in responses)\nE       assert False\nE        +  where False = all(<generator object TestRateLimiting.test_rate_limit_students_search.<locals>.<genexpr> at 0x7fcb88c37920>)\n\ntests/test_search_api_endpoints.py:553: AssertionError"}, "teardown": {"duration": 0.0004643050000083804, "outcome": "passed"}}, {"nodeid": "tests/test_search_api_endpoints.py::TestRateLimiting::test_rate_limit_suggestions", "lineno": 554, "outcome": "failed", "keywords": ["test_rate_limit_suggestions", "TestRateLimiting", "test_search_api_endpoints.py", "tests", "backend", ""], "setup": {"duration": 0.4472412140000017, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815320.9313738, "msecs": 931.0, "relativeCreated": 126809.34190750122, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:35:20,931"}]}, "call": {"duration": 0.05818364199998882, "outcome": "failed", "crash": {"path": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_api_endpoints.py", "lineno": 566, "message": "assert False\n +  where False = all(<generator object TestRateLimiting.test_rate_limit_suggestions.<locals>.<genexpr> at 0x7fcb8c4ab9f0>)"}, "traceback": [{"path": "tests/test_search_api_endpoints.py", "lineno": 566, "message": "AssertionError"}], "longrepr": "self = <backend.tests.test_search_api_endpoints.TestRateLimiting object at 0x7fcb8cd0d450>\nclient = <starlette.testclient.TestClient object at 0x7fcb8c651d90>\nadmin_headers = {'Authorization': 'Bearer admin_token', 'Content-Type': 'application/json'}\n\n    def test_rate_limit_suggestions(self, client, admin_headers):\n        \"\"\"Should rate limit suggestions requests\"\"\"\n        endpoint = \"/api/v1/search/suggestions\"\n    \n        # Make rapid requests\n        responses = []\n        for i in range(10):\n            response = client.get(f\"{endpoint}?query=test{i}&entity=student\", headers=admin_headers)\n            responses.append(response.status_code)\n    \n        # Should handle without crashing\n>       assert all(code in [200, 429] for code in responses)\nE       assert False\nE        +  where False = all(<generator object TestRateLimiting.test_rate_limit_suggestions.<locals>.<genexpr> at 0x7fcb8c4ab9f0>)\n\ntests/test_search_api_endpoints.py:566: AssertionError"}, "teardown": {"duration": 0.0004434559999992871, "outcome": "passed"}}, {"nodeid": "tests/test_search_api_endpoints.py::TestErrorHandling::test_invalid_json", "lineno": 571, "outcome": "failed", "keywords": ["test_invalid_json", "TestErrorHandling", "test_search_api_endpoints.py", "tests", "backend", ""], "setup": {"duration": 0.44704267299999856, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815321.4558992, "msecs": 455.0, "relativeCreated": 127333.86731147766, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:35:21,455"}]}, "call": {"duration": 0.007122249000019565, "outcome": "failed", "crash": {"path": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_api_endpoints.py", "lineno": 576, "message": "assert 404 in [400, 422]\n +  where 404 = <Response [404 Not Found]>.status_code"}, "traceback": [{"path": "tests/test_search_api_endpoints.py", "lineno": 576, "message": "AssertionError"}], "longrepr": "self = <backend.tests.test_search_api_endpoints.TestErrorHandling object at 0x7fcb8cd1f990>\nclient = <starlette.testclient.TestClient object at 0x7fcb8c9f9e10>\nadmin_headers = {'Authorization': 'Bearer admin_token', 'Content-Type': 'application/json'}\n\n    def test_invalid_json(self, client, admin_headers):\n        \"\"\"Should handle invalid JSON\"\"\"\n        response = client.post(\"/api/v1/search/students\", data=\"invalid json\", headers=admin_headers)\n    \n>       assert response.status_code in [400, 422]\nE       assert 404 in [400, 422]\nE        +  where 404 = <Response [404 Not Found]>.status_code\n\ntests/test_search_api_endpoints.py:576: AssertionError"}, "teardown": {"duration": 0.0004132500000082473, "outcome": "passed"}}, {"nodeid": "tests/test_search_api_endpoints.py::TestErrorHandling::test_missing_required_fields", "lineno": 577, "outcome": "failed", "keywords": ["test_missing_required_fields", "TestErrorHandling", "test_search_api_endpoints.py", "tests", "backend", ""], "setup": {"duration": 0.44660923500001104, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815321.9289575, "msecs": 928.0, "relativeCreated": 127806.92553520203, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:35:21,928"}]}, "call": {"duration": 0.007890761999988172, "outcome": "failed", "crash": {"path": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_api_endpoints.py", "lineno": 582, "message": "assert 404 in [400, 422]\n +  where 404 = <Response [404 Not Found]>.status_code"}, "traceback": [{"path": "tests/test_search_api_endpoints.py", "lineno": 582, "message": "AssertionError"}], "longrepr": "self = <backend.tests.test_search_api_endpoints.TestErrorHandling object at 0x7fcb8cd0f810>\nclient = <starlette.testclient.TestClient object at 0x7fcb8c8e0390>\nadmin_headers = {'Authorization': 'Bearer admin_token', 'Content-Type': 'application/json'}\n\n    def test_missing_required_fields(self, client, admin_headers):\n        \"\"\"Should require query field\"\"\"\n        response = client.post(\"/api/v1/search/students\", json={}, headers=admin_headers)\n    \n>       assert response.status_code in [400, 422]\nE       assert 404 in [400, 422]\nE        +  where 404 = <Response [404 Not Found]>.status_code\n\ntests/test_search_api_endpoints.py:582: AssertionError"}, "teardown": {"duration": 0.00039533699998628435, "outcome": "passed"}}, {"nodeid": "tests/test_search_api_endpoints.py::TestErrorHandling::test_very_long_query", "lineno": 583, "outcome": "failed", "keywords": ["test_very_long_query", "TestErrorHandling", "test_search_api_endpoints.py", "tests", "backend", ""], "setup": {"duration": 0.7488181789999828, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815322.4007719, "msecs": 400.0, "relativeCreated": 128278.73992919922, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:35:22,400"}]}, "call": {"duration": 0.007357948000020542, "outcome": "failed", "crash": {"path": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_api_endpoints.py", "lineno": 590, "message": "assert 404 in [200, 400, 422]\n +  where 404 = <Response [404 Not Found]>.status_code"}, "traceback": [{"path": "tests/test_search_api_endpoints.py", "lineno": 590, "message": "AssertionError"}], "longrepr": "self = <backend.tests.test_search_api_endpoints.TestErrorHandling object at 0x7fcb8ccef7d0>\nclient = <starlette.testclient.TestClient object at 0x7fcb8c211cd0>\nadmin_headers = {'Authorization': 'Bearer admin_token', 'Content-Type': 'application/json'}\n\n    def test_very_long_query(self, client, admin_headers):\n        \"\"\"Should handle very long queries\"\"\"\n        long_query = \"x\" * 1000\n        response = client.post(\"/api/v1/search/students\", json={\"query\": long_query}, headers=admin_headers)\n    \n        # Should either accept or reject, but not crash\n>       assert response.status_code in [200, 400, 422]\nE       assert 404 in [200, 400, 422]\nE        +  where 404 = <Response [404 Not Found]>.status_code\n\ntests/test_search_api_endpoints.py:590: AssertionError"}, "teardown": {"duration": 0.0004100239999900168, "outcome": "passed"}}, {"nodeid": "tests/test_search_api_endpoints.py::TestErrorHandling::test_special_characters_in_query", "lineno": 591, "outcome": "failed", "keywords": ["test_special_characters_in_query", "TestErrorHandling", "test_search_api_endpoints.py", "tests", "backend", ""], "setup": {"duration": 0.45155902400000514, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815323.1748524, "msecs": 174.0, "relativeCreated": 129052.82044410706, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:35:23,174"}]}, "call": {"duration": 0.007444660999993857, "outcome": "failed", "crash": {"path": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_api_endpoints.py", "lineno": 597, "message": "assert 404 in [200, 400]\n +  where 404 = <Response [404 Not Found]>.status_code"}, "traceback": [{"path": "tests/test_search_api_endpoints.py", "lineno": 597, "message": "AssertionError"}], "longrepr": "self = <backend.tests.test_search_api_endpoints.TestErrorHandling object at 0x7fcb8ccef4d0>\nclient = <starlette.testclient.TestClient object at 0x7fcb89528610>\nadmin_headers = {'Authorization': 'Bearer admin_token', 'Content-Type': 'application/json'}\n\n    def test_special_characters_in_query(self, client, admin_headers):\n        \"\"\"Should handle special characters\"\"\"\n        response = client.post(\"/api/v1/search/students\", json={\"query\": \"!@#$%^&*()\"}, headers=admin_headers)\n    \n        # Should handle gracefully\n>       assert response.status_code in [200, 400]\nE       assert 404 in [200, 400]\nE        +  where 404 = <Response [404 Not Found]>.status_code\n\ntests/test_search_api_endpoints.py:597: AssertionError"}, "teardown": {"duration": 0.00048001499999372754, "outcome": "passed"}}, {"nodeid": "tests/test_search_api_endpoints.py::TestErrorHandling::test_sql_injection_attempt", "lineno": 598, "outcome": "failed", "keywords": ["test_sql_injection_attempt", "TestErrorHandling", "test_search_api_endpoints.py", "tests", "backend", ""], "setup": {"duration": 0.45077482199999963, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815323.6538222, "msecs": 653.0, "relativeCreated": 129531.79025650024, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:35:23,653"}]}, "call": {"duration": 0.0075005449999991924, "outcome": "failed", "crash": {"path": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_api_endpoints.py", "lineno": 606, "message": "assert 404 == 200\n +  where 404 = <Response [404 Not Found]>.status_code"}, "traceback": [{"path": "tests/test_search_api_endpoints.py", "lineno": 606, "message": "AssertionError"}], "longrepr": "self = <backend.tests.test_search_api_endpoints.TestErrorHandling object at 0x7fcb8ccef910>\nclient = <starlette.testclient.TestClient object at 0x7fcb88cc5190>\nadmin_headers = {'Authorization': 'Bearer admin_token', 'Content-Type': 'application/json'}\n\n    def test_sql_injection_attempt(self, client, admin_headers):\n        \"\"\"Should prevent SQL injection\"\"\"\n        response = client.post(\n            \"/api/v1/search/students\", json={\"query\": \"'; DROP TABLE students; --\"}, headers=admin_headers\n        )\n    \n        # Should be safe (ORM prevents injection)\n>       assert response.status_code == 200\nE       assert 404 == 200\nE        +  where 404 = <Response [404 Not Found]>.status_code\n\ntests/test_search_api_endpoints.py:606: AssertionError"}, "teardown": {"duration": 0.0004503600000020924, "outcome": "passed"}}, {"nodeid": "tests/test_search_integration.py::TestSearchServiceIntegration::test_search_students_returns_correct_data", "lineno": 134, "outcome": "error", "keywords": ["test_search_students_returns_correct_data", "TestSearchServiceIntegration", "test_search_integration.py", "tests", "backend", ""], "setup": {"duration": 0.45529438799999866, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: students\n[SQL: INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\n[parameters: ('Alice', 'Johnson', 'alice@example.com', None, None, 1, None, None, '555-0001', None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}, "traceback": [{"path": "tests/test_search_integration.py", "lineno": 93, "message": ""}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 2030, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in commit"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1311, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1286, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4331, "message": "in flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4466, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", "lineno": 224, "message": "in __exit__"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4427, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 466, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 642, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 93, "message": "in save_obj"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 1143, "message": "in _emit_insert_statements"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1419, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", "lineno": 526, "message": "in _execute_on_connection"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1641, "message": "in _execute_clauseelement"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1844, "message": "in _execute_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2126, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2355, "message": "in _handle_dbapi_exception"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2118, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "OperationalError"}], "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815324.131788, "msecs": 131.0, "relativeCreated": 130009.75608825684, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:35:24,131"}], "longrepr": "self = <sqlalchemy.engine.base.Connection object at 0x7fcb8ca4b0d0>\ndialect = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8977e250>\n\n    def _exec_insertmany_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for an \"insertmanyvalues\"\n        operation, which will invoke DBAPI\n        cursor.execute() one or more times with individual log and\n        event hook calls.\n    \n        \"\"\"\n    \n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n        else:\n            generic_setinputsizes = None\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters = parameters\n    \n        engine_events = self._has_events or self.engine._has_events\n        if self.dialect._has_events:\n            do_execute_dispatch: Iterable[Any] = (\n                self.dialect.dispatch.do_execute\n            )\n        else:\n            do_execute_dispatch = ()\n    \n        if self._echo:\n            stats = context._get_cache_stats() + \" (insertmanyvalues)\"\n    \n        preserve_rowcount = context.execution_options.get(\n            \"preserve_rowcount\", False\n        )\n        rowcount = 0\n    \n        for imv_batch in dialect._deliver_insertmanyvalues_batches(\n            self,\n            cursor,\n            str_statement,\n            effective_parameters,\n            generic_setinputsizes,\n            context,\n        ):\n            if imv_batch.processed_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor,\n                        imv_batch.processed_setinputsizes,\n                        context,\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e,\n                        sql_util._long_statement(imv_batch.replaced_statement),\n                        imv_batch.replaced_parameters,\n                        None,\n                        context,\n                        is_sub_exec=True,\n                    )\n    \n            sub_stmt = imv_batch.replaced_statement\n            sub_params = imv_batch.replaced_parameters\n    \n            if engine_events:\n                for fn in self.dispatch.before_cursor_execute:\n                    sub_stmt, sub_params = fn(\n                        self,\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                        True,\n                    )\n    \n            if self._echo:\n                self._log_info(sql_util._long_statement(sub_stmt))\n    \n                imv_stats = f\"\"\" {imv_batch.batchnum}/{\n                            imv_batch.total_batches\n                } ({\n                    'ordered'\n                    if imv_batch.rows_sorted else 'unordered'\n                }{\n                    '; batch not supported'\n                    if imv_batch.is_downgraded\n                    else ''\n                })\"\"\"\n    \n                if imv_batch.batchnum == 1:\n                    stats += imv_stats\n                else:\n                    stats = f\"insertmanyvalues{imv_stats}\"\n    \n                if not self.engine.hide_parameters:\n                    self._log_info(\n                        \"[%s] %r\",\n                        stats,\n                        sql_util._repr_params(\n                            sub_params,\n                            batches=10,\n                            ismulti=False,\n                        ),\n                    )\n                else:\n                    self._log_info(\n                        \"[%s] [SQL parameters hidden due to \"\n                        \"hide_parameters=True]\",\n                        stats,\n                    )\n    \n            try:\n                for fn in do_execute_dispatch:\n                    if fn(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    ):\n                        break\n                else:\n>                   dialect.do_execute(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    )\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncursor = <sqlite3.Cursor object at 0x7fcb895e03c0>\nstatement = 'INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('Alice', 'Johnson', 'alice@example.com', None, None, 1, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8977e250>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlite3.OperationalError: no such table: students\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: OperationalError\n\nThe above exception was the direct cause of the following exception:\n\ndb = <sqlalchemy.orm.session.Session object at 0x7fcb8940e9d0>\n\n    @pytest.fixture\n    def sample_data(db: Session):\n        \"\"\"Create sample data for integration tests\"\"\"\n    \n        # Create students\n        students = [\n            Student(first_name=\"Alice\", last_name=\"Johnson\", email=\"alice@example.com\", phone=\"555-0001\", deleted_at=None),\n            Student(first_name=\"Bob\", last_name=\"Smith\", email=\"bob@example.com\", phone=\"555-0002\", deleted_at=None),\n            Student(\n                first_name=\"Charlie\", last_name=\"Brown\", email=\"charlie@example.com\", phone=\"555-0003\", deleted_at=None\n            ),\n            Student(first_name=\"Diana\", last_name=\"Prince\", email=\"diana@example.com\", phone=\"555-0004\", deleted_at=None),\n            Student(\n                first_name=\"Deleted\",\n                last_name=\"Student\",\n                email=\"deleted@example.com\",\n                phone=\"555-9999\",\n                deleted_at=datetime.utcnow(),  # Soft-deleted\n            ),\n        ]\n    \n        for student in students:\n            db.add(student)\n>       db.commit()\n\ntests/test_search_integration.py:93: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:2030: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1311: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1286: in _prepare_impl\n    self.session.flush()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4331: in flush\n    self._flush(objects)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4466: in _flush\n    with util.safe_reraise():\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4427: in _flush\n    flush_context.execute()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:466: in execute\n    rec.execute(self)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:93: in save_obj\n    _emit_insert_statements(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:1143: in _emit_insert_statements\n    result = connection.execute(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1419: in execute\n    return meth(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1844: in _execute_context\n    return self._exec_insertmany_context(dialect, context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2126: in _exec_insertmany_context\n    self._handle_dbapi_exception(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: in _exec_insertmany_context\n    dialect.do_execute(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncursor = <sqlite3.Cursor object at 0x7fcb895e03c0>\nstatement = 'INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('Alice', 'Johnson', 'alice@example.com', None, None, 1, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8977e250>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: students\nE       [SQL: INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\nE       [parameters: ('Alice', 'Johnson', 'alice@example.com', None, None, 1, None, None, '555-0001', None, None, None, None)]\nE       (Background on this error at: https://sqlalche.me/e/20/e3q8)\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: OperationalError"}, "teardown": {"duration": 0.000708360999993829, "outcome": "passed"}}, {"nodeid": "tests/test_search_integration.py::TestSearchServiceIntegration::test_search_students_filters_soft_deleted", "lineno": 144, "outcome": "error", "keywords": ["test_search_students_filters_soft_deleted", "TestSearchServiceIntegration", "test_search_integration.py", "tests", "backend", ""], "setup": {"duration": 0.4533501639999997, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: students\n[SQL: INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\n[parameters: ('Alice', 'Johnson', 'alice@example.com', None, None, 1, None, None, '555-0001', None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}, "traceback": [{"path": "tests/test_search_integration.py", "lineno": 93, "message": ""}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 2030, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in commit"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1311, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1286, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4331, "message": "in flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4466, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", "lineno": 224, "message": "in __exit__"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4427, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 466, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 642, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 93, "message": "in save_obj"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 1143, "message": "in _emit_insert_statements"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1419, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", "lineno": 526, "message": "in _execute_on_connection"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1641, "message": "in _execute_clauseelement"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1844, "message": "in _execute_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2126, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2355, "message": "in _handle_dbapi_exception"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2118, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "OperationalError"}], "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815325.6139207, "msecs": 613.0, "relativeCreated": 131491.8887615204, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:35:25,613"}], "longrepr": "self = <sqlalchemy.engine.base.Connection object at 0x7fcb8c6ec7d0>\ndialect = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8c6ec510>\n\n    def _exec_insertmany_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for an \"insertmanyvalues\"\n        operation, which will invoke DBAPI\n        cursor.execute() one or more times with individual log and\n        event hook calls.\n    \n        \"\"\"\n    \n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n        else:\n            generic_setinputsizes = None\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters = parameters\n    \n        engine_events = self._has_events or self.engine._has_events\n        if self.dialect._has_events:\n            do_execute_dispatch: Iterable[Any] = (\n                self.dialect.dispatch.do_execute\n            )\n        else:\n            do_execute_dispatch = ()\n    \n        if self._echo:\n            stats = context._get_cache_stats() + \" (insertmanyvalues)\"\n    \n        preserve_rowcount = context.execution_options.get(\n            \"preserve_rowcount\", False\n        )\n        rowcount = 0\n    \n        for imv_batch in dialect._deliver_insertmanyvalues_batches(\n            self,\n            cursor,\n            str_statement,\n            effective_parameters,\n            generic_setinputsizes,\n            context,\n        ):\n            if imv_batch.processed_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor,\n                        imv_batch.processed_setinputsizes,\n                        context,\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e,\n                        sql_util._long_statement(imv_batch.replaced_statement),\n                        imv_batch.replaced_parameters,\n                        None,\n                        context,\n                        is_sub_exec=True,\n                    )\n    \n            sub_stmt = imv_batch.replaced_statement\n            sub_params = imv_batch.replaced_parameters\n    \n            if engine_events:\n                for fn in self.dispatch.before_cursor_execute:\n                    sub_stmt, sub_params = fn(\n                        self,\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                        True,\n                    )\n    \n            if self._echo:\n                self._log_info(sql_util._long_statement(sub_stmt))\n    \n                imv_stats = f\"\"\" {imv_batch.batchnum}/{\n                            imv_batch.total_batches\n                } ({\n                    'ordered'\n                    if imv_batch.rows_sorted else 'unordered'\n                }{\n                    '; batch not supported'\n                    if imv_batch.is_downgraded\n                    else ''\n                })\"\"\"\n    \n                if imv_batch.batchnum == 1:\n                    stats += imv_stats\n                else:\n                    stats = f\"insertmanyvalues{imv_stats}\"\n    \n                if not self.engine.hide_parameters:\n                    self._log_info(\n                        \"[%s] %r\",\n                        stats,\n                        sql_util._repr_params(\n                            sub_params,\n                            batches=10,\n                            ismulti=False,\n                        ),\n                    )\n                else:\n                    self._log_info(\n                        \"[%s] [SQL parameters hidden due to \"\n                        \"hide_parameters=True]\",\n                        stats,\n                    )\n    \n            try:\n                for fn in do_execute_dispatch:\n                    if fn(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    ):\n                        break\n                else:\n>                   dialect.do_execute(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    )\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncursor = <sqlite3.Cursor object at 0x7fcb8b92c6c0>\nstatement = 'INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('Alice', 'Johnson', 'alice@example.com', None, None, 1, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8c6ec510>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlite3.OperationalError: no such table: students\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: OperationalError\n\nThe above exception was the direct cause of the following exception:\n\ndb = <sqlalchemy.orm.session.Session object at 0x7fcb8c67a2d0>\n\n    @pytest.fixture\n    def sample_data(db: Session):\n        \"\"\"Create sample data for integration tests\"\"\"\n    \n        # Create students\n        students = [\n            Student(first_name=\"Alice\", last_name=\"Johnson\", email=\"alice@example.com\", phone=\"555-0001\", deleted_at=None),\n            Student(first_name=\"Bob\", last_name=\"Smith\", email=\"bob@example.com\", phone=\"555-0002\", deleted_at=None),\n            Student(\n                first_name=\"Charlie\", last_name=\"Brown\", email=\"charlie@example.com\", phone=\"555-0003\", deleted_at=None\n            ),\n            Student(first_name=\"Diana\", last_name=\"Prince\", email=\"diana@example.com\", phone=\"555-0004\", deleted_at=None),\n            Student(\n                first_name=\"Deleted\",\n                last_name=\"Student\",\n                email=\"deleted@example.com\",\n                phone=\"555-9999\",\n                deleted_at=datetime.utcnow(),  # Soft-deleted\n            ),\n        ]\n    \n        for student in students:\n            db.add(student)\n>       db.commit()\n\ntests/test_search_integration.py:93: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:2030: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1311: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1286: in _prepare_impl\n    self.session.flush()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4331: in flush\n    self._flush(objects)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4466: in _flush\n    with util.safe_reraise():\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4427: in _flush\n    flush_context.execute()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:466: in execute\n    rec.execute(self)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:93: in save_obj\n    _emit_insert_statements(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:1143: in _emit_insert_statements\n    result = connection.execute(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1419: in execute\n    return meth(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1844: in _execute_context\n    return self._exec_insertmany_context(dialect, context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2126: in _exec_insertmany_context\n    self._handle_dbapi_exception(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: in _exec_insertmany_context\n    dialect.do_execute(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncursor = <sqlite3.Cursor object at 0x7fcb8b92c6c0>\nstatement = 'INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('Alice', 'Johnson', 'alice@example.com', None, None, 1, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8c6ec510>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: students\nE       [SQL: INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\nE       [parameters: ('Alice', 'Johnson', 'alice@example.com', None, None, 1, None, None, '555-0001', None, None, None, None)]\nE       (Background on this error at: https://sqlalche.me/e/20/e3q8)\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: OperationalError"}, "teardown": {"duration": 0.0006645679999905951, "outcome": "passed"}}, {"nodeid": "tests/test_search_integration.py::TestSearchServiceIntegration::test_search_students_pagination", "lineno": 157, "outcome": "error", "keywords": ["test_search_students_pagination", "TestSearchServiceIntegration", "test_search_integration.py", "tests", "backend", ""], "setup": {"duration": 0.45389949900001625, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: students\n[SQL: INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\n[parameters: ('Alice', 'Johnson', 'alice@example.com', None, None, 1, None, None, '555-0001', None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}, "traceback": [{"path": "tests/test_search_integration.py", "lineno": 93, "message": ""}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 2030, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in commit"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1311, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1286, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4331, "message": "in flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4466, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", "lineno": 224, "message": "in __exit__"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4427, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 466, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 642, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 93, "message": "in save_obj"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 1143, "message": "in _emit_insert_statements"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1419, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", "lineno": 526, "message": "in _execute_on_connection"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1641, "message": "in _execute_clauseelement"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1844, "message": "in _execute_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2126, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2355, "message": "in _handle_dbapi_exception"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2118, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "OperationalError"}], "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815327.065546, "msecs": 65.0, "relativeCreated": 132943.51410865784, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:35:27,065"}], "longrepr": "self = <sqlalchemy.engine.base.Connection object at 0x7fcb88de6690>\ndialect = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8b8fc410>\n\n    def _exec_insertmany_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for an \"insertmanyvalues\"\n        operation, which will invoke DBAPI\n        cursor.execute() one or more times with individual log and\n        event hook calls.\n    \n        \"\"\"\n    \n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n        else:\n            generic_setinputsizes = None\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters = parameters\n    \n        engine_events = self._has_events or self.engine._has_events\n        if self.dialect._has_events:\n            do_execute_dispatch: Iterable[Any] = (\n                self.dialect.dispatch.do_execute\n            )\n        else:\n            do_execute_dispatch = ()\n    \n        if self._echo:\n            stats = context._get_cache_stats() + \" (insertmanyvalues)\"\n    \n        preserve_rowcount = context.execution_options.get(\n            \"preserve_rowcount\", False\n        )\n        rowcount = 0\n    \n        for imv_batch in dialect._deliver_insertmanyvalues_batches(\n            self,\n            cursor,\n            str_statement,\n            effective_parameters,\n            generic_setinputsizes,\n            context,\n        ):\n            if imv_batch.processed_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor,\n                        imv_batch.processed_setinputsizes,\n                        context,\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e,\n                        sql_util._long_statement(imv_batch.replaced_statement),\n                        imv_batch.replaced_parameters,\n                        None,\n                        context,\n                        is_sub_exec=True,\n                    )\n    \n            sub_stmt = imv_batch.replaced_statement\n            sub_params = imv_batch.replaced_parameters\n    \n            if engine_events:\n                for fn in self.dispatch.before_cursor_execute:\n                    sub_stmt, sub_params = fn(\n                        self,\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                        True,\n                    )\n    \n            if self._echo:\n                self._log_info(sql_util._long_statement(sub_stmt))\n    \n                imv_stats = f\"\"\" {imv_batch.batchnum}/{\n                            imv_batch.total_batches\n                } ({\n                    'ordered'\n                    if imv_batch.rows_sorted else 'unordered'\n                }{\n                    '; batch not supported'\n                    if imv_batch.is_downgraded\n                    else ''\n                })\"\"\"\n    \n                if imv_batch.batchnum == 1:\n                    stats += imv_stats\n                else:\n                    stats = f\"insertmanyvalues{imv_stats}\"\n    \n                if not self.engine.hide_parameters:\n                    self._log_info(\n                        \"[%s] %r\",\n                        stats,\n                        sql_util._repr_params(\n                            sub_params,\n                            batches=10,\n                            ismulti=False,\n                        ),\n                    )\n                else:\n                    self._log_info(\n                        \"[%s] [SQL parameters hidden due to \"\n                        \"hide_parameters=True]\",\n                        stats,\n                    )\n    \n            try:\n                for fn in do_execute_dispatch:\n                    if fn(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    ):\n                        break\n                else:\n>                   dialect.do_execute(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    )\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncursor = <sqlite3.Cursor object at 0x7fcb8be7b7c0>\nstatement = 'INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('Alice', 'Johnson', 'alice@example.com', None, None, 1, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8b8fc410>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlite3.OperationalError: no such table: students\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: OperationalError\n\nThe above exception was the direct cause of the following exception:\n\ndb = <sqlalchemy.orm.session.Session object at 0x7fcb88fe2290>\n\n    @pytest.fixture\n    def sample_data(db: Session):\n        \"\"\"Create sample data for integration tests\"\"\"\n    \n        # Create students\n        students = [\n            Student(first_name=\"Alice\", last_name=\"Johnson\", email=\"alice@example.com\", phone=\"555-0001\", deleted_at=None),\n            Student(first_name=\"Bob\", last_name=\"Smith\", email=\"bob@example.com\", phone=\"555-0002\", deleted_at=None),\n            Student(\n                first_name=\"Charlie\", last_name=\"Brown\", email=\"charlie@example.com\", phone=\"555-0003\", deleted_at=None\n            ),\n            Student(first_name=\"Diana\", last_name=\"Prince\", email=\"diana@example.com\", phone=\"555-0004\", deleted_at=None),\n            Student(\n                first_name=\"Deleted\",\n                last_name=\"Student\",\n                email=\"deleted@example.com\",\n                phone=\"555-9999\",\n                deleted_at=datetime.utcnow(),  # Soft-deleted\n            ),\n        ]\n    \n        for student in students:\n            db.add(student)\n>       db.commit()\n\ntests/test_search_integration.py:93: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:2030: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1311: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1286: in _prepare_impl\n    self.session.flush()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4331: in flush\n    self._flush(objects)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4466: in _flush\n    with util.safe_reraise():\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4427: in _flush\n    flush_context.execute()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:466: in execute\n    rec.execute(self)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:93: in save_obj\n    _emit_insert_statements(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:1143: in _emit_insert_statements\n    result = connection.execute(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1419: in execute\n    return meth(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1844: in _execute_context\n    return self._exec_insertmany_context(dialect, context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2126: in _exec_insertmany_context\n    self._handle_dbapi_exception(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: in _exec_insertmany_context\n    dialect.do_execute(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncursor = <sqlite3.Cursor object at 0x7fcb8be7b7c0>\nstatement = 'INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('Alice', 'Johnson', 'alice@example.com', None, None, 1, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8b8fc410>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: students\nE       [SQL: INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\nE       [parameters: ('Alice', 'Johnson', 'alice@example.com', None, None, 1, None, None, '555-0001', None, None, None, None)]\nE       (Background on this error at: https://sqlalche.me/e/20/e3q8)\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: OperationalError"}, "teardown": {"duration": 0.0006633760000056554, "outcome": "passed"}}, {"nodeid": "tests/test_search_integration.py::TestSearchServiceIntegration::test_search_courses_filters_soft_deleted", "lineno": 173, "outcome": "error", "keywords": ["test_search_courses_filters_soft_deleted", "TestSearchServiceIntegration", "test_search_integration.py", "tests", "backend", ""], "setup": {"duration": 0.45196187799999166, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: students\n[SQL: INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\n[parameters: ('Alice', 'Johnson', 'alice@example.com', None, None, 1, None, None, '555-0001', None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}, "traceback": [{"path": "tests/test_search_integration.py", "lineno": 93, "message": ""}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 2030, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in commit"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1311, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1286, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4331, "message": "in flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4466, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", "lineno": 224, "message": "in __exit__"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4427, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 466, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 642, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 93, "message": "in save_obj"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 1143, "message": "in _emit_insert_statements"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1419, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", "lineno": 526, "message": "in _execute_on_connection"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1641, "message": "in _execute_clauseelement"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1844, "message": "in _execute_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2126, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2355, "message": "in _handle_dbapi_exception"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2118, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "OperationalError"}], "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815328.530432, "msecs": 530.0, "relativeCreated": 134408.40005874634, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:35:28,530"}], "longrepr": "self = <sqlalchemy.engine.base.Connection object at 0x7fcb8c4316d0>\ndialect = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8c3efb10>\n\n    def _exec_insertmany_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for an \"insertmanyvalues\"\n        operation, which will invoke DBAPI\n        cursor.execute() one or more times with individual log and\n        event hook calls.\n    \n        \"\"\"\n    \n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n        else:\n            generic_setinputsizes = None\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters = parameters\n    \n        engine_events = self._has_events or self.engine._has_events\n        if self.dialect._has_events:\n            do_execute_dispatch: Iterable[Any] = (\n                self.dialect.dispatch.do_execute\n            )\n        else:\n            do_execute_dispatch = ()\n    \n        if self._echo:\n            stats = context._get_cache_stats() + \" (insertmanyvalues)\"\n    \n        preserve_rowcount = context.execution_options.get(\n            \"preserve_rowcount\", False\n        )\n        rowcount = 0\n    \n        for imv_batch in dialect._deliver_insertmanyvalues_batches(\n            self,\n            cursor,\n            str_statement,\n            effective_parameters,\n            generic_setinputsizes,\n            context,\n        ):\n            if imv_batch.processed_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor,\n                        imv_batch.processed_setinputsizes,\n                        context,\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e,\n                        sql_util._long_statement(imv_batch.replaced_statement),\n                        imv_batch.replaced_parameters,\n                        None,\n                        context,\n                        is_sub_exec=True,\n                    )\n    \n            sub_stmt = imv_batch.replaced_statement\n            sub_params = imv_batch.replaced_parameters\n    \n            if engine_events:\n                for fn in self.dispatch.before_cursor_execute:\n                    sub_stmt, sub_params = fn(\n                        self,\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                        True,\n                    )\n    \n            if self._echo:\n                self._log_info(sql_util._long_statement(sub_stmt))\n    \n                imv_stats = f\"\"\" {imv_batch.batchnum}/{\n                            imv_batch.total_batches\n                } ({\n                    'ordered'\n                    if imv_batch.rows_sorted else 'unordered'\n                }{\n                    '; batch not supported'\n                    if imv_batch.is_downgraded\n                    else ''\n                })\"\"\"\n    \n                if imv_batch.batchnum == 1:\n                    stats += imv_stats\n                else:\n                    stats = f\"insertmanyvalues{imv_stats}\"\n    \n                if not self.engine.hide_parameters:\n                    self._log_info(\n                        \"[%s] %r\",\n                        stats,\n                        sql_util._repr_params(\n                            sub_params,\n                            batches=10,\n                            ismulti=False,\n                        ),\n                    )\n                else:\n                    self._log_info(\n                        \"[%s] [SQL parameters hidden due to \"\n                        \"hide_parameters=True]\",\n                        stats,\n                    )\n    \n            try:\n                for fn in do_execute_dispatch:\n                    if fn(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    ):\n                        break\n                else:\n>                   dialect.do_execute(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    )\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncursor = <sqlite3.Cursor object at 0x7fcb894f12c0>\nstatement = 'INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('Alice', 'Johnson', 'alice@example.com', None, None, 1, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8c3efb10>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlite3.OperationalError: no such table: students\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: OperationalError\n\nThe above exception was the direct cause of the following exception:\n\ndb = <sqlalchemy.orm.session.Session object at 0x7fcb8c8c9310>\n\n    @pytest.fixture\n    def sample_data(db: Session):\n        \"\"\"Create sample data for integration tests\"\"\"\n    \n        # Create students\n        students = [\n            Student(first_name=\"Alice\", last_name=\"Johnson\", email=\"alice@example.com\", phone=\"555-0001\", deleted_at=None),\n            Student(first_name=\"Bob\", last_name=\"Smith\", email=\"bob@example.com\", phone=\"555-0002\", deleted_at=None),\n            Student(\n                first_name=\"Charlie\", last_name=\"Brown\", email=\"charlie@example.com\", phone=\"555-0003\", deleted_at=None\n            ),\n            Student(first_name=\"Diana\", last_name=\"Prince\", email=\"diana@example.com\", phone=\"555-0004\", deleted_at=None),\n            Student(\n                first_name=\"Deleted\",\n                last_name=\"Student\",\n                email=\"deleted@example.com\",\n                phone=\"555-9999\",\n                deleted_at=datetime.utcnow(),  # Soft-deleted\n            ),\n        ]\n    \n        for student in students:\n            db.add(student)\n>       db.commit()\n\ntests/test_search_integration.py:93: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:2030: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1311: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1286: in _prepare_impl\n    self.session.flush()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4331: in flush\n    self._flush(objects)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4466: in _flush\n    with util.safe_reraise():\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4427: in _flush\n    flush_context.execute()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:466: in execute\n    rec.execute(self)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:93: in save_obj\n    _emit_insert_statements(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:1143: in _emit_insert_statements\n    result = connection.execute(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1419: in execute\n    return meth(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1844: in _execute_context\n    return self._exec_insertmany_context(dialect, context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2126: in _exec_insertmany_context\n    self._handle_dbapi_exception(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: in _exec_insertmany_context\n    dialect.do_execute(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncursor = <sqlite3.Cursor object at 0x7fcb894f12c0>\nstatement = 'INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('Alice', 'Johnson', 'alice@example.com', None, None, 1, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8c3efb10>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: students\nE       [SQL: INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\nE       [parameters: ('Alice', 'Johnson', 'alice@example.com', None, None, 1, None, None, '555-0001', None, None, None, None)]\nE       (Background on this error at: https://sqlalche.me/e/20/e3q8)\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: OperationalError"}, "teardown": {"duration": 0.0007003150000173264, "outcome": "passed"}}, {"nodeid": "tests/test_search_integration.py::TestSearchServiceIntegration::test_search_grades_with_student_filter", "lineno": 183, "outcome": "error", "keywords": ["test_search_grades_with_student_filter", "TestSearchServiceIntegration", "test_search_integration.py", "tests", "backend", ""], "setup": {"duration": 0.4529966770000158, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: students\n[SQL: INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\n[parameters: ('Alice', 'Johnson', 'alice@example.com', None, None, 1, None, None, '555-0001', None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}, "traceback": [{"path": "tests/test_search_integration.py", "lineno": 93, "message": ""}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 2030, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in commit"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1311, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1286, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4331, "message": "in flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4466, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", "lineno": 224, "message": "in __exit__"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4427, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 466, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 642, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 93, "message": "in save_obj"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 1143, "message": "in _emit_insert_statements"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1419, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", "lineno": 526, "message": "in _execute_on_connection"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1641, "message": "in _execute_clauseelement"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1844, "message": "in _execute_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2126, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2355, "message": "in _handle_dbapi_exception"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2118, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "OperationalError"}], "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815329.967621, "msecs": 967.0, "relativeCreated": 135845.5891609192, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:35:29,967"}], "longrepr": "self = <sqlalchemy.engine.base.Connection object at 0x7fcb8a125cd0>\ndialect = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb809d5050>\n\n    def _exec_insertmany_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for an \"insertmanyvalues\"\n        operation, which will invoke DBAPI\n        cursor.execute() one or more times with individual log and\n        event hook calls.\n    \n        \"\"\"\n    \n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n        else:\n            generic_setinputsizes = None\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters = parameters\n    \n        engine_events = self._has_events or self.engine._has_events\n        if self.dialect._has_events:\n            do_execute_dispatch: Iterable[Any] = (\n                self.dialect.dispatch.do_execute\n            )\n        else:\n            do_execute_dispatch = ()\n    \n        if self._echo:\n            stats = context._get_cache_stats() + \" (insertmanyvalues)\"\n    \n        preserve_rowcount = context.execution_options.get(\n            \"preserve_rowcount\", False\n        )\n        rowcount = 0\n    \n        for imv_batch in dialect._deliver_insertmanyvalues_batches(\n            self,\n            cursor,\n            str_statement,\n            effective_parameters,\n            generic_setinputsizes,\n            context,\n        ):\n            if imv_batch.processed_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor,\n                        imv_batch.processed_setinputsizes,\n                        context,\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e,\n                        sql_util._long_statement(imv_batch.replaced_statement),\n                        imv_batch.replaced_parameters,\n                        None,\n                        context,\n                        is_sub_exec=True,\n                    )\n    \n            sub_stmt = imv_batch.replaced_statement\n            sub_params = imv_batch.replaced_parameters\n    \n            if engine_events:\n                for fn in self.dispatch.before_cursor_execute:\n                    sub_stmt, sub_params = fn(\n                        self,\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                        True,\n                    )\n    \n            if self._echo:\n                self._log_info(sql_util._long_statement(sub_stmt))\n    \n                imv_stats = f\"\"\" {imv_batch.batchnum}/{\n                            imv_batch.total_batches\n                } ({\n                    'ordered'\n                    if imv_batch.rows_sorted else 'unordered'\n                }{\n                    '; batch not supported'\n                    if imv_batch.is_downgraded\n                    else ''\n                })\"\"\"\n    \n                if imv_batch.batchnum == 1:\n                    stats += imv_stats\n                else:\n                    stats = f\"insertmanyvalues{imv_stats}\"\n    \n                if not self.engine.hide_parameters:\n                    self._log_info(\n                        \"[%s] %r\",\n                        stats,\n                        sql_util._repr_params(\n                            sub_params,\n                            batches=10,\n                            ismulti=False,\n                        ),\n                    )\n                else:\n                    self._log_info(\n                        \"[%s] [SQL parameters hidden due to \"\n                        \"hide_parameters=True]\",\n                        stats,\n                    )\n    \n            try:\n                for fn in do_execute_dispatch:\n                    if fn(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    ):\n                        break\n                else:\n>                   dialect.do_execute(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    )\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncursor = <sqlite3.Cursor object at 0x7fcb8b92fa40>\nstatement = 'INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('Alice', 'Johnson', 'alice@example.com', None, None, 1, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb809d5050>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlite3.OperationalError: no such table: students\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: OperationalError\n\nThe above exception was the direct cause of the following exception:\n\ndb = <sqlalchemy.orm.session.Session object at 0x7fcb88b58610>\n\n    @pytest.fixture\n    def sample_data(db: Session):\n        \"\"\"Create sample data for integration tests\"\"\"\n    \n        # Create students\n        students = [\n            Student(first_name=\"Alice\", last_name=\"Johnson\", email=\"alice@example.com\", phone=\"555-0001\", deleted_at=None),\n            Student(first_name=\"Bob\", last_name=\"Smith\", email=\"bob@example.com\", phone=\"555-0002\", deleted_at=None),\n            Student(\n                first_name=\"Charlie\", last_name=\"Brown\", email=\"charlie@example.com\", phone=\"555-0003\", deleted_at=None\n            ),\n            Student(first_name=\"Diana\", last_name=\"Prince\", email=\"diana@example.com\", phone=\"555-0004\", deleted_at=None),\n            Student(\n                first_name=\"Deleted\",\n                last_name=\"Student\",\n                email=\"deleted@example.com\",\n                phone=\"555-9999\",\n                deleted_at=datetime.utcnow(),  # Soft-deleted\n            ),\n        ]\n    \n        for student in students:\n            db.add(student)\n>       db.commit()\n\ntests/test_search_integration.py:93: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:2030: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1311: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1286: in _prepare_impl\n    self.session.flush()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4331: in flush\n    self._flush(objects)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4466: in _flush\n    with util.safe_reraise():\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4427: in _flush\n    flush_context.execute()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:466: in execute\n    rec.execute(self)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:93: in save_obj\n    _emit_insert_statements(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:1143: in _emit_insert_statements\n    result = connection.execute(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1419: in execute\n    return meth(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1844: in _execute_context\n    return self._exec_insertmany_context(dialect, context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2126: in _exec_insertmany_context\n    self._handle_dbapi_exception(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: in _exec_insertmany_context\n    dialect.do_execute(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncursor = <sqlite3.Cursor object at 0x7fcb8b92fa40>\nstatement = 'INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('Alice', 'Johnson', 'alice@example.com', None, None, 1, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb809d5050>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: students\nE       [SQL: INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\nE       [parameters: ('Alice', 'Johnson', 'alice@example.com', None, None, 1, None, None, '555-0001', None, None, None, None)]\nE       (Background on this error at: https://sqlalche.me/e/20/e3q8)\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: OperationalError"}, "teardown": {"duration": 0.0007065970000041943, "outcome": "passed"}}, {"nodeid": "tests/test_search_integration.py::TestSearchServiceIntegration::test_search_grades_with_range_filter", "lineno": 193, "outcome": "error", "keywords": ["test_search_grades_with_range_filter", "TestSearchServiceIntegration", "test_search_integration.py", "tests", "backend", ""], "setup": {"duration": 0.453722029000005, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: students\n[SQL: INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\n[parameters: ('Alice', 'Johnson', 'alice@example.com', None, None, 1, None, None, '555-0001', None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}, "traceback": [{"path": "tests/test_search_integration.py", "lineno": 93, "message": ""}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 2030, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in commit"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1311, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1286, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4331, "message": "in flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4466, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", "lineno": 224, "message": "in __exit__"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4427, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 466, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 642, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 93, "message": "in save_obj"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 1143, "message": "in _emit_insert_statements"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1419, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", "lineno": 526, "message": "in _execute_on_connection"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1641, "message": "in _execute_clauseelement"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1844, "message": "in _execute_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2126, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2355, "message": "in _handle_dbapi_exception"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2118, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "OperationalError"}], "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815331.4018874, "msecs": 401.0, "relativeCreated": 137279.85548973083, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:35:31,401"}], "longrepr": "self = <sqlalchemy.engine.base.Connection object at 0x7fcb8965d2d0>\ndialect = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8c9fea90>\n\n    def _exec_insertmany_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for an \"insertmanyvalues\"\n        operation, which will invoke DBAPI\n        cursor.execute() one or more times with individual log and\n        event hook calls.\n    \n        \"\"\"\n    \n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n        else:\n            generic_setinputsizes = None\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters = parameters\n    \n        engine_events = self._has_events or self.engine._has_events\n        if self.dialect._has_events:\n            do_execute_dispatch: Iterable[Any] = (\n                self.dialect.dispatch.do_execute\n            )\n        else:\n            do_execute_dispatch = ()\n    \n        if self._echo:\n            stats = context._get_cache_stats() + \" (insertmanyvalues)\"\n    \n        preserve_rowcount = context.execution_options.get(\n            \"preserve_rowcount\", False\n        )\n        rowcount = 0\n    \n        for imv_batch in dialect._deliver_insertmanyvalues_batches(\n            self,\n            cursor,\n            str_statement,\n            effective_parameters,\n            generic_setinputsizes,\n            context,\n        ):\n            if imv_batch.processed_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor,\n                        imv_batch.processed_setinputsizes,\n                        context,\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e,\n                        sql_util._long_statement(imv_batch.replaced_statement),\n                        imv_batch.replaced_parameters,\n                        None,\n                        context,\n                        is_sub_exec=True,\n                    )\n    \n            sub_stmt = imv_batch.replaced_statement\n            sub_params = imv_batch.replaced_parameters\n    \n            if engine_events:\n                for fn in self.dispatch.before_cursor_execute:\n                    sub_stmt, sub_params = fn(\n                        self,\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                        True,\n                    )\n    \n            if self._echo:\n                self._log_info(sql_util._long_statement(sub_stmt))\n    \n                imv_stats = f\"\"\" {imv_batch.batchnum}/{\n                            imv_batch.total_batches\n                } ({\n                    'ordered'\n                    if imv_batch.rows_sorted else 'unordered'\n                }{\n                    '; batch not supported'\n                    if imv_batch.is_downgraded\n                    else ''\n                })\"\"\"\n    \n                if imv_batch.batchnum == 1:\n                    stats += imv_stats\n                else:\n                    stats = f\"insertmanyvalues{imv_stats}\"\n    \n                if not self.engine.hide_parameters:\n                    self._log_info(\n                        \"[%s] %r\",\n                        stats,\n                        sql_util._repr_params(\n                            sub_params,\n                            batches=10,\n                            ismulti=False,\n                        ),\n                    )\n                else:\n                    self._log_info(\n                        \"[%s] [SQL parameters hidden due to \"\n                        \"hide_parameters=True]\",\n                        stats,\n                    )\n    \n            try:\n                for fn in do_execute_dispatch:\n                    if fn(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    ):\n                        break\n                else:\n>                   dialect.do_execute(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    )\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncursor = <sqlite3.Cursor object at 0x7fcb8ca4e6c0>\nstatement = 'INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('Alice', 'Johnson', 'alice@example.com', None, None, 1, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8c9fea90>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlite3.OperationalError: no such table: students\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: OperationalError\n\nThe above exception was the direct cause of the following exception:\n\ndb = <sqlalchemy.orm.session.Session object at 0x7fcb8ca0d1d0>\n\n    @pytest.fixture\n    def sample_data(db: Session):\n        \"\"\"Create sample data for integration tests\"\"\"\n    \n        # Create students\n        students = [\n            Student(first_name=\"Alice\", last_name=\"Johnson\", email=\"alice@example.com\", phone=\"555-0001\", deleted_at=None),\n            Student(first_name=\"Bob\", last_name=\"Smith\", email=\"bob@example.com\", phone=\"555-0002\", deleted_at=None),\n            Student(\n                first_name=\"Charlie\", last_name=\"Brown\", email=\"charlie@example.com\", phone=\"555-0003\", deleted_at=None\n            ),\n            Student(first_name=\"Diana\", last_name=\"Prince\", email=\"diana@example.com\", phone=\"555-0004\", deleted_at=None),\n            Student(\n                first_name=\"Deleted\",\n                last_name=\"Student\",\n                email=\"deleted@example.com\",\n                phone=\"555-9999\",\n                deleted_at=datetime.utcnow(),  # Soft-deleted\n            ),\n        ]\n    \n        for student in students:\n            db.add(student)\n>       db.commit()\n\ntests/test_search_integration.py:93: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:2030: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1311: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1286: in _prepare_impl\n    self.session.flush()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4331: in flush\n    self._flush(objects)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4466: in _flush\n    with util.safe_reraise():\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4427: in _flush\n    flush_context.execute()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:466: in execute\n    rec.execute(self)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:93: in save_obj\n    _emit_insert_statements(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:1143: in _emit_insert_statements\n    result = connection.execute(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1419: in execute\n    return meth(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1844: in _execute_context\n    return self._exec_insertmany_context(dialect, context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2126: in _exec_insertmany_context\n    self._handle_dbapi_exception(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: in _exec_insertmany_context\n    dialect.do_execute(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncursor = <sqlite3.Cursor object at 0x7fcb8ca4e6c0>\nstatement = 'INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('Alice', 'Johnson', 'alice@example.com', None, None, 1, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8c9fea90>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: students\nE       [SQL: INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\nE       [parameters: ('Alice', 'Johnson', 'alice@example.com', None, None, 1, None, None, '555-0001', None, None, None, None)]\nE       (Background on this error at: https://sqlalche.me/e/20/e3q8)\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: OperationalError"}, "teardown": {"duration": 0.000655010000002676, "outcome": "passed"}}, {"nodeid": "tests/test_search_integration.py::TestSearchServiceIntegration::test_search_grades_combined_filters", "lineno": 201, "outcome": "error", "keywords": ["test_search_grades_combined_filters", "TestSearchServiceIntegration", "test_search_integration.py", "tests", "backend", ""], "setup": {"duration": 0.45073439000000803, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: students\n[SQL: INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\n[parameters: ('Alice', 'Johnson', 'alice@example.com', None, None, 1, None, None, '555-0001', None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}, "traceback": [{"path": "tests/test_search_integration.py", "lineno": 93, "message": ""}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 2030, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in commit"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1311, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1286, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4331, "message": "in flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4466, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", "lineno": 224, "message": "in __exit__"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4427, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 466, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 642, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 93, "message": "in save_obj"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 1143, "message": "in _emit_insert_statements"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1419, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", "lineno": 526, "message": "in _execute_on_connection"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1641, "message": "in _execute_clauseelement"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1844, "message": "in _execute_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2126, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2355, "message": "in _handle_dbapi_exception"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2118, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "OperationalError"}], "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815332.8580883, "msecs": 858.0, "relativeCreated": 138736.05632781982, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:35:32,858"}], "longrepr": "self = <sqlalchemy.engine.base.Connection object at 0x7fcb8c25bd50>\ndialect = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8c82e310>\n\n    def _exec_insertmany_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for an \"insertmanyvalues\"\n        operation, which will invoke DBAPI\n        cursor.execute() one or more times with individual log and\n        event hook calls.\n    \n        \"\"\"\n    \n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n        else:\n            generic_setinputsizes = None\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters = parameters\n    \n        engine_events = self._has_events or self.engine._has_events\n        if self.dialect._has_events:\n            do_execute_dispatch: Iterable[Any] = (\n                self.dialect.dispatch.do_execute\n            )\n        else:\n            do_execute_dispatch = ()\n    \n        if self._echo:\n            stats = context._get_cache_stats() + \" (insertmanyvalues)\"\n    \n        preserve_rowcount = context.execution_options.get(\n            \"preserve_rowcount\", False\n        )\n        rowcount = 0\n    \n        for imv_batch in dialect._deliver_insertmanyvalues_batches(\n            self,\n            cursor,\n            str_statement,\n            effective_parameters,\n            generic_setinputsizes,\n            context,\n        ):\n            if imv_batch.processed_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor,\n                        imv_batch.processed_setinputsizes,\n                        context,\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e,\n                        sql_util._long_statement(imv_batch.replaced_statement),\n                        imv_batch.replaced_parameters,\n                        None,\n                        context,\n                        is_sub_exec=True,\n                    )\n    \n            sub_stmt = imv_batch.replaced_statement\n            sub_params = imv_batch.replaced_parameters\n    \n            if engine_events:\n                for fn in self.dispatch.before_cursor_execute:\n                    sub_stmt, sub_params = fn(\n                        self,\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                        True,\n                    )\n    \n            if self._echo:\n                self._log_info(sql_util._long_statement(sub_stmt))\n    \n                imv_stats = f\"\"\" {imv_batch.batchnum}/{\n                            imv_batch.total_batches\n                } ({\n                    'ordered'\n                    if imv_batch.rows_sorted else 'unordered'\n                }{\n                    '; batch not supported'\n                    if imv_batch.is_downgraded\n                    else ''\n                })\"\"\"\n    \n                if imv_batch.batchnum == 1:\n                    stats += imv_stats\n                else:\n                    stats = f\"insertmanyvalues{imv_stats}\"\n    \n                if not self.engine.hide_parameters:\n                    self._log_info(\n                        \"[%s] %r\",\n                        stats,\n                        sql_util._repr_params(\n                            sub_params,\n                            batches=10,\n                            ismulti=False,\n                        ),\n                    )\n                else:\n                    self._log_info(\n                        \"[%s] [SQL parameters hidden due to \"\n                        \"hide_parameters=True]\",\n                        stats,\n                    )\n    \n            try:\n                for fn in do_execute_dispatch:\n                    if fn(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    ):\n                        break\n                else:\n>                   dialect.do_execute(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    )\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncursor = <sqlite3.Cursor object at 0x7fcb88c49640>\nstatement = 'INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('Alice', 'Johnson', 'alice@example.com', None, None, 1, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8c82e310>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlite3.OperationalError: no such table: students\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: OperationalError\n\nThe above exception was the direct cause of the following exception:\n\ndb = <sqlalchemy.orm.session.Session object at 0x7fcb8c530210>\n\n    @pytest.fixture\n    def sample_data(db: Session):\n        \"\"\"Create sample data for integration tests\"\"\"\n    \n        # Create students\n        students = [\n            Student(first_name=\"Alice\", last_name=\"Johnson\", email=\"alice@example.com\", phone=\"555-0001\", deleted_at=None),\n            Student(first_name=\"Bob\", last_name=\"Smith\", email=\"bob@example.com\", phone=\"555-0002\", deleted_at=None),\n            Student(\n                first_name=\"Charlie\", last_name=\"Brown\", email=\"charlie@example.com\", phone=\"555-0003\", deleted_at=None\n            ),\n            Student(first_name=\"Diana\", last_name=\"Prince\", email=\"diana@example.com\", phone=\"555-0004\", deleted_at=None),\n            Student(\n                first_name=\"Deleted\",\n                last_name=\"Student\",\n                email=\"deleted@example.com\",\n                phone=\"555-9999\",\n                deleted_at=datetime.utcnow(),  # Soft-deleted\n            ),\n        ]\n    \n        for student in students:\n            db.add(student)\n>       db.commit()\n\ntests/test_search_integration.py:93: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:2030: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1311: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1286: in _prepare_impl\n    self.session.flush()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4331: in flush\n    self._flush(objects)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4466: in _flush\n    with util.safe_reraise():\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4427: in _flush\n    flush_context.execute()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:466: in execute\n    rec.execute(self)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:93: in save_obj\n    _emit_insert_statements(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:1143: in _emit_insert_statements\n    result = connection.execute(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1419: in execute\n    return meth(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1844: in _execute_context\n    return self._exec_insertmany_context(dialect, context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2126: in _exec_insertmany_context\n    self._handle_dbapi_exception(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: in _exec_insertmany_context\n    dialect.do_execute(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncursor = <sqlite3.Cursor object at 0x7fcb88c49640>\nstatement = 'INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('Alice', 'Johnson', 'alice@example.com', None, None, 1, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8c82e310>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: students\nE       [SQL: INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\nE       [parameters: ('Alice', 'Johnson', 'alice@example.com', None, None, 1, None, None, '555-0001', None, None, None, None)]\nE       (Background on this error at: https://sqlalche.me/e/20/e3q8)\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: OperationalError"}, "teardown": {"duration": 0.0006737650000161466, "outcome": "passed"}}, {"nodeid": "tests/test_search_integration.py::TestSearchServiceIntegration::test_advanced_filter_student", "lineno": 210, "outcome": "error", "keywords": ["test_advanced_filter_student", "TestSearchServiceIntegration", "test_search_integration.py", "tests", "backend", ""], "setup": {"duration": 0.4585576529999855, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: students\n[SQL: INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\n[parameters: ('Alice', 'Johnson', 'alice@example.com', None, None, 1, None, None, '555-0001', None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}, "traceback": [{"path": "tests/test_search_integration.py", "lineno": 93, "message": ""}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 2030, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in commit"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1311, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1286, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4331, "message": "in flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4466, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", "lineno": 224, "message": "in __exit__"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4427, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 466, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 642, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 93, "message": "in save_obj"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 1143, "message": "in _emit_insert_statements"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1419, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", "lineno": 526, "message": "in _execute_on_connection"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1641, "message": "in _execute_clauseelement"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1844, "message": "in _execute_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2126, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2355, "message": "in _handle_dbapi_exception"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2118, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "OperationalError"}], "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815334.304026, "msecs": 304.0, "relativeCreated": 140181.99396133423, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:35:34,304"}], "longrepr": "self = <sqlalchemy.engine.base.Connection object at 0x7fcb80998b90>\ndialect = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8c845050>\n\n    def _exec_insertmany_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for an \"insertmanyvalues\"\n        operation, which will invoke DBAPI\n        cursor.execute() one or more times with individual log and\n        event hook calls.\n    \n        \"\"\"\n    \n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n        else:\n            generic_setinputsizes = None\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters = parameters\n    \n        engine_events = self._has_events or self.engine._has_events\n        if self.dialect._has_events:\n            do_execute_dispatch: Iterable[Any] = (\n                self.dialect.dispatch.do_execute\n            )\n        else:\n            do_execute_dispatch = ()\n    \n        if self._echo:\n            stats = context._get_cache_stats() + \" (insertmanyvalues)\"\n    \n        preserve_rowcount = context.execution_options.get(\n            \"preserve_rowcount\", False\n        )\n        rowcount = 0\n    \n        for imv_batch in dialect._deliver_insertmanyvalues_batches(\n            self,\n            cursor,\n            str_statement,\n            effective_parameters,\n            generic_setinputsizes,\n            context,\n        ):\n            if imv_batch.processed_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor,\n                        imv_batch.processed_setinputsizes,\n                        context,\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e,\n                        sql_util._long_statement(imv_batch.replaced_statement),\n                        imv_batch.replaced_parameters,\n                        None,\n                        context,\n                        is_sub_exec=True,\n                    )\n    \n            sub_stmt = imv_batch.replaced_statement\n            sub_params = imv_batch.replaced_parameters\n    \n            if engine_events:\n                for fn in self.dispatch.before_cursor_execute:\n                    sub_stmt, sub_params = fn(\n                        self,\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                        True,\n                    )\n    \n            if self._echo:\n                self._log_info(sql_util._long_statement(sub_stmt))\n    \n                imv_stats = f\"\"\" {imv_batch.batchnum}/{\n                            imv_batch.total_batches\n                } ({\n                    'ordered'\n                    if imv_batch.rows_sorted else 'unordered'\n                }{\n                    '; batch not supported'\n                    if imv_batch.is_downgraded\n                    else ''\n                })\"\"\"\n    \n                if imv_batch.batchnum == 1:\n                    stats += imv_stats\n                else:\n                    stats = f\"insertmanyvalues{imv_stats}\"\n    \n                if not self.engine.hide_parameters:\n                    self._log_info(\n                        \"[%s] %r\",\n                        stats,\n                        sql_util._repr_params(\n                            sub_params,\n                            batches=10,\n                            ismulti=False,\n                        ),\n                    )\n                else:\n                    self._log_info(\n                        \"[%s] [SQL parameters hidden due to \"\n                        \"hide_parameters=True]\",\n                        stats,\n                    )\n    \n            try:\n                for fn in do_execute_dispatch:\n                    if fn(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    ):\n                        break\n                else:\n>                   dialect.do_execute(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    )\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncursor = <sqlite3.Cursor object at 0x7fcb88b7f640>\nstatement = 'INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('Alice', 'Johnson', 'alice@example.com', None, None, 1, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8c845050>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlite3.OperationalError: no such table: students\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: OperationalError\n\nThe above exception was the direct cause of the following exception:\n\ndb = <sqlalchemy.orm.session.Session object at 0x7fcb8c194050>\n\n    @pytest.fixture\n    def sample_data(db: Session):\n        \"\"\"Create sample data for integration tests\"\"\"\n    \n        # Create students\n        students = [\n            Student(first_name=\"Alice\", last_name=\"Johnson\", email=\"alice@example.com\", phone=\"555-0001\", deleted_at=None),\n            Student(first_name=\"Bob\", last_name=\"Smith\", email=\"bob@example.com\", phone=\"555-0002\", deleted_at=None),\n            Student(\n                first_name=\"Charlie\", last_name=\"Brown\", email=\"charlie@example.com\", phone=\"555-0003\", deleted_at=None\n            ),\n            Student(first_name=\"Diana\", last_name=\"Prince\", email=\"diana@example.com\", phone=\"555-0004\", deleted_at=None),\n            Student(\n                first_name=\"Deleted\",\n                last_name=\"Student\",\n                email=\"deleted@example.com\",\n                phone=\"555-9999\",\n                deleted_at=datetime.utcnow(),  # Soft-deleted\n            ),\n        ]\n    \n        for student in students:\n            db.add(student)\n>       db.commit()\n\ntests/test_search_integration.py:93: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:2030: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1311: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1286: in _prepare_impl\n    self.session.flush()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4331: in flush\n    self._flush(objects)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4466: in _flush\n    with util.safe_reraise():\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4427: in _flush\n    flush_context.execute()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:466: in execute\n    rec.execute(self)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:93: in save_obj\n    _emit_insert_statements(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:1143: in _emit_insert_statements\n    result = connection.execute(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1419: in execute\n    return meth(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1844: in _execute_context\n    return self._exec_insertmany_context(dialect, context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2126: in _exec_insertmany_context\n    self._handle_dbapi_exception(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: in _exec_insertmany_context\n    dialect.do_execute(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncursor = <sqlite3.Cursor object at 0x7fcb88b7f640>\nstatement = 'INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('Alice', 'Johnson', 'alice@example.com', None, None, 1, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8c845050>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: students\nE       [SQL: INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\nE       [parameters: ('Alice', 'Johnson', 'alice@example.com', None, None, 1, None, None, '555-0001', None, None, None, None)]\nE       (Background on this error at: https://sqlalche.me/e/20/e3q8)\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: OperationalError"}, "teardown": {"duration": 0.0006427989999906458, "outcome": "passed"}}, {"nodeid": "tests/test_search_integration.py::TestSearchServiceIntegration::test_advanced_filter_course", "lineno": 220, "outcome": "error", "keywords": ["test_advanced_filter_course", "TestSearchServiceIntegration", "test_search_integration.py", "tests", "backend", ""], "setup": {"duration": 0.45070632799999544, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: students\n[SQL: INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\n[parameters: ('Alice', 'Johnson', 'alice@example.com', None, None, 1, None, None, '555-0001', None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}, "traceback": [{"path": "tests/test_search_integration.py", "lineno": 93, "message": ""}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 2030, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in commit"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1311, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1286, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4331, "message": "in flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4466, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", "lineno": 224, "message": "in __exit__"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4427, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 466, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 642, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 93, "message": "in save_obj"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 1143, "message": "in _emit_insert_statements"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1419, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", "lineno": 526, "message": "in _execute_on_connection"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1641, "message": "in _execute_clauseelement"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1844, "message": "in _execute_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2126, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2355, "message": "in _handle_dbapi_exception"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2118, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "OperationalError"}], "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815335.7614915, "msecs": 761.0, "relativeCreated": 141639.45960998535, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:35:35,761"}], "longrepr": "self = <sqlalchemy.engine.base.Connection object at 0x7fcb8bfc2390>\ndialect = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8be75250>\n\n    def _exec_insertmany_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for an \"insertmanyvalues\"\n        operation, which will invoke DBAPI\n        cursor.execute() one or more times with individual log and\n        event hook calls.\n    \n        \"\"\"\n    \n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n        else:\n            generic_setinputsizes = None\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters = parameters\n    \n        engine_events = self._has_events or self.engine._has_events\n        if self.dialect._has_events:\n            do_execute_dispatch: Iterable[Any] = (\n                self.dialect.dispatch.do_execute\n            )\n        else:\n            do_execute_dispatch = ()\n    \n        if self._echo:\n            stats = context._get_cache_stats() + \" (insertmanyvalues)\"\n    \n        preserve_rowcount = context.execution_options.get(\n            \"preserve_rowcount\", False\n        )\n        rowcount = 0\n    \n        for imv_batch in dialect._deliver_insertmanyvalues_batches(\n            self,\n            cursor,\n            str_statement,\n            effective_parameters,\n            generic_setinputsizes,\n            context,\n        ):\n            if imv_batch.processed_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor,\n                        imv_batch.processed_setinputsizes,\n                        context,\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e,\n                        sql_util._long_statement(imv_batch.replaced_statement),\n                        imv_batch.replaced_parameters,\n                        None,\n                        context,\n                        is_sub_exec=True,\n                    )\n    \n            sub_stmt = imv_batch.replaced_statement\n            sub_params = imv_batch.replaced_parameters\n    \n            if engine_events:\n                for fn in self.dispatch.before_cursor_execute:\n                    sub_stmt, sub_params = fn(\n                        self,\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                        True,\n                    )\n    \n            if self._echo:\n                self._log_info(sql_util._long_statement(sub_stmt))\n    \n                imv_stats = f\"\"\" {imv_batch.batchnum}/{\n                            imv_batch.total_batches\n                } ({\n                    'ordered'\n                    if imv_batch.rows_sorted else 'unordered'\n                }{\n                    '; batch not supported'\n                    if imv_batch.is_downgraded\n                    else ''\n                })\"\"\"\n    \n                if imv_batch.batchnum == 1:\n                    stats += imv_stats\n                else:\n                    stats = f\"insertmanyvalues{imv_stats}\"\n    \n                if not self.engine.hide_parameters:\n                    self._log_info(\n                        \"[%s] %r\",\n                        stats,\n                        sql_util._repr_params(\n                            sub_params,\n                            batches=10,\n                            ismulti=False,\n                        ),\n                    )\n                else:\n                    self._log_info(\n                        \"[%s] [SQL parameters hidden due to \"\n                        \"hide_parameters=True]\",\n                        stats,\n                    )\n    \n            try:\n                for fn in do_execute_dispatch:\n                    if fn(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    ):\n                        break\n                else:\n>                   dialect.do_execute(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    )\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncursor = <sqlite3.Cursor object at 0x7fcb88cc89c0>\nstatement = 'INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('Alice', 'Johnson', 'alice@example.com', None, None, 1, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8be75250>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlite3.OperationalError: no such table: students\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: OperationalError\n\nThe above exception was the direct cause of the following exception:\n\ndb = <sqlalchemy.orm.session.Session object at 0x7fcb8c2cecd0>\n\n    @pytest.fixture\n    def sample_data(db: Session):\n        \"\"\"Create sample data for integration tests\"\"\"\n    \n        # Create students\n        students = [\n            Student(first_name=\"Alice\", last_name=\"Johnson\", email=\"alice@example.com\", phone=\"555-0001\", deleted_at=None),\n            Student(first_name=\"Bob\", last_name=\"Smith\", email=\"bob@example.com\", phone=\"555-0002\", deleted_at=None),\n            Student(\n                first_name=\"Charlie\", last_name=\"Brown\", email=\"charlie@example.com\", phone=\"555-0003\", deleted_at=None\n            ),\n            Student(first_name=\"Diana\", last_name=\"Prince\", email=\"diana@example.com\", phone=\"555-0004\", deleted_at=None),\n            Student(\n                first_name=\"Deleted\",\n                last_name=\"Student\",\n                email=\"deleted@example.com\",\n                phone=\"555-9999\",\n                deleted_at=datetime.utcnow(),  # Soft-deleted\n            ),\n        ]\n    \n        for student in students:\n            db.add(student)\n>       db.commit()\n\ntests/test_search_integration.py:93: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:2030: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1311: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1286: in _prepare_impl\n    self.session.flush()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4331: in flush\n    self._flush(objects)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4466: in _flush\n    with util.safe_reraise():\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4427: in _flush\n    flush_context.execute()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:466: in execute\n    rec.execute(self)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:93: in save_obj\n    _emit_insert_statements(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:1143: in _emit_insert_statements\n    result = connection.execute(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1419: in execute\n    return meth(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1844: in _execute_context\n    return self._exec_insertmany_context(dialect, context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2126: in _exec_insertmany_context\n    self._handle_dbapi_exception(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: in _exec_insertmany_context\n    dialect.do_execute(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncursor = <sqlite3.Cursor object at 0x7fcb88cc89c0>\nstatement = 'INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('Alice', 'Johnson', 'alice@example.com', None, None, 1, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8be75250>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: students\nE       [SQL: INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\nE       [parameters: ('Alice', 'Johnson', 'alice@example.com', None, None, 1, None, None, '555-0001', None, None, None, None)]\nE       (Background on this error at: https://sqlalche.me/e/20/e3q8)\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: OperationalError"}, "teardown": {"duration": 0.0006940240000119502, "outcome": "passed"}}, {"nodeid": "tests/test_search_integration.py::TestSearchServiceIntegration::test_advanced_filter_grade", "lineno": 229, "outcome": "error", "keywords": ["test_advanced_filter_grade", "TestSearchServiceIntegration", "test_search_integration.py", "tests", "backend", ""], "setup": {"duration": 0.4549135519999936, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: students\n[SQL: INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\n[parameters: ('Alice', 'Johnson', 'alice@example.com', None, None, 1, None, None, '555-0001', None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}, "traceback": [{"path": "tests/test_search_integration.py", "lineno": 93, "message": ""}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 2030, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in commit"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1311, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1286, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4331, "message": "in flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4466, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", "lineno": 224, "message": "in __exit__"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4427, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 466, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 642, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 93, "message": "in save_obj"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 1143, "message": "in _emit_insert_statements"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1419, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", "lineno": 526, "message": "in _execute_on_connection"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1641, "message": "in _execute_clauseelement"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1844, "message": "in _execute_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2126, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2355, "message": "in _handle_dbapi_exception"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2118, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "OperationalError"}], "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815337.231957, "msecs": 231.0, "relativeCreated": 143109.925031662, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:35:37,231"}], "longrepr": "self = <sqlalchemy.engine.base.Connection object at 0x7fcb8c6b1590>\ndialect = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8c6b2650>\n\n    def _exec_insertmany_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for an \"insertmanyvalues\"\n        operation, which will invoke DBAPI\n        cursor.execute() one or more times with individual log and\n        event hook calls.\n    \n        \"\"\"\n    \n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n        else:\n            generic_setinputsizes = None\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters = parameters\n    \n        engine_events = self._has_events or self.engine._has_events\n        if self.dialect._has_events:\n            do_execute_dispatch: Iterable[Any] = (\n                self.dialect.dispatch.do_execute\n            )\n        else:\n            do_execute_dispatch = ()\n    \n        if self._echo:\n            stats = context._get_cache_stats() + \" (insertmanyvalues)\"\n    \n        preserve_rowcount = context.execution_options.get(\n            \"preserve_rowcount\", False\n        )\n        rowcount = 0\n    \n        for imv_batch in dialect._deliver_insertmanyvalues_batches(\n            self,\n            cursor,\n            str_statement,\n            effective_parameters,\n            generic_setinputsizes,\n            context,\n        ):\n            if imv_batch.processed_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor,\n                        imv_batch.processed_setinputsizes,\n                        context,\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e,\n                        sql_util._long_statement(imv_batch.replaced_statement),\n                        imv_batch.replaced_parameters,\n                        None,\n                        context,\n                        is_sub_exec=True,\n                    )\n    \n            sub_stmt = imv_batch.replaced_statement\n            sub_params = imv_batch.replaced_parameters\n    \n            if engine_events:\n                for fn in self.dispatch.before_cursor_execute:\n                    sub_stmt, sub_params = fn(\n                        self,\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                        True,\n                    )\n    \n            if self._echo:\n                self._log_info(sql_util._long_statement(sub_stmt))\n    \n                imv_stats = f\"\"\" {imv_batch.batchnum}/{\n                            imv_batch.total_batches\n                } ({\n                    'ordered'\n                    if imv_batch.rows_sorted else 'unordered'\n                }{\n                    '; batch not supported'\n                    if imv_batch.is_downgraded\n                    else ''\n                })\"\"\"\n    \n                if imv_batch.batchnum == 1:\n                    stats += imv_stats\n                else:\n                    stats = f\"insertmanyvalues{imv_stats}\"\n    \n                if not self.engine.hide_parameters:\n                    self._log_info(\n                        \"[%s] %r\",\n                        stats,\n                        sql_util._repr_params(\n                            sub_params,\n                            batches=10,\n                            ismulti=False,\n                        ),\n                    )\n                else:\n                    self._log_info(\n                        \"[%s] [SQL parameters hidden due to \"\n                        \"hide_parameters=True]\",\n                        stats,\n                    )\n    \n            try:\n                for fn in do_execute_dispatch:\n                    if fn(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    ):\n                        break\n                else:\n>                   dialect.do_execute(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    )\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncursor = <sqlite3.Cursor object at 0x7fcb894f2940>\nstatement = 'INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('Alice', 'Johnson', 'alice@example.com', None, None, 1, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8c6b2650>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlite3.OperationalError: no such table: students\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: OperationalError\n\nThe above exception was the direct cause of the following exception:\n\ndb = <sqlalchemy.orm.session.Session object at 0x7fcb88ca9610>\n\n    @pytest.fixture\n    def sample_data(db: Session):\n        \"\"\"Create sample data for integration tests\"\"\"\n    \n        # Create students\n        students = [\n            Student(first_name=\"Alice\", last_name=\"Johnson\", email=\"alice@example.com\", phone=\"555-0001\", deleted_at=None),\n            Student(first_name=\"Bob\", last_name=\"Smith\", email=\"bob@example.com\", phone=\"555-0002\", deleted_at=None),\n            Student(\n                first_name=\"Charlie\", last_name=\"Brown\", email=\"charlie@example.com\", phone=\"555-0003\", deleted_at=None\n            ),\n            Student(first_name=\"Diana\", last_name=\"Prince\", email=\"diana@example.com\", phone=\"555-0004\", deleted_at=None),\n            Student(\n                first_name=\"Deleted\",\n                last_name=\"Student\",\n                email=\"deleted@example.com\",\n                phone=\"555-9999\",\n                deleted_at=datetime.utcnow(),  # Soft-deleted\n            ),\n        ]\n    \n        for student in students:\n            db.add(student)\n>       db.commit()\n\ntests/test_search_integration.py:93: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:2030: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1311: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1286: in _prepare_impl\n    self.session.flush()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4331: in flush\n    self._flush(objects)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4466: in _flush\n    with util.safe_reraise():\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4427: in _flush\n    flush_context.execute()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:466: in execute\n    rec.execute(self)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:93: in save_obj\n    _emit_insert_statements(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:1143: in _emit_insert_statements\n    result = connection.execute(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1419: in execute\n    return meth(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1844: in _execute_context\n    return self._exec_insertmany_context(dialect, context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2126: in _exec_insertmany_context\n    self._handle_dbapi_exception(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: in _exec_insertmany_context\n    dialect.do_execute(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncursor = <sqlite3.Cursor object at 0x7fcb894f2940>\nstatement = 'INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('Alice', 'Johnson', 'alice@example.com', None, None, 1, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8c6b2650>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: students\nE       [SQL: INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\nE       [parameters: ('Alice', 'Johnson', 'alice@example.com', None, None, 1, None, None, '555-0001', None, None, None, None)]\nE       (Background on this error at: https://sqlalche.me/e/20/e3q8)\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: OperationalError"}, "teardown": {"duration": 0.0006746980000116309, "outcome": "passed"}}, {"nodeid": "tests/test_search_integration.py::TestSearchServiceIntegration::test_get_suggestions_returns_correct_entities", "lineno": 237, "outcome": "error", "keywords": ["test_get_suggestions_returns_correct_entities", "TestSearchServiceIntegration", "test_search_integration.py", "tests", "backend", ""], "setup": {"duration": 0.4548278919999973, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: students\n[SQL: INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\n[parameters: ('Alice', 'Johnson', 'alice@example.com', None, None, 1, None, None, '555-0001', None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}, "traceback": [{"path": "tests/test_search_integration.py", "lineno": 93, "message": ""}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 2030, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in commit"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1311, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1286, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4331, "message": "in flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4466, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", "lineno": 224, "message": "in __exit__"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4427, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 466, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 642, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 93, "message": "in save_obj"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 1143, "message": "in _emit_insert_statements"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1419, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", "lineno": 526, "message": "in _execute_on_connection"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1641, "message": "in _execute_clauseelement"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1844, "message": "in _execute_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2126, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2355, "message": "in _handle_dbapi_exception"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2118, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "OperationalError"}], "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815338.7200177, "msecs": 720.0, "relativeCreated": 144597.98574447632, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:35:38,720"}], "longrepr": "self = <sqlalchemy.engine.base.Connection object at 0x7fcb8943b0d0>\ndialect = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb88e675d0>\n\n    def _exec_insertmany_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for an \"insertmanyvalues\"\n        operation, which will invoke DBAPI\n        cursor.execute() one or more times with individual log and\n        event hook calls.\n    \n        \"\"\"\n    \n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n        else:\n            generic_setinputsizes = None\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters = parameters\n    \n        engine_events = self._has_events or self.engine._has_events\n        if self.dialect._has_events:\n            do_execute_dispatch: Iterable[Any] = (\n                self.dialect.dispatch.do_execute\n            )\n        else:\n            do_execute_dispatch = ()\n    \n        if self._echo:\n            stats = context._get_cache_stats() + \" (insertmanyvalues)\"\n    \n        preserve_rowcount = context.execution_options.get(\n            \"preserve_rowcount\", False\n        )\n        rowcount = 0\n    \n        for imv_batch in dialect._deliver_insertmanyvalues_batches(\n            self,\n            cursor,\n            str_statement,\n            effective_parameters,\n            generic_setinputsizes,\n            context,\n        ):\n            if imv_batch.processed_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor,\n                        imv_batch.processed_setinputsizes,\n                        context,\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e,\n                        sql_util._long_statement(imv_batch.replaced_statement),\n                        imv_batch.replaced_parameters,\n                        None,\n                        context,\n                        is_sub_exec=True,\n                    )\n    \n            sub_stmt = imv_batch.replaced_statement\n            sub_params = imv_batch.replaced_parameters\n    \n            if engine_events:\n                for fn in self.dispatch.before_cursor_execute:\n                    sub_stmt, sub_params = fn(\n                        self,\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                        True,\n                    )\n    \n            if self._echo:\n                self._log_info(sql_util._long_statement(sub_stmt))\n    \n                imv_stats = f\"\"\" {imv_batch.batchnum}/{\n                            imv_batch.total_batches\n                } ({\n                    'ordered'\n                    if imv_batch.rows_sorted else 'unordered'\n                }{\n                    '; batch not supported'\n                    if imv_batch.is_downgraded\n                    else ''\n                })\"\"\"\n    \n                if imv_batch.batchnum == 1:\n                    stats += imv_stats\n                else:\n                    stats = f\"insertmanyvalues{imv_stats}\"\n    \n                if not self.engine.hide_parameters:\n                    self._log_info(\n                        \"[%s] %r\",\n                        stats,\n                        sql_util._repr_params(\n                            sub_params,\n                            batches=10,\n                            ismulti=False,\n                        ),\n                    )\n                else:\n                    self._log_info(\n                        \"[%s] [SQL parameters hidden due to \"\n                        \"hide_parameters=True]\",\n                        stats,\n                    )\n    \n            try:\n                for fn in do_execute_dispatch:\n                    if fn(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    ):\n                        break\n                else:\n>                   dialect.do_execute(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    )\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncursor = <sqlite3.Cursor object at 0x7fcb8cb3bcc0>\nstatement = 'INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('Alice', 'Johnson', 'alice@example.com', None, None, 1, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb88e675d0>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlite3.OperationalError: no such table: students\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: OperationalError\n\nThe above exception was the direct cause of the following exception:\n\ndb = <sqlalchemy.orm.session.Session object at 0x7fcb8c7fe9d0>\n\n    @pytest.fixture\n    def sample_data(db: Session):\n        \"\"\"Create sample data for integration tests\"\"\"\n    \n        # Create students\n        students = [\n            Student(first_name=\"Alice\", last_name=\"Johnson\", email=\"alice@example.com\", phone=\"555-0001\", deleted_at=None),\n            Student(first_name=\"Bob\", last_name=\"Smith\", email=\"bob@example.com\", phone=\"555-0002\", deleted_at=None),\n            Student(\n                first_name=\"Charlie\", last_name=\"Brown\", email=\"charlie@example.com\", phone=\"555-0003\", deleted_at=None\n            ),\n            Student(first_name=\"Diana\", last_name=\"Prince\", email=\"diana@example.com\", phone=\"555-0004\", deleted_at=None),\n            Student(\n                first_name=\"Deleted\",\n                last_name=\"Student\",\n                email=\"deleted@example.com\",\n                phone=\"555-9999\",\n                deleted_at=datetime.utcnow(),  # Soft-deleted\n            ),\n        ]\n    \n        for student in students:\n            db.add(student)\n>       db.commit()\n\ntests/test_search_integration.py:93: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:2030: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1311: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1286: in _prepare_impl\n    self.session.flush()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4331: in flush\n    self._flush(objects)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4466: in _flush\n    with util.safe_reraise():\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4427: in _flush\n    flush_context.execute()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:466: in execute\n    rec.execute(self)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:93: in save_obj\n    _emit_insert_statements(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:1143: in _emit_insert_statements\n    result = connection.execute(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1419: in execute\n    return meth(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1844: in _execute_context\n    return self._exec_insertmany_context(dialect, context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2126: in _exec_insertmany_context\n    self._handle_dbapi_exception(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: in _exec_insertmany_context\n    dialect.do_execute(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncursor = <sqlite3.Cursor object at 0x7fcb8cb3bcc0>\nstatement = 'INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('Alice', 'Johnson', 'alice@example.com', None, None, 1, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb88e675d0>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: students\nE       [SQL: INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\nE       [parameters: ('Alice', 'Johnson', 'alice@example.com', None, None, 1, None, None, '555-0001', None, None, None, None)]\nE       (Background on this error at: https://sqlalche.me/e/20/e3q8)\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: OperationalError"}, "teardown": {"duration": 0.0006747779999898285, "outcome": "passed"}}, {"nodeid": "tests/test_search_integration.py::TestSearchServiceIntegration::test_get_statistics_calculates_correctly", "lineno": 246, "outcome": "error", "keywords": ["test_get_statistics_calculates_correctly", "TestSearchServiceIntegration", "test_search_integration.py", "tests", "backend", ""], "setup": {"duration": 0.7142227919999868, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: students\n[SQL: INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\n[parameters: ('Alice', 'Johnson', 'alice@example.com', None, None, 1, None, None, '555-0001', None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}, "traceback": [{"path": "tests/test_search_integration.py", "lineno": 93, "message": ""}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 2030, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in commit"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1311, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1286, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4331, "message": "in flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4466, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", "lineno": 224, "message": "in __exit__"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4427, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 466, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 642, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 93, "message": "in save_obj"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 1143, "message": "in _emit_insert_statements"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1419, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", "lineno": 526, "message": "in _execute_on_connection"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1641, "message": "in _execute_clauseelement"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1844, "message": "in _execute_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2126, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2355, "message": "in _handle_dbapi_exception"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2118, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "OperationalError"}], "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815339.9207518, "msecs": 920.0, "relativeCreated": 145798.7198829651, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:35:39,920"}], "longrepr": "self = <sqlalchemy.engine.base.Connection object at 0x7fcb88e67210>\ndialect = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb88e65410>\n\n    def _exec_insertmany_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for an \"insertmanyvalues\"\n        operation, which will invoke DBAPI\n        cursor.execute() one or more times with individual log and\n        event hook calls.\n    \n        \"\"\"\n    \n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n        else:\n            generic_setinputsizes = None\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters = parameters\n    \n        engine_events = self._has_events or self.engine._has_events\n        if self.dialect._has_events:\n            do_execute_dispatch: Iterable[Any] = (\n                self.dialect.dispatch.do_execute\n            )\n        else:\n            do_execute_dispatch = ()\n    \n        if self._echo:\n            stats = context._get_cache_stats() + \" (insertmanyvalues)\"\n    \n        preserve_rowcount = context.execution_options.get(\n            \"preserve_rowcount\", False\n        )\n        rowcount = 0\n    \n        for imv_batch in dialect._deliver_insertmanyvalues_batches(\n            self,\n            cursor,\n            str_statement,\n            effective_parameters,\n            generic_setinputsizes,\n            context,\n        ):\n            if imv_batch.processed_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor,\n                        imv_batch.processed_setinputsizes,\n                        context,\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e,\n                        sql_util._long_statement(imv_batch.replaced_statement),\n                        imv_batch.replaced_parameters,\n                        None,\n                        context,\n                        is_sub_exec=True,\n                    )\n    \n            sub_stmt = imv_batch.replaced_statement\n            sub_params = imv_batch.replaced_parameters\n    \n            if engine_events:\n                for fn in self.dispatch.before_cursor_execute:\n                    sub_stmt, sub_params = fn(\n                        self,\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                        True,\n                    )\n    \n            if self._echo:\n                self._log_info(sql_util._long_statement(sub_stmt))\n    \n                imv_stats = f\"\"\" {imv_batch.batchnum}/{\n                            imv_batch.total_batches\n                } ({\n                    'ordered'\n                    if imv_batch.rows_sorted else 'unordered'\n                }{\n                    '; batch not supported'\n                    if imv_batch.is_downgraded\n                    else ''\n                })\"\"\"\n    \n                if imv_batch.batchnum == 1:\n                    stats += imv_stats\n                else:\n                    stats = f\"insertmanyvalues{imv_stats}\"\n    \n                if not self.engine.hide_parameters:\n                    self._log_info(\n                        \"[%s] %r\",\n                        stats,\n                        sql_util._repr_params(\n                            sub_params,\n                            batches=10,\n                            ismulti=False,\n                        ),\n                    )\n                else:\n                    self._log_info(\n                        \"[%s] [SQL parameters hidden due to \"\n                        \"hide_parameters=True]\",\n                        stats,\n                    )\n    \n            try:\n                for fn in do_execute_dispatch:\n                    if fn(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    ):\n                        break\n                else:\n>                   dialect.do_execute(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    )\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncursor = <sqlite3.Cursor object at 0x7fcb8947e1c0>\nstatement = 'INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('Alice', 'Johnson', 'alice@example.com', None, None, 1, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb88e65410>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlite3.OperationalError: no such table: students\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: OperationalError\n\nThe above exception was the direct cause of the following exception:\n\ndb = <sqlalchemy.orm.session.Session object at 0x7fcb895351d0>\n\n    @pytest.fixture\n    def sample_data(db: Session):\n        \"\"\"Create sample data for integration tests\"\"\"\n    \n        # Create students\n        students = [\n            Student(first_name=\"Alice\", last_name=\"Johnson\", email=\"alice@example.com\", phone=\"555-0001\", deleted_at=None),\n            Student(first_name=\"Bob\", last_name=\"Smith\", email=\"bob@example.com\", phone=\"555-0002\", deleted_at=None),\n            Student(\n                first_name=\"Charlie\", last_name=\"Brown\", email=\"charlie@example.com\", phone=\"555-0003\", deleted_at=None\n            ),\n            Student(first_name=\"Diana\", last_name=\"Prince\", email=\"diana@example.com\", phone=\"555-0004\", deleted_at=None),\n            Student(\n                first_name=\"Deleted\",\n                last_name=\"Student\",\n                email=\"deleted@example.com\",\n                phone=\"555-9999\",\n                deleted_at=datetime.utcnow(),  # Soft-deleted\n            ),\n        ]\n    \n        for student in students:\n            db.add(student)\n>       db.commit()\n\ntests/test_search_integration.py:93: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:2030: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1311: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1286: in _prepare_impl\n    self.session.flush()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4331: in flush\n    self._flush(objects)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4466: in _flush\n    with util.safe_reraise():\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4427: in _flush\n    flush_context.execute()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:466: in execute\n    rec.execute(self)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:93: in save_obj\n    _emit_insert_statements(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:1143: in _emit_insert_statements\n    result = connection.execute(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1419: in execute\n    return meth(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1844: in _execute_context\n    return self._exec_insertmany_context(dialect, context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2126: in _exec_insertmany_context\n    self._handle_dbapi_exception(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: in _exec_insertmany_context\n    dialect.do_execute(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncursor = <sqlite3.Cursor object at 0x7fcb8947e1c0>\nstatement = 'INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('Alice', 'Johnson', 'alice@example.com', None, None, 1, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb88e65410>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: students\nE       [SQL: INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\nE       [parameters: ('Alice', 'Johnson', 'alice@example.com', None, None, 1, None, None, '555-0001', None, None, None, None)]\nE       (Background on this error at: https://sqlalche.me/e/20/e3q8)\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: OperationalError"}, "teardown": {"duration": 0.0006633570000076361, "outcome": "passed"}}, {"nodeid": "tests/test_search_integration.py::TestSearchServiceIntegration::test_rank_results_orders_by_relevance", "lineno": 256, "outcome": "error", "keywords": ["test_rank_results_orders_by_relevance", "TestSearchServiceIntegration", "test_search_integration.py", "tests", "backend", ""], "setup": {"duration": 0.6964428940000005, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: students\n[SQL: INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\n[parameters: ('Alice', 'Johnson', 'alice@example.com', None, None, 1, None, None, '555-0001', None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}, "traceback": [{"path": "tests/test_search_integration.py", "lineno": 93, "message": ""}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 2030, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in commit"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1311, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1286, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4331, "message": "in flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4466, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", "lineno": 224, "message": "in __exit__"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4427, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 466, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 642, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 93, "message": "in save_obj"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 1143, "message": "in _emit_insert_statements"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1419, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", "lineno": 526, "message": "in _execute_on_connection"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1641, "message": "in _execute_clauseelement"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1844, "message": "in _execute_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2126, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2355, "message": "in _handle_dbapi_exception"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2118, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "OperationalError"}], "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815341.3911376, "msecs": 391.0, "relativeCreated": 147269.1056728363, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:35:41,391"}], "longrepr": "self = <sqlalchemy.engine.base.Connection object at 0x7fcb8cd2bd50>\ndialect = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8945f850>\n\n    def _exec_insertmany_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for an \"insertmanyvalues\"\n        operation, which will invoke DBAPI\n        cursor.execute() one or more times with individual log and\n        event hook calls.\n    \n        \"\"\"\n    \n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n        else:\n            generic_setinputsizes = None\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters = parameters\n    \n        engine_events = self._has_events or self.engine._has_events\n        if self.dialect._has_events:\n            do_execute_dispatch: Iterable[Any] = (\n                self.dialect.dispatch.do_execute\n            )\n        else:\n            do_execute_dispatch = ()\n    \n        if self._echo:\n            stats = context._get_cache_stats() + \" (insertmanyvalues)\"\n    \n        preserve_rowcount = context.execution_options.get(\n            \"preserve_rowcount\", False\n        )\n        rowcount = 0\n    \n        for imv_batch in dialect._deliver_insertmanyvalues_batches(\n            self,\n            cursor,\n            str_statement,\n            effective_parameters,\n            generic_setinputsizes,\n            context,\n        ):\n            if imv_batch.processed_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor,\n                        imv_batch.processed_setinputsizes,\n                        context,\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e,\n                        sql_util._long_statement(imv_batch.replaced_statement),\n                        imv_batch.replaced_parameters,\n                        None,\n                        context,\n                        is_sub_exec=True,\n                    )\n    \n            sub_stmt = imv_batch.replaced_statement\n            sub_params = imv_batch.replaced_parameters\n    \n            if engine_events:\n                for fn in self.dispatch.before_cursor_execute:\n                    sub_stmt, sub_params = fn(\n                        self,\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                        True,\n                    )\n    \n            if self._echo:\n                self._log_info(sql_util._long_statement(sub_stmt))\n    \n                imv_stats = f\"\"\" {imv_batch.batchnum}/{\n                            imv_batch.total_batches\n                } ({\n                    'ordered'\n                    if imv_batch.rows_sorted else 'unordered'\n                }{\n                    '; batch not supported'\n                    if imv_batch.is_downgraded\n                    else ''\n                })\"\"\"\n    \n                if imv_batch.batchnum == 1:\n                    stats += imv_stats\n                else:\n                    stats = f\"insertmanyvalues{imv_stats}\"\n    \n                if not self.engine.hide_parameters:\n                    self._log_info(\n                        \"[%s] %r\",\n                        stats,\n                        sql_util._repr_params(\n                            sub_params,\n                            batches=10,\n                            ismulti=False,\n                        ),\n                    )\n                else:\n                    self._log_info(\n                        \"[%s] [SQL parameters hidden due to \"\n                        \"hide_parameters=True]\",\n                        stats,\n                    )\n    \n            try:\n                for fn in do_execute_dispatch:\n                    if fn(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    ):\n                        break\n                else:\n>                   dialect.do_execute(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    )\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncursor = <sqlite3.Cursor object at 0x7fcb8ca4e3c0>\nstatement = 'INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('Alice', 'Johnson', 'alice@example.com', None, None, 1, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8945f850>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlite3.OperationalError: no such table: students\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: OperationalError\n\nThe above exception was the direct cause of the following exception:\n\ndb = <sqlalchemy.orm.session.Session object at 0x7fcb8c5b6a10>\n\n    @pytest.fixture\n    def sample_data(db: Session):\n        \"\"\"Create sample data for integration tests\"\"\"\n    \n        # Create students\n        students = [\n            Student(first_name=\"Alice\", last_name=\"Johnson\", email=\"alice@example.com\", phone=\"555-0001\", deleted_at=None),\n            Student(first_name=\"Bob\", last_name=\"Smith\", email=\"bob@example.com\", phone=\"555-0002\", deleted_at=None),\n            Student(\n                first_name=\"Charlie\", last_name=\"Brown\", email=\"charlie@example.com\", phone=\"555-0003\", deleted_at=None\n            ),\n            Student(first_name=\"Diana\", last_name=\"Prince\", email=\"diana@example.com\", phone=\"555-0004\", deleted_at=None),\n            Student(\n                first_name=\"Deleted\",\n                last_name=\"Student\",\n                email=\"deleted@example.com\",\n                phone=\"555-9999\",\n                deleted_at=datetime.utcnow(),  # Soft-deleted\n            ),\n        ]\n    \n        for student in students:\n            db.add(student)\n>       db.commit()\n\ntests/test_search_integration.py:93: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:2030: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1311: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1286: in _prepare_impl\n    self.session.flush()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4331: in flush\n    self._flush(objects)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4466: in _flush\n    with util.safe_reraise():\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4427: in _flush\n    flush_context.execute()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:466: in execute\n    rec.execute(self)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:93: in save_obj\n    _emit_insert_statements(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:1143: in _emit_insert_statements\n    result = connection.execute(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1419: in execute\n    return meth(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1844: in _execute_context\n    return self._exec_insertmany_context(dialect, context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2126: in _exec_insertmany_context\n    self._handle_dbapi_exception(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: in _exec_insertmany_context\n    dialect.do_execute(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncursor = <sqlite3.Cursor object at 0x7fcb8ca4e3c0>\nstatement = 'INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('Alice', 'Johnson', 'alice@example.com', None, None, 1, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8945f850>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: students\nE       [SQL: INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\nE       [parameters: ('Alice', 'Johnson', 'alice@example.com', None, None, 1, None, None, '555-0001', None, None, None, None)]\nE       (Background on this error at: https://sqlalche.me/e/20/e3q8)\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: OperationalError"}, "teardown": {"duration": 0.0006712820000132069, "outcome": "passed"}}, {"nodeid": "tests/test_search_integration.py::TestAPIServiceDatabaseFlow::test_student_search_api_endpoint_integration", "lineno": 270, "outcome": "error", "keywords": ["test_student_search_api_endpoint_integration", "TestAPIServiceDatabaseFlow", "test_search_integration.py", "tests", "backend", ""], "setup": {"duration": 0.4568073590000097, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: students\n[SQL: INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\n[parameters: ('Alice', 'Johnson', 'alice@example.com', None, None, 1, None, None, '555-0001', None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}, "traceback": [{"path": "tests/test_search_integration.py", "lineno": 93, "message": ""}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 2030, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in commit"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1311, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1286, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4331, "message": "in flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4466, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", "lineno": 224, "message": "in __exit__"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4427, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 466, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 642, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 93, "message": "in save_obj"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 1143, "message": "in _emit_insert_statements"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1419, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", "lineno": 526, "message": "in _execute_on_connection"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1641, "message": "in _execute_clauseelement"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1844, "message": "in _execute_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2126, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2355, "message": "in _handle_dbapi_exception"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2118, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "OperationalError"}], "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815343.0951118, "msecs": 95.0, "relativeCreated": 148973.07991981506, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:35:43,095"}], "longrepr": "self = <sqlalchemy.engine.base.Connection object at 0x7fcb8c258450>\ndialect = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8c530a50>\n\n    def _exec_insertmany_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for an \"insertmanyvalues\"\n        operation, which will invoke DBAPI\n        cursor.execute() one or more times with individual log and\n        event hook calls.\n    \n        \"\"\"\n    \n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n        else:\n            generic_setinputsizes = None\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters = parameters\n    \n        engine_events = self._has_events or self.engine._has_events\n        if self.dialect._has_events:\n            do_execute_dispatch: Iterable[Any] = (\n                self.dialect.dispatch.do_execute\n            )\n        else:\n            do_execute_dispatch = ()\n    \n        if self._echo:\n            stats = context._get_cache_stats() + \" (insertmanyvalues)\"\n    \n        preserve_rowcount = context.execution_options.get(\n            \"preserve_rowcount\", False\n        )\n        rowcount = 0\n    \n        for imv_batch in dialect._deliver_insertmanyvalues_batches(\n            self,\n            cursor,\n            str_statement,\n            effective_parameters,\n            generic_setinputsizes,\n            context,\n        ):\n            if imv_batch.processed_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor,\n                        imv_batch.processed_setinputsizes,\n                        context,\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e,\n                        sql_util._long_statement(imv_batch.replaced_statement),\n                        imv_batch.replaced_parameters,\n                        None,\n                        context,\n                        is_sub_exec=True,\n                    )\n    \n            sub_stmt = imv_batch.replaced_statement\n            sub_params = imv_batch.replaced_parameters\n    \n            if engine_events:\n                for fn in self.dispatch.before_cursor_execute:\n                    sub_stmt, sub_params = fn(\n                        self,\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                        True,\n                    )\n    \n            if self._echo:\n                self._log_info(sql_util._long_statement(sub_stmt))\n    \n                imv_stats = f\"\"\" {imv_batch.batchnum}/{\n                            imv_batch.total_batches\n                } ({\n                    'ordered'\n                    if imv_batch.rows_sorted else 'unordered'\n                }{\n                    '; batch not supported'\n                    if imv_batch.is_downgraded\n                    else ''\n                })\"\"\"\n    \n                if imv_batch.batchnum == 1:\n                    stats += imv_stats\n                else:\n                    stats = f\"insertmanyvalues{imv_stats}\"\n    \n                if not self.engine.hide_parameters:\n                    self._log_info(\n                        \"[%s] %r\",\n                        stats,\n                        sql_util._repr_params(\n                            sub_params,\n                            batches=10,\n                            ismulti=False,\n                        ),\n                    )\n                else:\n                    self._log_info(\n                        \"[%s] [SQL parameters hidden due to \"\n                        \"hide_parameters=True]\",\n                        stats,\n                    )\n    \n            try:\n                for fn in do_execute_dispatch:\n                    if fn(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    ):\n                        break\n                else:\n>                   dialect.do_execute(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    )\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncursor = <sqlite3.Cursor object at 0x7fcb8c495ec0>\nstatement = 'INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('Alice', 'Johnson', 'alice@example.com', None, None, 1, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8c530a50>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlite3.OperationalError: no such table: students\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: OperationalError\n\nThe above exception was the direct cause of the following exception:\n\ndb = <sqlalchemy.orm.session.Session object at 0x7fcb8b89ee50>\n\n    @pytest.fixture\n    def sample_data(db: Session):\n        \"\"\"Create sample data for integration tests\"\"\"\n    \n        # Create students\n        students = [\n            Student(first_name=\"Alice\", last_name=\"Johnson\", email=\"alice@example.com\", phone=\"555-0001\", deleted_at=None),\n            Student(first_name=\"Bob\", last_name=\"Smith\", email=\"bob@example.com\", phone=\"555-0002\", deleted_at=None),\n            Student(\n                first_name=\"Charlie\", last_name=\"Brown\", email=\"charlie@example.com\", phone=\"555-0003\", deleted_at=None\n            ),\n            Student(first_name=\"Diana\", last_name=\"Prince\", email=\"diana@example.com\", phone=\"555-0004\", deleted_at=None),\n            Student(\n                first_name=\"Deleted\",\n                last_name=\"Student\",\n                email=\"deleted@example.com\",\n                phone=\"555-9999\",\n                deleted_at=datetime.utcnow(),  # Soft-deleted\n            ),\n        ]\n    \n        for student in students:\n            db.add(student)\n>       db.commit()\n\ntests/test_search_integration.py:93: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:2030: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1311: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1286: in _prepare_impl\n    self.session.flush()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4331: in flush\n    self._flush(objects)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4466: in _flush\n    with util.safe_reraise():\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4427: in _flush\n    flush_context.execute()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:466: in execute\n    rec.execute(self)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:93: in save_obj\n    _emit_insert_statements(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:1143: in _emit_insert_statements\n    result = connection.execute(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1419: in execute\n    return meth(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1844: in _execute_context\n    return self._exec_insertmany_context(dialect, context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2126: in _exec_insertmany_context\n    self._handle_dbapi_exception(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: in _exec_insertmany_context\n    dialect.do_execute(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncursor = <sqlite3.Cursor object at 0x7fcb8c495ec0>\nstatement = 'INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('Alice', 'Johnson', 'alice@example.com', None, None, 1, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8c530a50>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: students\nE       [SQL: INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\nE       [parameters: ('Alice', 'Johnson', 'alice@example.com', None, None, 1, None, None, '555-0001', None, None, None, None)]\nE       (Background on this error at: https://sqlalche.me/e/20/e3q8)\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: OperationalError"}, "teardown": {"duration": 0.0006786749999889707, "outcome": "passed"}}, {"nodeid": "tests/test_search_integration.py::TestAPIServiceDatabaseFlow::test_course_search_with_filter_integration", "lineno": 285, "outcome": "error", "keywords": ["test_course_search_with_filter_integration", "TestAPIServiceDatabaseFlow", "test_search_integration.py", "tests", "backend", ""], "setup": {"duration": 0.6814233930000171, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: students\n[SQL: INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\n[parameters: ('Alice', 'Johnson', 'alice@example.com', None, None, 1, None, None, '555-0001', None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}, "traceback": [{"path": "tests/test_search_integration.py", "lineno": 93, "message": ""}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 2030, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in commit"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1311, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1286, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4331, "message": "in flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4466, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", "lineno": 224, "message": "in __exit__"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4427, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 466, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 642, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 93, "message": "in save_obj"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 1143, "message": "in _emit_insert_statements"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1419, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", "lineno": 526, "message": "in _execute_on_connection"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1641, "message": "in _execute_clauseelement"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1844, "message": "in _execute_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2126, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2355, "message": "in _handle_dbapi_exception"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2118, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "OperationalError"}], "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815344.26171, "msecs": 261.0, "relativeCreated": 150139.6780014038, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:35:44,261"}], "longrepr": "self = <sqlalchemy.engine.base.Connection object at 0x7fcb8988a350>\ndialect = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8b8dfc50>\n\n    def _exec_insertmany_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for an \"insertmanyvalues\"\n        operation, which will invoke DBAPI\n        cursor.execute() one or more times with individual log and\n        event hook calls.\n    \n        \"\"\"\n    \n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n        else:\n            generic_setinputsizes = None\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters = parameters\n    \n        engine_events = self._has_events or self.engine._has_events\n        if self.dialect._has_events:\n            do_execute_dispatch: Iterable[Any] = (\n                self.dialect.dispatch.do_execute\n            )\n        else:\n            do_execute_dispatch = ()\n    \n        if self._echo:\n            stats = context._get_cache_stats() + \" (insertmanyvalues)\"\n    \n        preserve_rowcount = context.execution_options.get(\n            \"preserve_rowcount\", False\n        )\n        rowcount = 0\n    \n        for imv_batch in dialect._deliver_insertmanyvalues_batches(\n            self,\n            cursor,\n            str_statement,\n            effective_parameters,\n            generic_setinputsizes,\n            context,\n        ):\n            if imv_batch.processed_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor,\n                        imv_batch.processed_setinputsizes,\n                        context,\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e,\n                        sql_util._long_statement(imv_batch.replaced_statement),\n                        imv_batch.replaced_parameters,\n                        None,\n                        context,\n                        is_sub_exec=True,\n                    )\n    \n            sub_stmt = imv_batch.replaced_statement\n            sub_params = imv_batch.replaced_parameters\n    \n            if engine_events:\n                for fn in self.dispatch.before_cursor_execute:\n                    sub_stmt, sub_params = fn(\n                        self,\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                        True,\n                    )\n    \n            if self._echo:\n                self._log_info(sql_util._long_statement(sub_stmt))\n    \n                imv_stats = f\"\"\" {imv_batch.batchnum}/{\n                            imv_batch.total_batches\n                } ({\n                    'ordered'\n                    if imv_batch.rows_sorted else 'unordered'\n                }{\n                    '; batch not supported'\n                    if imv_batch.is_downgraded\n                    else ''\n                })\"\"\"\n    \n                if imv_batch.batchnum == 1:\n                    stats += imv_stats\n                else:\n                    stats = f\"insertmanyvalues{imv_stats}\"\n    \n                if not self.engine.hide_parameters:\n                    self._log_info(\n                        \"[%s] %r\",\n                        stats,\n                        sql_util._repr_params(\n                            sub_params,\n                            batches=10,\n                            ismulti=False,\n                        ),\n                    )\n                else:\n                    self._log_info(\n                        \"[%s] [SQL parameters hidden due to \"\n                        \"hide_parameters=True]\",\n                        stats,\n                    )\n    \n            try:\n                for fn in do_execute_dispatch:\n                    if fn(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    ):\n                        break\n                else:\n>                   dialect.do_execute(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    )\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncursor = <sqlite3.Cursor object at 0x7fcb8996c2c0>\nstatement = 'INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('Alice', 'Johnson', 'alice@example.com', None, None, 1, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8b8dfc50>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlite3.OperationalError: no such table: students\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: OperationalError\n\nThe above exception was the direct cause of the following exception:\n\ndb = <sqlalchemy.orm.session.Session object at 0x7fcb89889c50>\n\n    @pytest.fixture\n    def sample_data(db: Session):\n        \"\"\"Create sample data for integration tests\"\"\"\n    \n        # Create students\n        students = [\n            Student(first_name=\"Alice\", last_name=\"Johnson\", email=\"alice@example.com\", phone=\"555-0001\", deleted_at=None),\n            Student(first_name=\"Bob\", last_name=\"Smith\", email=\"bob@example.com\", phone=\"555-0002\", deleted_at=None),\n            Student(\n                first_name=\"Charlie\", last_name=\"Brown\", email=\"charlie@example.com\", phone=\"555-0003\", deleted_at=None\n            ),\n            Student(first_name=\"Diana\", last_name=\"Prince\", email=\"diana@example.com\", phone=\"555-0004\", deleted_at=None),\n            Student(\n                first_name=\"Deleted\",\n                last_name=\"Student\",\n                email=\"deleted@example.com\",\n                phone=\"555-9999\",\n                deleted_at=datetime.utcnow(),  # Soft-deleted\n            ),\n        ]\n    \n        for student in students:\n            db.add(student)\n>       db.commit()\n\ntests/test_search_integration.py:93: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:2030: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1311: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1286: in _prepare_impl\n    self.session.flush()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4331: in flush\n    self._flush(objects)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4466: in _flush\n    with util.safe_reraise():\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4427: in _flush\n    flush_context.execute()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:466: in execute\n    rec.execute(self)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:93: in save_obj\n    _emit_insert_statements(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:1143: in _emit_insert_statements\n    result = connection.execute(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1419: in execute\n    return meth(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1844: in _execute_context\n    return self._exec_insertmany_context(dialect, context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2126: in _exec_insertmany_context\n    self._handle_dbapi_exception(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: in _exec_insertmany_context\n    dialect.do_execute(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncursor = <sqlite3.Cursor object at 0x7fcb8996c2c0>\nstatement = 'INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('Alice', 'Johnson', 'alice@example.com', None, None, 1, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8b8dfc50>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: students\nE       [SQL: INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\nE       [parameters: ('Alice', 'Johnson', 'alice@example.com', None, None, 1, None, None, '555-0001', None, None, None, None)]\nE       (Background on this error at: https://sqlalche.me/e/20/e3q8)\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: OperationalError"}, "teardown": {"duration": 0.0006799180000029992, "outcome": "passed"}}, {"nodeid": "tests/test_search_integration.py::TestAPIServiceDatabaseFlow::test_grade_search_with_multiple_filters_integration", "lineno": 299, "outcome": "error", "keywords": ["test_grade_search_with_multiple_filters_integration", "TestAPIServiceDatabaseFlow", "test_search_integration.py", "tests", "backend", ""], "setup": {"duration": 0.46299519500001907, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: students\n[SQL: INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\n[parameters: ('Alice', 'Johnson', 'alice@example.com', None, None, 1, None, None, '555-0001', None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}, "traceback": [{"path": "tests/test_search_integration.py", "lineno": 93, "message": ""}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 2030, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in commit"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1311, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1286, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4331, "message": "in flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4466, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", "lineno": 224, "message": "in __exit__"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4427, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 466, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 642, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 93, "message": "in save_obj"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 1143, "message": "in _emit_insert_statements"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1419, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", "lineno": 526, "message": "in _execute_on_connection"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1641, "message": "in _execute_clauseelement"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1844, "message": "in _execute_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2126, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2355, "message": "in _handle_dbapi_exception"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2118, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "OperationalError"}], "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815345.9294596, "msecs": 929.0, "relativeCreated": 151807.4276447296, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:35:45,929"}], "longrepr": "self = <sqlalchemy.engine.base.Connection object at 0x7fcb8c50fdd0>\ndialect = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8c50d450>\n\n    def _exec_insertmany_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for an \"insertmanyvalues\"\n        operation, which will invoke DBAPI\n        cursor.execute() one or more times with individual log and\n        event hook calls.\n    \n        \"\"\"\n    \n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n        else:\n            generic_setinputsizes = None\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters = parameters\n    \n        engine_events = self._has_events or self.engine._has_events\n        if self.dialect._has_events:\n            do_execute_dispatch: Iterable[Any] = (\n                self.dialect.dispatch.do_execute\n            )\n        else:\n            do_execute_dispatch = ()\n    \n        if self._echo:\n            stats = context._get_cache_stats() + \" (insertmanyvalues)\"\n    \n        preserve_rowcount = context.execution_options.get(\n            \"preserve_rowcount\", False\n        )\n        rowcount = 0\n    \n        for imv_batch in dialect._deliver_insertmanyvalues_batches(\n            self,\n            cursor,\n            str_statement,\n            effective_parameters,\n            generic_setinputsizes,\n            context,\n        ):\n            if imv_batch.processed_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor,\n                        imv_batch.processed_setinputsizes,\n                        context,\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e,\n                        sql_util._long_statement(imv_batch.replaced_statement),\n                        imv_batch.replaced_parameters,\n                        None,\n                        context,\n                        is_sub_exec=True,\n                    )\n    \n            sub_stmt = imv_batch.replaced_statement\n            sub_params = imv_batch.replaced_parameters\n    \n            if engine_events:\n                for fn in self.dispatch.before_cursor_execute:\n                    sub_stmt, sub_params = fn(\n                        self,\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                        True,\n                    )\n    \n            if self._echo:\n                self._log_info(sql_util._long_statement(sub_stmt))\n    \n                imv_stats = f\"\"\" {imv_batch.batchnum}/{\n                            imv_batch.total_batches\n                } ({\n                    'ordered'\n                    if imv_batch.rows_sorted else 'unordered'\n                }{\n                    '; batch not supported'\n                    if imv_batch.is_downgraded\n                    else ''\n                })\"\"\"\n    \n                if imv_batch.batchnum == 1:\n                    stats += imv_stats\n                else:\n                    stats = f\"insertmanyvalues{imv_stats}\"\n    \n                if not self.engine.hide_parameters:\n                    self._log_info(\n                        \"[%s] %r\",\n                        stats,\n                        sql_util._repr_params(\n                            sub_params,\n                            batches=10,\n                            ismulti=False,\n                        ),\n                    )\n                else:\n                    self._log_info(\n                        \"[%s] [SQL parameters hidden due to \"\n                        \"hide_parameters=True]\",\n                        stats,\n                    )\n    \n            try:\n                for fn in do_execute_dispatch:\n                    if fn(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    ):\n                        break\n                else:\n>                   dialect.do_execute(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    )\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncursor = <sqlite3.Cursor object at 0x7fcb8c4e8bc0>\nstatement = 'INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('Alice', 'Johnson', 'alice@example.com', None, None, 1, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8c50d450>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlite3.OperationalError: no such table: students\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: OperationalError\n\nThe above exception was the direct cause of the following exception:\n\ndb = <sqlalchemy.orm.session.Session object at 0x7fcb892b3950>\n\n    @pytest.fixture\n    def sample_data(db: Session):\n        \"\"\"Create sample data for integration tests\"\"\"\n    \n        # Create students\n        students = [\n            Student(first_name=\"Alice\", last_name=\"Johnson\", email=\"alice@example.com\", phone=\"555-0001\", deleted_at=None),\n            Student(first_name=\"Bob\", last_name=\"Smith\", email=\"bob@example.com\", phone=\"555-0002\", deleted_at=None),\n            Student(\n                first_name=\"Charlie\", last_name=\"Brown\", email=\"charlie@example.com\", phone=\"555-0003\", deleted_at=None\n            ),\n            Student(first_name=\"Diana\", last_name=\"Prince\", email=\"diana@example.com\", phone=\"555-0004\", deleted_at=None),\n            Student(\n                first_name=\"Deleted\",\n                last_name=\"Student\",\n                email=\"deleted@example.com\",\n                phone=\"555-9999\",\n                deleted_at=datetime.utcnow(),  # Soft-deleted\n            ),\n        ]\n    \n        for student in students:\n            db.add(student)\n>       db.commit()\n\ntests/test_search_integration.py:93: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:2030: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1311: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1286: in _prepare_impl\n    self.session.flush()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4331: in flush\n    self._flush(objects)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4466: in _flush\n    with util.safe_reraise():\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4427: in _flush\n    flush_context.execute()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:466: in execute\n    rec.execute(self)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:93: in save_obj\n    _emit_insert_statements(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:1143: in _emit_insert_statements\n    result = connection.execute(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1419: in execute\n    return meth(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1844: in _execute_context\n    return self._exec_insertmany_context(dialect, context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2126: in _exec_insertmany_context\n    self._handle_dbapi_exception(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: in _exec_insertmany_context\n    dialect.do_execute(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncursor = <sqlite3.Cursor object at 0x7fcb8c4e8bc0>\nstatement = 'INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('Alice', 'Johnson', 'alice@example.com', None, None, 1, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8c50d450>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: students\nE       [SQL: INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\nE       [parameters: ('Alice', 'Johnson', 'alice@example.com', None, None, 1, None, None, '555-0001', None, None, None, None)]\nE       (Background on this error at: https://sqlalche.me/e/20/e3q8)\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: OperationalError"}, "teardown": {"duration": 0.0007105549999835148, "outcome": "passed"}}, {"nodeid": "tests/test_search_integration.py::TestAPIServiceDatabaseFlow::test_soft_delete_filtering_integration", "lineno": 318, "outcome": "error", "keywords": ["test_soft_delete_filtering_integration", "TestAPIServiceDatabaseFlow", "test_search_integration.py", "tests", "backend", ""], "setup": {"duration": 0.6741067719999876, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: students\n[SQL: INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\n[parameters: ('Alice', 'Johnson', 'alice@example.com', None, None, 1, None, None, '555-0001', None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}, "traceback": [{"path": "tests/test_search_integration.py", "lineno": 93, "message": ""}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 2030, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in commit"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1311, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1286, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4331, "message": "in flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4466, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", "lineno": 224, "message": "in __exit__"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4427, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 466, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 642, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 93, "message": "in save_obj"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 1143, "message": "in _emit_insert_statements"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1419, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", "lineno": 526, "message": "in _execute_on_connection"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1641, "message": "in _execute_clauseelement"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1844, "message": "in _execute_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2126, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2355, "message": "in _handle_dbapi_exception"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2118, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "OperationalError"}], "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815347.1176577, "msecs": 117.0, "relativeCreated": 152995.62573432922, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:35:47,117"}], "longrepr": "self = <sqlalchemy.engine.base.Connection object at 0x7fcb8b88cb50>\ndialect = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8c706310>\n\n    def _exec_insertmany_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for an \"insertmanyvalues\"\n        operation, which will invoke DBAPI\n        cursor.execute() one or more times with individual log and\n        event hook calls.\n    \n        \"\"\"\n    \n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n        else:\n            generic_setinputsizes = None\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters = parameters\n    \n        engine_events = self._has_events or self.engine._has_events\n        if self.dialect._has_events:\n            do_execute_dispatch: Iterable[Any] = (\n                self.dialect.dispatch.do_execute\n            )\n        else:\n            do_execute_dispatch = ()\n    \n        if self._echo:\n            stats = context._get_cache_stats() + \" (insertmanyvalues)\"\n    \n        preserve_rowcount = context.execution_options.get(\n            \"preserve_rowcount\", False\n        )\n        rowcount = 0\n    \n        for imv_batch in dialect._deliver_insertmanyvalues_batches(\n            self,\n            cursor,\n            str_statement,\n            effective_parameters,\n            generic_setinputsizes,\n            context,\n        ):\n            if imv_batch.processed_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor,\n                        imv_batch.processed_setinputsizes,\n                        context,\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e,\n                        sql_util._long_statement(imv_batch.replaced_statement),\n                        imv_batch.replaced_parameters,\n                        None,\n                        context,\n                        is_sub_exec=True,\n                    )\n    \n            sub_stmt = imv_batch.replaced_statement\n            sub_params = imv_batch.replaced_parameters\n    \n            if engine_events:\n                for fn in self.dispatch.before_cursor_execute:\n                    sub_stmt, sub_params = fn(\n                        self,\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                        True,\n                    )\n    \n            if self._echo:\n                self._log_info(sql_util._long_statement(sub_stmt))\n    \n                imv_stats = f\"\"\" {imv_batch.batchnum}/{\n                            imv_batch.total_batches\n                } ({\n                    'ordered'\n                    if imv_batch.rows_sorted else 'unordered'\n                }{\n                    '; batch not supported'\n                    if imv_batch.is_downgraded\n                    else ''\n                })\"\"\"\n    \n                if imv_batch.batchnum == 1:\n                    stats += imv_stats\n                else:\n                    stats = f\"insertmanyvalues{imv_stats}\"\n    \n                if not self.engine.hide_parameters:\n                    self._log_info(\n                        \"[%s] %r\",\n                        stats,\n                        sql_util._repr_params(\n                            sub_params,\n                            batches=10,\n                            ismulti=False,\n                        ),\n                    )\n                else:\n                    self._log_info(\n                        \"[%s] [SQL parameters hidden due to \"\n                        \"hide_parameters=True]\",\n                        stats,\n                    )\n    \n            try:\n                for fn in do_execute_dispatch:\n                    if fn(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    ):\n                        break\n                else:\n>                   dialect.do_execute(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    )\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncursor = <sqlite3.Cursor object at 0x7fcb8be78c40>\nstatement = 'INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('Alice', 'Johnson', 'alice@example.com', None, None, 1, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8c706310>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlite3.OperationalError: no such table: students\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: OperationalError\n\nThe above exception was the direct cause of the following exception:\n\ndb = <sqlalchemy.orm.session.Session object at 0x7fcb8b88d590>\n\n    @pytest.fixture\n    def sample_data(db: Session):\n        \"\"\"Create sample data for integration tests\"\"\"\n    \n        # Create students\n        students = [\n            Student(first_name=\"Alice\", last_name=\"Johnson\", email=\"alice@example.com\", phone=\"555-0001\", deleted_at=None),\n            Student(first_name=\"Bob\", last_name=\"Smith\", email=\"bob@example.com\", phone=\"555-0002\", deleted_at=None),\n            Student(\n                first_name=\"Charlie\", last_name=\"Brown\", email=\"charlie@example.com\", phone=\"555-0003\", deleted_at=None\n            ),\n            Student(first_name=\"Diana\", last_name=\"Prince\", email=\"diana@example.com\", phone=\"555-0004\", deleted_at=None),\n            Student(\n                first_name=\"Deleted\",\n                last_name=\"Student\",\n                email=\"deleted@example.com\",\n                phone=\"555-9999\",\n                deleted_at=datetime.utcnow(),  # Soft-deleted\n            ),\n        ]\n    \n        for student in students:\n            db.add(student)\n>       db.commit()\n\ntests/test_search_integration.py:93: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:2030: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1311: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1286: in _prepare_impl\n    self.session.flush()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4331: in flush\n    self._flush(objects)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4466: in _flush\n    with util.safe_reraise():\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4427: in _flush\n    flush_context.execute()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:466: in execute\n    rec.execute(self)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:93: in save_obj\n    _emit_insert_statements(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:1143: in _emit_insert_statements\n    result = connection.execute(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1419: in execute\n    return meth(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1844: in _execute_context\n    return self._exec_insertmany_context(dialect, context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2126: in _exec_insertmany_context\n    self._handle_dbapi_exception(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: in _exec_insertmany_context\n    dialect.do_execute(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncursor = <sqlite3.Cursor object at 0x7fcb8be78c40>\nstatement = 'INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('Alice', 'Johnson', 'alice@example.com', None, None, 1, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8c706310>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: students\nE       [SQL: INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\nE       [parameters: ('Alice', 'Johnson', 'alice@example.com', None, None, 1, None, None, '555-0001', None, None, None, None)]\nE       (Background on this error at: https://sqlalche.me/e/20/e3q8)\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: OperationalError"}, "teardown": {"duration": 0.0007516809999970064, "outcome": "passed"}}, {"nodeid": "tests/test_search_integration.py::TestAPIServiceDatabaseFlow::test_pagination_integration_counts_correct", "lineno": 333, "outcome": "error", "keywords": ["test_pagination_integration_counts_correct", "TestAPIServiceDatabaseFlow", "test_search_integration.py", "tests", "backend", ""], "setup": {"duration": 0.4557893310000054, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: students\n[SQL: INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\n[parameters: ('Alice', 'Johnson', 'alice@example.com', None, None, 1, None, None, '555-0001', None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}, "traceback": [{"path": "tests/test_search_integration.py", "lineno": 93, "message": ""}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 2030, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in commit"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1311, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1286, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4331, "message": "in flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4466, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", "lineno": 224, "message": "in __exit__"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4427, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 466, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 642, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 93, "message": "in save_obj"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 1143, "message": "in _emit_insert_statements"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1419, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", "lineno": 526, "message": "in _execute_on_connection"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1641, "message": "in _execute_clauseelement"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1844, "message": "in _execute_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2126, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2355, "message": "in _handle_dbapi_exception"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2118, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "OperationalError"}], "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815348.7909484, "msecs": 790.0, "relativeCreated": 154668.91646385193, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:35:48,790"}], "longrepr": "self = <sqlalchemy.engine.base.Connection object at 0x7fcb89984150>\ndialect = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8ca0d050>\n\n    def _exec_insertmany_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for an \"insertmanyvalues\"\n        operation, which will invoke DBAPI\n        cursor.execute() one or more times with individual log and\n        event hook calls.\n    \n        \"\"\"\n    \n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n        else:\n            generic_setinputsizes = None\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters = parameters\n    \n        engine_events = self._has_events or self.engine._has_events\n        if self.dialect._has_events:\n            do_execute_dispatch: Iterable[Any] = (\n                self.dialect.dispatch.do_execute\n            )\n        else:\n            do_execute_dispatch = ()\n    \n        if self._echo:\n            stats = context._get_cache_stats() + \" (insertmanyvalues)\"\n    \n        preserve_rowcount = context.execution_options.get(\n            \"preserve_rowcount\", False\n        )\n        rowcount = 0\n    \n        for imv_batch in dialect._deliver_insertmanyvalues_batches(\n            self,\n            cursor,\n            str_statement,\n            effective_parameters,\n            generic_setinputsizes,\n            context,\n        ):\n            if imv_batch.processed_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor,\n                        imv_batch.processed_setinputsizes,\n                        context,\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e,\n                        sql_util._long_statement(imv_batch.replaced_statement),\n                        imv_batch.replaced_parameters,\n                        None,\n                        context,\n                        is_sub_exec=True,\n                    )\n    \n            sub_stmt = imv_batch.replaced_statement\n            sub_params = imv_batch.replaced_parameters\n    \n            if engine_events:\n                for fn in self.dispatch.before_cursor_execute:\n                    sub_stmt, sub_params = fn(\n                        self,\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                        True,\n                    )\n    \n            if self._echo:\n                self._log_info(sql_util._long_statement(sub_stmt))\n    \n                imv_stats = f\"\"\" {imv_batch.batchnum}/{\n                            imv_batch.total_batches\n                } ({\n                    'ordered'\n                    if imv_batch.rows_sorted else 'unordered'\n                }{\n                    '; batch not supported'\n                    if imv_batch.is_downgraded\n                    else ''\n                })\"\"\"\n    \n                if imv_batch.batchnum == 1:\n                    stats += imv_stats\n                else:\n                    stats = f\"insertmanyvalues{imv_stats}\"\n    \n                if not self.engine.hide_parameters:\n                    self._log_info(\n                        \"[%s] %r\",\n                        stats,\n                        sql_util._repr_params(\n                            sub_params,\n                            batches=10,\n                            ismulti=False,\n                        ),\n                    )\n                else:\n                    self._log_info(\n                        \"[%s] [SQL parameters hidden due to \"\n                        \"hide_parameters=True]\",\n                        stats,\n                    )\n    \n            try:\n                for fn in do_execute_dispatch:\n                    if fn(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    ):\n                        break\n                else:\n>                   dialect.do_execute(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    )\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncursor = <sqlite3.Cursor object at 0x7fcb88ba6240>\nstatement = 'INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('Alice', 'Johnson', 'alice@example.com', None, None, 1, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8ca0d050>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlite3.OperationalError: no such table: students\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: OperationalError\n\nThe above exception was the direct cause of the following exception:\n\ndb = <sqlalchemy.orm.session.Session object at 0x7fcb89304490>\n\n    @pytest.fixture\n    def sample_data(db: Session):\n        \"\"\"Create sample data for integration tests\"\"\"\n    \n        # Create students\n        students = [\n            Student(first_name=\"Alice\", last_name=\"Johnson\", email=\"alice@example.com\", phone=\"555-0001\", deleted_at=None),\n            Student(first_name=\"Bob\", last_name=\"Smith\", email=\"bob@example.com\", phone=\"555-0002\", deleted_at=None),\n            Student(\n                first_name=\"Charlie\", last_name=\"Brown\", email=\"charlie@example.com\", phone=\"555-0003\", deleted_at=None\n            ),\n            Student(first_name=\"Diana\", last_name=\"Prince\", email=\"diana@example.com\", phone=\"555-0004\", deleted_at=None),\n            Student(\n                first_name=\"Deleted\",\n                last_name=\"Student\",\n                email=\"deleted@example.com\",\n                phone=\"555-9999\",\n                deleted_at=datetime.utcnow(),  # Soft-deleted\n            ),\n        ]\n    \n        for student in students:\n            db.add(student)\n>       db.commit()\n\ntests/test_search_integration.py:93: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:2030: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1311: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1286: in _prepare_impl\n    self.session.flush()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4331: in flush\n    self._flush(objects)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4466: in _flush\n    with util.safe_reraise():\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4427: in _flush\n    flush_context.execute()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:466: in execute\n    rec.execute(self)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:93: in save_obj\n    _emit_insert_statements(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:1143: in _emit_insert_statements\n    result = connection.execute(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1419: in execute\n    return meth(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1844: in _execute_context\n    return self._exec_insertmany_context(dialect, context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2126: in _exec_insertmany_context\n    self._handle_dbapi_exception(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: in _exec_insertmany_context\n    dialect.do_execute(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncursor = <sqlite3.Cursor object at 0x7fcb88ba6240>\nstatement = 'INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('Alice', 'Johnson', 'alice@example.com', None, None, 1, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8ca0d050>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: students\nE       [SQL: INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\nE       [parameters: ('Alice', 'Johnson', 'alice@example.com', None, None, 1, None, None, '555-0001', None, None, None, None)]\nE       (Background on this error at: https://sqlalche.me/e/20/e3q8)\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: OperationalError"}, "teardown": {"duration": 0.0006893749999790089, "outcome": "passed"}}, {"nodeid": "tests/test_search_integration.py::TestAPIServiceDatabaseFlow::test_suggestions_integration_from_database", "lineno": 359, "outcome": "error", "keywords": ["test_suggestions_integration_from_database", "TestAPIServiceDatabaseFlow", "test_search_integration.py", "tests", "backend", ""], "setup": {"duration": 0.6946133060000079, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: students\n[SQL: INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\n[parameters: ('Alice', 'Johnson', 'alice@example.com', None, None, 1, None, None, '555-0001', None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}, "traceback": [{"path": "tests/test_search_integration.py", "lineno": 93, "message": ""}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 2030, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in commit"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1311, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1286, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4331, "message": "in flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4466, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", "lineno": 224, "message": "in __exit__"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4427, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 466, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 642, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 93, "message": "in save_obj"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 1143, "message": "in _emit_insert_statements"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1419, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", "lineno": 526, "message": "in _execute_on_connection"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1641, "message": "in _execute_clauseelement"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1844, "message": "in _execute_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2126, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2355, "message": "in _handle_dbapi_exception"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2118, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "OperationalError"}], "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815349.9834106, "msecs": 983.0, "relativeCreated": 155861.37866973877, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:35:49,983"}], "longrepr": "self = <sqlalchemy.engine.base.Connection object at 0x7fcb8c74b390>\ndialect = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb88d05050>\n\n    def _exec_insertmany_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for an \"insertmanyvalues\"\n        operation, which will invoke DBAPI\n        cursor.execute() one or more times with individual log and\n        event hook calls.\n    \n        \"\"\"\n    \n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n        else:\n            generic_setinputsizes = None\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters = parameters\n    \n        engine_events = self._has_events or self.engine._has_events\n        if self.dialect._has_events:\n            do_execute_dispatch: Iterable[Any] = (\n                self.dialect.dispatch.do_execute\n            )\n        else:\n            do_execute_dispatch = ()\n    \n        if self._echo:\n            stats = context._get_cache_stats() + \" (insertmanyvalues)\"\n    \n        preserve_rowcount = context.execution_options.get(\n            \"preserve_rowcount\", False\n        )\n        rowcount = 0\n    \n        for imv_batch in dialect._deliver_insertmanyvalues_batches(\n            self,\n            cursor,\n            str_statement,\n            effective_parameters,\n            generic_setinputsizes,\n            context,\n        ):\n            if imv_batch.processed_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor,\n                        imv_batch.processed_setinputsizes,\n                        context,\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e,\n                        sql_util._long_statement(imv_batch.replaced_statement),\n                        imv_batch.replaced_parameters,\n                        None,\n                        context,\n                        is_sub_exec=True,\n                    )\n    \n            sub_stmt = imv_batch.replaced_statement\n            sub_params = imv_batch.replaced_parameters\n    \n            if engine_events:\n                for fn in self.dispatch.before_cursor_execute:\n                    sub_stmt, sub_params = fn(\n                        self,\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                        True,\n                    )\n    \n            if self._echo:\n                self._log_info(sql_util._long_statement(sub_stmt))\n    \n                imv_stats = f\"\"\" {imv_batch.batchnum}/{\n                            imv_batch.total_batches\n                } ({\n                    'ordered'\n                    if imv_batch.rows_sorted else 'unordered'\n                }{\n                    '; batch not supported'\n                    if imv_batch.is_downgraded\n                    else ''\n                })\"\"\"\n    \n                if imv_batch.batchnum == 1:\n                    stats += imv_stats\n                else:\n                    stats = f\"insertmanyvalues{imv_stats}\"\n    \n                if not self.engine.hide_parameters:\n                    self._log_info(\n                        \"[%s] %r\",\n                        stats,\n                        sql_util._repr_params(\n                            sub_params,\n                            batches=10,\n                            ismulti=False,\n                        ),\n                    )\n                else:\n                    self._log_info(\n                        \"[%s] [SQL parameters hidden due to \"\n                        \"hide_parameters=True]\",\n                        stats,\n                    )\n    \n            try:\n                for fn in do_execute_dispatch:\n                    if fn(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    ):\n                        break\n                else:\n>                   dialect.do_execute(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    )\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncursor = <sqlite3.Cursor object at 0x7fcb8cab2340>\nstatement = 'INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('Alice', 'Johnson', 'alice@example.com', None, None, 1, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb88d05050>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlite3.OperationalError: no such table: students\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: OperationalError\n\nThe above exception was the direct cause of the following exception:\n\ndb = <sqlalchemy.orm.session.Session object at 0x7fcb891ec210>\n\n    @pytest.fixture\n    def sample_data(db: Session):\n        \"\"\"Create sample data for integration tests\"\"\"\n    \n        # Create students\n        students = [\n            Student(first_name=\"Alice\", last_name=\"Johnson\", email=\"alice@example.com\", phone=\"555-0001\", deleted_at=None),\n            Student(first_name=\"Bob\", last_name=\"Smith\", email=\"bob@example.com\", phone=\"555-0002\", deleted_at=None),\n            Student(\n                first_name=\"Charlie\", last_name=\"Brown\", email=\"charlie@example.com\", phone=\"555-0003\", deleted_at=None\n            ),\n            Student(first_name=\"Diana\", last_name=\"Prince\", email=\"diana@example.com\", phone=\"555-0004\", deleted_at=None),\n            Student(\n                first_name=\"Deleted\",\n                last_name=\"Student\",\n                email=\"deleted@example.com\",\n                phone=\"555-9999\",\n                deleted_at=datetime.utcnow(),  # Soft-deleted\n            ),\n        ]\n    \n        for student in students:\n            db.add(student)\n>       db.commit()\n\ntests/test_search_integration.py:93: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:2030: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1311: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1286: in _prepare_impl\n    self.session.flush()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4331: in flush\n    self._flush(objects)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4466: in _flush\n    with util.safe_reraise():\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4427: in _flush\n    flush_context.execute()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:466: in execute\n    rec.execute(self)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:93: in save_obj\n    _emit_insert_statements(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:1143: in _emit_insert_statements\n    result = connection.execute(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1419: in execute\n    return meth(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1844: in _execute_context\n    return self._exec_insertmany_context(dialect, context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2126: in _exec_insertmany_context\n    self._handle_dbapi_exception(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: in _exec_insertmany_context\n    dialect.do_execute(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncursor = <sqlite3.Cursor object at 0x7fcb8cab2340>\nstatement = 'INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('Alice', 'Johnson', 'alice@example.com', None, None, 1, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb88d05050>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: students\nE       [SQL: INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\nE       [parameters: ('Alice', 'Johnson', 'alice@example.com', None, None, 1, None, None, '555-0001', None, None, None, None)]\nE       (Background on this error at: https://sqlalche.me/e/20/e3q8)\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: OperationalError"}, "teardown": {"duration": 0.000745740000013484, "outcome": "passed"}}, {"nodeid": "tests/test_search_integration.py::TestAPIServiceDatabaseFlow::test_statistics_integration_calculated_from_database", "lineno": 371, "outcome": "error", "keywords": ["test_statistics_integration_calculated_from_database", "TestAPIServiceDatabaseFlow", "test_search_integration.py", "tests", "backend", ""], "setup": {"duration": 0.7181997009999748, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: students\n[SQL: INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\n[parameters: ('Alice', 'Johnson', 'alice@example.com', None, None, 1, None, None, '555-0001', None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}, "traceback": [{"path": "tests/test_search_integration.py", "lineno": 93, "message": ""}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 2030, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in commit"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1311, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1286, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4331, "message": "in flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4466, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", "lineno": 224, "message": "in __exit__"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4427, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 466, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 642, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 93, "message": "in save_obj"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 1143, "message": "in _emit_insert_statements"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1419, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", "lineno": 526, "message": "in _execute_on_connection"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1641, "message": "in _execute_clauseelement"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1844, "message": "in _execute_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2126, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2355, "message": "in _handle_dbapi_exception"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2118, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "OperationalError"}], "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815351.426872, "msecs": 426.0, "relativeCreated": 157304.84008789062, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:35:51,426"}], "longrepr": "self = <sqlalchemy.engine.base.Connection object at 0x7fcb8c137a90>\ndialect = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb88d05050>\n\n    def _exec_insertmany_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for an \"insertmanyvalues\"\n        operation, which will invoke DBAPI\n        cursor.execute() one or more times with individual log and\n        event hook calls.\n    \n        \"\"\"\n    \n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n        else:\n            generic_setinputsizes = None\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters = parameters\n    \n        engine_events = self._has_events or self.engine._has_events\n        if self.dialect._has_events:\n            do_execute_dispatch: Iterable[Any] = (\n                self.dialect.dispatch.do_execute\n            )\n        else:\n            do_execute_dispatch = ()\n    \n        if self._echo:\n            stats = context._get_cache_stats() + \" (insertmanyvalues)\"\n    \n        preserve_rowcount = context.execution_options.get(\n            \"preserve_rowcount\", False\n        )\n        rowcount = 0\n    \n        for imv_batch in dialect._deliver_insertmanyvalues_batches(\n            self,\n            cursor,\n            str_statement,\n            effective_parameters,\n            generic_setinputsizes,\n            context,\n        ):\n            if imv_batch.processed_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor,\n                        imv_batch.processed_setinputsizes,\n                        context,\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e,\n                        sql_util._long_statement(imv_batch.replaced_statement),\n                        imv_batch.replaced_parameters,\n                        None,\n                        context,\n                        is_sub_exec=True,\n                    )\n    \n            sub_stmt = imv_batch.replaced_statement\n            sub_params = imv_batch.replaced_parameters\n    \n            if engine_events:\n                for fn in self.dispatch.before_cursor_execute:\n                    sub_stmt, sub_params = fn(\n                        self,\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                        True,\n                    )\n    \n            if self._echo:\n                self._log_info(sql_util._long_statement(sub_stmt))\n    \n                imv_stats = f\"\"\" {imv_batch.batchnum}/{\n                            imv_batch.total_batches\n                } ({\n                    'ordered'\n                    if imv_batch.rows_sorted else 'unordered'\n                }{\n                    '; batch not supported'\n                    if imv_batch.is_downgraded\n                    else ''\n                })\"\"\"\n    \n                if imv_batch.batchnum == 1:\n                    stats += imv_stats\n                else:\n                    stats = f\"insertmanyvalues{imv_stats}\"\n    \n                if not self.engine.hide_parameters:\n                    self._log_info(\n                        \"[%s] %r\",\n                        stats,\n                        sql_util._repr_params(\n                            sub_params,\n                            batches=10,\n                            ismulti=False,\n                        ),\n                    )\n                else:\n                    self._log_info(\n                        \"[%s] [SQL parameters hidden due to \"\n                        \"hide_parameters=True]\",\n                        stats,\n                    )\n    \n            try:\n                for fn in do_execute_dispatch:\n                    if fn(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    ):\n                        break\n                else:\n>                   dialect.do_execute(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    )\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncursor = <sqlite3.Cursor object at 0x7fcb89a08540>\nstatement = 'INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('Alice', 'Johnson', 'alice@example.com', None, None, 1, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb88d05050>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlite3.OperationalError: no such table: students\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: OperationalError\n\nThe above exception was the direct cause of the following exception:\n\ndb = <sqlalchemy.orm.session.Session object at 0x7fcb8c136010>\n\n    @pytest.fixture\n    def sample_data(db: Session):\n        \"\"\"Create sample data for integration tests\"\"\"\n    \n        # Create students\n        students = [\n            Student(first_name=\"Alice\", last_name=\"Johnson\", email=\"alice@example.com\", phone=\"555-0001\", deleted_at=None),\n            Student(first_name=\"Bob\", last_name=\"Smith\", email=\"bob@example.com\", phone=\"555-0002\", deleted_at=None),\n            Student(\n                first_name=\"Charlie\", last_name=\"Brown\", email=\"charlie@example.com\", phone=\"555-0003\", deleted_at=None\n            ),\n            Student(first_name=\"Diana\", last_name=\"Prince\", email=\"diana@example.com\", phone=\"555-0004\", deleted_at=None),\n            Student(\n                first_name=\"Deleted\",\n                last_name=\"Student\",\n                email=\"deleted@example.com\",\n                phone=\"555-9999\",\n                deleted_at=datetime.utcnow(),  # Soft-deleted\n            ),\n        ]\n    \n        for student in students:\n            db.add(student)\n>       db.commit()\n\ntests/test_search_integration.py:93: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:2030: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1311: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1286: in _prepare_impl\n    self.session.flush()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4331: in flush\n    self._flush(objects)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4466: in _flush\n    with util.safe_reraise():\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4427: in _flush\n    flush_context.execute()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:466: in execute\n    rec.execute(self)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:93: in save_obj\n    _emit_insert_statements(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:1143: in _emit_insert_statements\n    result = connection.execute(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1419: in execute\n    return meth(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1844: in _execute_context\n    return self._exec_insertmany_context(dialect, context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2126: in _exec_insertmany_context\n    self._handle_dbapi_exception(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: in _exec_insertmany_context\n    dialect.do_execute(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncursor = <sqlite3.Cursor object at 0x7fcb89a08540>\nstatement = 'INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('Alice', 'Johnson', 'alice@example.com', None, None, 1, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb88d05050>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: students\nE       [SQL: INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\nE       [parameters: ('Alice', 'Johnson', 'alice@example.com', None, None, 1, None, None, '555-0001', None, None, None, None)]\nE       (Background on this error at: https://sqlalche.me/e/20/e3q8)\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: OperationalError"}, "teardown": {"duration": 0.0007796840000082739, "outcome": "passed"}}, {"nodeid": "tests/test_search_integration.py::TestDataConsistency::test_search_results_match_database", "lineno": 388, "outcome": "error", "keywords": ["test_search_results_match_database", "TestDataConsistency", "test_search_integration.py", "tests", "backend", ""], "setup": {"duration": 0.45590821600001163, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: students\n[SQL: INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\n[parameters: ('Alice', 'Johnson', 'alice@example.com', None, None, 1, None, None, '555-0001', None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}, "traceback": [{"path": "tests/test_search_integration.py", "lineno": 93, "message": ""}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 2030, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in commit"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1311, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1286, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4331, "message": "in flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4466, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", "lineno": 224, "message": "in __exit__"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4427, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 466, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 642, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 93, "message": "in save_obj"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 1143, "message": "in _emit_insert_statements"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1419, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", "lineno": 526, "message": "in _execute_on_connection"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1641, "message": "in _execute_clauseelement"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1844, "message": "in _execute_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2126, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2355, "message": "in _handle_dbapi_exception"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2118, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "OperationalError"}], "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815353.1303818, "msecs": 130.0, "relativeCreated": 159008.3498954773, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:35:53,130"}], "longrepr": "self = <sqlalchemy.engine.base.Connection object at 0x7fcb8c7a7350>\ndialect = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8c7a69d0>\n\n    def _exec_insertmany_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for an \"insertmanyvalues\"\n        operation, which will invoke DBAPI\n        cursor.execute() one or more times with individual log and\n        event hook calls.\n    \n        \"\"\"\n    \n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n        else:\n            generic_setinputsizes = None\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters = parameters\n    \n        engine_events = self._has_events or self.engine._has_events\n        if self.dialect._has_events:\n            do_execute_dispatch: Iterable[Any] = (\n                self.dialect.dispatch.do_execute\n            )\n        else:\n            do_execute_dispatch = ()\n    \n        if self._echo:\n            stats = context._get_cache_stats() + \" (insertmanyvalues)\"\n    \n        preserve_rowcount = context.execution_options.get(\n            \"preserve_rowcount\", False\n        )\n        rowcount = 0\n    \n        for imv_batch in dialect._deliver_insertmanyvalues_batches(\n            self,\n            cursor,\n            str_statement,\n            effective_parameters,\n            generic_setinputsizes,\n            context,\n        ):\n            if imv_batch.processed_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor,\n                        imv_batch.processed_setinputsizes,\n                        context,\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e,\n                        sql_util._long_statement(imv_batch.replaced_statement),\n                        imv_batch.replaced_parameters,\n                        None,\n                        context,\n                        is_sub_exec=True,\n                    )\n    \n            sub_stmt = imv_batch.replaced_statement\n            sub_params = imv_batch.replaced_parameters\n    \n            if engine_events:\n                for fn in self.dispatch.before_cursor_execute:\n                    sub_stmt, sub_params = fn(\n                        self,\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                        True,\n                    )\n    \n            if self._echo:\n                self._log_info(sql_util._long_statement(sub_stmt))\n    \n                imv_stats = f\"\"\" {imv_batch.batchnum}/{\n                            imv_batch.total_batches\n                } ({\n                    'ordered'\n                    if imv_batch.rows_sorted else 'unordered'\n                }{\n                    '; batch not supported'\n                    if imv_batch.is_downgraded\n                    else ''\n                })\"\"\"\n    \n                if imv_batch.batchnum == 1:\n                    stats += imv_stats\n                else:\n                    stats = f\"insertmanyvalues{imv_stats}\"\n    \n                if not self.engine.hide_parameters:\n                    self._log_info(\n                        \"[%s] %r\",\n                        stats,\n                        sql_util._repr_params(\n                            sub_params,\n                            batches=10,\n                            ismulti=False,\n                        ),\n                    )\n                else:\n                    self._log_info(\n                        \"[%s] [SQL parameters hidden due to \"\n                        \"hide_parameters=True]\",\n                        stats,\n                    )\n    \n            try:\n                for fn in do_execute_dispatch:\n                    if fn(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    ):\n                        break\n                else:\n>                   dialect.do_execute(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    )\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncursor = <sqlite3.Cursor object at 0x7fcb8bd6b940>\nstatement = 'INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('Alice', 'Johnson', 'alice@example.com', None, None, 1, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8c7a69d0>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlite3.OperationalError: no such table: students\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: OperationalError\n\nThe above exception was the direct cause of the following exception:\n\ndb = <sqlalchemy.orm.session.Session object at 0x7fcb8c212d50>\n\n    @pytest.fixture\n    def sample_data(db: Session):\n        \"\"\"Create sample data for integration tests\"\"\"\n    \n        # Create students\n        students = [\n            Student(first_name=\"Alice\", last_name=\"Johnson\", email=\"alice@example.com\", phone=\"555-0001\", deleted_at=None),\n            Student(first_name=\"Bob\", last_name=\"Smith\", email=\"bob@example.com\", phone=\"555-0002\", deleted_at=None),\n            Student(\n                first_name=\"Charlie\", last_name=\"Brown\", email=\"charlie@example.com\", phone=\"555-0003\", deleted_at=None\n            ),\n            Student(first_name=\"Diana\", last_name=\"Prince\", email=\"diana@example.com\", phone=\"555-0004\", deleted_at=None),\n            Student(\n                first_name=\"Deleted\",\n                last_name=\"Student\",\n                email=\"deleted@example.com\",\n                phone=\"555-9999\",\n                deleted_at=datetime.utcnow(),  # Soft-deleted\n            ),\n        ]\n    \n        for student in students:\n            db.add(student)\n>       db.commit()\n\ntests/test_search_integration.py:93: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:2030: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1311: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1286: in _prepare_impl\n    self.session.flush()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4331: in flush\n    self._flush(objects)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4466: in _flush\n    with util.safe_reraise():\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4427: in _flush\n    flush_context.execute()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:466: in execute\n    rec.execute(self)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:93: in save_obj\n    _emit_insert_statements(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:1143: in _emit_insert_statements\n    result = connection.execute(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1419: in execute\n    return meth(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1844: in _execute_context\n    return self._exec_insertmany_context(dialect, context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2126: in _exec_insertmany_context\n    self._handle_dbapi_exception(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: in _exec_insertmany_context\n    dialect.do_execute(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncursor = <sqlite3.Cursor object at 0x7fcb8bd6b940>\nstatement = 'INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('Alice', 'Johnson', 'alice@example.com', None, None, 1, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8c7a69d0>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: students\nE       [SQL: INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\nE       [parameters: ('Alice', 'Johnson', 'alice@example.com', None, None, 1, None, None, '555-0001', None, None, None, None)]\nE       (Background on this error at: https://sqlalche.me/e/20/e3q8)\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: OperationalError"}, "teardown": {"duration": 0.000718630000022813, "outcome": "passed"}}, {"nodeid": "tests/test_search_integration.py::TestDataConsistency::test_grade_calculations_consistent", "lineno": 404, "outcome": "error", "keywords": ["test_grade_calculations_consistent", "TestDataConsistency", "test_search_integration.py", "tests", "backend", ""], "setup": {"duration": 0.6955747000000088, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: students\n[SQL: INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\n[parameters: ('Alice', 'Johnson', 'alice@example.com', None, None, 1, None, None, '555-0001', None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}, "traceback": [{"path": "tests/test_search_integration.py", "lineno": 93, "message": ""}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 2030, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in commit"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1311, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1286, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4331, "message": "in flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4466, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", "lineno": 224, "message": "in __exit__"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4427, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 466, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 642, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 93, "message": "in save_obj"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 1143, "message": "in _emit_insert_statements"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1419, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", "lineno": 526, "message": "in _execute_on_connection"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1641, "message": "in _execute_clauseelement"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1844, "message": "in _execute_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2126, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2355, "message": "in _handle_dbapi_exception"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2118, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "OperationalError"}], "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815354.2871628, "msecs": 287.0, "relativeCreated": 160165.13085365295, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:35:54,287"}], "longrepr": "self = <sqlalchemy.engine.base.Connection object at 0x7fcb899f3890>\ndialect = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8b88f5d0>\n\n    def _exec_insertmany_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for an \"insertmanyvalues\"\n        operation, which will invoke DBAPI\n        cursor.execute() one or more times with individual log and\n        event hook calls.\n    \n        \"\"\"\n    \n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n        else:\n            generic_setinputsizes = None\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters = parameters\n    \n        engine_events = self._has_events or self.engine._has_events\n        if self.dialect._has_events:\n            do_execute_dispatch: Iterable[Any] = (\n                self.dialect.dispatch.do_execute\n            )\n        else:\n            do_execute_dispatch = ()\n    \n        if self._echo:\n            stats = context._get_cache_stats() + \" (insertmanyvalues)\"\n    \n        preserve_rowcount = context.execution_options.get(\n            \"preserve_rowcount\", False\n        )\n        rowcount = 0\n    \n        for imv_batch in dialect._deliver_insertmanyvalues_batches(\n            self,\n            cursor,\n            str_statement,\n            effective_parameters,\n            generic_setinputsizes,\n            context,\n        ):\n            if imv_batch.processed_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor,\n                        imv_batch.processed_setinputsizes,\n                        context,\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e,\n                        sql_util._long_statement(imv_batch.replaced_statement),\n                        imv_batch.replaced_parameters,\n                        None,\n                        context,\n                        is_sub_exec=True,\n                    )\n    \n            sub_stmt = imv_batch.replaced_statement\n            sub_params = imv_batch.replaced_parameters\n    \n            if engine_events:\n                for fn in self.dispatch.before_cursor_execute:\n                    sub_stmt, sub_params = fn(\n                        self,\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                        True,\n                    )\n    \n            if self._echo:\n                self._log_info(sql_util._long_statement(sub_stmt))\n    \n                imv_stats = f\"\"\" {imv_batch.batchnum}/{\n                            imv_batch.total_batches\n                } ({\n                    'ordered'\n                    if imv_batch.rows_sorted else 'unordered'\n                }{\n                    '; batch not supported'\n                    if imv_batch.is_downgraded\n                    else ''\n                })\"\"\"\n    \n                if imv_batch.batchnum == 1:\n                    stats += imv_stats\n                else:\n                    stats = f\"insertmanyvalues{imv_stats}\"\n    \n                if not self.engine.hide_parameters:\n                    self._log_info(\n                        \"[%s] %r\",\n                        stats,\n                        sql_util._repr_params(\n                            sub_params,\n                            batches=10,\n                            ismulti=False,\n                        ),\n                    )\n                else:\n                    self._log_info(\n                        \"[%s] [SQL parameters hidden due to \"\n                        \"hide_parameters=True]\",\n                        stats,\n                    )\n    \n            try:\n                for fn in do_execute_dispatch:\n                    if fn(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    ):\n                        break\n                else:\n>                   dialect.do_execute(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    )\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncursor = <sqlite3.Cursor object at 0x7fcb894f2840>\nstatement = 'INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('Alice', 'Johnson', 'alice@example.com', None, None, 1, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8b88f5d0>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlite3.OperationalError: no such table: students\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: OperationalError\n\nThe above exception was the direct cause of the following exception:\n\ndb = <sqlalchemy.orm.session.Session object at 0x7fcb8a1bf1d0>\n\n    @pytest.fixture\n    def sample_data(db: Session):\n        \"\"\"Create sample data for integration tests\"\"\"\n    \n        # Create students\n        students = [\n            Student(first_name=\"Alice\", last_name=\"Johnson\", email=\"alice@example.com\", phone=\"555-0001\", deleted_at=None),\n            Student(first_name=\"Bob\", last_name=\"Smith\", email=\"bob@example.com\", phone=\"555-0002\", deleted_at=None),\n            Student(\n                first_name=\"Charlie\", last_name=\"Brown\", email=\"charlie@example.com\", phone=\"555-0003\", deleted_at=None\n            ),\n            Student(first_name=\"Diana\", last_name=\"Prince\", email=\"diana@example.com\", phone=\"555-0004\", deleted_at=None),\n            Student(\n                first_name=\"Deleted\",\n                last_name=\"Student\",\n                email=\"deleted@example.com\",\n                phone=\"555-9999\",\n                deleted_at=datetime.utcnow(),  # Soft-deleted\n            ),\n        ]\n    \n        for student in students:\n            db.add(student)\n>       db.commit()\n\ntests/test_search_integration.py:93: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:2030: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1311: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1286: in _prepare_impl\n    self.session.flush()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4331: in flush\n    self._flush(objects)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4466: in _flush\n    with util.safe_reraise():\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4427: in _flush\n    flush_context.execute()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:466: in execute\n    rec.execute(self)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:93: in save_obj\n    _emit_insert_statements(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:1143: in _emit_insert_statements\n    result = connection.execute(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1419: in execute\n    return meth(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1844: in _execute_context\n    return self._exec_insertmany_context(dialect, context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2126: in _exec_insertmany_context\n    self._handle_dbapi_exception(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: in _exec_insertmany_context\n    dialect.do_execute(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncursor = <sqlite3.Cursor object at 0x7fcb894f2840>\nstatement = 'INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('Alice', 'Johnson', 'alice@example.com', None, None, 1, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8b88f5d0>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: students\nE       [SQL: INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\nE       [parameters: ('Alice', 'Johnson', 'alice@example.com', None, None, 1, None, None, '555-0001', None, None, None, None)]\nE       (Background on this error at: https://sqlalche.me/e/20/e3q8)\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: OperationalError"}, "teardown": {"duration": 0.0010193900000103895, "outcome": "passed"}}, {"nodeid": "tests/test_search_integration.py::TestDataConsistency::test_filter_application_consistent", "lineno": 426, "outcome": "error", "keywords": ["test_filter_application_consistent", "TestDataConsistency", "test_search_integration.py", "tests", "backend", ""], "setup": {"duration": 0.4511706239999853, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: students\n[SQL: INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\n[parameters: ('Alice', 'Johnson', 'alice@example.com', None, None, 1, None, None, '555-0001', None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}, "traceback": [{"path": "tests/test_search_integration.py", "lineno": 93, "message": ""}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 2030, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in commit"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1311, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1286, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4331, "message": "in flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4466, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", "lineno": 224, "message": "in __exit__"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4427, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 466, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 642, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 93, "message": "in save_obj"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 1143, "message": "in _emit_insert_statements"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1419, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", "lineno": 526, "message": "in _execute_on_connection"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1641, "message": "in _execute_clauseelement"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1844, "message": "in _execute_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2126, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2355, "message": "in _handle_dbapi_exception"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2118, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "OperationalError"}], "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815355.9535708, "msecs": 953.0, "relativeCreated": 161831.53891563416, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:35:55,953"}], "longrepr": "self = <sqlalchemy.engine.base.Connection object at 0x7fcb893d26d0>\ndialect = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb88ed7d50>\n\n    def _exec_insertmany_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for an \"insertmanyvalues\"\n        operation, which will invoke DBAPI\n        cursor.execute() one or more times with individual log and\n        event hook calls.\n    \n        \"\"\"\n    \n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n        else:\n            generic_setinputsizes = None\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters = parameters\n    \n        engine_events = self._has_events or self.engine._has_events\n        if self.dialect._has_events:\n            do_execute_dispatch: Iterable[Any] = (\n                self.dialect.dispatch.do_execute\n            )\n        else:\n            do_execute_dispatch = ()\n    \n        if self._echo:\n            stats = context._get_cache_stats() + \" (insertmanyvalues)\"\n    \n        preserve_rowcount = context.execution_options.get(\n            \"preserve_rowcount\", False\n        )\n        rowcount = 0\n    \n        for imv_batch in dialect._deliver_insertmanyvalues_batches(\n            self,\n            cursor,\n            str_statement,\n            effective_parameters,\n            generic_setinputsizes,\n            context,\n        ):\n            if imv_batch.processed_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor,\n                        imv_batch.processed_setinputsizes,\n                        context,\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e,\n                        sql_util._long_statement(imv_batch.replaced_statement),\n                        imv_batch.replaced_parameters,\n                        None,\n                        context,\n                        is_sub_exec=True,\n                    )\n    \n            sub_stmt = imv_batch.replaced_statement\n            sub_params = imv_batch.replaced_parameters\n    \n            if engine_events:\n                for fn in self.dispatch.before_cursor_execute:\n                    sub_stmt, sub_params = fn(\n                        self,\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                        True,\n                    )\n    \n            if self._echo:\n                self._log_info(sql_util._long_statement(sub_stmt))\n    \n                imv_stats = f\"\"\" {imv_batch.batchnum}/{\n                            imv_batch.total_batches\n                } ({\n                    'ordered'\n                    if imv_batch.rows_sorted else 'unordered'\n                }{\n                    '; batch not supported'\n                    if imv_batch.is_downgraded\n                    else ''\n                })\"\"\"\n    \n                if imv_batch.batchnum == 1:\n                    stats += imv_stats\n                else:\n                    stats = f\"insertmanyvalues{imv_stats}\"\n    \n                if not self.engine.hide_parameters:\n                    self._log_info(\n                        \"[%s] %r\",\n                        stats,\n                        sql_util._repr_params(\n                            sub_params,\n                            batches=10,\n                            ismulti=False,\n                        ),\n                    )\n                else:\n                    self._log_info(\n                        \"[%s] [SQL parameters hidden due to \"\n                        \"hide_parameters=True]\",\n                        stats,\n                    )\n    \n            try:\n                for fn in do_execute_dispatch:\n                    if fn(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    ):\n                        break\n                else:\n>                   dialect.do_execute(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    )\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncursor = <sqlite3.Cursor object at 0x7fcb8949c2c0>\nstatement = 'INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('Alice', 'Johnson', 'alice@example.com', None, None, 1, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb88ed7d50>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlite3.OperationalError: no such table: students\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: OperationalError\n\nThe above exception was the direct cause of the following exception:\n\ndb = <sqlalchemy.orm.session.Session object at 0x7fcb8bf20090>\n\n    @pytest.fixture\n    def sample_data(db: Session):\n        \"\"\"Create sample data for integration tests\"\"\"\n    \n        # Create students\n        students = [\n            Student(first_name=\"Alice\", last_name=\"Johnson\", email=\"alice@example.com\", phone=\"555-0001\", deleted_at=None),\n            Student(first_name=\"Bob\", last_name=\"Smith\", email=\"bob@example.com\", phone=\"555-0002\", deleted_at=None),\n            Student(\n                first_name=\"Charlie\", last_name=\"Brown\", email=\"charlie@example.com\", phone=\"555-0003\", deleted_at=None\n            ),\n            Student(first_name=\"Diana\", last_name=\"Prince\", email=\"diana@example.com\", phone=\"555-0004\", deleted_at=None),\n            Student(\n                first_name=\"Deleted\",\n                last_name=\"Student\",\n                email=\"deleted@example.com\",\n                phone=\"555-9999\",\n                deleted_at=datetime.utcnow(),  # Soft-deleted\n            ),\n        ]\n    \n        for student in students:\n            db.add(student)\n>       db.commit()\n\ntests/test_search_integration.py:93: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:2030: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1311: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1286: in _prepare_impl\n    self.session.flush()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4331: in flush\n    self._flush(objects)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4466: in _flush\n    with util.safe_reraise():\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4427: in _flush\n    flush_context.execute()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:466: in execute\n    rec.execute(self)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:93: in save_obj\n    _emit_insert_statements(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:1143: in _emit_insert_statements\n    result = connection.execute(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1419: in execute\n    return meth(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1844: in _execute_context\n    return self._exec_insertmany_context(dialect, context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2126: in _exec_insertmany_context\n    self._handle_dbapi_exception(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: in _exec_insertmany_context\n    dialect.do_execute(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncursor = <sqlite3.Cursor object at 0x7fcb8949c2c0>\nstatement = 'INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('Alice', 'Johnson', 'alice@example.com', None, None, 1, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb88ed7d50>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: students\nE       [SQL: INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\nE       [parameters: ('Alice', 'Johnson', 'alice@example.com', None, None, 1, None, None, '555-0001', None, None, None, None)]\nE       (Background on this error at: https://sqlalche.me/e/20/e3q8)\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: OperationalError"}, "teardown": {"duration": 0.0007291489999943224, "outcome": "passed"}}, {"nodeid": "tests/test_search_integration.py::TestTransactionHandling::test_search_after_data_modification", "lineno": 451, "outcome": "error", "keywords": ["test_search_after_data_modification", "TestTransactionHandling", "test_search_integration.py", "tests", "backend", ""], "setup": {"duration": 0.7020585289999985, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: students\n[SQL: INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\n[parameters: ('Alice', 'Johnson', 'alice@example.com', None, None, 1, None, None, '555-0001', None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}, "traceback": [{"path": "tests/test_search_integration.py", "lineno": 93, "message": ""}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 2030, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in commit"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1311, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1286, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4331, "message": "in flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4466, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", "lineno": 224, "message": "in __exit__"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4427, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 466, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 642, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 93, "message": "in save_obj"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 1143, "message": "in _emit_insert_statements"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1419, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", "lineno": 526, "message": "in _execute_on_connection"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1641, "message": "in _execute_clauseelement"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1844, "message": "in _execute_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2126, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2355, "message": "in _handle_dbapi_exception"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2118, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "OperationalError"}], "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815357.1088665, "msecs": 108.0, "relativeCreated": 162986.834526062, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:35:57,108"}], "longrepr": "self = <sqlalchemy.engine.base.Connection object at 0x7fcb8c8dfc10>\ndialect = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8c2bd250>\n\n    def _exec_insertmany_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for an \"insertmanyvalues\"\n        operation, which will invoke DBAPI\n        cursor.execute() one or more times with individual log and\n        event hook calls.\n    \n        \"\"\"\n    \n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n        else:\n            generic_setinputsizes = None\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters = parameters\n    \n        engine_events = self._has_events or self.engine._has_events\n        if self.dialect._has_events:\n            do_execute_dispatch: Iterable[Any] = (\n                self.dialect.dispatch.do_execute\n            )\n        else:\n            do_execute_dispatch = ()\n    \n        if self._echo:\n            stats = context._get_cache_stats() + \" (insertmanyvalues)\"\n    \n        preserve_rowcount = context.execution_options.get(\n            \"preserve_rowcount\", False\n        )\n        rowcount = 0\n    \n        for imv_batch in dialect._deliver_insertmanyvalues_batches(\n            self,\n            cursor,\n            str_statement,\n            effective_parameters,\n            generic_setinputsizes,\n            context,\n        ):\n            if imv_batch.processed_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor,\n                        imv_batch.processed_setinputsizes,\n                        context,\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e,\n                        sql_util._long_statement(imv_batch.replaced_statement),\n                        imv_batch.replaced_parameters,\n                        None,\n                        context,\n                        is_sub_exec=True,\n                    )\n    \n            sub_stmt = imv_batch.replaced_statement\n            sub_params = imv_batch.replaced_parameters\n    \n            if engine_events:\n                for fn in self.dispatch.before_cursor_execute:\n                    sub_stmt, sub_params = fn(\n                        self,\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                        True,\n                    )\n    \n            if self._echo:\n                self._log_info(sql_util._long_statement(sub_stmt))\n    \n                imv_stats = f\"\"\" {imv_batch.batchnum}/{\n                            imv_batch.total_batches\n                } ({\n                    'ordered'\n                    if imv_batch.rows_sorted else 'unordered'\n                }{\n                    '; batch not supported'\n                    if imv_batch.is_downgraded\n                    else ''\n                })\"\"\"\n    \n                if imv_batch.batchnum == 1:\n                    stats += imv_stats\n                else:\n                    stats = f\"insertmanyvalues{imv_stats}\"\n    \n                if not self.engine.hide_parameters:\n                    self._log_info(\n                        \"[%s] %r\",\n                        stats,\n                        sql_util._repr_params(\n                            sub_params,\n                            batches=10,\n                            ismulti=False,\n                        ),\n                    )\n                else:\n                    self._log_info(\n                        \"[%s] [SQL parameters hidden due to \"\n                        \"hide_parameters=True]\",\n                        stats,\n                    )\n    \n            try:\n                for fn in do_execute_dispatch:\n                    if fn(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    ):\n                        break\n                else:\n>                   dialect.do_execute(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    )\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncursor = <sqlite3.Cursor object at 0x7fcb8caf1640>\nstatement = 'INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('Alice', 'Johnson', 'alice@example.com', None, None, 1, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8c2bd250>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlite3.OperationalError: no such table: students\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: OperationalError\n\nThe above exception was the direct cause of the following exception:\n\ndb = <sqlalchemy.orm.session.Session object at 0x7fcb8c314590>\n\n    @pytest.fixture\n    def sample_data(db: Session):\n        \"\"\"Create sample data for integration tests\"\"\"\n    \n        # Create students\n        students = [\n            Student(first_name=\"Alice\", last_name=\"Johnson\", email=\"alice@example.com\", phone=\"555-0001\", deleted_at=None),\n            Student(first_name=\"Bob\", last_name=\"Smith\", email=\"bob@example.com\", phone=\"555-0002\", deleted_at=None),\n            Student(\n                first_name=\"Charlie\", last_name=\"Brown\", email=\"charlie@example.com\", phone=\"555-0003\", deleted_at=None\n            ),\n            Student(first_name=\"Diana\", last_name=\"Prince\", email=\"diana@example.com\", phone=\"555-0004\", deleted_at=None),\n            Student(\n                first_name=\"Deleted\",\n                last_name=\"Student\",\n                email=\"deleted@example.com\",\n                phone=\"555-9999\",\n                deleted_at=datetime.utcnow(),  # Soft-deleted\n            ),\n        ]\n    \n        for student in students:\n            db.add(student)\n>       db.commit()\n\ntests/test_search_integration.py:93: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:2030: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1311: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1286: in _prepare_impl\n    self.session.flush()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4331: in flush\n    self._flush(objects)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4466: in _flush\n    with util.safe_reraise():\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4427: in _flush\n    flush_context.execute()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:466: in execute\n    rec.execute(self)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:93: in save_obj\n    _emit_insert_statements(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:1143: in _emit_insert_statements\n    result = connection.execute(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1419: in execute\n    return meth(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1844: in _execute_context\n    return self._exec_insertmany_context(dialect, context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2126: in _exec_insertmany_context\n    self._handle_dbapi_exception(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: in _exec_insertmany_context\n    dialect.do_execute(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncursor = <sqlite3.Cursor object at 0x7fcb8caf1640>\nstatement = 'INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('Alice', 'Johnson', 'alice@example.com', None, None, 1, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8c2bd250>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: students\nE       [SQL: INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\nE       [parameters: ('Alice', 'Johnson', 'alice@example.com', None, None, 1, None, None, '555-0001', None, None, None, None)]\nE       (Background on this error at: https://sqlalche.me/e/20/e3q8)\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: OperationalError"}, "teardown": {"duration": 0.000698071999977401, "outcome": "passed"}}, {"nodeid": "tests/test_search_integration.py::TestTransactionHandling::test_search_with_soft_delete", "lineno": 468, "outcome": "error", "keywords": ["test_search_with_soft_delete", "TestTransactionHandling", "test_search_integration.py", "tests", "backend", ""], "setup": {"duration": 0.6560826619999887, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: students\n[SQL: INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\n[parameters: ('Alice', 'Johnson', 'alice@example.com', None, None, 1, None, None, '555-0001', None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}, "traceback": [{"path": "tests/test_search_integration.py", "lineno": 93, "message": ""}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 2030, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in commit"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1311, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1286, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4331, "message": "in flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4466, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", "lineno": 224, "message": "in __exit__"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4427, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 466, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 642, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 93, "message": "in save_obj"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 1143, "message": "in _emit_insert_statements"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1419, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", "lineno": 526, "message": "in _execute_on_connection"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1641, "message": "in _execute_clauseelement"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1844, "message": "in _execute_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2126, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2355, "message": "in _handle_dbapi_exception"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2118, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "OperationalError"}], "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815358.551051, "msecs": 551.0, "relativeCreated": 164429.0189743042, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:35:58,551"}], "longrepr": "self = <sqlalchemy.engine.base.Connection object at 0x7fcb895cd110>\ndialect = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8c905250>\n\n    def _exec_insertmany_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for an \"insertmanyvalues\"\n        operation, which will invoke DBAPI\n        cursor.execute() one or more times with individual log and\n        event hook calls.\n    \n        \"\"\"\n    \n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n        else:\n            generic_setinputsizes = None\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters = parameters\n    \n        engine_events = self._has_events or self.engine._has_events\n        if self.dialect._has_events:\n            do_execute_dispatch: Iterable[Any] = (\n                self.dialect.dispatch.do_execute\n            )\n        else:\n            do_execute_dispatch = ()\n    \n        if self._echo:\n            stats = context._get_cache_stats() + \" (insertmanyvalues)\"\n    \n        preserve_rowcount = context.execution_options.get(\n            \"preserve_rowcount\", False\n        )\n        rowcount = 0\n    \n        for imv_batch in dialect._deliver_insertmanyvalues_batches(\n            self,\n            cursor,\n            str_statement,\n            effective_parameters,\n            generic_setinputsizes,\n            context,\n        ):\n            if imv_batch.processed_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor,\n                        imv_batch.processed_setinputsizes,\n                        context,\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e,\n                        sql_util._long_statement(imv_batch.replaced_statement),\n                        imv_batch.replaced_parameters,\n                        None,\n                        context,\n                        is_sub_exec=True,\n                    )\n    \n            sub_stmt = imv_batch.replaced_statement\n            sub_params = imv_batch.replaced_parameters\n    \n            if engine_events:\n                for fn in self.dispatch.before_cursor_execute:\n                    sub_stmt, sub_params = fn(\n                        self,\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                        True,\n                    )\n    \n            if self._echo:\n                self._log_info(sql_util._long_statement(sub_stmt))\n    \n                imv_stats = f\"\"\" {imv_batch.batchnum}/{\n                            imv_batch.total_batches\n                } ({\n                    'ordered'\n                    if imv_batch.rows_sorted else 'unordered'\n                }{\n                    '; batch not supported'\n                    if imv_batch.is_downgraded\n                    else ''\n                })\"\"\"\n    \n                if imv_batch.batchnum == 1:\n                    stats += imv_stats\n                else:\n                    stats = f\"insertmanyvalues{imv_stats}\"\n    \n                if not self.engine.hide_parameters:\n                    self._log_info(\n                        \"[%s] %r\",\n                        stats,\n                        sql_util._repr_params(\n                            sub_params,\n                            batches=10,\n                            ismulti=False,\n                        ),\n                    )\n                else:\n                    self._log_info(\n                        \"[%s] [SQL parameters hidden due to \"\n                        \"hide_parameters=True]\",\n                        stats,\n                    )\n    \n            try:\n                for fn in do_execute_dispatch:\n                    if fn(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    ):\n                        break\n                else:\n>                   dialect.do_execute(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    )\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncursor = <sqlite3.Cursor object at 0x7fcb8c933140>\nstatement = 'INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('Alice', 'Johnson', 'alice@example.com', None, None, 1, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8c905250>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlite3.OperationalError: no such table: students\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: OperationalError\n\nThe above exception was the direct cause of the following exception:\n\ndb = <sqlalchemy.orm.session.Session object at 0x7fcb8c920550>\n\n    @pytest.fixture\n    def sample_data(db: Session):\n        \"\"\"Create sample data for integration tests\"\"\"\n    \n        # Create students\n        students = [\n            Student(first_name=\"Alice\", last_name=\"Johnson\", email=\"alice@example.com\", phone=\"555-0001\", deleted_at=None),\n            Student(first_name=\"Bob\", last_name=\"Smith\", email=\"bob@example.com\", phone=\"555-0002\", deleted_at=None),\n            Student(\n                first_name=\"Charlie\", last_name=\"Brown\", email=\"charlie@example.com\", phone=\"555-0003\", deleted_at=None\n            ),\n            Student(first_name=\"Diana\", last_name=\"Prince\", email=\"diana@example.com\", phone=\"555-0004\", deleted_at=None),\n            Student(\n                first_name=\"Deleted\",\n                last_name=\"Student\",\n                email=\"deleted@example.com\",\n                phone=\"555-9999\",\n                deleted_at=datetime.utcnow(),  # Soft-deleted\n            ),\n        ]\n    \n        for student in students:\n            db.add(student)\n>       db.commit()\n\ntests/test_search_integration.py:93: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:2030: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1311: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1286: in _prepare_impl\n    self.session.flush()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4331: in flush\n    self._flush(objects)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4466: in _flush\n    with util.safe_reraise():\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4427: in _flush\n    flush_context.execute()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:466: in execute\n    rec.execute(self)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:93: in save_obj\n    _emit_insert_statements(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:1143: in _emit_insert_statements\n    result = connection.execute(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1419: in execute\n    return meth(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1844: in _execute_context\n    return self._exec_insertmany_context(dialect, context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2126: in _exec_insertmany_context\n    self._handle_dbapi_exception(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: in _exec_insertmany_context\n    dialect.do_execute(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncursor = <sqlite3.Cursor object at 0x7fcb8c933140>\nstatement = 'INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('Alice', 'Johnson', 'alice@example.com', None, None, 1, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb8c905250>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: students\nE       [SQL: INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\nE       [parameters: ('Alice', 'Johnson', 'alice@example.com', None, None, 1, None, None, '555-0001', None, None, None, None)]\nE       (Background on this error at: https://sqlalche.me/e/20/e3q8)\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: OperationalError"}, "teardown": {"duration": 0.0007028409999918495, "outcome": "passed"}}, {"nodeid": "tests/test_search_integration.py::TestErrorConditionsIntegration::test_invalid_filter_handled_gracefully", "lineno": 491, "outcome": "failed", "keywords": ["test_invalid_filter_handled_gracefully", "TestErrorConditionsIntegration", "test_search_integration.py", "tests", "backend", ""], "setup": {"duration": 0.44796457000001055, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815360.216639, "msecs": 216.0, "relativeCreated": 166094.60711479187, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:00,216"}]}, "call": {"duration": 0.007124527999991415, "outcome": "failed", "crash": {"path": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_integration.py", "lineno": 500, "message": "assert 404 in [200, 400]\n +  where 404 = <Response [404 Not Found]>.status_code"}, "traceback": [{"path": "tests/test_search_integration.py", "lineno": 500, "message": "AssertionError"}], "longrepr": "self = <backend.tests.test_search_integration.TestErrorConditionsIntegration object at 0x7fcb8cf72310>\nclient = <starlette.testclient.TestClient object at 0x7fcb890e1d90>\nadmin_headers = {'Authorization': 'Bearer admin_token', 'Content-Type': 'application/json'}\n\n    def test_invalid_filter_handled_gracefully(self, client, admin_headers):\n        \"\"\"Invalid filters handled without crashing\"\"\"\n    \n        response = client.post(\n            \"/api/v1/search/students\", json={\"query\": \"test\", \"filters\": {\"invalid_field\": 123}}, headers=admin_headers\n        )\n    \n        # Should handle gracefully (ignore or error)\n>       assert response.status_code in [200, 400]\nE       assert 404 in [200, 400]\nE        +  where 404 = <Response [404 Not Found]>.status_code\n\ntests/test_search_integration.py:500: AssertionError"}, "teardown": {"duration": 0.0003794269999843891, "outcome": "passed"}}, {"nodeid": "tests/test_search_integration.py::TestErrorConditionsIntegration::test_extreme_pagination_values", "lineno": 501, "outcome": "failed", "keywords": ["test_extreme_pagination_values", "TestErrorConditionsIntegration", "test_search_integration.py", "tests", "backend", ""], "setup": {"duration": 0.45038486199999284, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815360.687907, "msecs": 687.0, "relativeCreated": 166565.87505340576, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:00,687"}]}, "call": {"duration": 0.007136734999988903, "outcome": "failed", "crash": {"path": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_integration.py", "lineno": 510, "message": "assert 404 in [200, 400]\n +  where 404 = <Response [404 Not Found]>.status_code"}, "traceback": [{"path": "tests/test_search_integration.py", "lineno": 510, "message": "AssertionError"}], "longrepr": "self = <backend.tests.test_search_integration.TestErrorConditionsIntegration object at 0x7fcb8cf72210>\nclient = <starlette.testclient.TestClient object at 0x7fcb88d9b590>\nadmin_headers = {'Authorization': 'Bearer admin_token', 'Content-Type': 'application/json'}\n\n    def test_extreme_pagination_values(self, client, admin_headers):\n        \"\"\"Extreme pagination values handled\"\"\"\n    \n        response = client.post(\n            \"/api/v1/search/students\", json={\"query\": \"test\", \"page\": 9999, \"page_size\": 9999}, headers=admin_headers\n        )\n    \n        # Should handle gracefully\n>       assert response.status_code in [200, 400]\nE       assert 404 in [200, 400]\nE        +  where 404 = <Response [404 Not Found]>.status_code\n\ntests/test_search_integration.py:510: AssertionError"}, "teardown": {"duration": 0.00045244400001820395, "outcome": "passed"}}, {"nodeid": "tests/test_search_integration.py::TestErrorConditionsIntegration::test_special_characters_in_search", "lineno": 516, "outcome": "failed", "keywords": ["test_special_characters_in_search", "TestErrorConditionsIntegration", "test_search_integration.py", "tests", "backend", ""], "setup": {"duration": 0.45542513000000895, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815361.1625836, "msecs": 162.0, "relativeCreated": 167040.55166244507, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:01,162"}]}, "call": {"duration": 0.007152345000008609, "outcome": "failed", "crash": {"path": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_integration.py", "lineno": 523, "message": "assert 404 in [200, 400]\n +  where 404 = <Response [404 Not Found]>.status_code"}, "traceback": [{"path": "tests/test_search_integration.py", "lineno": 523, "message": "AssertionError"}], "longrepr": "self = <backend.tests.test_search_integration.TestErrorConditionsIntegration object at 0x7fcb8cf73950>\nclient = <starlette.testclient.TestClient object at 0x7fcb89661e10>\nadmin_headers = {'Authorization': 'Bearer admin_token', 'Content-Type': 'application/json'}\n\n    def test_special_characters_in_search(self, client, admin_headers):\n        \"\"\"Special characters in search handled\"\"\"\n    \n        response = client.post(\"/api/v1/search/students\", json={\"query\": \"%_[]{}()\"}, headers=admin_headers)\n    \n        # Should not crash\n>       assert response.status_code in [200, 400]\nE       assert 404 in [200, 400]\nE        +  where 404 = <Response [404 Not Found]>.status_code\n\ntests/test_search_integration.py:523: AssertionError"}, "teardown": {"duration": 0.00041366100001027917, "outcome": "passed"}}, {"nodeid": "tests/test_search_integration.py::TestPerformanceIntegration::test_large_result_set_paginated", "lineno": 528, "outcome": "failed", "keywords": ["test_large_result_set_paginated", "TestPerformanceIntegration", "test_search_integration.py", "tests", "backend", ""], "setup": {"duration": 0.4534865459999935, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815361.6408794, "msecs": 640.0, "relativeCreated": 167518.84746551514, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:01,640"}]}, "call": {"duration": 0.00937508900000239, "outcome": "failed", "crash": {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: students\n[SQL: INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\n[parameters: ('Student0', 'Test', 'student0@example.com', None, None, 1, None, None, '555-0000', None, None, None, None)]\n(Background on this error at: https://sqlalche.me/e/20/e3q8)"}, "traceback": [{"path": "tests/test_search_integration.py", "lineno": 542, "message": ""}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 2030, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in commit"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1311, "message": "in commit"}, {"path": "<string>", "lineno": 2, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py", "lineno": 137, "message": "in _go"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 1286, "message": "in _prepare_impl"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4331, "message": "in flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4466, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py", "lineno": 224, "message": "in __exit__"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py", "lineno": 4427, "message": "in _flush"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 466, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py", "lineno": 642, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 93, "message": "in save_obj"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py", "lineno": 1143, "message": "in _emit_insert_statements"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1419, "message": "in execute"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", "lineno": 526, "message": "in _execute_on_connection"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1641, "message": "in _execute_clauseelement"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 1844, "message": "in _execute_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2126, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2355, "message": "in _handle_dbapi_exception"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py", "lineno": 2118, "message": "in _exec_insertmany_context"}, {"path": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py", "lineno": 951, "message": "OperationalError"}], "longrepr": "self = <sqlalchemy.engine.base.Connection object at 0x7fcb8c7e0450>\ndialect = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb88c20490>\n\n    def _exec_insertmany_context(\n        self,\n        dialect: Dialect,\n        context: ExecutionContext,\n    ) -> CursorResult[Any]:\n        \"\"\"continue the _execute_context() method for an \"insertmanyvalues\"\n        operation, which will invoke DBAPI\n        cursor.execute() one or more times with individual log and\n        event hook calls.\n    \n        \"\"\"\n    \n        if dialect.bind_typing is BindTyping.SETINPUTSIZES:\n            generic_setinputsizes = context._prepare_set_input_sizes()\n        else:\n            generic_setinputsizes = None\n    \n        cursor, str_statement, parameters = (\n            context.cursor,\n            context.statement,\n            context.parameters,\n        )\n    \n        effective_parameters = parameters\n    \n        engine_events = self._has_events or self.engine._has_events\n        if self.dialect._has_events:\n            do_execute_dispatch: Iterable[Any] = (\n                self.dialect.dispatch.do_execute\n            )\n        else:\n            do_execute_dispatch = ()\n    \n        if self._echo:\n            stats = context._get_cache_stats() + \" (insertmanyvalues)\"\n    \n        preserve_rowcount = context.execution_options.get(\n            \"preserve_rowcount\", False\n        )\n        rowcount = 0\n    \n        for imv_batch in dialect._deliver_insertmanyvalues_batches(\n            self,\n            cursor,\n            str_statement,\n            effective_parameters,\n            generic_setinputsizes,\n            context,\n        ):\n            if imv_batch.processed_setinputsizes:\n                try:\n                    dialect.do_set_input_sizes(\n                        context.cursor,\n                        imv_batch.processed_setinputsizes,\n                        context,\n                    )\n                except BaseException as e:\n                    self._handle_dbapi_exception(\n                        e,\n                        sql_util._long_statement(imv_batch.replaced_statement),\n                        imv_batch.replaced_parameters,\n                        None,\n                        context,\n                        is_sub_exec=True,\n                    )\n    \n            sub_stmt = imv_batch.replaced_statement\n            sub_params = imv_batch.replaced_parameters\n    \n            if engine_events:\n                for fn in self.dispatch.before_cursor_execute:\n                    sub_stmt, sub_params = fn(\n                        self,\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                        True,\n                    )\n    \n            if self._echo:\n                self._log_info(sql_util._long_statement(sub_stmt))\n    \n                imv_stats = f\"\"\" {imv_batch.batchnum}/{\n                            imv_batch.total_batches\n                } ({\n                    'ordered'\n                    if imv_batch.rows_sorted else 'unordered'\n                }{\n                    '; batch not supported'\n                    if imv_batch.is_downgraded\n                    else ''\n                })\"\"\"\n    \n                if imv_batch.batchnum == 1:\n                    stats += imv_stats\n                else:\n                    stats = f\"insertmanyvalues{imv_stats}\"\n    \n                if not self.engine.hide_parameters:\n                    self._log_info(\n                        \"[%s] %r\",\n                        stats,\n                        sql_util._repr_params(\n                            sub_params,\n                            batches=10,\n                            ismulti=False,\n                        ),\n                    )\n                else:\n                    self._log_info(\n                        \"[%s] [SQL parameters hidden due to \"\n                        \"hide_parameters=True]\",\n                        stats,\n                    )\n    \n            try:\n                for fn in do_execute_dispatch:\n                    if fn(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    ):\n                        break\n                else:\n>                   dialect.do_execute(\n                        cursor,\n                        sub_stmt,\n                        sub_params,\n                        context,\n                    )\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncursor = <sqlite3.Cursor object at 0x7fcb8c348640>\nstatement = 'INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('Student0', 'Test', 'student0@example.com', None, None, 1, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb88c20490>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlite3.OperationalError: no such table: students\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: OperationalError\n\nThe above exception was the direct cause of the following exception:\n\nself = <backend.tests.test_search_integration.TestPerformanceIntegration object at 0x7fcb8cf70190>\nclient = <starlette.testclient.TestClient object at 0x7fcb8c259190>\nadmin_headers = {'Authorization': 'Bearer admin_token', 'Content-Type': 'application/json'}\ndb = <sqlalchemy.orm.session.Session object at 0x7fcb8c31d090>\n\n    def test_large_result_set_paginated(self, client, admin_headers, db: Session):\n        \"\"\"Large result sets paginated correctly\"\"\"\n    \n        # Create many students\n        for i in range(50):\n            student = Student(\n                first_name=f\"Student{i}\",\n                last_name=\"Test\",\n                email=f\"student{i}@example.com\",\n                phone=f\"555-{i:04d}\",\n                deleted_at=None,\n            )\n            db.add(student)\n>       db.commit()\n\ntests/test_search_integration.py:542: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:2030: in commit\n    trans.commit(_to_root=True)\n<string>:2: in commit\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1311: in commit\n    self._prepare_impl()\n<string>:2: in _prepare_impl\n    ???\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/state_changes.py:137: in _go\n    ret_value = fn(self, *arg, **kw)\n                ^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:1286: in _prepare_impl\n    self.session.flush()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4331: in flush\n    self._flush(objects)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4466: in _flush\n    with util.safe_reraise():\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/util/langhelpers.py:224: in __exit__\n    raise exc_value.with_traceback(exc_tb)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/session.py:4427: in _flush\n    flush_context.execute()\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:466: in execute\n    rec.execute(self)\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/unitofwork.py:642: in execute\n    util.preloaded.orm_persistence.save_obj(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:93: in save_obj\n    _emit_insert_statements(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/orm/persistence.py:1143: in _emit_insert_statements\n    result = connection.execute(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1419: in execute\n    return meth(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/sql/elements.py:526: in _execute_on_connection\n    return connection._execute_clauseelement(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1641: in _execute_clauseelement\n    ret = self._execute_context(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:1844: in _execute_context\n    return self._exec_insertmany_context(dialect, context)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2126: in _exec_insertmany_context\n    self._handle_dbapi_exception(\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2355: in _handle_dbapi_exception\n    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/base.py:2118: in _exec_insertmany_context\n    dialect.do_execute(\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <sqlalchemy.dialects.sqlite.pysqlite.SQLiteDialect_pysqlite object at 0x7fcba63a7310>\ncursor = <sqlite3.Cursor object at 0x7fcb8c348640>\nstatement = 'INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id'\nparameters = ('Student0', 'Test', 'student0@example.com', None, None, 1, ...)\ncontext = <sqlalchemy.dialects.sqlite.base.SQLiteExecutionContext object at 0x7fcb88c20490>\n\n    def do_execute(self, cursor, statement, parameters, context=None):\n>       cursor.execute(statement, parameters)\nE       sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: students\nE       [SQL: INSERT INTO students (first_name, last_name, email, student_id, enrollment_date, is_active, father_name, mobile_phone, phone, health_issue, note, study_year, deleted_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) RETURNING id]\nE       [parameters: ('Student0', 'Test', 'student0@example.com', None, None, 1, None, None, '555-0000', None, None, None, None)]\nE       (Background on this error at: https://sqlalche.me/e/20/e3q8)\n\n/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/sqlalchemy/engine/default.py:951: OperationalError"}, "teardown": {"duration": 0.0007577730000036809, "outcome": "passed"}}, {"nodeid": "tests/test_search_integration.py::TestPerformanceIntegration::test_multiple_sequential_searches", "lineno": 556, "outcome": "failed", "keywords": ["test_multiple_sequential_searches", "TestPerformanceIntegration", "test_search_integration.py", "tests", "backend", ""], "setup": {"duration": 0.4518111019999935, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815363.1544437, "msecs": 154.0, "relativeCreated": 169032.41181373596, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:03,154"}]}, "call": {"duration": 0.007377286999997068, "outcome": "failed", "crash": {"path": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_integration.py", "lineno": 565, "message": "assert 404 == 200\n +  where 404 = <Response [404 Not Found]>.status_code"}, "traceback": [{"path": "tests/test_search_integration.py", "lineno": 565, "message": "AssertionError"}], "longrepr": "self = <backend.tests.test_search_integration.TestPerformanceIntegration object at 0x7fcb8d1c3150>\nclient = <starlette.testclient.TestClient object at 0x7fcb8a203e90>\nadmin_headers = {'Authorization': 'Bearer admin_token', 'Content-Type': 'application/json'}\n\n    def test_multiple_sequential_searches(self, client, admin_headers):\n        \"\"\"Multiple searches execute sequentially without issues\"\"\"\n    \n        queries = [\"Alice\", \"Bob\", \"Charlie\", \"Math\", \"Physics\"]\n    \n        for query in queries:\n            response = client.post(\"/api/v1/search/students\", json={\"query\": query}, headers=admin_headers)\n    \n>           assert response.status_code == 200\nE           assert 404 == 200\nE            +  where 404 = <Response [404 Not Found]>.status_code\n\ntests/test_search_integration.py:565: AssertionError"}, "teardown": {"duration": 0.00043320800000401505, "outcome": "passed"}}, {"nodeid": "tests/test_search_service.py::TestSearchServiceInit::test_init_with_database", "lineno": 26, "outcome": "passed", "keywords": ["test_init_with_database", "TestSearchServiceInit", "test_search_service.py", "tests", "backend", ""], "setup": {"duration": 0.04773367699999653, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815363.6304557, "msecs": 630.0, "relativeCreated": 169508.42380523682, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:03,630"}]}, "call": {"duration": 0.00032014600000707105, "outcome": "passed"}, "teardown": {"duration": 0.00042363900001873844, "outcome": "passed"}}, {"nodeid": "tests/test_search_service.py::TestSearchStudents::test_search_by_first_name", "lineno": 35, "outcome": "error", "keywords": ["test_search_by_first_name", "TestSearchStudents", "test_search_service.py", "tests", "backend", ""], "setup": {"duration": 0.046623766999999816, "outcome": "failed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815363.680021, "msecs": 680.0, "relativeCreated": 169557.9891204834, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:03,680"}], "longrepr": "file /home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_service.py, line 36\n      def test_search_by_first_name(self, db: Session, student_data):\nE       fixture 'student_data' not found\n>       available fixtures: _session_event_loop, admin_headers, admin_token, anyio_backend, anyio_backend_name, anyio_backend_options, bootstrap_admin, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, clean_db, client, cov, db, disable_startup_tasks_env, doctest_namespace, event_loop, event_loop_policy, extra, extras, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, json_metadata, metadata, mock_db_engine, monkeypatch, no_cover, patch_settings_for_tests, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, setup_db, teacher_token, tests/test_search_service.py::<event_loop>, tests/test_search_service.py::TestSearchStudents::<event_loop>, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory\n>       use 'pytest --fixtures [testpath]' for help on them.\n\n/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_service.py:36"}, "teardown": {"duration": 0.00047181900001191934, "outcome": "passed"}}, {"nodeid": "tests/test_search_service.py::TestSearchStudents::test_search_by_last_name", "lineno": 44, "outcome": "error", "keywords": ["test_search_by_last_name", "TestSearchStudents", "test_search_service.py", "tests", "backend", ""], "setup": {"duration": 0.04742063099999427, "outcome": "failed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815363.7303815, "msecs": 730.0, "relativeCreated": 169608.34956169128, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:03,730"}], "longrepr": "file /home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_service.py, line 45\n      def test_search_by_last_name(self, db: Session, student_data):\nE       fixture 'student_data' not found\n>       available fixtures: _session_event_loop, admin_headers, admin_token, anyio_backend, anyio_backend_name, anyio_backend_options, bootstrap_admin, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, clean_db, client, cov, db, disable_startup_tasks_env, doctest_namespace, event_loop, event_loop_policy, extra, extras, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, json_metadata, metadata, mock_db_engine, monkeypatch, no_cover, patch_settings_for_tests, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, setup_db, teacher_token, tests/test_search_service.py::<event_loop>, tests/test_search_service.py::TestSearchStudents::<event_loop>, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory\n>       use 'pytest --fixtures [testpath]' for help on them.\n\n/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_service.py:45"}, "teardown": {"duration": 0.0004547579999893969, "outcome": "passed"}}, {"nodeid": "tests/test_search_service.py::TestSearchStudents::test_search_by_email", "lineno": 52, "outcome": "error", "keywords": ["test_search_by_email", "TestSearchStudents", "test_search_service.py", "tests", "backend", ""], "setup": {"duration": 0.04797594800001548, "outcome": "failed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815363.7808592, "msecs": 780.0, "relativeCreated": 169658.8273048401, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:03,780"}], "longrepr": "file /home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_service.py, line 53\n      def test_search_by_email(self, db: Session, student_data):\nE       fixture 'student_data' not found\n>       available fixtures: _session_event_loop, admin_headers, admin_token, anyio_backend, anyio_backend_name, anyio_backend_options, bootstrap_admin, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, clean_db, client, cov, db, disable_startup_tasks_env, doctest_namespace, event_loop, event_loop_policy, extra, extras, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, json_metadata, metadata, mock_db_engine, monkeypatch, no_cover, patch_settings_for_tests, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, setup_db, teacher_token, tests/test_search_service.py::<event_loop>, tests/test_search_service.py::TestSearchStudents::<event_loop>, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory\n>       use 'pytest --fixtures [testpath]' for help on them.\n\n/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_service.py:53"}, "teardown": {"duration": 0.0004996320000145715, "outcome": "passed"}}, {"nodeid": "tests/test_search_service.py::TestSearchStudents::test_search_case_insensitive", "lineno": 60, "outcome": "error", "keywords": ["test_search_case_insensitive", "TestSearchStudents", "test_search_service.py", "tests", "backend", ""], "setup": {"duration": 0.04744112100001985, "outcome": "failed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815363.8320725, "msecs": 832.0, "relativeCreated": 169710.04056930542, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:03,832"}], "longrepr": "file /home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_service.py, line 61\n      def test_search_case_insensitive(self, db: Session, student_data):\nE       fixture 'student_data' not found\n>       available fixtures: _session_event_loop, admin_headers, admin_token, anyio_backend, anyio_backend_name, anyio_backend_options, bootstrap_admin, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, clean_db, client, cov, db, disable_startup_tasks_env, doctest_namespace, event_loop, event_loop_policy, extra, extras, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, json_metadata, metadata, mock_db_engine, monkeypatch, no_cover, patch_settings_for_tests, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, setup_db, teacher_token, tests/test_search_service.py::<event_loop>, tests/test_search_service.py::TestSearchStudents::<event_loop>, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory\n>       use 'pytest --fixtures [testpath]' for help on them.\n\n/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_service.py:61"}, "teardown": {"duration": 0.00045094099999687387, "outcome": "passed"}}, {"nodeid": "tests/test_search_service.py::TestSearchStudents::test_search_excludes_deleted_students", "lineno": 68, "outcome": "error", "keywords": ["test_search_excludes_deleted_students", "TestSearchStudents", "test_search_service.py", "tests", "backend", ""], "setup": {"duration": 0.0469236270000124, "outcome": "failed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815363.882591, "msecs": 882.0, "relativeCreated": 169760.55908203125, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:03,882"}], "longrepr": "file /home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_service.py, line 69\n      def test_search_excludes_deleted_students(self, db: Session, student_data):\nE       fixture 'student_data' not found\n>       available fixtures: _session_event_loop, admin_headers, admin_token, anyio_backend, anyio_backend_name, anyio_backend_options, bootstrap_admin, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, clean_db, client, cov, db, disable_startup_tasks_env, doctest_namespace, event_loop, event_loop_policy, extra, extras, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, json_metadata, metadata, mock_db_engine, monkeypatch, no_cover, patch_settings_for_tests, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, setup_db, teacher_token, tests/test_search_service.py::<event_loop>, tests/test_search_service.py::TestSearchStudents::<event_loop>, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory\n>       use 'pytest --fixtures [testpath]' for help on them.\n\n/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_service.py:69"}, "teardown": {"duration": 0.00045635099999685735, "outcome": "passed"}}, {"nodeid": "tests/test_search_service.py::TestSearchStudents::test_search_pagination", "lineno": 83, "outcome": "error", "keywords": ["test_search_pagination", "TestSearchStudents", "test_search_service.py", "tests", "backend", ""], "setup": {"duration": 0.04669667299998537, "outcome": "failed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815363.9327998, "msecs": 932.0, "relativeCreated": 169810.76788902283, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:03,932"}], "longrepr": "file /home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_service.py, line 84\n      def test_search_pagination(self, db: Session, student_data):\nE       fixture 'student_data' not found\n>       available fixtures: _session_event_loop, admin_headers, admin_token, anyio_backend, anyio_backend_name, anyio_backend_options, bootstrap_admin, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, clean_db, client, cov, db, disable_startup_tasks_env, doctest_namespace, event_loop, event_loop_policy, extra, extras, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, json_metadata, metadata, mock_db_engine, monkeypatch, no_cover, patch_settings_for_tests, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, setup_db, teacher_token, tests/test_search_service.py::<event_loop>, tests/test_search_service.py::TestSearchStudents::<event_loop>, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory\n>       use 'pytest --fixtures [testpath]' for help on them.\n\n/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_service.py:84"}, "teardown": {"duration": 0.0004252829999984442, "outcome": "passed"}}, {"nodeid": "tests/test_search_service.py::TestSearchStudents::test_search_empty_query", "lineno": 95, "outcome": "error", "keywords": ["test_search_empty_query", "TestSearchStudents", "test_search_service.py", "tests", "backend", ""], "setup": {"duration": 0.04687981500001115, "outcome": "failed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815363.9825516, "msecs": 982.0, "relativeCreated": 169860.51964759827, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:03,982"}], "longrepr": "file /home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_service.py, line 96\n      def test_search_empty_query(self, db: Session, student_data):\nE       fixture 'student_data' not found\n>       available fixtures: _session_event_loop, admin_headers, admin_token, anyio_backend, anyio_backend_name, anyio_backend_options, bootstrap_admin, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, clean_db, client, cov, db, disable_startup_tasks_env, doctest_namespace, event_loop, event_loop_policy, extra, extras, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, json_metadata, metadata, mock_db_engine, monkeypatch, no_cover, patch_settings_for_tests, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, setup_db, teacher_token, tests/test_search_service.py::<event_loop>, tests/test_search_service.py::TestSearchStudents::<event_loop>, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory\n>       use 'pytest --fixtures [testpath]' for help on them.\n\n/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_service.py:96"}, "teardown": {"duration": 0.0004386479999993753, "outcome": "passed"}}, {"nodeid": "tests/test_search_service.py::TestSearchStudents::test_search_no_results", "lineno": 102, "outcome": "passed", "keywords": ["test_search_no_results", "TestSearchStudents", "test_search_service.py", "tests", "backend", ""], "setup": {"duration": 0.04730728100000192, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815364.0324264, "msecs": 32.0, "relativeCreated": 169910.39443016052, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:04,032"}]}, "call": {"duration": 0.0009006290000002082, "outcome": "passed"}, "teardown": {"duration": 0.0004469830000175534, "outcome": "passed"}}, {"nodeid": "tests/test_search_service.py::TestSearchStudents::test_search_returns_required_fields", "lineno": 109, "outcome": "error", "keywords": ["test_search_returns_required_fields", "TestSearchStudents", "test_search_service.py", "tests", "backend", ""], "setup": {"duration": 0.04638651500002311, "outcome": "failed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815364.0822551, "msecs": 82.0, "relativeCreated": 169960.223197937, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:04,082"}], "longrepr": "file /home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_service.py, line 110\n      def test_search_returns_required_fields(self, db: Session, student_data):\nE       fixture 'student_data' not found\n>       available fixtures: _session_event_loop, admin_headers, admin_token, anyio_backend, anyio_backend_name, anyio_backend_options, bootstrap_admin, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, clean_db, client, cov, db, disable_startup_tasks_env, doctest_namespace, event_loop, event_loop_policy, extra, extras, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, json_metadata, metadata, mock_db_engine, monkeypatch, no_cover, patch_settings_for_tests, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, setup_db, teacher_token, tests/test_search_service.py::<event_loop>, tests/test_search_service.py::TestSearchStudents::<event_loop>, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory\n>       use 'pytest --fixtures [testpath]' for help on them.\n\n/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_service.py:110"}, "teardown": {"duration": 0.0004443090000165739, "outcome": "passed"}}, {"nodeid": "tests/test_search_service.py::TestSearchCourses::test_search_by_course_name", "lineno": 123, "outcome": "error", "keywords": ["test_search_by_course_name", "TestSearchCourses", "test_search_service.py", "tests", "backend", ""], "setup": {"duration": 0.046565176999990854, "outcome": "failed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815364.131759, "msecs": 131.0, "relativeCreated": 170009.7270011902, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:04,131"}], "longrepr": "file /home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_service.py, line 124\n      def test_search_by_course_name(self, db: Session, course_data):\nE       fixture 'course_data' not found\n>       available fixtures: _session_event_loop, admin_headers, admin_token, anyio_backend, anyio_backend_name, anyio_backend_options, bootstrap_admin, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, clean_db, client, cov, db, disable_startup_tasks_env, doctest_namespace, event_loop, event_loop_policy, extra, extras, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, json_metadata, metadata, mock_db_engine, monkeypatch, no_cover, patch_settings_for_tests, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, setup_db, teacher_token, tests/test_search_service.py::<event_loop>, tests/test_search_service.py::TestSearchCourses::<event_loop>, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory\n>       use 'pytest --fixtures [testpath]' for help on them.\n\n/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_service.py:124"}, "teardown": {"duration": 0.0004164169999967271, "outcome": "passed"}}, {"nodeid": "tests/test_search_service.py::TestSearchCourses::test_search_by_course_code", "lineno": 131, "outcome": "error", "keywords": ["test_search_by_course_code", "TestSearchCourses", "test_search_service.py", "tests", "backend", ""], "setup": {"duration": 0.04614792000000989, "outcome": "failed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815364.1812809, "msecs": 181.0, "relativeCreated": 170059.24892425537, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:04,181"}], "longrepr": "file /home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_service.py, line 132\n      def test_search_by_course_code(self, db: Session, course_data):\nE       fixture 'course_data' not found\n>       available fixtures: _session_event_loop, admin_headers, admin_token, anyio_backend, anyio_backend_name, anyio_backend_options, bootstrap_admin, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, clean_db, client, cov, db, disable_startup_tasks_env, doctest_namespace, event_loop, event_loop_policy, extra, extras, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, json_metadata, metadata, mock_db_engine, monkeypatch, no_cover, patch_settings_for_tests, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, setup_db, teacher_token, tests/test_search_service.py::<event_loop>, tests/test_search_service.py::TestSearchCourses::<event_loop>, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory\n>       use 'pytest --fixtures [testpath]' for help on them.\n\n/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_service.py:132"}, "teardown": {"duration": 0.0004279869999948005, "outcome": "passed"}}, {"nodeid": "tests/test_search_service.py::TestSearchCourses::test_search_courses_case_insensitive", "lineno": 139, "outcome": "error", "keywords": ["test_search_courses_case_insensitive", "TestSearchCourses", "test_search_service.py", "tests", "backend", ""], "setup": {"duration": 0.0463770469999929, "outcome": "failed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815364.2304451, "msecs": 230.0, "relativeCreated": 170108.4132194519, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:04,230"}], "longrepr": "file /home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_service.py, line 140\n      def test_search_courses_case_insensitive(self, db: Session, course_data):\nE       fixture 'course_data' not found\n>       available fixtures: _session_event_loop, admin_headers, admin_token, anyio_backend, anyio_backend_name, anyio_backend_options, bootstrap_admin, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, clean_db, client, cov, db, disable_startup_tasks_env, doctest_namespace, event_loop, event_loop_policy, extra, extras, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, json_metadata, metadata, mock_db_engine, monkeypatch, no_cover, patch_settings_for_tests, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, setup_db, teacher_token, tests/test_search_service.py::<event_loop>, tests/test_search_service.py::TestSearchCourses::<event_loop>, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory\n>       use 'pytest --fixtures [testpath]' for help on them.\n\n/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_service.py:140"}, "teardown": {"duration": 0.000459567000007155, "outcome": "passed"}}, {"nodeid": "tests/test_search_service.py::TestSearchCourses::test_search_excludes_deleted_courses", "lineno": 147, "outcome": "error", "keywords": ["test_search_excludes_deleted_courses", "TestSearchCourses", "test_search_service.py", "tests", "backend", ""], "setup": {"duration": 0.04771731600001772, "outcome": "failed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815364.2799046, "msecs": 279.0, "relativeCreated": 170157.87267684937, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:04,279"}], "longrepr": "file /home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_service.py, line 148\n      def test_search_excludes_deleted_courses(self, db: Session, course_data):\nE       fixture 'course_data' not found\n>       available fixtures: _session_event_loop, admin_headers, admin_token, anyio_backend, anyio_backend_name, anyio_backend_options, bootstrap_admin, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, clean_db, client, cov, db, disable_startup_tasks_env, doctest_namespace, event_loop, event_loop_policy, extra, extras, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, json_metadata, metadata, mock_db_engine, monkeypatch, no_cover, patch_settings_for_tests, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, setup_db, teacher_token, tests/test_search_service.py::<event_loop>, tests/test_search_service.py::TestSearchCourses::<event_loop>, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory\n>       use 'pytest --fixtures [testpath]' for help on them.\n\n/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_service.py:148"}, "teardown": {"duration": 0.0005032380000216108, "outcome": "passed"}}, {"nodeid": "tests/test_search_service.py::TestSearchCourses::test_search_courses_returns_required_fields", "lineno": 163, "outcome": "error", "keywords": ["test_search_courses_returns_required_fields", "TestSearchCourses", "test_search_service.py", "tests", "backend", ""], "setup": {"duration": 0.048171672999984594, "outcome": "failed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815364.3310554, "msecs": 331.0, "relativeCreated": 170209.02347564697, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:04,331"}], "longrepr": "file /home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_service.py, line 164\n      def test_search_courses_returns_required_fields(self, db: Session, course_data):\nE       fixture 'course_data' not found\n>       available fixtures: _session_event_loop, admin_headers, admin_token, anyio_backend, anyio_backend_name, anyio_backend_options, bootstrap_admin, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, clean_db, client, cov, db, disable_startup_tasks_env, doctest_namespace, event_loop, event_loop_policy, extra, extras, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, json_metadata, metadata, mock_db_engine, monkeypatch, no_cover, patch_settings_for_tests, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, setup_db, teacher_token, tests/test_search_service.py::<event_loop>, tests/test_search_service.py::TestSearchCourses::<event_loop>, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory\n>       use 'pytest --fixtures [testpath]' for help on them.\n\n/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_service.py:164"}, "teardown": {"duration": 0.0004949320000093849, "outcome": "passed"}}, {"nodeid": "tests/test_search_service.py::TestSearchGrades::test_search_grades_with_query", "lineno": 177, "outcome": "error", "keywords": ["test_search_grades_with_query", "TestSearchGrades", "test_search_service.py", "tests", "backend", ""], "setup": {"duration": 0.04767074900001944, "outcome": "failed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815364.3825736, "msecs": 382.0, "relativeCreated": 170260.54167747498, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:04,382"}], "longrepr": "file /home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_service.py, line 178\n      def test_search_grades_with_query(self, db: Session, grade_data):\nE       fixture 'grade_data' not found\n>       available fixtures: _session_event_loop, admin_headers, admin_token, anyio_backend, anyio_backend_name, anyio_backend_options, bootstrap_admin, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, clean_db, client, cov, db, disable_startup_tasks_env, doctest_namespace, event_loop, event_loop_policy, extra, extras, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, json_metadata, metadata, mock_db_engine, monkeypatch, no_cover, patch_settings_for_tests, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, setup_db, teacher_token, tests/test_search_service.py::<event_loop>, tests/test_search_service.py::TestSearchGrades::<event_loop>, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory\n>       use 'pytest --fixtures [testpath]' for help on them.\n\n/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_service.py:178"}, "teardown": {"duration": 0.0004988800000091942, "outcome": "passed"}}, {"nodeid": "tests/test_search_service.py::TestSearchGrades::test_search_grades_by_grade_range", "lineno": 184, "outcome": "error", "keywords": ["test_search_grades_by_grade_range", "TestSearchGrades", "test_search_service.py", "tests", "backend", ""], "setup": {"duration": 0.04833005800000478, "outcome": "failed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815364.4334433, "msecs": 433.0, "relativeCreated": 170311.41138076782, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:04,433"}], "longrepr": "file /home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_service.py, line 185\n      def test_search_grades_by_grade_range(self, db: Session, grade_data):\nE       fixture 'grade_data' not found\n>       available fixtures: _session_event_loop, admin_headers, admin_token, anyio_backend, anyio_backend_name, anyio_backend_options, bootstrap_admin, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, clean_db, client, cov, db, disable_startup_tasks_env, doctest_namespace, event_loop, event_loop_policy, extra, extras, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, json_metadata, metadata, mock_db_engine, monkeypatch, no_cover, patch_settings_for_tests, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, setup_db, teacher_token, tests/test_search_service.py::<event_loop>, tests/test_search_service.py::TestSearchGrades::<event_loop>, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory\n>       use 'pytest --fixtures [testpath]' for help on them.\n\n/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_service.py:185"}, "teardown": {"duration": 0.0005237870000200928, "outcome": "passed"}}, {"nodeid": "tests/test_search_service.py::TestSearchGrades::test_search_grades_by_student_id", "lineno": 192, "outcome": "error", "keywords": ["test_search_grades_by_student_id", "TestSearchGrades", "test_search_service.py", "tests", "backend", ""], "setup": {"duration": 0.04772475999999415, "outcome": "failed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815364.4852228, "msecs": 485.0, "relativeCreated": 170363.19088935852, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:04,485"}], "longrepr": "file /home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_service.py, line 193\n      def test_search_grades_by_student_id(self, db: Session, grade_data):\nE       fixture 'grade_data' not found\n>       available fixtures: _session_event_loop, admin_headers, admin_token, anyio_backend, anyio_backend_name, anyio_backend_options, bootstrap_admin, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, clean_db, client, cov, db, disable_startup_tasks_env, doctest_namespace, event_loop, event_loop_policy, extra, extras, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, json_metadata, metadata, mock_db_engine, monkeypatch, no_cover, patch_settings_for_tests, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, setup_db, teacher_token, tests/test_search_service.py::<event_loop>, tests/test_search_service.py::TestSearchGrades::<event_loop>, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory\n>       use 'pytest --fixtures [testpath]' for help on them.\n\n/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_service.py:193"}, "teardown": {"duration": 0.0004927890000203661, "outcome": "passed"}}, {"nodeid": "tests/test_search_service.py::TestSearchGrades::test_search_grades_by_course_id", "lineno": 203, "outcome": "error", "keywords": ["test_search_grades_by_course_id", "TestSearchGrades", "test_search_service.py", "tests", "backend", ""], "setup": {"duration": 0.04763139600001409, "outcome": "failed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815364.536325, "msecs": 536.0, "relativeCreated": 170414.293050766, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:04,536"}], "longrepr": "file /home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_service.py, line 204\n      def test_search_grades_by_course_id(self, db: Session, grade_data):\nE       fixture 'grade_data' not found\n>       available fixtures: _session_event_loop, admin_headers, admin_token, anyio_backend, anyio_backend_name, anyio_backend_options, bootstrap_admin, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, clean_db, client, cov, db, disable_startup_tasks_env, doctest_namespace, event_loop, event_loop_policy, extra, extras, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, json_metadata, metadata, mock_db_engine, monkeypatch, no_cover, patch_settings_for_tests, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, setup_db, teacher_token, tests/test_search_service.py::<event_loop>, tests/test_search_service.py::TestSearchGrades::<event_loop>, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory\n>       use 'pytest --fixtures [testpath]' for help on them.\n\n/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_service.py:204"}, "teardown": {"duration": 0.0005109020000020337, "outcome": "passed"}}, {"nodeid": "tests/test_search_service.py::TestSearchGrades::test_search_grades_combined_filters", "lineno": 214, "outcome": "error", "keywords": ["test_search_grades_combined_filters", "TestSearchGrades", "test_search_service.py", "tests", "backend", ""], "setup": {"duration": 0.04802699300000768, "outcome": "failed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815364.5874758, "msecs": 587.0, "relativeCreated": 170465.4438495636, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:04,587"}], "longrepr": "file /home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_service.py, line 215\n      def test_search_grades_combined_filters(self, db: Session, grade_data):\nE       fixture 'grade_data' not found\n>       available fixtures: _session_event_loop, admin_headers, admin_token, anyio_backend, anyio_backend_name, anyio_backend_options, bootstrap_admin, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, clean_db, client, cov, db, disable_startup_tasks_env, doctest_namespace, event_loop, event_loop_policy, extra, extras, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, json_metadata, metadata, mock_db_engine, monkeypatch, no_cover, patch_settings_for_tests, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, setup_db, teacher_token, tests/test_search_service.py::<event_loop>, tests/test_search_service.py::TestSearchGrades::<event_loop>, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory\n>       use 'pytest --fixtures [testpath]' for help on them.\n\n/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_service.py:215"}, "teardown": {"duration": 0.000498800000002575, "outcome": "passed"}}, {"nodeid": "tests/test_search_service.py::TestSearchGrades::test_search_grades_returns_required_fields", "lineno": 222, "outcome": "error", "keywords": ["test_search_grades_returns_required_fields", "TestSearchGrades", "test_search_service.py", "tests", "backend", ""], "setup": {"duration": 0.04934943800000724, "outcome": "failed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815364.6387825, "msecs": 638.0, "relativeCreated": 170516.75057411194, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:04,638"}], "longrepr": "file /home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_service.py, line 223\n      def test_search_grades_returns_required_fields(self, db: Session, grade_data):\nE       fixture 'grade_data' not found\n>       available fixtures: _session_event_loop, admin_headers, admin_token, anyio_backend, anyio_backend_name, anyio_backend_options, bootstrap_admin, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, clean_db, client, cov, db, disable_startup_tasks_env, doctest_namespace, event_loop, event_loop_policy, extra, extras, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, json_metadata, metadata, mock_db_engine, monkeypatch, no_cover, patch_settings_for_tests, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, setup_db, teacher_token, tests/test_search_service.py::<event_loop>, tests/test_search_service.py::TestSearchGrades::<event_loop>, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory\n>       use 'pytest --fixtures [testpath]' for help on them.\n\n/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_service.py:223"}, "teardown": {"duration": 0.0005150300000025254, "outcome": "passed"}}, {"nodeid": "tests/test_search_service.py::TestAdvancedFilter::test_advanced_filter_students", "lineno": 236, "outcome": "error", "keywords": ["test_advanced_filter_students", "TestAdvancedFilter", "test_search_service.py", "tests", "backend", ""], "setup": {"duration": 0.04819531699999402, "outcome": "failed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815364.6916356, "msecs": 691.0, "relativeCreated": 170569.60368156433, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:04,691"}], "longrepr": "file /home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_service.py, line 237\n      def test_advanced_filter_students(self, db: Session, student_data):\nE       fixture 'student_data' not found\n>       available fixtures: _session_event_loop, admin_headers, admin_token, anyio_backend, anyio_backend_name, anyio_backend_options, bootstrap_admin, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, clean_db, client, cov, db, disable_startup_tasks_env, doctest_namespace, event_loop, event_loop_policy, extra, extras, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, json_metadata, metadata, mock_db_engine, monkeypatch, no_cover, patch_settings_for_tests, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, setup_db, teacher_token, tests/test_search_service.py::<event_loop>, tests/test_search_service.py::TestAdvancedFilter::<event_loop>, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory\n>       use 'pytest --fixtures [testpath]' for help on them.\n\n/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_service.py:237"}, "teardown": {"duration": 0.0004961949999824355, "outcome": "passed"}}, {"nodeid": "tests/test_search_service.py::TestAdvancedFilter::test_advanced_filter_courses", "lineno": 243, "outcome": "error", "keywords": ["test_advanced_filter_courses", "TestAdvancedFilter", "test_search_service.py", "tests", "backend", ""], "setup": {"duration": 0.04733736800000088, "outcome": "failed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815364.742955, "msecs": 742.0, "relativeCreated": 170620.92304229736, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:04,742"}], "longrepr": "file /home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_service.py, line 244\n      def test_advanced_filter_courses(self, db: Session, course_data):\nE       fixture 'course_data' not found\n>       available fixtures: _session_event_loop, admin_headers, admin_token, anyio_backend, anyio_backend_name, anyio_backend_options, bootstrap_admin, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, clean_db, client, cov, db, disable_startup_tasks_env, doctest_namespace, event_loop, event_loop_policy, extra, extras, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, json_metadata, metadata, mock_db_engine, monkeypatch, no_cover, patch_settings_for_tests, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, setup_db, teacher_token, tests/test_search_service.py::<event_loop>, tests/test_search_service.py::TestAdvancedFilter::<event_loop>, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory\n>       use 'pytest --fixtures [testpath]' for help on them.\n\n/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_service.py:244"}, "teardown": {"duration": 0.00047738000000663305, "outcome": "passed"}}, {"nodeid": "tests/test_search_service.py::TestAdvancedFilter::test_advanced_filter_grades", "lineno": 250, "outcome": "error", "keywords": ["test_advanced_filter_grades", "TestAdvancedFilter", "test_search_service.py", "tests", "backend", ""], "setup": {"duration": 0.04725431199997843, "outcome": "failed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815364.7934563, "msecs": 793.0, "relativeCreated": 170671.4243888855, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:04,793"}], "longrepr": "file /home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_service.py, line 251\n      def test_advanced_filter_grades(self, db: Session, grade_data):\nE       fixture 'grade_data' not found\n>       available fixtures: _session_event_loop, admin_headers, admin_token, anyio_backend, anyio_backend_name, anyio_backend_options, bootstrap_admin, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, clean_db, client, cov, db, disable_startup_tasks_env, doctest_namespace, event_loop, event_loop_policy, extra, extras, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, json_metadata, metadata, mock_db_engine, monkeypatch, no_cover, patch_settings_for_tests, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, setup_db, teacher_token, tests/test_search_service.py::<event_loop>, tests/test_search_service.py::TestAdvancedFilter::<event_loop>, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory\n>       use 'pytest --fixtures [testpath]' for help on them.\n\n/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_service.py:251"}, "teardown": {"duration": 0.0004845740000121168, "outcome": "passed"}}, {"nodeid": "tests/test_search_service.py::TestRankResults::test_rank_results_by_relevance", "lineno": 261, "outcome": "error", "keywords": ["test_rank_results_by_relevance", "TestRankResults", "test_search_service.py", "tests", "backend", ""], "setup": {"duration": 0.047721143999979176, "outcome": "failed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815364.8438475, "msecs": 843.0, "relativeCreated": 170721.8155860901, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:04,843"}], "longrepr": "file /home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_service.py, line 262\n      def test_rank_results_by_relevance(self, db: Session, student_data):\nE       fixture 'student_data' not found\n>       available fixtures: _session_event_loop, admin_headers, admin_token, anyio_backend, anyio_backend_name, anyio_backend_options, bootstrap_admin, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, clean_db, client, cov, db, disable_startup_tasks_env, doctest_namespace, event_loop, event_loop_policy, extra, extras, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, json_metadata, metadata, mock_db_engine, monkeypatch, no_cover, patch_settings_for_tests, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, setup_db, teacher_token, tests/test_search_service.py::<event_loop>, tests/test_search_service.py::TestRankResults::<event_loop>, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory\n>       use 'pytest --fixtures [testpath]' for help on them.\n\n/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_service.py:262"}, "teardown": {"duration": 0.0005099899999834179, "outcome": "passed"}}, {"nodeid": "tests/test_search_service.py::TestRankResults::test_rank_preserves_all_results", "lineno": 274, "outcome": "error", "keywords": ["test_rank_preserves_all_results", "TestRankResults", "test_search_service.py", "tests", "backend", ""], "setup": {"duration": 0.048245631000014555, "outcome": "failed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815364.89504, "msecs": 895.0, "relativeCreated": 170773.00810813904, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:04,895"}], "longrepr": "file /home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_service.py, line 275\n      def test_rank_preserves_all_results(self, db: Session, student_data):\nE       fixture 'student_data' not found\n>       available fixtures: _session_event_loop, admin_headers, admin_token, anyio_backend, anyio_backend_name, anyio_backend_options, bootstrap_admin, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, clean_db, client, cov, db, disable_startup_tasks_env, doctest_namespace, event_loop, event_loop_policy, extra, extras, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, json_metadata, metadata, mock_db_engine, monkeypatch, no_cover, patch_settings_for_tests, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, setup_db, teacher_token, tests/test_search_service.py::<event_loop>, tests/test_search_service.py::TestRankResults::<event_loop>, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory\n>       use 'pytest --fixtures [testpath]' for help on them.\n\n/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_service.py:275"}, "teardown": {"duration": 0.0005154609999920012, "outcome": "passed"}}, {"nodeid": "tests/test_search_service.py::TestGetSearchSuggestions::test_get_suggestions_students", "lineno": 286, "outcome": "error", "keywords": ["test_get_suggestions_students", "TestGetSearchSuggestions", "test_search_service.py", "tests", "backend", ""], "setup": {"duration": 0.0482518819999882, "outcome": "failed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815364.9465423, "msecs": 946.0, "relativeCreated": 170824.51033592224, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:04,946"}], "longrepr": "file /home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_service.py, line 287\n      def test_get_suggestions_students(self, db: Session, student_data):\nE       fixture 'student_data' not found\n>       available fixtures: _session_event_loop, admin_headers, admin_token, anyio_backend, anyio_backend_name, anyio_backend_options, bootstrap_admin, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, clean_db, client, cov, db, disable_startup_tasks_env, doctest_namespace, event_loop, event_loop_policy, extra, extras, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, json_metadata, metadata, mock_db_engine, monkeypatch, no_cover, patch_settings_for_tests, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, setup_db, teacher_token, tests/test_search_service.py::<event_loop>, tests/test_search_service.py::TestGetSearchSuggestions::<event_loop>, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory\n>       use 'pytest --fixtures [testpath]' for help on them.\n\n/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_service.py:287"}, "teardown": {"duration": 0.0005066939999949227, "outcome": "passed"}}, {"nodeid": "tests/test_search_service.py::TestGetSearchSuggestions::test_get_suggestions_limited", "lineno": 296, "outcome": "error", "keywords": ["test_get_suggestions_limited", "TestGetSearchSuggestions", "test_search_service.py", "tests", "backend", ""], "setup": {"duration": 0.048464409000018804, "outcome": "failed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815364.9980278, "msecs": 998.0, "relativeCreated": 170875.9958744049, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:04,998"}], "longrepr": "file /home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_service.py, line 297\n      def test_get_suggestions_limited(self, db: Session, student_data):\nE       fixture 'student_data' not found\n>       available fixtures: _session_event_loop, admin_headers, admin_token, anyio_backend, anyio_backend_name, anyio_backend_options, bootstrap_admin, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, clean_db, client, cov, db, disable_startup_tasks_env, doctest_namespace, event_loop, event_loop_policy, extra, extras, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, json_metadata, metadata, mock_db_engine, monkeypatch, no_cover, patch_settings_for_tests, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, setup_db, teacher_token, tests/test_search_service.py::<event_loop>, tests/test_search_service.py::TestGetSearchSuggestions::<event_loop>, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory\n>       use 'pytest --fixtures [testpath]' for help on them.\n\n/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_service.py:297"}, "teardown": {"duration": 0.00046982599999978447, "outcome": "passed"}}, {"nodeid": "tests/test_search_service.py::TestGetSearchSuggestions::test_get_suggestions_no_results", "lineno": 304, "outcome": "passed", "keywords": ["test_get_suggestions_no_results", "TestGetSearchSuggestions", "test_search_service.py", "tests", "backend", ""], "setup": {"duration": 0.04744179200000076, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815365.049552, "msecs": 49.0, "relativeCreated": 170927.5200366974, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:05,049"}]}, "call": {"duration": 0.004931114000015668, "outcome": "passed"}, "teardown": {"duration": 0.0004305529999726332, "outcome": "passed"}}, {"nodeid": "tests/test_search_service.py::TestGetSearchStatistics::test_get_statistics_returns_counts", "lineno": 317, "outcome": "error", "keywords": ["test_get_statistics_returns_counts", "TestGetSearchStatistics", "test_search_service.py", "tests", "backend", ""], "setup": {"duration": 0.0468403700000124, "outcome": "failed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815365.103513, "msecs": 103.0, "relativeCreated": 170981.48107528687, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:05,103"}], "longrepr": "file /home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_service.py, line 318\n      def test_get_statistics_returns_counts(self, db: Session, student_data, course_data):\nE       fixture 'student_data' not found\n>       available fixtures: _session_event_loop, admin_headers, admin_token, anyio_backend, anyio_backend_name, anyio_backend_options, bootstrap_admin, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, clean_db, client, cov, db, disable_startup_tasks_env, doctest_namespace, event_loop, event_loop_policy, extra, extras, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, json_metadata, metadata, mock_db_engine, monkeypatch, no_cover, patch_settings_for_tests, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, setup_db, teacher_token, tests/test_search_service.py::<event_loop>, tests/test_search_service.py::TestGetSearchStatistics::<event_loop>, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory\n>       use 'pytest --fixtures [testpath]' for help on them.\n\n/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_service.py:318"}, "teardown": {"duration": 0.00040960300000847383, "outcome": "passed"}}, {"nodeid": "tests/test_search_service.py::TestGetSearchStatistics::test_statistics_values_are_positive", "lineno": 327, "outcome": "error", "keywords": ["test_statistics_values_are_positive", "TestGetSearchStatistics", "test_search_service.py", "tests", "backend", ""], "setup": {"duration": 0.04688217800000416, "outcome": "failed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815365.153302, "msecs": 153.0, "relativeCreated": 171031.27002716064, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:05,153"}], "longrepr": "file /home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_service.py, line 328\n      def test_statistics_values_are_positive(self, db: Session, student_data, course_data):\nE       fixture 'student_data' not found\n>       available fixtures: _session_event_loop, admin_headers, admin_token, anyio_backend, anyio_backend_name, anyio_backend_options, bootstrap_admin, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, clean_db, client, cov, db, disable_startup_tasks_env, doctest_namespace, event_loop, event_loop_policy, extra, extras, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, json_metadata, metadata, mock_db_engine, monkeypatch, no_cover, patch_settings_for_tests, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, setup_db, teacher_token, tests/test_search_service.py::<event_loop>, tests/test_search_service.py::TestGetSearchStatistics::<event_loop>, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory\n>       use 'pytest --fixtures [testpath]' for help on them.\n\n/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_service.py:328"}, "teardown": {"duration": 0.0004729020000127093, "outcome": "passed"}}, {"nodeid": "tests/test_search_service.py::TestErrorHandling::test_search_with_invalid_limit", "lineno": 340, "outcome": "error", "keywords": ["test_search_with_invalid_limit", "TestErrorHandling", "test_search_service.py", "tests", "backend", ""], "setup": {"duration": 0.046659854000012047, "outcome": "failed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815365.2033203, "msecs": 203.0, "relativeCreated": 171081.28833770752, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:05,203"}], "longrepr": "file /home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_service.py, line 341\n      def test_search_with_invalid_limit(self, db: Session, student_data):\nE       fixture 'student_data' not found\n>       available fixtures: _session_event_loop, admin_headers, admin_token, anyio_backend, anyio_backend_name, anyio_backend_options, bootstrap_admin, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, clean_db, client, cov, db, disable_startup_tasks_env, doctest_namespace, event_loop, event_loop_policy, extra, extras, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, json_metadata, metadata, mock_db_engine, monkeypatch, no_cover, patch_settings_for_tests, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, setup_db, teacher_token, tests/test_search_service.py::<event_loop>, tests/test_search_service.py::TestErrorHandling::<event_loop>, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory\n>       use 'pytest --fixtures [testpath]' for help on them.\n\n/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_service.py:341"}, "teardown": {"duration": 0.000453725999989274, "outcome": "passed"}}, {"nodeid": "tests/test_search_service.py::TestErrorHandling::test_search_with_invalid_offset", "lineno": 352, "outcome": "error", "keywords": ["test_search_with_invalid_offset", "TestErrorHandling", "test_search_service.py", "tests", "backend", ""], "setup": {"duration": 0.04654846700000803, "outcome": "failed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815365.2530282, "msecs": 253.0, "relativeCreated": 171130.9962272644, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:05,253"}], "longrepr": "file /home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_service.py, line 353\n      def test_search_with_invalid_offset(self, db: Session, student_data):\nE       fixture 'student_data' not found\n>       available fixtures: _session_event_loop, admin_headers, admin_token, anyio_backend, anyio_backend_name, anyio_backend_options, bootstrap_admin, cache, capfd, capfdbinary, caplog, capsys, capsysbinary, capteesys, clean_db, client, cov, db, disable_startup_tasks_env, doctest_namespace, event_loop, event_loop_policy, extra, extras, free_tcp_port, free_tcp_port_factory, free_udp_port, free_udp_port_factory, include_metadata_in_junit_xml, json_metadata, metadata, mock_db_engine, monkeypatch, no_cover, patch_settings_for_tests, pytestconfig, record_property, record_testsuite_property, record_xml_attribute, recwarn, setup_db, teacher_token, tests/test_search_service.py::<event_loop>, tests/test_search_service.py::TestErrorHandling::<event_loop>, tmp_path, tmp_path_factory, tmpdir, tmpdir_factory, unused_tcp_port, unused_tcp_port_factory, unused_udp_port, unused_udp_port_factory\n>       use 'pytest --fixtures [testpath]' for help on them.\n\n/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_search_service.py:353"}, "teardown": {"duration": 0.00041883099999040496, "outcome": "passed"}}, {"nodeid": "tests/test_services_analytics.py::test_calculate_final_grade_handles_rules_and_penalties", "lineno": 41, "outcome": "passed", "keywords": ["test_calculate_final_grade_handles_rules_and_penalties", "test_services_analytics.py", "tests", "backend", ""], "setup": {"duration": 0.046667498000005025, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815365.302955, "msecs": 302.0, "relativeCreated": 171180.9229850769, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:05,302"}]}, "call": {"duration": 0.010496198999987882, "outcome": "passed"}, "teardown": {"duration": 0.0004110659999980726, "outcome": "passed"}}, {"nodeid": "tests/test_services_analytics.py::test_get_student_all_courses_summary_skips_courses_without_rules", "lineno": 107, "outcome": "passed", "keywords": ["test_get_student_all_courses_summary_skips_courses_without_rules", "test_services_analytics.py", "tests", "backend", ""], "setup": {"duration": 0.04729467799998588, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815365.3616366, "msecs": 361.0, "relativeCreated": 171239.6047115326, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:05,361"}]}, "call": {"duration": 0.011688892999984546, "outcome": "passed"}, "teardown": {"duration": 0.00044407900000464906, "outcome": "passed"}}, {"nodeid": "tests/test_services_analytics.py::test_get_student_summary_returns_averages", "lineno": 143, "outcome": "passed", "keywords": ["test_get_student_summary_returns_averages", "test_services_analytics.py", "tests", "backend", ""], "setup": {"duration": 0.04716334300002245, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815365.4222598, "msecs": 422.0, "relativeCreated": 171300.2278804779, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:05,422"}]}, "call": {"duration": 0.007224519000004648, "outcome": "passed"}, "teardown": {"duration": 0.00041650599999343285, "outcome": "passed"}}, {"nodeid": "tests/test_sessions_router.py::test_sessions_semesters_empty", "lineno": 13, "outcome": "passed", "keywords": ["test_sessions_semesters_empty", "test_sessions_router.py", "tests", "backend", ""], "setup": {"duration": 0.05287068400002681, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815365.4785042, "msecs": 478.0, "relativeCreated": 171356.47225379944, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:05,478"}]}, "call": {"duration": 0.04313788900000759, "outcome": "passed"}, "teardown": {"duration": 0.009489883000014743, "outcome": "passed"}}, {"nodeid": "tests/test_sessions_router.py::test_sessions_export_missing_semester", "lineno": 22, "outcome": "passed", "keywords": ["test_sessions_export_missing_semester", "test_sessions_router.py", "tests", "backend", ""], "setup": {"duration": 0.04987130099999604, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815365.5852532, "msecs": 585.0, "relativeCreated": 171463.2213115692, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:05,585"}]}, "call": {"duration": 0.046794091999998955, "outcome": "passed"}, "teardown": {"duration": 0.010403236000001925, "outcome": "passed"}}, {"nodeid": "tests/test_sessions_router.py::test_sessions_import_dry_run_missing_metadata", "lineno": 31, "outcome": "passed", "keywords": ["test_sessions_import_dry_run_missing_metadata", "test_sessions_router.py", "tests", "backend", ""], "setup": {"duration": 0.05044352900000604, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815365.6938605, "msecs": 693.0, "relativeCreated": 171571.8286037445, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:05,693"}]}, "call": {"duration": 0.047973495000007915, "outcome": "passed"}, "teardown": {"duration": 0.01037840000000756, "outcome": "passed"}}, {"nodeid": "tests/test_sessions_router.py::test_sessions_import_dry_run_missing_semester", "lineno": 44, "outcome": "passed", "keywords": ["test_sessions_import_dry_run_missing_semester", "test_sessions_router.py", "tests", "backend", ""], "setup": {"duration": 0.050322381999990284, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815365.8040214, "msecs": 804.0, "relativeCreated": 171681.98943138123, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:05,804"}]}, "call": {"duration": 0.04801534500001026, "outcome": "passed"}, "teardown": {"duration": 0.010433142000010776, "outcome": "passed"}}, {"nodeid": "tests/test_sessions_router.py::test_sessions_import_dry_run_valid_empty", "lineno": 56, "outcome": "passed", "keywords": ["test_sessions_import_dry_run_valid_empty", "test_sessions_router.py", "tests", "backend", ""], "setup": {"duration": 0.050484775000001036, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815365.9141722, "msecs": 914.0, "relativeCreated": 171792.14024543762, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:05,914"}]}, "call": {"duration": 0.04651279099999783, "outcome": "passed"}, "teardown": {"duration": 0.010076248999979498, "outcome": "passed"}}, {"nodeid": "tests/test_sessions_router.py::test_sessions_export_success_with_data", "lineno": 86, "outcome": "passed", "keywords": ["test_sessions_export_success_with_data", "test_sessions_router.py", "tests", "backend", ""], "setup": {"duration": 0.05083820500001934, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815366.0226283, "msecs": 22.0, "relativeCreated": 171900.59638023376, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:06,022"}]}, "call": {"duration": 0.15069400900000574, "outcome": "passed"}, "teardown": {"duration": 0.010887566000008064, "outcome": "passed"}}, {"nodeid": "tests/test_sessions_router.py::test_sessions_list_backups", "lineno": 160, "outcome": "passed", "keywords": ["test_sessions_list_backups", "test_sessions_router.py", "tests", "backend", ""], "setup": {"duration": 0.05044270999999867, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815366.2365348, "msecs": 236.0, "relativeCreated": 172114.50290679932, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:06,236"}]}, "call": {"duration": 0.04335666500000457, "outcome": "passed"}, "teardown": {"duration": 0.00988962900001411, "outcome": "passed"}}, {"nodeid": "tests/test_sessions_router.py::test_sessions_import_non_dry_run_creates_backup_and_persists", "lineno": 170, "outcome": "passed", "keywords": ["test_sessions_import_non_dry_run_creates_backup_and_persists", "test_sessions_router.py", "tests", "backend", ""], "setup": {"duration": 0.05073836500000084, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815366.3416343, "msecs": 341.0, "relativeCreated": 172219.6023464203, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:06,341"}]}, "call": {"duration": 0.1281641380000167, "outcome": "passed"}, "teardown": {"duration": 0.010871229000002813, "outcome": "passed"}}, {"nodeid": "tests/test_sessions_router.py::test_sessions_export_unicode_semester_filename_sanitized", "lineno": 231, "outcome": "passed", "keywords": ["test_sessions_export_unicode_semester_filename_sanitized", "test_sessions_router.py", "tests", "backend", ""], "setup": {"duration": 0.05195176600000195, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815366.5329943, "msecs": 532.0, "relativeCreated": 172410.96234321594, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:06,532"}]}, "call": {"duration": 0.12145732900000894, "outcome": "passed"}, "teardown": {"duration": 0.010453839999996717, "outcome": "passed"}}, {"nodeid": "tests/test_sessions_router.py::test_sessions_rollback_invalid_backup", "lineno": 268, "outcome": "passed", "keywords": ["test_sessions_rollback_invalid_backup", "test_sessions_router.py", "tests", "backend", ""], "setup": {"duration": 0.05039310600000135, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815366.7182484, "msecs": 718.0, "relativeCreated": 172596.2164402008, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:06,718"}]}, "call": {"duration": 0.16228254300000344, "outcome": "passed"}, "teardown": {"duration": 0.011046996000004583, "outcome": "passed"}}, {"nodeid": "tests/test_soft_delete_filtering.py::test_soft_delete_filtering_students", "lineno": 68, "outcome": "passed", "keywords": ["test_soft_delete_filtering_students", "test_soft_delete_filtering.py", "tests", "backend", ""], "setup": {"duration": 0.04889336400000843, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815366.943646, "msecs": 943.0, "relativeCreated": 172821.61402702332, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:06,943"}]}, "call": {"duration": 0.001945624999990514, "outcome": "passed"}, "teardown": {"duration": 0.0005485949999979312, "outcome": "passed"}}, {"nodeid": "tests/test_soft_delete_filtering.py::test_soft_delete_filtering_courses", "lineno": 79, "outcome": "passed", "keywords": ["test_soft_delete_filtering_courses", "test_soft_delete_filtering.py", "tests", "backend", ""], "setup": {"duration": 0.05250315699998964, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815366.9961853, "msecs": 996.0, "relativeCreated": 172874.1533756256, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:06,996"}]}, "call": {"duration": 0.0009936859999868375, "outcome": "passed"}, "teardown": {"duration": 0.0005171459999928629, "outcome": "passed"}}, {"nodeid": "tests/test_soft_delete_filtering.py::test_deleted_student_not_in_list", "lineno": 90, "outcome": "passed", "keywords": ["test_deleted_student_not_in_list", "test_soft_delete_filtering.py", "tests", "backend", ""], "setup": {"duration": 0.052349100000014914, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815367.051474, "msecs": 51.0, "relativeCreated": 172929.4421672821, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:07,051"}]}, "call": {"duration": 0.005526545000009264, "outcome": "passed"}, "teardown": {"duration": 0.0005564299999889499, "outcome": "passed"}}, {"nodeid": "tests/test_soft_delete_filtering.py::test_soft_delete_flag_works", "lineno": 100, "outcome": "passed", "keywords": ["test_soft_delete_flag_works", "test_soft_delete_filtering.py", "tests", "backend", ""], "setup": {"duration": 0.051241671000013866, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815367.1111875, "msecs": 111.0, "relativeCreated": 172989.15553092957, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:07,111"}]}, "call": {"duration": 0.0023168779999878097, "outcome": "passed"}, "teardown": {"duration": 0.0005048129999920548, "outcome": "passed"}}, {"nodeid": "tests/test_soft_delete_filtering.py::test_soft_delete_count_excludes_deleted", "lineno": 118, "outcome": "passed", "keywords": ["test_soft_delete_count_excludes_deleted", "test_soft_delete_filtering.py", "tests", "backend", ""], "setup": {"duration": 0.05152599199999486, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815367.1665545, "msecs": 166.0, "relativeCreated": 173044.52252388, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:07,166"}]}, "call": {"duration": 0.0011450590000094962, "outcome": "passed"}, "teardown": {"duration": 0.0005171460000212846, "outcome": "passed"}}, {"nodeid": "tests/test_soft_delete_filtering.py::test_can_query_deleted_explicitly", "lineno": 125, "outcome": "passed", "keywords": ["test_can_query_deleted_explicitly", "test_soft_delete_filtering.py", "tests", "backend", ""], "setup": {"duration": 0.05129219500000204, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815367.2209408, "msecs": 220.0, "relativeCreated": 173098.9089012146, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:07,220"}]}, "call": {"duration": 0.0022862110000119173, "outcome": "passed"}, "teardown": {"duration": 0.000517656999988958, "outcome": "passed"}}, {"nodeid": "tests/test_soft_delete_filtering.py::test_multiple_soft_delete_models", "lineno": 137, "outcome": "passed", "keywords": ["test_multiple_soft_delete_models", "test_soft_delete_filtering.py", "tests", "backend", ""], "setup": {"duration": 0.05324205799999504, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815367.2762077, "msecs": 276.0, "relativeCreated": 173154.17575836182, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:07,276"}]}, "call": {"duration": 0.001313673999987941, "outcome": "passed"}, "teardown": {"duration": 0.0005194400000050337, "outcome": "passed"}}, {"nodeid": "tests/test_soft_delete_filtering.py::test_soft_delete_filtering_parametrized[Student-1]", "lineno": 146, "outcome": "passed", "keywords": ["test_soft_delete_filtering_parametrized[Student-1]", "parametrize", "pytestmark", "Student-1", "test_soft_delete_filtering.py", "tests", "backend", ""], "setup": {"duration": 0.05216985399999885, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815367.332405, "msecs": 332.0, "relativeCreated": 173210.37316322327, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:07,332"}]}, "call": {"duration": 0.0008340279999856648, "outcome": "passed"}, "teardown": {"duration": 0.0005547369999874263, "outcome": "passed"}}, {"nodeid": "tests/test_soft_delete_filtering.py::test_soft_delete_filtering_parametrized[Course-1]", "lineno": 146, "outcome": "passed", "keywords": ["test_soft_delete_filtering_parametrized[Course-1]", "parametrize", "pytestmark", "Course-1", "test_soft_delete_filtering.py", "tests", "backend", ""], "setup": {"duration": 0.0524299209999981, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815367.3870668, "msecs": 387.0, "relativeCreated": 173265.03491401672, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:07,387"}]}, "call": {"duration": 0.0008343990000128088, "outcome": "passed"}, "teardown": {"duration": 0.0005578130000003512, "outcome": "passed"}}, {"nodeid": "tests/test_students_import.py::test_upload_students_preserves_all_fields", "lineno": 7, "outcome": "passed", "keywords": ["test_upload_students_preserves_all_fields", "test_students_import.py", "tests", "backend", ""], "setup": {"duration": 0.052060019999998985, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815367.4422321, "msecs": 442.0, "relativeCreated": 173320.20020484924, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:07,442"}]}, "call": {"duration": 0.023522786000000906, "outcome": "passed"}, "teardown": {"duration": 0.009570432000003848, "outcome": "passed"}}, {"nodeid": "tests/test_students_import.py::test_upload_students_accepts_octet_stream", "lineno": 83, "outcome": "passed", "keywords": ["test_upload_students_accepts_octet_stream", "test_students_import.py", "tests", "backend", ""], "setup": {"duration": 0.04843127999998842, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815367.5286813, "msecs": 528.0, "relativeCreated": 173406.64935112, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:07,528"}]}, "call": {"duration": 0.012017401000008476, "outcome": "passed"}, "teardown": {"duration": 0.009194437000019207, "outcome": "passed"}}, {"nodeid": "tests/test_students_router.py::test_create_student_success", "lineno": 23, "outcome": "passed", "keywords": ["test_create_student_success", "test_students_router.py", "tests", "backend", ""], "setup": {"duration": 0.048586239999991676, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815367.59981, "msecs": 599.0, "relativeCreated": 173477.77795791626, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:07,599"}]}, "call": {"duration": 0.013082663999995248, "outcome": "passed"}, "teardown": {"duration": 0.009278172999984236, "outcome": "passed"}}, {"nodeid": "tests/test_students_router.py::test_create_student_allows_empty_optional_strings", "lineno": 34, "outcome": "passed", "keywords": ["test_create_student_allows_empty_optional_strings", "test_students_router.py", "tests", "backend", ""], "setup": {"duration": 0.049186501999997745, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815367.67179, "msecs": 671.0, "relativeCreated": 173549.7579574585, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:07,671"}]}, "call": {"duration": 0.013085487000012108, "outcome": "passed"}, "teardown": {"duration": 0.009279784999989715, "outcome": "passed"}}, {"nodeid": "tests/test_students_router.py::test_create_student_duplicate_email", "lineno": 52, "outcome": "passed", "keywords": ["test_create_student_duplicate_email", "test_students_router.py", "tests", "backend", ""], "setup": {"duration": 0.04863590299999032, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815367.7445703, "msecs": 744.0, "relativeCreated": 173622.53832817078, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:07,744"}]}, "call": {"duration": 0.019781456000004027, "outcome": "passed"}, "teardown": {"duration": 0.00990772100001891, "outcome": "passed"}}, {"nodeid": "tests/test_students_router.py::test_create_student_duplicate_student_id", "lineno": 64, "outcome": "passed", "keywords": ["test_create_student_duplicate_student_id", "test_students_router.py", "tests", "backend", ""], "setup": {"duration": 0.049043251999989934, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815367.8241992, "msecs": 824.0, "relativeCreated": 173702.16727256775, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:07,824"}]}, "call": {"duration": 0.021070624999993015, "outcome": "passed"}, "teardown": {"duration": 0.00956339599997591, "outcome": "passed"}}, {"nodeid": "tests/test_students_router.py::test_get_student_by_id_and_404", "lineno": 76, "outcome": "passed", "keywords": ["test_get_student_by_id_and_404", "test_students_router.py", "tests", "backend", ""], "setup": {"duration": 0.048084883000001355, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815367.9050376, "msecs": 905.0, "relativeCreated": 173783.0057144165, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:07,905"}]}, "call": {"duration": 0.018789734999984375, "outcome": "passed"}, "teardown": {"duration": 0.009364954999995234, "outcome": "passed"}}, {"nodeid": "tests/test_students_router.py::test_list_students_pagination_and_filters", "lineno": 85, "outcome": "passed", "keywords": ["test_list_students_pagination_and_filters", "test_students_router.py", "tests", "backend", ""], "setup": {"duration": 0.08577088000001254, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815367.9826014, "msecs": 982.0, "relativeCreated": 173860.5694770813, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:07,982"}]}, "call": {"duration": 0.06401894199998992, "outcome": "passed"}, "teardown": {"duration": 0.010074862000010398, "outcome": "passed"}}, {"nodeid": "tests/test_students_router.py::test_update_student_success_and_validation_errors", "lineno": 104, "outcome": "passed", "keywords": ["test_update_student_success_and_validation_errors", "test_students_router.py", "tests", "backend", ""], "setup": {"duration": 0.08709102399998869, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815368.1437917, "msecs": 143.0, "relativeCreated": 174021.75974845886, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:08,143"}]}, "call": {"duration": 0.04155294999998205, "outcome": "passed"}, "teardown": {"duration": 0.010331171000018458, "outcome": "passed"}}, {"nodeid": "tests/test_students_router.py::test_delete_student_and_then_404", "lineno": 133, "outcome": "passed", "keywords": ["test_delete_student_and_then_404", "test_students_router.py", "tests", "backend", ""], "setup": {"duration": 0.08849122099999818, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815368.2840784, "msecs": 284.0, "relativeCreated": 174162.04643249512, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:08,284"}]}, "call": {"duration": 0.2936672860000158, "outcome": "passed", "stdout": "DELETE /students{sid} status: 204 \nGET /students/{sid} status: 404 {\"success\":false,\"data\":null,\"error\":{\"code\":\"HTTP_404\",\"message\":\"Student with id 1 not found\",\"details\":null,\"path\":\"/api/v1/students/1\"},\"meta\":{\"request_id\":\"316ce8a9-7fa0-4725-8e9b-151f6c399ac9\",\"timestamp\":\"2026-01-19T09:36:08.663890Z\",\"version\":\"1.15.0\"}}\n"}, "teardown": {"duration": 0.01005725900000698, "outcome": "passed"}}, {"nodeid": "tests/test_students_router.py::test_activate_deactivate_student", "lineno": 171, "outcome": "passed", "keywords": ["test_activate_deactivate_student", "test_students_router.py", "tests", "backend", ""], "setup": {"duration": 0.0861679239999944, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815368.6776228, "msecs": 677.0, "relativeCreated": 174555.59086799622, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:08,677"}]}, "call": {"duration": 0.03943592199999557, "outcome": "passed"}, "teardown": {"duration": 0.010571520000013379, "outcome": "passed"}}, {"nodeid": "tests/test_students_router.py::test_bulk_create_students_with_duplicates", "lineno": 187, "outcome": "passed", "keywords": ["test_bulk_create_students_with_duplicates", "test_students_router.py", "tests", "backend", ""], "setup": {"duration": 0.05118060699999205, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815368.815271, "msecs": 815.0, "relativeCreated": 174693.23897361755, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:08,815"}]}, "call": {"duration": 0.01916222899998843, "outcome": "passed"}, "teardown": {"duration": 0.010823571000003085, "outcome": "passed"}}, {"nodeid": "tests/test_students_router.py::test_create_student_handles_internal_error", "lineno": 205, "outcome": "passed", "keywords": ["test_create_student_handles_internal_error", "test_students_router.py", "tests", "backend", ""], "setup": {"duration": 0.050672987999973884, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815368.8979151, "msecs": 897.0, "relativeCreated": 174775.88319778442, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:08,897"}]}, "call": {"duration": 0.008271653000008428, "outcome": "passed"}, "teardown": {"duration": 0.01008455000001618, "outcome": "passed"}}, {"nodeid": "tests/test_timing_middleware.py::test_timing_header_present", "lineno": 28, "outcome": "passed", "keywords": ["test_timing_header_present", "test_timing_middleware.py", "tests", "backend", ""], "setup": {"duration": 0.04579929299998753, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815368.9685104, "msecs": 968.0, "relativeCreated": 174846.47846221924, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:08,968"}]}, "call": {"duration": 0.0040149909999911415, "outcome": "passed"}, "teardown": {"duration": 0.000416878999999426, "outcome": "passed"}}, {"nodeid": "tests/test_version_consistency.py::test_version_file_exists", "lineno": 49, "outcome": "passed", "keywords": ["test_version_file_exists", "test_version_consistency.py", "no_app_context", "tests", "backend", ""], "setup": {"duration": 0.04871762599998419, "outcome": "passed", "stderr": "INFO  [root] Skipping app context patch for test.\n", "log": [{"name": "root", "msg": "Skipping app context patch for test.", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 188, "funcName": "patch_settings_for_tests", "created": 1768815369.0201159, "msecs": 20.0, "relativeCreated": 174898.0839252472, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:09,020"}]}, "call": {"duration": 0.00047428600001353516, "outcome": "passed"}, "teardown": {"duration": 0.00034008599999424405, "outcome": "passed"}}, {"nodeid": "tests/test_version_consistency.py::test_frontend_package_json_version", "lineno": 58, "outcome": "passed", "keywords": ["test_frontend_package_json_version", "test_version_consistency.py", "no_app_context", "tests", "backend", ""], "setup": {"duration": 0.04874440500000787, "outcome": "passed", "stderr": "INFO  [root] Skipping app context patch for test.\n", "log": [{"name": "root", "msg": "Skipping app context patch for test.", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 188, "funcName": "patch_settings_for_tests", "created": 1768815369.0708115, "msecs": 70.0, "relativeCreated": 174948.7795829773, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:09,070"}]}, "call": {"duration": 0.0004968860000076347, "outcome": "passed"}, "teardown": {"duration": 0.0003438699999946948, "outcome": "passed"}}, {"nodeid": "tests/test_version_consistency.py::test_backend_main_docstring_version", "lineno": 69, "outcome": "passed", "keywords": ["test_backend_main_docstring_version", "test_version_consistency.py", "no_app_context", "tests", "backend", ""], "setup": {"duration": 0.0487956160000067, "outcome": "passed", "stderr": "INFO  [root] Skipping app context patch for test.\n", "log": [{"name": "root", "msg": "Skipping app context patch for test.", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 188, "funcName": "patch_settings_for_tests", "created": 1768815369.12158, "msecs": 121.0, "relativeCreated": 174999.54795837402, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:09,121"}]}, "call": {"duration": 0.0008007529999929375, "outcome": "passed"}, "teardown": {"duration": 0.00037486899998384615, "outcome": "passed"}}, {"nodeid": "tests/test_version_consistency.py::test_user_guide_version", "lineno": 86, "outcome": "passed", "keywords": ["test_user_guide_version", "test_version_consistency.py", "no_app_context", "tests", "backend", ""], "setup": {"duration": 0.04950625099999684, "outcome": "passed", "stderr": "INFO  [root] Skipping app context patch for test.\n", "log": [{"name": "root", "msg": "Skipping app context patch for test.", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 188, "funcName": "patch_settings_for_tests", "created": 1768815369.1728241, "msecs": 172.0, "relativeCreated": 175050.79221725464, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:09,172"}]}, "call": {"duration": 0.0008095390000164571, "outcome": "passed"}, "teardown": {"duration": 0.00034644499999103573, "outcome": "passed"}}, {"nodeid": "tests/test_version_consistency.py::test_developer_guide_version", "lineno": 99, "outcome": "passed", "keywords": ["test_developer_guide_version", "test_version_consistency.py", "no_app_context", "tests", "backend", ""], "setup": {"duration": 0.048621499999995876, "outcome": "passed", "stderr": "INFO  [root] Skipping app context patch for test.\n", "log": [{"name": "root", "msg": "Skipping app context patch for test.", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 188, "funcName": "patch_settings_for_tests", "created": 1768815369.2246735, "msecs": 224.0, "relativeCreated": 175102.641582489, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:09,224"}]}, "call": {"duration": 0.0005276750000007269, "outcome": "passed"}, "teardown": {"duration": 0.0003581370000063089, "outcome": "passed"}}, {"nodeid": "tests/test_version_consistency.py::test_documentation_index_version", "lineno": 114, "outcome": "passed", "keywords": ["test_documentation_index_version", "test_version_consistency.py", "no_app_context", "tests", "backend", ""], "setup": {"duration": 0.048801155999996126, "outcome": "passed", "stderr": "INFO  [root] Skipping app context patch for test.\n", "log": [{"name": "root", "msg": "Skipping app context patch for test.", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 188, "funcName": "patch_settings_for_tests", "created": 1768815369.2754433, "msecs": 275.0, "relativeCreated": 175153.41138839722, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:09,275"}]}, "call": {"duration": 0.0008117330000061429, "outcome": "passed"}, "teardown": {"duration": 0.0003511550000041552, "outcome": "passed"}}, {"nodeid": "tests/test_version_consistency.py::test_root_documentation_index_version", "lineno": 129, "outcome": "skipped", "keywords": ["test_root_documentation_index_version", "test_version_consistency.py", "no_app_context", "tests", "backend", ""], "setup": {"duration": 0.04880578499998478, "outcome": "passed", "stderr": "INFO  [root] Skipping app context patch for test.\n", "log": [{"name": "root", "msg": "Skipping app context patch for test.", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 188, "funcName": "patch_settings_for_tests", "created": 1768815369.3266337, "msecs": 326.0, "relativeCreated": 175204.60176467896, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:09,326"}]}, "call": {"duration": 0.000440081000022019, "outcome": "skipped", "longrepr": "('/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_version_consistency.py', 134, 'Skipped: DOCUMENTATION_INDEX.md not found')"}, "teardown": {"duration": 0.00035636499998759064, "outcome": "passed"}}, {"nodeid": "tests/test_version_consistency.py::test_installer_wizard_version", "lineno": 158, "outcome": "skipped", "keywords": ["test_installer_wizard_version", "test_version_consistency.py", "no_app_context", "tests", "backend", ""], "setup": {"duration": 0.05264317900000037, "outcome": "passed", "stderr": "INFO  [root] Skipping app context patch for test.\n", "log": [{"name": "root", "msg": "Skipping app context patch for test.", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 188, "funcName": "patch_settings_for_tests", "created": 1768815369.3776493, "msecs": 377.0, "relativeCreated": 175255.6173801422, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:09,377"}]}, "call": {"duration": 0.00043524200000888413, "outcome": "skipped", "longrepr": "('/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_version_consistency.py', 163, 'Skipped: SMS_INSTALLER_WIZARD.ps1 not found')"}, "teardown": {"duration": 0.00036189499999750296, "outcome": "passed"}}, {"nodeid": "tests/test_version_consistency.py::test_uninstaller_wizard_version", "lineno": 173, "outcome": "skipped", "keywords": ["test_uninstaller_wizard_version", "test_version_consistency.py", "no_app_context", "tests", "backend", ""], "setup": {"duration": 0.04829237700002409, "outcome": "passed", "stderr": "INFO  [root] Skipping app context patch for test.\n", "log": [{"name": "root", "msg": "Skipping app context patch for test.", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 188, "funcName": "patch_settings_for_tests", "created": 1768815369.4325066, "msecs": 432.0, "relativeCreated": 175310.47463417053, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:09,432"}]}, "call": {"duration": 0.0004583040000056826, "outcome": "skipped", "longrepr": "('/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/test_version_consistency.py', 178, 'Skipped: SMS_UNINSTALLER_WIZARD.ps1 not found')"}, "teardown": {"duration": 0.00037659200000916826, "outcome": "passed"}}, {"nodeid": "tests/test_version_consistency.py::test_commit_ready_script_version", "lineno": 193, "outcome": "passed", "keywords": ["test_commit_ready_script_version", "test_version_consistency.py", "no_app_context", "tests", "backend", ""], "setup": {"duration": 0.04883231400000909, "outcome": "passed", "stderr": "INFO  [root] Skipping app context patch for test.\n", "log": [{"name": "root", "msg": "Skipping app context patch for test.", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 188, "funcName": "patch_settings_for_tests", "created": 1768815369.4831054, "msecs": 483.0, "relativeCreated": 175361.07349395752, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:09,483"}]}, "call": {"duration": 0.0005386339999802203, "outcome": "passed"}, "teardown": {"duration": 0.0003626460000134557, "outcome": "passed"}}, {"nodeid": "tests/test_version_consistency.py::test_all_versions_consistent", "lineno": 214, "outcome": "passed", "keywords": ["test_all_versions_consistent", "test_version_consistency.py", "no_app_context", "tests", "backend", ""], "setup": {"duration": 0.047968433000022515, "outcome": "passed", "stderr": "INFO  [root] Skipping app context patch for test.\n", "log": [{"name": "root", "msg": "Skipping app context patch for test.", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 188, "funcName": "patch_settings_for_tests", "created": 1768815369.534033, "msecs": 534.0, "relativeCreated": 175412.0011329651, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:09,534"}]}, "call": {"duration": 0.0012842439999758426, "outcome": "passed"}, "teardown": {"duration": 0.0003738270000042121, "outcome": "passed"}}, {"nodeid": "tests/test_version_consistency.py::test_verify_version_script_exists", "lineno": 281, "outcome": "passed", "keywords": ["test_verify_version_script_exists", "test_version_consistency.py", "no_app_context", "tests", "backend", ""], "setup": {"duration": 0.047953164000006154, "outcome": "passed", "stderr": "INFO  [root] Skipping app context patch for test.\n", "log": [{"name": "root", "msg": "Skipping app context patch for test.", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 188, "funcName": "patch_settings_for_tests", "created": 1768815369.5848413, "msecs": 584.0, "relativeCreated": 175462.80932426453, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:09,584"}]}, "call": {"duration": 0.0006772929999954158, "outcome": "passed"}, "teardown": {"duration": 0.00035038300001133393, "outcome": "passed"}}, {"nodeid": "tests/test_websocket.py::TestConnectionManager::test_connect", "lineno": 26, "outcome": "passed", "keywords": ["test_connect", "asyncio", "pytestmark", "TestConnectionManager", "test_websocket.py", "tests", "backend", ""], "setup": {"duration": 0.048288460999998506, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815369.6354544, "msecs": 635.0, "relativeCreated": 175513.42248916626, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:09,635"}]}, "call": {"duration": 0.0005398570000068048, "outcome": "passed"}, "teardown": {"duration": 0.0005780570000126772, "outcome": "passed"}}, {"nodeid": "tests/test_websocket.py::TestConnectionManager::test_multiple_connections_same_user", "lineno": 35, "outcome": "passed", "keywords": ["test_multiple_connections_same_user", "asyncio", "pytestmark", "TestConnectionManager", "test_websocket.py", "tests", "backend", ""], "setup": {"duration": 0.04777255799999125, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815369.6858952, "msecs": 685.0, "relativeCreated": 175563.8632774353, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:09,685"}]}, "call": {"duration": 0.0005467089999910968, "outcome": "passed"}, "teardown": {"duration": 0.000563540999991119, "outcome": "passed"}}, {"nodeid": "tests/test_websocket.py::TestConnectionManager::test_disconnect", "lineno": 45, "outcome": "passed", "keywords": ["test_disconnect", "asyncio", "pytestmark", "TestConnectionManager", "test_websocket.py", "tests", "backend", ""], "setup": {"duration": 0.04689678500000127, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815369.7359545, "msecs": 735.0, "relativeCreated": 175613.92259597778, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:09,735"}]}, "call": {"duration": 0.0005017750000035903, "outcome": "passed"}, "teardown": {"duration": 0.000524217000020144, "outcome": "passed"}}, {"nodeid": "tests/test_websocket.py::TestConnectionManager::test_disconnect_one_connection_of_many", "lineno": 55, "outcome": "passed", "keywords": ["test_disconnect_one_connection_of_many", "asyncio", "pytestmark", "TestConnectionManager", "test_websocket.py", "tests", "backend", ""], "setup": {"duration": 0.04745177999998873, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815369.7850165, "msecs": 785.0, "relativeCreated": 175662.98460960388, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:09,785"}]}, "call": {"duration": 0.00047217000002319764, "outcome": "passed"}, "teardown": {"duration": 0.0004948830000159887, "outcome": "passed"}}, {"nodeid": "tests/test_websocket.py::TestConnectionManager::test_get_online_users", "lineno": 65, "outcome": "passed", "keywords": ["test_get_online_users", "asyncio", "pytestmark", "TestConnectionManager", "test_websocket.py", "tests", "backend", ""], "setup": {"duration": 0.047230277000011256, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815369.8345418, "msecs": 834.0, "relativeCreated": 175712.50987052917, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:09,834"}]}, "call": {"duration": 0.0005408789999989949, "outcome": "passed"}, "teardown": {"duration": 0.0005224340000040684, "outcome": "passed"}}, {"nodeid": "tests/test_websocket.py::TestConnectionManager::test_join_room", "lineno": 77, "outcome": "passed", "keywords": ["test_join_room", "asyncio", "pytestmark", "TestConnectionManager", "test_websocket.py", "tests", "backend", ""], "setup": {"duration": 0.046433782999997675, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815369.8839684, "msecs": 883.0, "relativeCreated": 175761.93642616272, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:09,883"}]}, "call": {"duration": 0.00041598599997882957, "outcome": "passed"}, "teardown": {"duration": 0.0004644260000077338, "outcome": "passed"}}, {"nodeid": "tests/test_websocket.py::TestConnectionManager::test_leave_room", "lineno": 88, "outcome": "passed", "keywords": ["test_leave_room", "asyncio", "pytestmark", "TestConnectionManager", "test_websocket.py", "tests", "backend", ""], "setup": {"duration": 0.04640897599998084, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815369.9323719, "msecs": 932.0, "relativeCreated": 175810.33992767334, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:09,932"}]}, "call": {"duration": 0.00044991900000468377, "outcome": "passed"}, "teardown": {"duration": 0.0004878099999814367, "outcome": "passed"}}, {"nodeid": "tests/test_websocket.py::TestConnectionManager::test_heartbeat_update", "lineno": 97, "outcome": "passed", "keywords": ["test_heartbeat_update", "asyncio", "pytestmark", "TestConnectionManager", "test_websocket.py", "tests", "backend", ""], "setup": {"duration": 0.046187963999983594, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815369.98076, "msecs": 980.0, "relativeCreated": 175858.7281703949, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:09,980"}]}, "call": {"duration": 0.000449336999992056, "outcome": "passed"}, "teardown": {"duration": 0.0004895719999922221, "outcome": "passed"}}, {"nodeid": "tests/test_websocket.py::TestConnectionManager::test_get_stale_sessions", "lineno": 111, "outcome": "passed", "keywords": ["test_get_stale_sessions", "asyncio", "pytestmark", "TestConnectionManager", "test_websocket.py", "tests", "backend", ""], "setup": {"duration": 0.045998891000010644, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815370.028982, "msecs": 28.0, "relativeCreated": 175906.94999694824, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:10,028"}]}, "call": {"duration": 0.0004636540000149125, "outcome": "passed"}, "teardown": {"duration": 0.0004934899999966547, "outcome": "passed"}}, {"nodeid": "tests/test_websocket.py::TestConnectionManager::test_get_connection_stats", "lineno": 123, "outcome": "passed", "keywords": ["test_get_connection_stats", "asyncio", "pytestmark", "TestConnectionManager", "test_websocket.py", "tests", "backend", ""], "setup": {"duration": 0.04603532900000573, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815370.0770085, "msecs": 77.0, "relativeCreated": 175954.9765586853, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:10,077"}]}, "call": {"duration": 0.000462983000005579, "outcome": "passed"}, "teardown": {"duration": 0.00048247899999864785, "outcome": "passed"}}, {"nodeid": "tests/test_websocket.py::TestNotificationService::test_create_notification", "lineno": 160, "outcome": "passed", "keywords": ["test_create_notification", "TestNotificationService", "test_websocket.py", "tests", "backend", ""], "setup": {"duration": 0.04850491400000578, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815370.1250613, "msecs": 125.0, "relativeCreated": 176003.02934646606, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:10,125"}]}, "call": {"duration": 0.0028412869999954182, "outcome": "passed"}, "teardown": {"duration": 0.0005079169999930855, "outcome": "passed"}}, {"nodeid": "tests/test_websocket.py::TestNotificationService::test_create_notification_invalid_user", "lineno": 174, "outcome": "passed", "keywords": ["test_create_notification_invalid_user", "TestNotificationService", "test_websocket.py", "tests", "backend", ""], "setup": {"duration": 0.04660578200000032, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815370.1780634, "msecs": 178.0, "relativeCreated": 176056.0314655304, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:10,178"}]}, "call": {"duration": 0.0011491230000046926, "outcome": "passed"}, "teardown": {"duration": 0.00045290500000305656, "outcome": "passed"}}, {"nodeid": "tests/test_websocket.py::TestNotificationService::test_mark_as_read", "lineno": 181, "outcome": "passed", "keywords": ["test_mark_as_read", "TestNotificationService", "test_websocket.py", "tests", "backend", ""], "setup": {"duration": 0.04982632700000522, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815370.2274306, "msecs": 227.0, "relativeCreated": 176105.39865493774, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:10,227"}]}, "call": {"duration": 0.004522902000019258, "outcome": "passed"}, "teardown": {"duration": 0.0005462889999989784, "outcome": "passed"}}, {"nodeid": "tests/test_websocket.py::TestNotificationService::test_delete_notification", "lineno": 194, "outcome": "passed", "keywords": ["test_delete_notification", "TestNotificationService", "test_websocket.py", "tests", "backend", ""], "setup": {"duration": 0.049130018999989034, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815370.2835941, "msecs": 283.0, "relativeCreated": 176161.56220436096, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:10,283"}]}, "call": {"duration": 0.0038153930000248693, "outcome": "passed"}, "teardown": {"duration": 0.0004966260000003331, "outcome": "passed"}}, {"nodeid": "tests/test_websocket.py::TestNotificationService::test_get_user_notifications", "lineno": 204, "outcome": "passed", "keywords": ["test_get_user_notifications", "TestNotificationService", "test_websocket.py", "tests", "backend", ""], "setup": {"duration": 0.048225743000017474, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815370.3381627, "msecs": 338.0, "relativeCreated": 176216.13073349, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:10,338"}]}, "call": {"duration": 0.012046329000014566, "outcome": "passed"}, "teardown": {"duration": 0.0005115539999849261, "outcome": "passed"}}, {"nodeid": "tests/test_websocket.py::TestNotificationService::test_get_unread_count", "lineno": 220, "outcome": "passed", "keywords": ["test_get_unread_count", "TestNotificationService", "test_websocket.py", "tests", "backend", ""], "setup": {"duration": 0.048459238999981835, "outcome": "passed", "stderr": "INFO  [root] Successfully patched settings for test execution\n", "log": [{"name": "root", "msg": "Successfully patched settings for test execution", "args": null, "levelname": "INFO", "levelno": 20, "pathname": "/home/runner/work/AUT_MIEEK_SMS/AUT_MIEEK_SMS/backend/tests/conftest.py", "filename": "conftest.py", "module": "conftest", "exc_info": null, "exc_text": null, "stack_info": null, "lineno": 241, "funcName": "patch_settings_for_tests", "created": 1768815370.4000869, "msecs": 400.0, "relativeCreated": 176278.05495262146, "thread": 140512734346112, "threadName": "MainThread", "processName": "MainProcess", "process": 2241, "request_id": "-", "asctime": "2026-01-19 09:36:10,400"}]}, "call": {"duration": 0.008930950999996412, "outcome": "passed"}, "teardown": {"duration": 0.0010573710000016945, "outcome": "passed"}}], "warnings": [{"message": "'crypt' is deprecated and slated for removal in Python 3.13", "category": "DeprecationWarning", "when": "collect", "filename": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/passlib/utils/__init__.py", "lineno": 854}, {"message": "Use 'content=<...>' to upload raw bytes/text content.", "category": "DeprecationWarning", "when": "runtest", "filename": "/opt/hostedtoolcache/Python/3.11.14/x64/lib/python3.11/site-packages/httpx/_content.py", "lineno": 204}]}
