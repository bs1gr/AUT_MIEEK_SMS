# ==================== STUDENT MANAGEMENT SYSTEM ====================
# Root Environment Configuration
# This file contains Docker-level configuration for the SMS application.
# Copy this file to .env and update with your values.
#
# For detailed backend configuration, see backend/.env.example
# ====================================================================

# ==================== VERSION ====================
# Application version (auto-detected from VERSION file if not set)
VERSION=1.9.8

# ==================== MONITORING & METRICS ====================
# Enable Prometheus/Grafana metrics and /metrics endpoint (default: 1)
# Set to 0 to disable all metrics collection and /metrics endpoint
# Used for monitoring with Docker stack (see DOCKER.ps1 -WithMonitoring)
ENABLE_METRICS=1

# ==================== SECURITY ====================
# Secret key for JWT tokens and encryption
# IMPORTANT: Generate a secure random key for production!
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(64))"
SECRET_KEY=your-secret-key-change-this-in-production-use-long-random-string-at-least-32-chars

# ==================== AUTHENTICATION ====================
# Enable JWT-based authentication and role-based access control (RBAC)
# Default: True (recommended for production)
# See docs/AUTHENTICATION.md for full guide
AUTH_ENABLED=True

# Authorization mode (requires AUTH_ENABLED=True)
# - disabled: No auth checks (same as AUTH_ENABLED=False, legacy mode)
# - permissive: Auth required but any authenticated user can access endpoints (recommended for production)
# - strict: Full role-based access control, endpoints check user roles (use for high-security environments)
AUTH_MODE=permissive

# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚  ğŸ” ADMIN AUTO-BOOTSTRAP (Recommended for first-time setup)         â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
#
# These settings automatically create an admin account when the
# application starts for the first time. Perfect for Docker deployments
# and fresh installations.
#
# âš ï¸  IMPORTANT SECURITY NOTES:
# 1. Change the password immediately after first login!
# 2. Go to Control Panel â†’ Maintenance â†’ Change Password
# 3. Use a strong, unique password (min 8 chars, mixed case, numbers, symbols)
# 4. Keep these credentials secure - admin has full system access
#
DEFAULT_ADMIN_EMAIL=admin@example.com
DEFAULT_ADMIN_PASSWORD=YourSecurePassword123!
DEFAULT_ADMIN_FULL_NAME=System Administrator
# DEFAULT_ADMIN_FORCE_RESET=False

# ==================== DATABASE CONFIGURATION ====================
# Primary database connection (optional - defaults to SQLite)
# Leave blank to use automatic detection:
#   - SQLite (default): ./data/student_management.db
#   - PostgreSQL: built from POSTGRES_* variables below
#
# DATABASE_URL=

# Database engine: sqlite (default) or postgresql
DATABASE_ENGINE=sqlite

# â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
# â”‚  PostgreSQL Configuration (Optional - for production)               â”‚
# â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
# Uncomment and configure these if using PostgreSQL:
#
# POSTGRES_HOST=localhost
# POSTGRES_PORT=5432
# POSTGRES_DB=student_management
# POSTGRES_USER=sms_user
# POSTGRES_PASSWORD=CHANGE_ME_STRONG_PASSWORD_HERE
# POSTGRES_SSLMODE=prefer
# POSTGRES_OPTIONS=connect_timeout=10&application_name=sms

# Example explicit PostgreSQL connection string (alternative to above):
# DATABASE_URL=postgresql+psycopg://user:password@localhost:5432/student_db

# ==================== BUILD METADATA (Optional) ====================
# These are typically set by CI/CD pipelines
# BUILD_DATE=2025-01-21T10:00:00Z
# VCS_REF=abc123

# ==================== DOCKER ENVIRONMENT ====================
# Runtime environment (set automatically by Docker)
SMS_ENV=production
SMS_EXECUTION_MODE=docker

# ==================== NOTES ====================
# 1. This .env file is for Docker-level configuration
# 2. For detailed application settings, see backend/.env.example
# 3. Never commit .env files to version control
# 4. Use different values for development/staging/production
# 5. Keep secrets secure and rotate them regularly
# 6. Restart the application after changing these settings
#
# For more information, see:
# - INSTALLATION_GUIDE.md
# - docs/deployment/DEPLOY.md
# - docs/AUTHENTICATION.md
