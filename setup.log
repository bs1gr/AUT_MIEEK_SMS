==== SMART_SETUP started 11/02/2025 13:28:59 ====
[2025-11-02 13:28:59] [INFO] Detecting tooling...
[2025-11-02 13:28:59] [INFO] Python: True, Node: True, Docker: True
[2025-11-02 13:28:59] [INFO] Installing backend dependencies (pip)...
[2025-11-02 13:29:03] [INFO] Installing frontend dependencies (npm ci)...
[2025-11-02 13:29:44] [INFO] Running Alembic migrations...
[2025-11-02 13:29:44] [INFO] Selected mode: docker
[2025-11-02 13:29:44] [INFO] Updated .env with VERSION=1.3.5
[2025-11-02 13:29:44] [INFO] Starting Docker Compose (detached, build)...
[2025-11-02 13:29:45] [INFO] #1 [internal] load local bake definitions
[2025-11-02 13:29:45] [INFO] #1 reading from stdin 1.31kB done
[2025-11-02 13:29:45] [INFO] #1 DONE 0.0s
[2025-11-02 13:29:46] [INFO]
[2025-11-02 13:29:46] [INFO] #2 [frontend internal] load build definition from Dockerfile.frontend
[2025-11-02 13:29:46] [INFO] #2 transferring dockerfile: 1.37kB done
[2025-11-02 13:29:46] [INFO] #2 DONE 0.0s
[2025-11-02 13:29:46] [INFO]
[2025-11-02 13:29:46] [INFO] #3 [backend internal] load build definition from Dockerfile.backend
[2025-11-02 13:29:46] [INFO] #3 transferring dockerfile: 1.89kB done
[2025-11-02 13:29:46] [INFO] #3 DONE 0.0s
[2025-11-02 13:29:46] [INFO]
[2025-11-02 13:29:46] [INFO] #4 [auth] library/python:pull token for registry-1.docker.io
[2025-11-02 13:29:46] [INFO] #4 DONE 0.0s
[2025-11-02 13:29:46] [INFO]
[2025-11-02 13:29:46] [INFO] #5 [auth] library/node:pull token for registry-1.docker.io
[2025-11-02 13:29:46] [INFO] #5 DONE 0.0s
[2025-11-02 13:29:46] [INFO]
[2025-11-02 13:29:46] [INFO] #6 [backend internal] load metadata for docker.io/library/python:3.11-slim
[2025-11-02 13:29:46] [INFO] #6 ...
[2025-11-02 13:29:46] [INFO]
[2025-11-02 13:29:46] [INFO] #7 [auth] library/nginx:pull token for registry-1.docker.io
[2025-11-02 13:29:46] [INFO] #7 DONE 0.0s
[2025-11-02 13:29:46] [INFO]
[2025-11-02 13:29:46] [INFO] #8 [frontend internal] load metadata for docker.io/library/nginx:alpine
[2025-11-02 13:29:46] [INFO] #8 DONE 0.9s
[2025-11-02 13:29:46] [INFO]
[2025-11-02 13:29:46] [INFO] #9 [frontend internal] load metadata for docker.io/library/node:22-alpine
[2025-11-02 13:29:47] [INFO] #9 DONE 1.1s
[2025-11-02 13:29:47] [INFO]
[2025-11-02 13:29:47] [INFO] #6 [backend internal] load metadata for docker.io/library/python:3.11-slim
[2025-11-02 13:29:47] [INFO] #6 DONE 1.1s
[2025-11-02 13:29:47] [INFO]
[2025-11-02 13:29:47] [INFO] #10 [frontend internal] load .dockerignore
[2025-11-02 13:29:47] [INFO] #10 transferring context: 449B done
[2025-11-02 13:29:47] [INFO] #10 DONE 0.0s
[2025-11-02 13:29:47] [INFO]
[2025-11-02 13:29:47] [INFO] #11 [backend internal] load build context
[2025-11-02 13:29:47] [INFO] #11 DONE 0.0s
[2025-11-02 13:29:47] [INFO]
[2025-11-02 13:29:47] [INFO] #12 [backend 1/7] FROM docker.io/library/python:3.11-slim@sha256:8eb5fc663972b871c528fef04be4eaa9ab8ab4539a5316c4b8c133771214a617
[2025-11-02 13:29:47] [INFO] #12 resolve docker.io/library/python:3.11-slim@sha256:8eb5fc663972b871c528fef04be4eaa9ab8ab4539a5316c4b8c133771214a617 0.1s done
[2025-11-02 13:29:47] [INFO] #12 DONE 0.1s
[2025-11-02 13:29:47] [INFO]
[2025-11-02 13:29:47] [INFO] #13 [frontend internal] load build context
[2025-11-02 13:29:47] [INFO] #13 ...
[2025-11-02 13:29:47] [INFO]
[2025-11-02 13:29:47] [INFO] #14 [frontend stage-1 1/3] FROM docker.io/library/nginx:alpine@sha256:b3c656d55d7ad751196f21b7fd2e8d4da9cb430e32f646adcf92441b72f82b14
[2025-11-02 13:29:47] [INFO] #14 resolve docker.io/library/nginx:alpine@sha256:b3c656d55d7ad751196f21b7fd2e8d4da9cb430e32f646adcf92441b72f82b14 0.1s done
[2025-11-02 13:29:47] [INFO] #14 DONE 0.1s
[2025-11-02 13:29:47] [INFO]
[2025-11-02 13:29:47] [INFO] #15 [frontend build 1/6] FROM docker.io/library/node:22-alpine@sha256:b2358485e3e33bc3a33114d2b1bdb18cdbe4df01bd2b257198eb51beb1f026c5
[2025-11-02 13:29:47] [INFO] #15 resolve docker.io/library/node:22-alpine@sha256:b2358485e3e33bc3a33114d2b1bdb18cdbe4df01bd2b257198eb51beb1f026c5 0.1s done
[2025-11-02 13:29:47] [INFO] #15 DONE 0.1s
[2025-11-02 13:29:47] [INFO]
[2025-11-02 13:29:47] [INFO] #11 [backend internal] load build context
[2025-11-02 13:29:47] [INFO] #11 transferring context: 275.74kB 0.2s done
[2025-11-02 13:29:47] [INFO] #11 DONE 0.2s
[2025-11-02 13:29:47] [INFO]
[2025-11-02 13:29:47] [INFO] #16 [backend 2/7] RUN apt-get update -y && apt-get install -y --no-install-recommends     build-essential curl ca-certificates     && rm -rf /var/lib/apt/lists/*
[2025-11-02 13:29:47] [INFO] #16 CACHED
[2025-11-02 13:29:47] [INFO]
[2025-11-02 13:29:47] [INFO] #17 [backend 3/7] WORKDIR /app
[2025-11-02 13:29:47] [INFO] #17 CACHED
[2025-11-02 13:29:47] [INFO]
[2025-11-02 13:29:47] [INFO] #18 [backend 4/7] COPY backend/requirements.txt /app/backend/requirements.txt
[2025-11-02 13:29:47] [INFO] #18 CACHED
[2025-11-02 13:29:47] [INFO]
[2025-11-02 13:29:47] [INFO] #19 [backend 5/7] RUN python -m pip install --upgrade pip &&      pip install --no-cache-dir -r /app/backend/requirements.txt
[2025-11-02 13:29:47] [INFO] #19 CACHED
[2025-11-02 13:29:47] [INFO]
[2025-11-02 13:29:47] [INFO] #13 [frontend internal] load build context
[2025-11-02 13:29:47] [INFO] #13 transferring context: 6.72kB 0.3s done
[2025-11-02 13:29:47] [INFO] #13 DONE 0.4s
[2025-11-02 13:29:47] [INFO]
[2025-11-02 13:29:47] [INFO] #20 [frontend build 2/6] WORKDIR /app/frontend
[2025-11-02 13:29:47] [INFO] #20 CACHED
[2025-11-02 13:29:47] [INFO]
[2025-11-02 13:29:47] [INFO] #21 [frontend build 3/6] COPY frontend/package*.json ./
[2025-11-02 13:29:47] [INFO] #21 CACHED
[2025-11-02 13:29:47] [INFO]
[2025-11-02 13:29:47] [INFO] #22 [frontend build 4/6] RUN if [ -f package-lock.json ]; then npm ci; else npm install; fi
[2025-11-02 13:29:47] [INFO] #22 CACHED
[2025-11-02 13:29:47] [INFO]
[2025-11-02 13:29:47] [INFO] #23 [frontend build 5/6] COPY frontend/ .
[2025-11-02 13:29:47] [INFO] #23 CACHED
[2025-11-02 13:29:47] [INFO]
[2025-11-02 13:29:47] [INFO] #24 [frontend stage-1 2/3] COPY --from=build /app/frontend/dist /usr/share/nginx/html
[2025-11-02 13:29:47] [INFO] #24 CACHED
[2025-11-02 13:29:47] [INFO]
[2025-11-02 13:29:47] [INFO] #25 [frontend build 6/6] RUN npm run build
[2025-11-02 13:29:47] [INFO] #25 CACHED
[2025-11-02 13:29:47] [INFO]
[2025-11-02 13:29:47] [INFO] #26 [frontend stage-1 3/3] COPY docker/nginx.conf /etc/nginx/conf.d/default.conf
[2025-11-02 13:29:47] [INFO] #26 CACHED
[2025-11-02 13:29:47] [INFO]
[2025-11-02 13:29:47] [INFO] #27 [frontend] exporting to image
[2025-11-02 13:29:47] [INFO] #27 exporting layers done
[2025-11-02 13:29:47] [INFO] #27 exporting manifest sha256:7bea8b3a7a35f23df2cbc52682a490b194028b0075b36b86566562f15b89855e done
[2025-11-02 13:29:47] [INFO] #27 exporting config sha256:627dac88bb5e79529780a51697ca4cc7e8fead18172175f94c5727ba5f96f9d1 done
[2025-11-02 13:29:47] [INFO] #27 exporting attestation manifest sha256:92cf1079360f1d584bb6d1ca45a64edfbb1625bd5773e48a406c02c7e1db830a 0.0s done
[2025-11-02 13:29:47] [INFO] #27 exporting manifest list sha256:20060b031a02f3ba8e2c58d906a2e27359e0ded75f099767b27e394d11a9f78c
[2025-11-02 13:29:47] [INFO] #27 exporting manifest list sha256:20060b031a02f3ba8e2c58d906a2e27359e0ded75f099767b27e394d11a9f78c 0.0s done
[2025-11-02 13:29:47] [INFO] #27 naming to docker.io/library/sms-frontend:1.3.5 done
[2025-11-02 13:29:47] [INFO] #27 unpacking to docker.io/library/sms-frontend:1.3.5 0.0s done
[2025-11-02 13:29:47] [INFO] #27 DONE 0.1s
[2025-11-02 13:29:47] [INFO]
[2025-11-02 13:29:47] [INFO] #28 [frontend] resolving provenance for metadata file
[2025-11-02 13:29:47] [INFO] #28 DONE 0.0s
[2025-11-02 13:29:47] [INFO]
[2025-11-02 13:29:47] [INFO] #29 [backend 6/7] COPY backend /app/backend
[2025-11-02 13:29:48] [INFO] #29 DONE 1.3s
[2025-11-02 13:29:48] [INFO]
[2025-11-02 13:29:48] [INFO] #30 [backend 7/7] RUN useradd -m appuser &&     chown -R appuser:appuser /app &&     mkdir -p /data &&     chown -R appuser:appuser /data
[2025-11-02 13:30:02] [INFO] #30 DONE 13.9s
[2025-11-02 13:30:02] [INFO]
[2025-11-02 13:30:02] [INFO] #31 [backend] exporting to image
[2025-11-02 13:30:02] [INFO] #31 exporting layers
[2025-11-02 13:30:04] [INFO] #31 exporting layers 2.4s done
[2025-11-02 13:30:05] [INFO] #31 exporting manifest sha256:67af3ea269b96e6945acde6ecbc00be8e0d4cf02b323f53edfd38050b4d9be05 0.0s done
[2025-11-02 13:30:05] [INFO] #31 exporting config sha256:2be8dab174180e126529b45668824cfa2811fc417662f518887e506123a4e013 0.0s done
[2025-11-02 13:30:05] [INFO] #31 exporting attestation manifest sha256:e56050f25444b0d22e4ef6cd762e79aab12b89f4cbd30e0c67e3ebb962d8510b 0.0s done
[2025-11-02 13:30:05] [INFO] #31 exporting manifest list sha256:b514f9fb840ed473137557481cec028e4ce86b6916516ad408015fe7e0b84b0d
[2025-11-02 13:30:05] [INFO] #31 exporting manifest list sha256:b514f9fb840ed473137557481cec028e4ce86b6916516ad408015fe7e0b84b0d 0.0s done
[2025-11-02 13:30:05] [INFO] #31 naming to docker.io/library/sms-backend:1.3.5 done
[2025-11-02 13:30:05] [INFO] #31 unpacking to docker.io/library/sms-backend:1.3.5
[2025-11-02 13:30:06] [INFO] #31 unpacking to docker.io/library/sms-backend:1.3.5 1.5s done
[2025-11-02 13:30:06] [INFO] #31 DONE 4.0s
[2025-11-02 13:30:06] [INFO]
[2025-11-02 13:30:06] [INFO] #32 [backend] resolving provenance for metadata file
[2025-11-02 13:30:06] [INFO] #32 DONE 0.0s
[2025-11-02 13:30:13] [INFO] Service is up: http://localhost:8080
