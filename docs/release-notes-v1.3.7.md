# Release notes — v1.3.7 (draft)

Date: 2025-11-03

This maintenance release collects a set of repository-hardening, CI/workflow improvements, and developer-facing fixes that improve diagnostics and developer experience. No breaking API or schema changes are included.

Highlights

- Make `backend/run_migrations.py` cwd-agnostic and add persistent migration logging to `logs/migrations.log` so CI runs and maintainers can attach logs to Releases for debugging.
- Hardened `.github/workflows/run-migrations.yml` (and related CI jobs) to create necessary `backend/data` and `logs/` directories and upload migration logs as artifacts.
- Added `workflow_dispatch` triggers to `ci.yml`, `ruff.yml`, and `mypy.yml` so maintainers can manually dispatch these workflows from the Actions UI when needed.
- Added conservative `.gitignore` entries and non-destructive untracking of large or generated artifacts (student DB, logs, repo-mirror bundles, bfg.jar). No history rewrite performed.
- Added a small PowerShell helper `scripts/clean_tmp_artifacts.ps1` to safely remove untracked temporary artifacts and update `.gitignore`.
- Added `docs/CI-LOGS.md` describing where CI/runtime logs live and how to attach them to Releases.
- Added `docs/HISTORY_PURGE_PLAN.md` documenting a safe, team-approved procedure for a possible future destructive history purge (NOT executed here).

Included artifacts (attached to GitHub Release v1.3.7):

- `logs/migrations.log` — alembic/migration run output used to diagnose CI failures
- `pytest-output.txt` — pytest run output against the backend test suite used during verification
- `setup.log` — SMART_SETUP/installation helper log captured during setup validation

Notes for maintainers

- This change set is intentionally non-destructive: tracked history was not rewritten. If you want to permanently remove large files from history, follow `docs/HISTORY_PURGE_PLAN.md` and coordinate with all contributors.
- The `workflow_dispatch` additions make workflows manually runnable; they do not change automated triggers (push/pull_request remain in place).

How to use this file

- Use this as the release body when creating or updating the GitHub Release for v1.3.7, or copy contents into the Release UI as the release description.

--
Generated by maintenance work on 2025-11-03
